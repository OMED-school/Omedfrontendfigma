function _v(t,e){for(var n=0;n<e.length;n++){const o=e[n];if(typeof o!="string"&&!Array.isArray(o)){for(const i in o)if(i!=="default"&&!(i in t)){const a=Object.getOwnPropertyDescriptor(o,i);a&&Object.defineProperty(t,i,a.get?a:{enumerable:!0,get:()=>o[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))o(i);new MutationObserver(i=>{for(const a of i)if(a.type==="childList")for(const u of a.addedNodes)u.tagName==="LINK"&&u.rel==="modulepreload"&&o(u)}).observe(document,{childList:!0,subtree:!0});function n(i){const a={};return i.integrity&&(a.integrity=i.integrity),i.referrerPolicy&&(a.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?a.credentials="include":i.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function o(i){if(i.ep)return;i.ep=!0;const a=n(i);fetch(i.href,a)}})();function bf(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function h_(t){if(Object.prototype.hasOwnProperty.call(t,"__esModule"))return t;var e=t.default;if(typeof e=="function"){var n=function o(){return this instanceof o?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};n.prototype=e.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(t).forEach(function(o){var i=Object.getOwnPropertyDescriptor(t,o);Object.defineProperty(n,o,i.get?i:{enumerable:!0,get:function(){return t[o]}})}),n}var ud={exports:{}},Fi={},dd={exports:{}},Le={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Um;function p_(){if(Um)return Le;Um=1;var t=Symbol.for("react.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),o=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),a=Symbol.for("react.provider"),u=Symbol.for("react.context"),d=Symbol.for("react.forward_ref"),h=Symbol.for("react.suspense"),p=Symbol.for("react.memo"),g=Symbol.for("react.lazy"),m=Symbol.iterator;function x(D){return D===null||typeof D!="object"?null:(D=m&&D[m]||D["@@iterator"],typeof D=="function"?D:null)}var b={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},j=Object.assign,_={};function S(D,H,Q){this.props=D,this.context=H,this.refs=_,this.updater=Q||b}S.prototype.isReactComponent={},S.prototype.setState=function(D,H){if(typeof D!="object"&&typeof D!="function"&&D!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,D,H,"setState")},S.prototype.forceUpdate=function(D){this.updater.enqueueForceUpdate(this,D,"forceUpdate")};function E(){}E.prototype=S.prototype;function N(D,H,Q){this.props=D,this.context=H,this.refs=_,this.updater=Q||b}var C=N.prototype=new E;C.constructor=N,j(C,S.prototype),C.isPureReactComponent=!0;var P=Array.isArray,F=Object.prototype.hasOwnProperty,V={current:null},I={key:!0,ref:!0,__self:!0,__source:!0};function z(D,H,Q){var W,oe={},_e=null,J=null;if(H!=null)for(W in H.ref!==void 0&&(J=H.ref),H.key!==void 0&&(_e=""+H.key),H)F.call(H,W)&&!I.hasOwnProperty(W)&&(oe[W]=H[W]);var se=arguments.length-2;if(se===1)oe.children=Q;else if(1<se){for(var Se=Array(se),Ce=0;Ce<se;Ce++)Se[Ce]=arguments[Ce+2];oe.children=Se}if(D&&D.defaultProps)for(W in se=D.defaultProps,se)oe[W]===void 0&&(oe[W]=se[W]);return{$$typeof:t,type:D,key:_e,ref:J,props:oe,_owner:V.current}}function q(D,H){return{$$typeof:t,type:D.type,key:H,ref:D.ref,props:D.props,_owner:D._owner}}function ne(D){return typeof D=="object"&&D!==null&&D.$$typeof===t}function ce(D){var H={"=":"=0",":":"=2"};return"$"+D.replace(/[=:]/g,function(Q){return H[Q]})}var de=/\/+/g;function le(D,H){return typeof D=="object"&&D!==null&&D.key!=null?ce(""+D.key):H.toString(36)}function me(D,H,Q,W,oe){var _e=typeof D;(_e==="undefined"||_e==="boolean")&&(D=null);var J=!1;if(D===null)J=!0;else switch(_e){case"string":case"number":J=!0;break;case"object":switch(D.$$typeof){case t:case e:J=!0}}if(J)return J=D,oe=oe(J),D=W===""?"."+le(J,0):W,P(oe)?(Q="",D!=null&&(Q=D.replace(de,"$&/")+"/"),me(oe,H,Q,"",function(Ce){return Ce})):oe!=null&&(ne(oe)&&(oe=q(oe,Q+(!oe.key||J&&J.key===oe.key?"":(""+oe.key).replace(de,"$&/")+"/")+D)),H.push(oe)),1;if(J=0,W=W===""?".":W+":",P(D))for(var se=0;se<D.length;se++){_e=D[se];var Se=W+le(_e,se);J+=me(_e,H,Q,Se,oe)}else if(Se=x(D),typeof Se=="function")for(D=Se.call(D),se=0;!(_e=D.next()).done;)_e=_e.value,Se=W+le(_e,se++),J+=me(_e,H,Q,Se,oe);else if(_e==="object")throw H=String(D),Error("Objects are not valid as a React child (found: "+(H==="[object Object]"?"object with keys {"+Object.keys(D).join(", ")+"}":H)+"). If you meant to render a collection of children, use an array instead.");return J}function be(D,H,Q){if(D==null)return D;var W=[],oe=0;return me(D,W,"","",function(_e){return H.call(Q,_e,oe++)}),W}function B(D){if(D._status===-1){var H=D._result;H=H(),H.then(function(Q){(D._status===0||D._status===-1)&&(D._status=1,D._result=Q)},function(Q){(D._status===0||D._status===-1)&&(D._status=2,D._result=Q)}),D._status===-1&&(D._status=0,D._result=H)}if(D._status===1)return D._result.default;throw D._result}var $={current:null},O={transition:null},Z={ReactCurrentDispatcher:$,ReactCurrentBatchConfig:O,ReactCurrentOwner:V};function K(){throw Error("act(...) is not supported in production builds of React.")}return Le.Children={map:be,forEach:function(D,H,Q){be(D,function(){H.apply(this,arguments)},Q)},count:function(D){var H=0;return be(D,function(){H++}),H},toArray:function(D){return be(D,function(H){return H})||[]},only:function(D){if(!ne(D))throw Error("React.Children.only expected to receive a single React element child.");return D}},Le.Component=S,Le.Fragment=n,Le.Profiler=i,Le.PureComponent=N,Le.StrictMode=o,Le.Suspense=h,Le.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Z,Le.act=K,Le.cloneElement=function(D,H,Q){if(D==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+D+".");var W=j({},D.props),oe=D.key,_e=D.ref,J=D._owner;if(H!=null){if(H.ref!==void 0&&(_e=H.ref,J=V.current),H.key!==void 0&&(oe=""+H.key),D.type&&D.type.defaultProps)var se=D.type.defaultProps;for(Se in H)F.call(H,Se)&&!I.hasOwnProperty(Se)&&(W[Se]=H[Se]===void 0&&se!==void 0?se[Se]:H[Se])}var Se=arguments.length-2;if(Se===1)W.children=Q;else if(1<Se){se=Array(Se);for(var Ce=0;Ce<Se;Ce++)se[Ce]=arguments[Ce+2];W.children=se}return{$$typeof:t,type:D.type,key:oe,ref:_e,props:W,_owner:J}},Le.createContext=function(D){return D={$$typeof:u,_currentValue:D,_currentValue2:D,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},D.Provider={$$typeof:a,_context:D},D.Consumer=D},Le.createElement=z,Le.createFactory=function(D){var H=z.bind(null,D);return H.type=D,H},Le.createRef=function(){return{current:null}},Le.forwardRef=function(D){return{$$typeof:d,render:D}},Le.isValidElement=ne,Le.lazy=function(D){return{$$typeof:g,_payload:{_status:-1,_result:D},_init:B}},Le.memo=function(D,H){return{$$typeof:p,type:D,compare:H===void 0?null:H}},Le.startTransition=function(D){var H=O.transition;O.transition={};try{D()}finally{O.transition=H}},Le.unstable_act=K,Le.useCallback=function(D,H){return $.current.useCallback(D,H)},Le.useContext=function(D){return $.current.useContext(D)},Le.useDebugValue=function(){},Le.useDeferredValue=function(D){return $.current.useDeferredValue(D)},Le.useEffect=function(D,H){return $.current.useEffect(D,H)},Le.useId=function(){return $.current.useId()},Le.useImperativeHandle=function(D,H,Q){return $.current.useImperativeHandle(D,H,Q)},Le.useInsertionEffect=function(D,H){return $.current.useInsertionEffect(D,H)},Le.useLayoutEffect=function(D,H){return $.current.useLayoutEffect(D,H)},Le.useMemo=function(D,H){return $.current.useMemo(D,H)},Le.useReducer=function(D,H,Q){return $.current.useReducer(D,H,Q)},Le.useRef=function(D){return $.current.useRef(D)},Le.useState=function(D){return $.current.useState(D)},Le.useSyncExternalStore=function(D,H,Q){return $.current.useSyncExternalStore(D,H,Q)},Le.useTransition=function(){return $.current.useTransition()},Le.version="18.3.1",Le}var zm;function nc(){return zm||(zm=1,dd.exports=p_()),dd.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Bm;function m_(){if(Bm)return Fi;Bm=1;var t=nc(),e=Symbol.for("react.element"),n=Symbol.for("react.fragment"),o=Object.prototype.hasOwnProperty,i=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,a={key:!0,ref:!0,__self:!0,__source:!0};function u(d,h,p){var g,m={},x=null,b=null;p!==void 0&&(x=""+p),h.key!==void 0&&(x=""+h.key),h.ref!==void 0&&(b=h.ref);for(g in h)o.call(h,g)&&!a.hasOwnProperty(g)&&(m[g]=h[g]);if(d&&d.defaultProps)for(g in h=d.defaultProps,h)m[g]===void 0&&(m[g]=h[g]);return{$$typeof:e,type:d,key:x,ref:b,props:m,_owner:i.current}}return Fi.Fragment=n,Fi.jsx=u,Fi.jsxs=u,Fi}var Vm;function g_(){return Vm||(Vm=1,ud.exports=m_()),ud.exports}var l=g_(),vl={},fd={exports:{}},Kt={},hd={exports:{}},pd={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Wm;function v_(){return Wm||(Wm=1,(function(t){function e(O,Z){var K=O.length;O.push(Z);e:for(;0<K;){var D=K-1>>>1,H=O[D];if(0<i(H,Z))O[D]=Z,O[K]=H,K=D;else break e}}function n(O){return O.length===0?null:O[0]}function o(O){if(O.length===0)return null;var Z=O[0],K=O.pop();if(K!==Z){O[0]=K;e:for(var D=0,H=O.length,Q=H>>>1;D<Q;){var W=2*(D+1)-1,oe=O[W],_e=W+1,J=O[_e];if(0>i(oe,K))_e<H&&0>i(J,oe)?(O[D]=J,O[_e]=K,D=_e):(O[D]=oe,O[W]=K,D=W);else if(_e<H&&0>i(J,K))O[D]=J,O[_e]=K,D=_e;else break e}}return Z}function i(O,Z){var K=O.sortIndex-Z.sortIndex;return K!==0?K:O.id-Z.id}if(typeof performance=="object"&&typeof performance.now=="function"){var a=performance;t.unstable_now=function(){return a.now()}}else{var u=Date,d=u.now();t.unstable_now=function(){return u.now()-d}}var h=[],p=[],g=1,m=null,x=3,b=!1,j=!1,_=!1,S=typeof setTimeout=="function"?setTimeout:null,E=typeof clearTimeout=="function"?clearTimeout:null,N=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function C(O){for(var Z=n(p);Z!==null;){if(Z.callback===null)o(p);else if(Z.startTime<=O)o(p),Z.sortIndex=Z.expirationTime,e(h,Z);else break;Z=n(p)}}function P(O){if(_=!1,C(O),!j)if(n(h)!==null)j=!0,B(F);else{var Z=n(p);Z!==null&&$(P,Z.startTime-O)}}function F(O,Z){j=!1,_&&(_=!1,E(z),z=-1),b=!0;var K=x;try{for(C(Z),m=n(h);m!==null&&(!(m.expirationTime>Z)||O&&!ce());){var D=m.callback;if(typeof D=="function"){m.callback=null,x=m.priorityLevel;var H=D(m.expirationTime<=Z);Z=t.unstable_now(),typeof H=="function"?m.callback=H:m===n(h)&&o(h),C(Z)}else o(h);m=n(h)}if(m!==null)var Q=!0;else{var W=n(p);W!==null&&$(P,W.startTime-Z),Q=!1}return Q}finally{m=null,x=K,b=!1}}var V=!1,I=null,z=-1,q=5,ne=-1;function ce(){return!(t.unstable_now()-ne<q)}function de(){if(I!==null){var O=t.unstable_now();ne=O;var Z=!0;try{Z=I(!0,O)}finally{Z?le():(V=!1,I=null)}}else V=!1}var le;if(typeof N=="function")le=function(){N(de)};else if(typeof MessageChannel<"u"){var me=new MessageChannel,be=me.port2;me.port1.onmessage=de,le=function(){be.postMessage(null)}}else le=function(){S(de,0)};function B(O){I=O,V||(V=!0,le())}function $(O,Z){z=S(function(){O(t.unstable_now())},Z)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(O){O.callback=null},t.unstable_continueExecution=function(){j||b||(j=!0,B(F))},t.unstable_forceFrameRate=function(O){0>O||125<O?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):q=0<O?Math.floor(1e3/O):5},t.unstable_getCurrentPriorityLevel=function(){return x},t.unstable_getFirstCallbackNode=function(){return n(h)},t.unstable_next=function(O){switch(x){case 1:case 2:case 3:var Z=3;break;default:Z=x}var K=x;x=Z;try{return O()}finally{x=K}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(O,Z){switch(O){case 1:case 2:case 3:case 4:case 5:break;default:O=3}var K=x;x=O;try{return Z()}finally{x=K}},t.unstable_scheduleCallback=function(O,Z,K){var D=t.unstable_now();switch(typeof K=="object"&&K!==null?(K=K.delay,K=typeof K=="number"&&0<K?D+K:D):K=D,O){case 1:var H=-1;break;case 2:H=250;break;case 5:H=1073741823;break;case 4:H=1e4;break;default:H=5e3}return H=K+H,O={id:g++,callback:Z,priorityLevel:O,startTime:K,expirationTime:H,sortIndex:-1},K>D?(O.sortIndex=K,e(p,O),n(h)===null&&O===n(p)&&(_?(E(z),z=-1):_=!0,$(P,K-D))):(O.sortIndex=H,e(h,O),j||b||(j=!0,B(F))),O},t.unstable_shouldYield=ce,t.unstable_wrapCallback=function(O){var Z=x;return function(){var K=x;x=Z;try{return O.apply(this,arguments)}finally{x=K}}}})(pd)),pd}var Hm;function y_(){return Hm||(Hm=1,hd.exports=v_()),hd.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var qm;function w_(){if(qm)return Kt;qm=1;var t=nc(),e=y_();function n(r){for(var s="https://reactjs.org/docs/error-decoder.html?invariant="+r,c=1;c<arguments.length;c++)s+="&args[]="+encodeURIComponent(arguments[c]);return"Minified React error #"+r+"; visit "+s+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var o=new Set,i={};function a(r,s){u(r,s),u(r+"Capture",s)}function u(r,s){for(i[r]=s,r=0;r<s.length;r++)o.add(s[r])}var d=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),h=Object.prototype.hasOwnProperty,p=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,g={},m={};function x(r){return h.call(m,r)?!0:h.call(g,r)?!1:p.test(r)?m[r]=!0:(g[r]=!0,!1)}function b(r,s,c,f){if(c!==null&&c.type===0)return!1;switch(typeof s){case"function":case"symbol":return!0;case"boolean":return f?!1:c!==null?!c.acceptsBooleans:(r=r.toLowerCase().slice(0,5),r!=="data-"&&r!=="aria-");default:return!1}}function j(r,s,c,f){if(s===null||typeof s>"u"||b(r,s,c,f))return!0;if(f)return!1;if(c!==null)switch(c.type){case 3:return!s;case 4:return s===!1;case 5:return isNaN(s);case 6:return isNaN(s)||1>s}return!1}function _(r,s,c,f,v,w,k){this.acceptsBooleans=s===2||s===3||s===4,this.attributeName=f,this.attributeNamespace=v,this.mustUseProperty=c,this.propertyName=r,this.type=s,this.sanitizeURL=w,this.removeEmptyString=k}var S={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(r){S[r]=new _(r,0,!1,r,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(r){var s=r[0];S[s]=new _(s,1,!1,r[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(r){S[r]=new _(r,2,!1,r.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(r){S[r]=new _(r,2,!1,r,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(r){S[r]=new _(r,3,!1,r.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(r){S[r]=new _(r,3,!0,r,null,!1,!1)}),["capture","download"].forEach(function(r){S[r]=new _(r,4,!1,r,null,!1,!1)}),["cols","rows","size","span"].forEach(function(r){S[r]=new _(r,6,!1,r,null,!1,!1)}),["rowSpan","start"].forEach(function(r){S[r]=new _(r,5,!1,r.toLowerCase(),null,!1,!1)});var E=/[\-:]([a-z])/g;function N(r){return r[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(r){var s=r.replace(E,N);S[s]=new _(s,1,!1,r,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(r){var s=r.replace(E,N);S[s]=new _(s,1,!1,r,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(r){var s=r.replace(E,N);S[s]=new _(s,1,!1,r,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(r){S[r]=new _(r,1,!1,r.toLowerCase(),null,!1,!1)}),S.xlinkHref=new _("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(r){S[r]=new _(r,1,!1,r.toLowerCase(),null,!0,!0)});function C(r,s,c,f){var v=S.hasOwnProperty(s)?S[s]:null;(v!==null?v.type!==0:f||!(2<s.length)||s[0]!=="o"&&s[0]!=="O"||s[1]!=="n"&&s[1]!=="N")&&(j(s,c,v,f)&&(c=null),f||v===null?x(s)&&(c===null?r.removeAttribute(s):r.setAttribute(s,""+c)):v.mustUseProperty?r[v.propertyName]=c===null?v.type===3?!1:"":c:(s=v.attributeName,f=v.attributeNamespace,c===null?r.removeAttribute(s):(v=v.type,c=v===3||v===4&&c===!0?"":""+c,f?r.setAttributeNS(f,s,c):r.setAttribute(s,c))))}var P=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,F=Symbol.for("react.element"),V=Symbol.for("react.portal"),I=Symbol.for("react.fragment"),z=Symbol.for("react.strict_mode"),q=Symbol.for("react.profiler"),ne=Symbol.for("react.provider"),ce=Symbol.for("react.context"),de=Symbol.for("react.forward_ref"),le=Symbol.for("react.suspense"),me=Symbol.for("react.suspense_list"),be=Symbol.for("react.memo"),B=Symbol.for("react.lazy"),$=Symbol.for("react.offscreen"),O=Symbol.iterator;function Z(r){return r===null||typeof r!="object"?null:(r=O&&r[O]||r["@@iterator"],typeof r=="function"?r:null)}var K=Object.assign,D;function H(r){if(D===void 0)try{throw Error()}catch(c){var s=c.stack.trim().match(/\n( *(at )?)/);D=s&&s[1]||""}return`
`+D+r}var Q=!1;function W(r,s){if(!r||Q)return"";Q=!0;var c=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(s)if(s=function(){throw Error()},Object.defineProperty(s.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(s,[])}catch(U){var f=U}Reflect.construct(r,[],s)}else{try{s.call()}catch(U){f=U}r.call(s.prototype)}else{try{throw Error()}catch(U){f=U}r()}}catch(U){if(U&&f&&typeof U.stack=="string"){for(var v=U.stack.split(`
`),w=f.stack.split(`
`),k=v.length-1,R=w.length-1;1<=k&&0<=R&&v[k]!==w[R];)R--;for(;1<=k&&0<=R;k--,R--)if(v[k]!==w[R]){if(k!==1||R!==1)do if(k--,R--,0>R||v[k]!==w[R]){var T=`
`+v[k].replace(" at new "," at ");return r.displayName&&T.includes("<anonymous>")&&(T=T.replace("<anonymous>",r.displayName)),T}while(1<=k&&0<=R);break}}}finally{Q=!1,Error.prepareStackTrace=c}return(r=r?r.displayName||r.name:"")?H(r):""}function oe(r){switch(r.tag){case 5:return H(r.type);case 16:return H("Lazy");case 13:return H("Suspense");case 19:return H("SuspenseList");case 0:case 2:case 15:return r=W(r.type,!1),r;case 11:return r=W(r.type.render,!1),r;case 1:return r=W(r.type,!0),r;default:return""}}function _e(r){if(r==null)return null;if(typeof r=="function")return r.displayName||r.name||null;if(typeof r=="string")return r;switch(r){case I:return"Fragment";case V:return"Portal";case q:return"Profiler";case z:return"StrictMode";case le:return"Suspense";case me:return"SuspenseList"}if(typeof r=="object")switch(r.$$typeof){case ce:return(r.displayName||"Context")+".Consumer";case ne:return(r._context.displayName||"Context")+".Provider";case de:var s=r.render;return r=r.displayName,r||(r=s.displayName||s.name||"",r=r!==""?"ForwardRef("+r+")":"ForwardRef"),r;case be:return s=r.displayName||null,s!==null?s:_e(r.type)||"Memo";case B:s=r._payload,r=r._init;try{return _e(r(s))}catch{}}return null}function J(r){var s=r.type;switch(r.tag){case 24:return"Cache";case 9:return(s.displayName||"Context")+".Consumer";case 10:return(s._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return r=s.render,r=r.displayName||r.name||"",s.displayName||(r!==""?"ForwardRef("+r+")":"ForwardRef");case 7:return"Fragment";case 5:return s;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return _e(s);case 8:return s===z?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof s=="function")return s.displayName||s.name||null;if(typeof s=="string")return s}return null}function se(r){switch(typeof r){case"boolean":case"number":case"string":case"undefined":return r;case"object":return r;default:return""}}function Se(r){var s=r.type;return(r=r.nodeName)&&r.toLowerCase()==="input"&&(s==="checkbox"||s==="radio")}function Ce(r){var s=Se(r)?"checked":"value",c=Object.getOwnPropertyDescriptor(r.constructor.prototype,s),f=""+r[s];if(!r.hasOwnProperty(s)&&typeof c<"u"&&typeof c.get=="function"&&typeof c.set=="function"){var v=c.get,w=c.set;return Object.defineProperty(r,s,{configurable:!0,get:function(){return v.call(this)},set:function(k){f=""+k,w.call(this,k)}}),Object.defineProperty(r,s,{enumerable:c.enumerable}),{getValue:function(){return f},setValue:function(k){f=""+k},stopTracking:function(){r._valueTracker=null,delete r[s]}}}}function De(r){r._valueTracker||(r._valueTracker=Ce(r))}function Fe(r){if(!r)return!1;var s=r._valueTracker;if(!s)return!0;var c=s.getValue(),f="";return r&&(f=Se(r)?r.checked?"true":"false":r.value),r=f,r!==c?(s.setValue(r),!0):!1}function dt(r){if(r=r||(typeof document<"u"?document:void 0),typeof r>"u")return null;try{return r.activeElement||r.body}catch{return r.body}}function $t(r,s){var c=s.checked;return K({},s,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:c??r._wrapperState.initialChecked})}function xn(r,s){var c=s.defaultValue==null?"":s.defaultValue,f=s.checked!=null?s.checked:s.defaultChecked;c=se(s.value!=null?s.value:c),r._wrapperState={initialChecked:f,initialValue:c,controlled:s.type==="checkbox"||s.type==="radio"?s.checked!=null:s.value!=null}}function tn(r,s){s=s.checked,s!=null&&C(r,"checked",s,!1)}function Qt(r,s){tn(r,s);var c=se(s.value),f=s.type;if(c!=null)f==="number"?(c===0&&r.value===""||r.value!=c)&&(r.value=""+c):r.value!==""+c&&(r.value=""+c);else if(f==="submit"||f==="reset"){r.removeAttribute("value");return}s.hasOwnProperty("value")?Xt(r,s.type,c):s.hasOwnProperty("defaultValue")&&Xt(r,s.type,se(s.defaultValue)),s.checked==null&&s.defaultChecked!=null&&(r.defaultChecked=!!s.defaultChecked)}function ei(r,s,c){if(s.hasOwnProperty("value")||s.hasOwnProperty("defaultValue")){var f=s.type;if(!(f!=="submit"&&f!=="reset"||s.value!==void 0&&s.value!==null))return;s=""+r._wrapperState.initialValue,c||s===r.value||(r.value=s),r.defaultValue=s}c=r.name,c!==""&&(r.name=""),r.defaultChecked=!!r._wrapperState.initialChecked,c!==""&&(r.name=c)}function Xt(r,s,c){(s!=="number"||dt(r.ownerDocument)!==r)&&(c==null?r.defaultValue=""+r._wrapperState.initialValue:r.defaultValue!==""+c&&(r.defaultValue=""+c))}var cs=Array.isArray;function bn(r,s,c,f){if(r=r.options,s){s={};for(var v=0;v<c.length;v++)s["$"+c[v]]=!0;for(c=0;c<r.length;c++)v=s.hasOwnProperty("$"+r[c].value),r[c].selected!==v&&(r[c].selected=v),v&&f&&(r[c].defaultSelected=!0)}else{for(c=""+se(c),s=null,v=0;v<r.length;v++){if(r[v].value===c){r[v].selected=!0,f&&(r[v].defaultSelected=!0);return}s!==null||r[v].disabled||(s=r[v])}s!==null&&(s.selected=!0)}}function bt(r,s){if(s.dangerouslySetInnerHTML!=null)throw Error(n(91));return K({},s,{value:void 0,defaultValue:void 0,children:""+r._wrapperState.initialValue})}function rn(r,s){var c=s.value;if(c==null){if(c=s.children,s=s.defaultValue,c!=null){if(s!=null)throw Error(n(92));if(cs(c)){if(1<c.length)throw Error(n(93));c=c[0]}s=c}s==null&&(s=""),c=s}r._wrapperState={initialValue:se(c)}}function aa(r,s){var c=se(s.value),f=se(s.defaultValue);c!=null&&(c=""+c,c!==r.value&&(r.value=c),s.defaultValue==null&&r.defaultValue!==c&&(r.defaultValue=c)),f!=null&&(r.defaultValue=""+f)}function la(r){var s=r.textContent;s===r._wrapperState.initialValue&&s!==""&&s!==null&&(r.value=s)}function us(r){switch(r){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function ti(r,s){return r==null||r==="http://www.w3.org/1999/xhtml"?us(s):r==="http://www.w3.org/2000/svg"&&s==="foreignObject"?"http://www.w3.org/1999/xhtml":r}var ds,Vs=(function(r){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(s,c,f,v){MSApp.execUnsafeLocalFunction(function(){return r(s,c,f,v)})}:r})(function(r,s){if(r.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in r)r.innerHTML=s;else{for(ds=ds||document.createElement("div"),ds.innerHTML="<svg>"+s.valueOf().toString()+"</svg>",s=ds.firstChild;r.firstChild;)r.removeChild(r.firstChild);for(;s.firstChild;)r.appendChild(s.firstChild)}});function dr(r,s){if(s){var c=r.firstChild;if(c&&c===r.lastChild&&c.nodeType===3){c.nodeValue=s;return}}r.textContent=s}var _n={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Sn=["Webkit","ms","Moz","O"];Object.keys(_n).forEach(function(r){Sn.forEach(function(s){s=s+r.charAt(0).toUpperCase()+r.substring(1),_n[s]=_n[r]})});function ca(r,s,c){return s==null||typeof s=="boolean"||s===""?"":c||typeof s!="number"||s===0||_n.hasOwnProperty(r)&&_n[r]?(""+s).trim():s+"px"}function ua(r,s){r=r.style;for(var c in s)if(s.hasOwnProperty(c)){var f=c.indexOf("--")===0,v=ca(c,s[c],f);c==="float"&&(c="cssFloat"),f?r.setProperty(c,v):r[c]=v}}var da=K({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Ws(r,s){if(s){if(da[r]&&(s.children!=null||s.dangerouslySetInnerHTML!=null))throw Error(n(137,r));if(s.dangerouslySetInnerHTML!=null){if(s.children!=null)throw Error(n(60));if(typeof s.dangerouslySetInnerHTML!="object"||!("__html"in s.dangerouslySetInnerHTML))throw Error(n(61))}if(s.style!=null&&typeof s.style!="object")throw Error(n(62))}}function ri(r,s){if(r.indexOf("-")===-1)return typeof s.is=="string";switch(r){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var fs=null;function fr(r){return r=r.target||r.srcElement||window,r.correspondingUseElement&&(r=r.correspondingUseElement),r.nodeType===3?r.parentNode:r}var ni=null,jn=null,nn=null;function si(r){if(r=ji(r)){if(typeof ni!="function")throw Error(n(280));var s=r.stateNode;s&&(s=Aa(s),ni(r.stateNode,r.type,s))}}function Pe(r){jn?nn?nn.push(r):nn=[r]:jn=r}function nt(){if(jn){var r=jn,s=nn;if(nn=jn=null,si(r),s)for(r=0;r<s.length;r++)si(s[r])}}function ft(r,s){return r(s)}function Nt(){}var kn=!1;function at(r,s,c){if(kn)return r(s,c);kn=!0;try{return ft(r,s,c)}finally{kn=!1,(jn!==null||nn!==null)&&(Nt(),nt())}}function vt(r,s){var c=r.stateNode;if(c===null)return null;var f=Aa(c);if(f===null)return null;c=f[s];e:switch(s){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(f=!f.disabled)||(r=r.type,f=!(r==="button"||r==="input"||r==="select"||r==="textarea")),r=!f;break e;default:r=!1}if(r)return null;if(c&&typeof c!="function")throw Error(n(231,s,typeof c));return c}var En=!1;if(d)try{var _t={};Object.defineProperty(_t,"passive",{get:function(){En=!0}}),window.addEventListener("test",_t,_t),window.removeEventListener("test",_t,_t)}catch{En=!1}function Zt(r,s,c,f,v,w,k,R,T){var U=Array.prototype.slice.call(arguments,3);try{s.apply(c,U)}catch(Y){this.onError(Y)}}var Nn=!1,hr=null,oi=!1,Rc=null,xx={onError:function(r){Nn=!0,hr=r}};function bx(r,s,c,f,v,w,k,R,T){Nn=!1,hr=null,Zt.apply(xx,arguments)}function _x(r,s,c,f,v,w,k,R,T){if(bx.apply(this,arguments),Nn){if(Nn){var U=hr;Nn=!1,hr=null}else throw Error(n(198));oi||(oi=!0,Rc=U)}}function hs(r){var s=r,c=r;if(r.alternate)for(;s.return;)s=s.return;else{r=s;do s=r,(s.flags&4098)!==0&&(c=s.return),r=s.return;while(r)}return s.tag===3?c:null}function ch(r){if(r.tag===13){var s=r.memoizedState;if(s===null&&(r=r.alternate,r!==null&&(s=r.memoizedState)),s!==null)return s.dehydrated}return null}function uh(r){if(hs(r)!==r)throw Error(n(188))}function Sx(r){var s=r.alternate;if(!s){if(s=hs(r),s===null)throw Error(n(188));return s!==r?null:r}for(var c=r,f=s;;){var v=c.return;if(v===null)break;var w=v.alternate;if(w===null){if(f=v.return,f!==null){c=f;continue}break}if(v.child===w.child){for(w=v.child;w;){if(w===c)return uh(v),r;if(w===f)return uh(v),s;w=w.sibling}throw Error(n(188))}if(c.return!==f.return)c=v,f=w;else{for(var k=!1,R=v.child;R;){if(R===c){k=!0,c=v,f=w;break}if(R===f){k=!0,f=v,c=w;break}R=R.sibling}if(!k){for(R=w.child;R;){if(R===c){k=!0,c=w,f=v;break}if(R===f){k=!0,f=w,c=v;break}R=R.sibling}if(!k)throw Error(n(189))}}if(c.alternate!==f)throw Error(n(190))}if(c.tag!==3)throw Error(n(188));return c.stateNode.current===c?r:s}function dh(r){return r=Sx(r),r!==null?fh(r):null}function fh(r){if(r.tag===5||r.tag===6)return r;for(r=r.child;r!==null;){var s=fh(r);if(s!==null)return s;r=r.sibling}return null}var hh=e.unstable_scheduleCallback,ph=e.unstable_cancelCallback,jx=e.unstable_shouldYield,kx=e.unstable_requestPaint,st=e.unstable_now,Ex=e.unstable_getCurrentPriorityLevel,Tc=e.unstable_ImmediatePriority,mh=e.unstable_UserBlockingPriority,fa=e.unstable_NormalPriority,Nx=e.unstable_LowPriority,gh=e.unstable_IdlePriority,ha=null,Fr=null;function Cx(r){if(Fr&&typeof Fr.onCommitFiberRoot=="function")try{Fr.onCommitFiberRoot(ha,r,void 0,(r.current.flags&128)===128)}catch{}}var jr=Math.clz32?Math.clz32:Px,Rx=Math.log,Tx=Math.LN2;function Px(r){return r>>>=0,r===0?32:31-(Rx(r)/Tx|0)|0}var pa=64,ma=4194304;function ii(r){switch(r&-r){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return r&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return r&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return r}}function ga(r,s){var c=r.pendingLanes;if(c===0)return 0;var f=0,v=r.suspendedLanes,w=r.pingedLanes,k=c&268435455;if(k!==0){var R=k&~v;R!==0?f=ii(R):(w&=k,w!==0&&(f=ii(w)))}else k=c&~v,k!==0?f=ii(k):w!==0&&(f=ii(w));if(f===0)return 0;if(s!==0&&s!==f&&(s&v)===0&&(v=f&-f,w=s&-s,v>=w||v===16&&(w&4194240)!==0))return s;if((f&4)!==0&&(f|=c&16),s=r.entangledLanes,s!==0)for(r=r.entanglements,s&=f;0<s;)c=31-jr(s),v=1<<c,f|=r[c],s&=~v;return f}function Ax(r,s){switch(r){case 1:case 2:case 4:return s+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Ox(r,s){for(var c=r.suspendedLanes,f=r.pingedLanes,v=r.expirationTimes,w=r.pendingLanes;0<w;){var k=31-jr(w),R=1<<k,T=v[k];T===-1?((R&c)===0||(R&f)!==0)&&(v[k]=Ax(R,s)):T<=s&&(r.expiredLanes|=R),w&=~R}}function Pc(r){return r=r.pendingLanes&-1073741825,r!==0?r:r&1073741824?1073741824:0}function vh(){var r=pa;return pa<<=1,(pa&4194240)===0&&(pa=64),r}function Ac(r){for(var s=[],c=0;31>c;c++)s.push(r);return s}function ai(r,s,c){r.pendingLanes|=s,s!==536870912&&(r.suspendedLanes=0,r.pingedLanes=0),r=r.eventTimes,s=31-jr(s),r[s]=c}function Ix(r,s){var c=r.pendingLanes&~s;r.pendingLanes=s,r.suspendedLanes=0,r.pingedLanes=0,r.expiredLanes&=s,r.mutableReadLanes&=s,r.entangledLanes&=s,s=r.entanglements;var f=r.eventTimes;for(r=r.expirationTimes;0<c;){var v=31-jr(c),w=1<<v;s[v]=0,f[v]=-1,r[v]=-1,c&=~w}}function Oc(r,s){var c=r.entangledLanes|=s;for(r=r.entanglements;c;){var f=31-jr(c),v=1<<f;v&s|r[f]&s&&(r[f]|=s),c&=~v}}var We=0;function yh(r){return r&=-r,1<r?4<r?(r&268435455)!==0?16:536870912:4:1}var wh,Ic,xh,bh,_h,Dc=!1,va=[],Cn=null,Rn=null,Tn=null,li=new Map,ci=new Map,Pn=[],Dx="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Sh(r,s){switch(r){case"focusin":case"focusout":Cn=null;break;case"dragenter":case"dragleave":Rn=null;break;case"mouseover":case"mouseout":Tn=null;break;case"pointerover":case"pointerout":li.delete(s.pointerId);break;case"gotpointercapture":case"lostpointercapture":ci.delete(s.pointerId)}}function ui(r,s,c,f,v,w){return r===null||r.nativeEvent!==w?(r={blockedOn:s,domEventName:c,eventSystemFlags:f,nativeEvent:w,targetContainers:[v]},s!==null&&(s=ji(s),s!==null&&Ic(s)),r):(r.eventSystemFlags|=f,s=r.targetContainers,v!==null&&s.indexOf(v)===-1&&s.push(v),r)}function Lx(r,s,c,f,v){switch(s){case"focusin":return Cn=ui(Cn,r,s,c,f,v),!0;case"dragenter":return Rn=ui(Rn,r,s,c,f,v),!0;case"mouseover":return Tn=ui(Tn,r,s,c,f,v),!0;case"pointerover":var w=v.pointerId;return li.set(w,ui(li.get(w)||null,r,s,c,f,v)),!0;case"gotpointercapture":return w=v.pointerId,ci.set(w,ui(ci.get(w)||null,r,s,c,f,v)),!0}return!1}function jh(r){var s=ps(r.target);if(s!==null){var c=hs(s);if(c!==null){if(s=c.tag,s===13){if(s=ch(c),s!==null){r.blockedOn=s,_h(r.priority,function(){xh(c)});return}}else if(s===3&&c.stateNode.current.memoizedState.isDehydrated){r.blockedOn=c.tag===3?c.stateNode.containerInfo:null;return}}}r.blockedOn=null}function ya(r){if(r.blockedOn!==null)return!1;for(var s=r.targetContainers;0<s.length;){var c=$c(r.domEventName,r.eventSystemFlags,s[0],r.nativeEvent);if(c===null){c=r.nativeEvent;var f=new c.constructor(c.type,c);fs=f,c.target.dispatchEvent(f),fs=null}else return s=ji(c),s!==null&&Ic(s),r.blockedOn=c,!1;s.shift()}return!0}function kh(r,s,c){ya(r)&&c.delete(s)}function $x(){Dc=!1,Cn!==null&&ya(Cn)&&(Cn=null),Rn!==null&&ya(Rn)&&(Rn=null),Tn!==null&&ya(Tn)&&(Tn=null),li.forEach(kh),ci.forEach(kh)}function di(r,s){r.blockedOn===s&&(r.blockedOn=null,Dc||(Dc=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,$x)))}function fi(r){function s(v){return di(v,r)}if(0<va.length){di(va[0],r);for(var c=1;c<va.length;c++){var f=va[c];f.blockedOn===r&&(f.blockedOn=null)}}for(Cn!==null&&di(Cn,r),Rn!==null&&di(Rn,r),Tn!==null&&di(Tn,r),li.forEach(s),ci.forEach(s),c=0;c<Pn.length;c++)f=Pn[c],f.blockedOn===r&&(f.blockedOn=null);for(;0<Pn.length&&(c=Pn[0],c.blockedOn===null);)jh(c),c.blockedOn===null&&Pn.shift()}var Hs=P.ReactCurrentBatchConfig,wa=!0;function Mx(r,s,c,f){var v=We,w=Hs.transition;Hs.transition=null;try{We=1,Lc(r,s,c,f)}finally{We=v,Hs.transition=w}}function Fx(r,s,c,f){var v=We,w=Hs.transition;Hs.transition=null;try{We=4,Lc(r,s,c,f)}finally{We=v,Hs.transition=w}}function Lc(r,s,c,f){if(wa){var v=$c(r,s,c,f);if(v===null)eu(r,s,f,xa,c),Sh(r,f);else if(Lx(v,r,s,c,f))f.stopPropagation();else if(Sh(r,f),s&4&&-1<Dx.indexOf(r)){for(;v!==null;){var w=ji(v);if(w!==null&&wh(w),w=$c(r,s,c,f),w===null&&eu(r,s,f,xa,c),w===v)break;v=w}v!==null&&f.stopPropagation()}else eu(r,s,f,null,c)}}var xa=null;function $c(r,s,c,f){if(xa=null,r=fr(f),r=ps(r),r!==null)if(s=hs(r),s===null)r=null;else if(c=s.tag,c===13){if(r=ch(s),r!==null)return r;r=null}else if(c===3){if(s.stateNode.current.memoizedState.isDehydrated)return s.tag===3?s.stateNode.containerInfo:null;r=null}else s!==r&&(r=null);return xa=r,null}function Eh(r){switch(r){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Ex()){case Tc:return 1;case mh:return 4;case fa:case Nx:return 16;case gh:return 536870912;default:return 16}default:return 16}}var An=null,Mc=null,ba=null;function Nh(){if(ba)return ba;var r,s=Mc,c=s.length,f,v="value"in An?An.value:An.textContent,w=v.length;for(r=0;r<c&&s[r]===v[r];r++);var k=c-r;for(f=1;f<=k&&s[c-f]===v[w-f];f++);return ba=v.slice(r,1<f?1-f:void 0)}function _a(r){var s=r.keyCode;return"charCode"in r?(r=r.charCode,r===0&&s===13&&(r=13)):r=s,r===10&&(r=13),32<=r||r===13?r:0}function Sa(){return!0}function Ch(){return!1}function er(r){function s(c,f,v,w,k){this._reactName=c,this._targetInst=v,this.type=f,this.nativeEvent=w,this.target=k,this.currentTarget=null;for(var R in r)r.hasOwnProperty(R)&&(c=r[R],this[R]=c?c(w):w[R]);return this.isDefaultPrevented=(w.defaultPrevented!=null?w.defaultPrevented:w.returnValue===!1)?Sa:Ch,this.isPropagationStopped=Ch,this}return K(s.prototype,{preventDefault:function(){this.defaultPrevented=!0;var c=this.nativeEvent;c&&(c.preventDefault?c.preventDefault():typeof c.returnValue!="unknown"&&(c.returnValue=!1),this.isDefaultPrevented=Sa)},stopPropagation:function(){var c=this.nativeEvent;c&&(c.stopPropagation?c.stopPropagation():typeof c.cancelBubble!="unknown"&&(c.cancelBubble=!0),this.isPropagationStopped=Sa)},persist:function(){},isPersistent:Sa}),s}var qs={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(r){return r.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Fc=er(qs),hi=K({},qs,{view:0,detail:0}),Ux=er(hi),Uc,zc,pi,ja=K({},hi,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Vc,button:0,buttons:0,relatedTarget:function(r){return r.relatedTarget===void 0?r.fromElement===r.srcElement?r.toElement:r.fromElement:r.relatedTarget},movementX:function(r){return"movementX"in r?r.movementX:(r!==pi&&(pi&&r.type==="mousemove"?(Uc=r.screenX-pi.screenX,zc=r.screenY-pi.screenY):zc=Uc=0,pi=r),Uc)},movementY:function(r){return"movementY"in r?r.movementY:zc}}),Rh=er(ja),zx=K({},ja,{dataTransfer:0}),Bx=er(zx),Vx=K({},hi,{relatedTarget:0}),Bc=er(Vx),Wx=K({},qs,{animationName:0,elapsedTime:0,pseudoElement:0}),Hx=er(Wx),qx=K({},qs,{clipboardData:function(r){return"clipboardData"in r?r.clipboardData:window.clipboardData}}),Kx=er(qx),Gx=K({},qs,{data:0}),Th=er(Gx),Yx={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Jx={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Qx={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Xx(r){var s=this.nativeEvent;return s.getModifierState?s.getModifierState(r):(r=Qx[r])?!!s[r]:!1}function Vc(){return Xx}var Zx=K({},hi,{key:function(r){if(r.key){var s=Yx[r.key]||r.key;if(s!=="Unidentified")return s}return r.type==="keypress"?(r=_a(r),r===13?"Enter":String.fromCharCode(r)):r.type==="keydown"||r.type==="keyup"?Jx[r.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Vc,charCode:function(r){return r.type==="keypress"?_a(r):0},keyCode:function(r){return r.type==="keydown"||r.type==="keyup"?r.keyCode:0},which:function(r){return r.type==="keypress"?_a(r):r.type==="keydown"||r.type==="keyup"?r.keyCode:0}}),eb=er(Zx),tb=K({},ja,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Ph=er(tb),rb=K({},hi,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Vc}),nb=er(rb),sb=K({},qs,{propertyName:0,elapsedTime:0,pseudoElement:0}),ob=er(sb),ib=K({},ja,{deltaX:function(r){return"deltaX"in r?r.deltaX:"wheelDeltaX"in r?-r.wheelDeltaX:0},deltaY:function(r){return"deltaY"in r?r.deltaY:"wheelDeltaY"in r?-r.wheelDeltaY:"wheelDelta"in r?-r.wheelDelta:0},deltaZ:0,deltaMode:0}),ab=er(ib),lb=[9,13,27,32],Wc=d&&"CompositionEvent"in window,mi=null;d&&"documentMode"in document&&(mi=document.documentMode);var cb=d&&"TextEvent"in window&&!mi,Ah=d&&(!Wc||mi&&8<mi&&11>=mi),Oh=" ",Ih=!1;function Dh(r,s){switch(r){case"keyup":return lb.indexOf(s.keyCode)!==-1;case"keydown":return s.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Lh(r){return r=r.detail,typeof r=="object"&&"data"in r?r.data:null}var Ks=!1;function ub(r,s){switch(r){case"compositionend":return Lh(s);case"keypress":return s.which!==32?null:(Ih=!0,Oh);case"textInput":return r=s.data,r===Oh&&Ih?null:r;default:return null}}function db(r,s){if(Ks)return r==="compositionend"||!Wc&&Dh(r,s)?(r=Nh(),ba=Mc=An=null,Ks=!1,r):null;switch(r){case"paste":return null;case"keypress":if(!(s.ctrlKey||s.altKey||s.metaKey)||s.ctrlKey&&s.altKey){if(s.char&&1<s.char.length)return s.char;if(s.which)return String.fromCharCode(s.which)}return null;case"compositionend":return Ah&&s.locale!=="ko"?null:s.data;default:return null}}var fb={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function $h(r){var s=r&&r.nodeName&&r.nodeName.toLowerCase();return s==="input"?!!fb[r.type]:s==="textarea"}function Mh(r,s,c,f){Pe(f),s=Ra(s,"onChange"),0<s.length&&(c=new Fc("onChange","change",null,c,f),r.push({event:c,listeners:s}))}var gi=null,vi=null;function hb(r){rp(r,0)}function ka(r){var s=Xs(r);if(Fe(s))return r}function pb(r,s){if(r==="change")return s}var Fh=!1;if(d){var Hc;if(d){var qc="oninput"in document;if(!qc){var Uh=document.createElement("div");Uh.setAttribute("oninput","return;"),qc=typeof Uh.oninput=="function"}Hc=qc}else Hc=!1;Fh=Hc&&(!document.documentMode||9<document.documentMode)}function zh(){gi&&(gi.detachEvent("onpropertychange",Bh),vi=gi=null)}function Bh(r){if(r.propertyName==="value"&&ka(vi)){var s=[];Mh(s,vi,r,fr(r)),at(hb,s)}}function mb(r,s,c){r==="focusin"?(zh(),gi=s,vi=c,gi.attachEvent("onpropertychange",Bh)):r==="focusout"&&zh()}function gb(r){if(r==="selectionchange"||r==="keyup"||r==="keydown")return ka(vi)}function vb(r,s){if(r==="click")return ka(s)}function yb(r,s){if(r==="input"||r==="change")return ka(s)}function wb(r,s){return r===s&&(r!==0||1/r===1/s)||r!==r&&s!==s}var kr=typeof Object.is=="function"?Object.is:wb;function yi(r,s){if(kr(r,s))return!0;if(typeof r!="object"||r===null||typeof s!="object"||s===null)return!1;var c=Object.keys(r),f=Object.keys(s);if(c.length!==f.length)return!1;for(f=0;f<c.length;f++){var v=c[f];if(!h.call(s,v)||!kr(r[v],s[v]))return!1}return!0}function Vh(r){for(;r&&r.firstChild;)r=r.firstChild;return r}function Wh(r,s){var c=Vh(r);r=0;for(var f;c;){if(c.nodeType===3){if(f=r+c.textContent.length,r<=s&&f>=s)return{node:c,offset:s-r};r=f}e:{for(;c;){if(c.nextSibling){c=c.nextSibling;break e}c=c.parentNode}c=void 0}c=Vh(c)}}function Hh(r,s){return r&&s?r===s?!0:r&&r.nodeType===3?!1:s&&s.nodeType===3?Hh(r,s.parentNode):"contains"in r?r.contains(s):r.compareDocumentPosition?!!(r.compareDocumentPosition(s)&16):!1:!1}function qh(){for(var r=window,s=dt();s instanceof r.HTMLIFrameElement;){try{var c=typeof s.contentWindow.location.href=="string"}catch{c=!1}if(c)r=s.contentWindow;else break;s=dt(r.document)}return s}function Kc(r){var s=r&&r.nodeName&&r.nodeName.toLowerCase();return s&&(s==="input"&&(r.type==="text"||r.type==="search"||r.type==="tel"||r.type==="url"||r.type==="password")||s==="textarea"||r.contentEditable==="true")}function xb(r){var s=qh(),c=r.focusedElem,f=r.selectionRange;if(s!==c&&c&&c.ownerDocument&&Hh(c.ownerDocument.documentElement,c)){if(f!==null&&Kc(c)){if(s=f.start,r=f.end,r===void 0&&(r=s),"selectionStart"in c)c.selectionStart=s,c.selectionEnd=Math.min(r,c.value.length);else if(r=(s=c.ownerDocument||document)&&s.defaultView||window,r.getSelection){r=r.getSelection();var v=c.textContent.length,w=Math.min(f.start,v);f=f.end===void 0?w:Math.min(f.end,v),!r.extend&&w>f&&(v=f,f=w,w=v),v=Wh(c,w);var k=Wh(c,f);v&&k&&(r.rangeCount!==1||r.anchorNode!==v.node||r.anchorOffset!==v.offset||r.focusNode!==k.node||r.focusOffset!==k.offset)&&(s=s.createRange(),s.setStart(v.node,v.offset),r.removeAllRanges(),w>f?(r.addRange(s),r.extend(k.node,k.offset)):(s.setEnd(k.node,k.offset),r.addRange(s)))}}for(s=[],r=c;r=r.parentNode;)r.nodeType===1&&s.push({element:r,left:r.scrollLeft,top:r.scrollTop});for(typeof c.focus=="function"&&c.focus(),c=0;c<s.length;c++)r=s[c],r.element.scrollLeft=r.left,r.element.scrollTop=r.top}}var bb=d&&"documentMode"in document&&11>=document.documentMode,Gs=null,Gc=null,wi=null,Yc=!1;function Kh(r,s,c){var f=c.window===c?c.document:c.nodeType===9?c:c.ownerDocument;Yc||Gs==null||Gs!==dt(f)||(f=Gs,"selectionStart"in f&&Kc(f)?f={start:f.selectionStart,end:f.selectionEnd}:(f=(f.ownerDocument&&f.ownerDocument.defaultView||window).getSelection(),f={anchorNode:f.anchorNode,anchorOffset:f.anchorOffset,focusNode:f.focusNode,focusOffset:f.focusOffset}),wi&&yi(wi,f)||(wi=f,f=Ra(Gc,"onSelect"),0<f.length&&(s=new Fc("onSelect","select",null,s,c),r.push({event:s,listeners:f}),s.target=Gs)))}function Ea(r,s){var c={};return c[r.toLowerCase()]=s.toLowerCase(),c["Webkit"+r]="webkit"+s,c["Moz"+r]="moz"+s,c}var Ys={animationend:Ea("Animation","AnimationEnd"),animationiteration:Ea("Animation","AnimationIteration"),animationstart:Ea("Animation","AnimationStart"),transitionend:Ea("Transition","TransitionEnd")},Jc={},Gh={};d&&(Gh=document.createElement("div").style,"AnimationEvent"in window||(delete Ys.animationend.animation,delete Ys.animationiteration.animation,delete Ys.animationstart.animation),"TransitionEvent"in window||delete Ys.transitionend.transition);function Na(r){if(Jc[r])return Jc[r];if(!Ys[r])return r;var s=Ys[r],c;for(c in s)if(s.hasOwnProperty(c)&&c in Gh)return Jc[r]=s[c];return r}var Yh=Na("animationend"),Jh=Na("animationiteration"),Qh=Na("animationstart"),Xh=Na("transitionend"),Zh=new Map,ep="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function On(r,s){Zh.set(r,s),a(s,[r])}for(var Qc=0;Qc<ep.length;Qc++){var Xc=ep[Qc],_b=Xc.toLowerCase(),Sb=Xc[0].toUpperCase()+Xc.slice(1);On(_b,"on"+Sb)}On(Yh,"onAnimationEnd"),On(Jh,"onAnimationIteration"),On(Qh,"onAnimationStart"),On("dblclick","onDoubleClick"),On("focusin","onFocus"),On("focusout","onBlur"),On(Xh,"onTransitionEnd"),u("onMouseEnter",["mouseout","mouseover"]),u("onMouseLeave",["mouseout","mouseover"]),u("onPointerEnter",["pointerout","pointerover"]),u("onPointerLeave",["pointerout","pointerover"]),a("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),a("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),a("onBeforeInput",["compositionend","keypress","textInput","paste"]),a("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),a("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),a("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var xi="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),jb=new Set("cancel close invalid load scroll toggle".split(" ").concat(xi));function tp(r,s,c){var f=r.type||"unknown-event";r.currentTarget=c,_x(f,s,void 0,r),r.currentTarget=null}function rp(r,s){s=(s&4)!==0;for(var c=0;c<r.length;c++){var f=r[c],v=f.event;f=f.listeners;e:{var w=void 0;if(s)for(var k=f.length-1;0<=k;k--){var R=f[k],T=R.instance,U=R.currentTarget;if(R=R.listener,T!==w&&v.isPropagationStopped())break e;tp(v,R,U),w=T}else for(k=0;k<f.length;k++){if(R=f[k],T=R.instance,U=R.currentTarget,R=R.listener,T!==w&&v.isPropagationStopped())break e;tp(v,R,U),w=T}}}if(oi)throw r=Rc,oi=!1,Rc=null,r}function Ye(r,s){var c=s[iu];c===void 0&&(c=s[iu]=new Set);var f=r+"__bubble";c.has(f)||(np(s,r,2,!1),c.add(f))}function Zc(r,s,c){var f=0;s&&(f|=4),np(c,r,f,s)}var Ca="_reactListening"+Math.random().toString(36).slice(2);function bi(r){if(!r[Ca]){r[Ca]=!0,o.forEach(function(c){c!=="selectionchange"&&(jb.has(c)||Zc(c,!1,r),Zc(c,!0,r))});var s=r.nodeType===9?r:r.ownerDocument;s===null||s[Ca]||(s[Ca]=!0,Zc("selectionchange",!1,s))}}function np(r,s,c,f){switch(Eh(s)){case 1:var v=Mx;break;case 4:v=Fx;break;default:v=Lc}c=v.bind(null,s,c,r),v=void 0,!En||s!=="touchstart"&&s!=="touchmove"&&s!=="wheel"||(v=!0),f?v!==void 0?r.addEventListener(s,c,{capture:!0,passive:v}):r.addEventListener(s,c,!0):v!==void 0?r.addEventListener(s,c,{passive:v}):r.addEventListener(s,c,!1)}function eu(r,s,c,f,v){var w=f;if((s&1)===0&&(s&2)===0&&f!==null)e:for(;;){if(f===null)return;var k=f.tag;if(k===3||k===4){var R=f.stateNode.containerInfo;if(R===v||R.nodeType===8&&R.parentNode===v)break;if(k===4)for(k=f.return;k!==null;){var T=k.tag;if((T===3||T===4)&&(T=k.stateNode.containerInfo,T===v||T.nodeType===8&&T.parentNode===v))return;k=k.return}for(;R!==null;){if(k=ps(R),k===null)return;if(T=k.tag,T===5||T===6){f=w=k;continue e}R=R.parentNode}}f=f.return}at(function(){var U=w,Y=fr(c),X=[];e:{var G=Zh.get(r);if(G!==void 0){var ae=Fc,fe=r;switch(r){case"keypress":if(_a(c)===0)break e;case"keydown":case"keyup":ae=eb;break;case"focusin":fe="focus",ae=Bc;break;case"focusout":fe="blur",ae=Bc;break;case"beforeblur":case"afterblur":ae=Bc;break;case"click":if(c.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":ae=Rh;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":ae=Bx;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":ae=nb;break;case Yh:case Jh:case Qh:ae=Hx;break;case Xh:ae=ob;break;case"scroll":ae=Ux;break;case"wheel":ae=ab;break;case"copy":case"cut":case"paste":ae=Kx;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":ae=Ph}var ve=(s&4)!==0,ot=!ve&&r==="scroll",L=ve?G!==null?G+"Capture":null:G;ve=[];for(var A=U,M;A!==null;){M=A;var ee=M.stateNode;if(M.tag===5&&ee!==null&&(M=ee,L!==null&&(ee=vt(A,L),ee!=null&&ve.push(_i(A,ee,M)))),ot)break;A=A.return}0<ve.length&&(G=new ae(G,fe,null,c,Y),X.push({event:G,listeners:ve}))}}if((s&7)===0){e:{if(G=r==="mouseover"||r==="pointerover",ae=r==="mouseout"||r==="pointerout",G&&c!==fs&&(fe=c.relatedTarget||c.fromElement)&&(ps(fe)||fe[sn]))break e;if((ae||G)&&(G=Y.window===Y?Y:(G=Y.ownerDocument)?G.defaultView||G.parentWindow:window,ae?(fe=c.relatedTarget||c.toElement,ae=U,fe=fe?ps(fe):null,fe!==null&&(ot=hs(fe),fe!==ot||fe.tag!==5&&fe.tag!==6)&&(fe=null)):(ae=null,fe=U),ae!==fe)){if(ve=Rh,ee="onMouseLeave",L="onMouseEnter",A="mouse",(r==="pointerout"||r==="pointerover")&&(ve=Ph,ee="onPointerLeave",L="onPointerEnter",A="pointer"),ot=ae==null?G:Xs(ae),M=fe==null?G:Xs(fe),G=new ve(ee,A+"leave",ae,c,Y),G.target=ot,G.relatedTarget=M,ee=null,ps(Y)===U&&(ve=new ve(L,A+"enter",fe,c,Y),ve.target=M,ve.relatedTarget=ot,ee=ve),ot=ee,ae&&fe)t:{for(ve=ae,L=fe,A=0,M=ve;M;M=Js(M))A++;for(M=0,ee=L;ee;ee=Js(ee))M++;for(;0<A-M;)ve=Js(ve),A--;for(;0<M-A;)L=Js(L),M--;for(;A--;){if(ve===L||L!==null&&ve===L.alternate)break t;ve=Js(ve),L=Js(L)}ve=null}else ve=null;ae!==null&&sp(X,G,ae,ve,!1),fe!==null&&ot!==null&&sp(X,ot,fe,ve,!0)}}e:{if(G=U?Xs(U):window,ae=G.nodeName&&G.nodeName.toLowerCase(),ae==="select"||ae==="input"&&G.type==="file")var ye=pb;else if($h(G))if(Fh)ye=yb;else{ye=gb;var je=mb}else(ae=G.nodeName)&&ae.toLowerCase()==="input"&&(G.type==="checkbox"||G.type==="radio")&&(ye=vb);if(ye&&(ye=ye(r,U))){Mh(X,ye,c,Y);break e}je&&je(r,G,U),r==="focusout"&&(je=G._wrapperState)&&je.controlled&&G.type==="number"&&Xt(G,"number",G.value)}switch(je=U?Xs(U):window,r){case"focusin":($h(je)||je.contentEditable==="true")&&(Gs=je,Gc=U,wi=null);break;case"focusout":wi=Gc=Gs=null;break;case"mousedown":Yc=!0;break;case"contextmenu":case"mouseup":case"dragend":Yc=!1,Kh(X,c,Y);break;case"selectionchange":if(bb)break;case"keydown":case"keyup":Kh(X,c,Y)}var ke;if(Wc)e:{switch(r){case"compositionstart":var Te="onCompositionStart";break e;case"compositionend":Te="onCompositionEnd";break e;case"compositionupdate":Te="onCompositionUpdate";break e}Te=void 0}else Ks?Dh(r,c)&&(Te="onCompositionEnd"):r==="keydown"&&c.keyCode===229&&(Te="onCompositionStart");Te&&(Ah&&c.locale!=="ko"&&(Ks||Te!=="onCompositionStart"?Te==="onCompositionEnd"&&Ks&&(ke=Nh()):(An=Y,Mc="value"in An?An.value:An.textContent,Ks=!0)),je=Ra(U,Te),0<je.length&&(Te=new Th(Te,r,null,c,Y),X.push({event:Te,listeners:je}),ke?Te.data=ke:(ke=Lh(c),ke!==null&&(Te.data=ke)))),(ke=cb?ub(r,c):db(r,c))&&(U=Ra(U,"onBeforeInput"),0<U.length&&(Y=new Th("onBeforeInput","beforeinput",null,c,Y),X.push({event:Y,listeners:U}),Y.data=ke))}rp(X,s)})}function _i(r,s,c){return{instance:r,listener:s,currentTarget:c}}function Ra(r,s){for(var c=s+"Capture",f=[];r!==null;){var v=r,w=v.stateNode;v.tag===5&&w!==null&&(v=w,w=vt(r,c),w!=null&&f.unshift(_i(r,w,v)),w=vt(r,s),w!=null&&f.push(_i(r,w,v))),r=r.return}return f}function Js(r){if(r===null)return null;do r=r.return;while(r&&r.tag!==5);return r||null}function sp(r,s,c,f,v){for(var w=s._reactName,k=[];c!==null&&c!==f;){var R=c,T=R.alternate,U=R.stateNode;if(T!==null&&T===f)break;R.tag===5&&U!==null&&(R=U,v?(T=vt(c,w),T!=null&&k.unshift(_i(c,T,R))):v||(T=vt(c,w),T!=null&&k.push(_i(c,T,R)))),c=c.return}k.length!==0&&r.push({event:s,listeners:k})}var kb=/\r\n?/g,Eb=/\u0000|\uFFFD/g;function op(r){return(typeof r=="string"?r:""+r).replace(kb,`
`).replace(Eb,"")}function Ta(r,s,c){if(s=op(s),op(r)!==s&&c)throw Error(n(425))}function Pa(){}var tu=null,ru=null;function nu(r,s){return r==="textarea"||r==="noscript"||typeof s.children=="string"||typeof s.children=="number"||typeof s.dangerouslySetInnerHTML=="object"&&s.dangerouslySetInnerHTML!==null&&s.dangerouslySetInnerHTML.__html!=null}var su=typeof setTimeout=="function"?setTimeout:void 0,Nb=typeof clearTimeout=="function"?clearTimeout:void 0,ip=typeof Promise=="function"?Promise:void 0,Cb=typeof queueMicrotask=="function"?queueMicrotask:typeof ip<"u"?function(r){return ip.resolve(null).then(r).catch(Rb)}:su;function Rb(r){setTimeout(function(){throw r})}function ou(r,s){var c=s,f=0;do{var v=c.nextSibling;if(r.removeChild(c),v&&v.nodeType===8)if(c=v.data,c==="/$"){if(f===0){r.removeChild(v),fi(s);return}f--}else c!=="$"&&c!=="$?"&&c!=="$!"||f++;c=v}while(c);fi(s)}function In(r){for(;r!=null;r=r.nextSibling){var s=r.nodeType;if(s===1||s===3)break;if(s===8){if(s=r.data,s==="$"||s==="$!"||s==="$?")break;if(s==="/$")return null}}return r}function ap(r){r=r.previousSibling;for(var s=0;r;){if(r.nodeType===8){var c=r.data;if(c==="$"||c==="$!"||c==="$?"){if(s===0)return r;s--}else c==="/$"&&s++}r=r.previousSibling}return null}var Qs=Math.random().toString(36).slice(2),Ur="__reactFiber$"+Qs,Si="__reactProps$"+Qs,sn="__reactContainer$"+Qs,iu="__reactEvents$"+Qs,Tb="__reactListeners$"+Qs,Pb="__reactHandles$"+Qs;function ps(r){var s=r[Ur];if(s)return s;for(var c=r.parentNode;c;){if(s=c[sn]||c[Ur]){if(c=s.alternate,s.child!==null||c!==null&&c.child!==null)for(r=ap(r);r!==null;){if(c=r[Ur])return c;r=ap(r)}return s}r=c,c=r.parentNode}return null}function ji(r){return r=r[Ur]||r[sn],!r||r.tag!==5&&r.tag!==6&&r.tag!==13&&r.tag!==3?null:r}function Xs(r){if(r.tag===5||r.tag===6)return r.stateNode;throw Error(n(33))}function Aa(r){return r[Si]||null}var au=[],Zs=-1;function Dn(r){return{current:r}}function Je(r){0>Zs||(r.current=au[Zs],au[Zs]=null,Zs--)}function Ke(r,s){Zs++,au[Zs]=r.current,r.current=s}var Ln={},Ct=Dn(Ln),Bt=Dn(!1),ms=Ln;function eo(r,s){var c=r.type.contextTypes;if(!c)return Ln;var f=r.stateNode;if(f&&f.__reactInternalMemoizedUnmaskedChildContext===s)return f.__reactInternalMemoizedMaskedChildContext;var v={},w;for(w in c)v[w]=s[w];return f&&(r=r.stateNode,r.__reactInternalMemoizedUnmaskedChildContext=s,r.__reactInternalMemoizedMaskedChildContext=v),v}function Vt(r){return r=r.childContextTypes,r!=null}function Oa(){Je(Bt),Je(Ct)}function lp(r,s,c){if(Ct.current!==Ln)throw Error(n(168));Ke(Ct,s),Ke(Bt,c)}function cp(r,s,c){var f=r.stateNode;if(s=s.childContextTypes,typeof f.getChildContext!="function")return c;f=f.getChildContext();for(var v in f)if(!(v in s))throw Error(n(108,J(r)||"Unknown",v));return K({},c,f)}function Ia(r){return r=(r=r.stateNode)&&r.__reactInternalMemoizedMergedChildContext||Ln,ms=Ct.current,Ke(Ct,r),Ke(Bt,Bt.current),!0}function up(r,s,c){var f=r.stateNode;if(!f)throw Error(n(169));c?(r=cp(r,s,ms),f.__reactInternalMemoizedMergedChildContext=r,Je(Bt),Je(Ct),Ke(Ct,r)):Je(Bt),Ke(Bt,c)}var on=null,Da=!1,lu=!1;function dp(r){on===null?on=[r]:on.push(r)}function Ab(r){Da=!0,dp(r)}function $n(){if(!lu&&on!==null){lu=!0;var r=0,s=We;try{var c=on;for(We=1;r<c.length;r++){var f=c[r];do f=f(!0);while(f!==null)}on=null,Da=!1}catch(v){throw on!==null&&(on=on.slice(r+1)),hh(Tc,$n),v}finally{We=s,lu=!1}}return null}var to=[],ro=0,La=null,$a=0,pr=[],mr=0,gs=null,an=1,ln="";function vs(r,s){to[ro++]=$a,to[ro++]=La,La=r,$a=s}function fp(r,s,c){pr[mr++]=an,pr[mr++]=ln,pr[mr++]=gs,gs=r;var f=an;r=ln;var v=32-jr(f)-1;f&=~(1<<v),c+=1;var w=32-jr(s)+v;if(30<w){var k=v-v%5;w=(f&(1<<k)-1).toString(32),f>>=k,v-=k,an=1<<32-jr(s)+v|c<<v|f,ln=w+r}else an=1<<w|c<<v|f,ln=r}function cu(r){r.return!==null&&(vs(r,1),fp(r,1,0))}function uu(r){for(;r===La;)La=to[--ro],to[ro]=null,$a=to[--ro],to[ro]=null;for(;r===gs;)gs=pr[--mr],pr[mr]=null,ln=pr[--mr],pr[mr]=null,an=pr[--mr],pr[mr]=null}var tr=null,rr=null,Qe=!1,Er=null;function hp(r,s){var c=wr(5,null,null,0);c.elementType="DELETED",c.stateNode=s,c.return=r,s=r.deletions,s===null?(r.deletions=[c],r.flags|=16):s.push(c)}function pp(r,s){switch(r.tag){case 5:var c=r.type;return s=s.nodeType!==1||c.toLowerCase()!==s.nodeName.toLowerCase()?null:s,s!==null?(r.stateNode=s,tr=r,rr=In(s.firstChild),!0):!1;case 6:return s=r.pendingProps===""||s.nodeType!==3?null:s,s!==null?(r.stateNode=s,tr=r,rr=null,!0):!1;case 13:return s=s.nodeType!==8?null:s,s!==null?(c=gs!==null?{id:an,overflow:ln}:null,r.memoizedState={dehydrated:s,treeContext:c,retryLane:1073741824},c=wr(18,null,null,0),c.stateNode=s,c.return=r,r.child=c,tr=r,rr=null,!0):!1;default:return!1}}function du(r){return(r.mode&1)!==0&&(r.flags&128)===0}function fu(r){if(Qe){var s=rr;if(s){var c=s;if(!pp(r,s)){if(du(r))throw Error(n(418));s=In(c.nextSibling);var f=tr;s&&pp(r,s)?hp(f,c):(r.flags=r.flags&-4097|2,Qe=!1,tr=r)}}else{if(du(r))throw Error(n(418));r.flags=r.flags&-4097|2,Qe=!1,tr=r}}}function mp(r){for(r=r.return;r!==null&&r.tag!==5&&r.tag!==3&&r.tag!==13;)r=r.return;tr=r}function Ma(r){if(r!==tr)return!1;if(!Qe)return mp(r),Qe=!0,!1;var s;if((s=r.tag!==3)&&!(s=r.tag!==5)&&(s=r.type,s=s!=="head"&&s!=="body"&&!nu(r.type,r.memoizedProps)),s&&(s=rr)){if(du(r))throw gp(),Error(n(418));for(;s;)hp(r,s),s=In(s.nextSibling)}if(mp(r),r.tag===13){if(r=r.memoizedState,r=r!==null?r.dehydrated:null,!r)throw Error(n(317));e:{for(r=r.nextSibling,s=0;r;){if(r.nodeType===8){var c=r.data;if(c==="/$"){if(s===0){rr=In(r.nextSibling);break e}s--}else c!=="$"&&c!=="$!"&&c!=="$?"||s++}r=r.nextSibling}rr=null}}else rr=tr?In(r.stateNode.nextSibling):null;return!0}function gp(){for(var r=rr;r;)r=In(r.nextSibling)}function no(){rr=tr=null,Qe=!1}function hu(r){Er===null?Er=[r]:Er.push(r)}var Ob=P.ReactCurrentBatchConfig;function ki(r,s,c){if(r=c.ref,r!==null&&typeof r!="function"&&typeof r!="object"){if(c._owner){if(c=c._owner,c){if(c.tag!==1)throw Error(n(309));var f=c.stateNode}if(!f)throw Error(n(147,r));var v=f,w=""+r;return s!==null&&s.ref!==null&&typeof s.ref=="function"&&s.ref._stringRef===w?s.ref:(s=function(k){var R=v.refs;k===null?delete R[w]:R[w]=k},s._stringRef=w,s)}if(typeof r!="string")throw Error(n(284));if(!c._owner)throw Error(n(290,r))}return r}function Fa(r,s){throw r=Object.prototype.toString.call(s),Error(n(31,r==="[object Object]"?"object with keys {"+Object.keys(s).join(", ")+"}":r))}function vp(r){var s=r._init;return s(r._payload)}function yp(r){function s(L,A){if(r){var M=L.deletions;M===null?(L.deletions=[A],L.flags|=16):M.push(A)}}function c(L,A){if(!r)return null;for(;A!==null;)s(L,A),A=A.sibling;return null}function f(L,A){for(L=new Map;A!==null;)A.key!==null?L.set(A.key,A):L.set(A.index,A),A=A.sibling;return L}function v(L,A){return L=Hn(L,A),L.index=0,L.sibling=null,L}function w(L,A,M){return L.index=M,r?(M=L.alternate,M!==null?(M=M.index,M<A?(L.flags|=2,A):M):(L.flags|=2,A)):(L.flags|=1048576,A)}function k(L){return r&&L.alternate===null&&(L.flags|=2),L}function R(L,A,M,ee){return A===null||A.tag!==6?(A=sd(M,L.mode,ee),A.return=L,A):(A=v(A,M),A.return=L,A)}function T(L,A,M,ee){var ye=M.type;return ye===I?Y(L,A,M.props.children,ee,M.key):A!==null&&(A.elementType===ye||typeof ye=="object"&&ye!==null&&ye.$$typeof===B&&vp(ye)===A.type)?(ee=v(A,M.props),ee.ref=ki(L,A,M),ee.return=L,ee):(ee=cl(M.type,M.key,M.props,null,L.mode,ee),ee.ref=ki(L,A,M),ee.return=L,ee)}function U(L,A,M,ee){return A===null||A.tag!==4||A.stateNode.containerInfo!==M.containerInfo||A.stateNode.implementation!==M.implementation?(A=od(M,L.mode,ee),A.return=L,A):(A=v(A,M.children||[]),A.return=L,A)}function Y(L,A,M,ee,ye){return A===null||A.tag!==7?(A=ks(M,L.mode,ee,ye),A.return=L,A):(A=v(A,M),A.return=L,A)}function X(L,A,M){if(typeof A=="string"&&A!==""||typeof A=="number")return A=sd(""+A,L.mode,M),A.return=L,A;if(typeof A=="object"&&A!==null){switch(A.$$typeof){case F:return M=cl(A.type,A.key,A.props,null,L.mode,M),M.ref=ki(L,null,A),M.return=L,M;case V:return A=od(A,L.mode,M),A.return=L,A;case B:var ee=A._init;return X(L,ee(A._payload),M)}if(cs(A)||Z(A))return A=ks(A,L.mode,M,null),A.return=L,A;Fa(L,A)}return null}function G(L,A,M,ee){var ye=A!==null?A.key:null;if(typeof M=="string"&&M!==""||typeof M=="number")return ye!==null?null:R(L,A,""+M,ee);if(typeof M=="object"&&M!==null){switch(M.$$typeof){case F:return M.key===ye?T(L,A,M,ee):null;case V:return M.key===ye?U(L,A,M,ee):null;case B:return ye=M._init,G(L,A,ye(M._payload),ee)}if(cs(M)||Z(M))return ye!==null?null:Y(L,A,M,ee,null);Fa(L,M)}return null}function ae(L,A,M,ee,ye){if(typeof ee=="string"&&ee!==""||typeof ee=="number")return L=L.get(M)||null,R(A,L,""+ee,ye);if(typeof ee=="object"&&ee!==null){switch(ee.$$typeof){case F:return L=L.get(ee.key===null?M:ee.key)||null,T(A,L,ee,ye);case V:return L=L.get(ee.key===null?M:ee.key)||null,U(A,L,ee,ye);case B:var je=ee._init;return ae(L,A,M,je(ee._payload),ye)}if(cs(ee)||Z(ee))return L=L.get(M)||null,Y(A,L,ee,ye,null);Fa(A,ee)}return null}function fe(L,A,M,ee){for(var ye=null,je=null,ke=A,Te=A=0,xt=null;ke!==null&&Te<M.length;Te++){ke.index>Te?(xt=ke,ke=null):xt=ke.sibling;var Be=G(L,ke,M[Te],ee);if(Be===null){ke===null&&(ke=xt);break}r&&ke&&Be.alternate===null&&s(L,ke),A=w(Be,A,Te),je===null?ye=Be:je.sibling=Be,je=Be,ke=xt}if(Te===M.length)return c(L,ke),Qe&&vs(L,Te),ye;if(ke===null){for(;Te<M.length;Te++)ke=X(L,M[Te],ee),ke!==null&&(A=w(ke,A,Te),je===null?ye=ke:je.sibling=ke,je=ke);return Qe&&vs(L,Te),ye}for(ke=f(L,ke);Te<M.length;Te++)xt=ae(ke,L,Te,M[Te],ee),xt!==null&&(r&&xt.alternate!==null&&ke.delete(xt.key===null?Te:xt.key),A=w(xt,A,Te),je===null?ye=xt:je.sibling=xt,je=xt);return r&&ke.forEach(function(qn){return s(L,qn)}),Qe&&vs(L,Te),ye}function ve(L,A,M,ee){var ye=Z(M);if(typeof ye!="function")throw Error(n(150));if(M=ye.call(M),M==null)throw Error(n(151));for(var je=ye=null,ke=A,Te=A=0,xt=null,Be=M.next();ke!==null&&!Be.done;Te++,Be=M.next()){ke.index>Te?(xt=ke,ke=null):xt=ke.sibling;var qn=G(L,ke,Be.value,ee);if(qn===null){ke===null&&(ke=xt);break}r&&ke&&qn.alternate===null&&s(L,ke),A=w(qn,A,Te),je===null?ye=qn:je.sibling=qn,je=qn,ke=xt}if(Be.done)return c(L,ke),Qe&&vs(L,Te),ye;if(ke===null){for(;!Be.done;Te++,Be=M.next())Be=X(L,Be.value,ee),Be!==null&&(A=w(Be,A,Te),je===null?ye=Be:je.sibling=Be,je=Be);return Qe&&vs(L,Te),ye}for(ke=f(L,ke);!Be.done;Te++,Be=M.next())Be=ae(ke,L,Te,Be.value,ee),Be!==null&&(r&&Be.alternate!==null&&ke.delete(Be.key===null?Te:Be.key),A=w(Be,A,Te),je===null?ye=Be:je.sibling=Be,je=Be);return r&&ke.forEach(function(f_){return s(L,f_)}),Qe&&vs(L,Te),ye}function ot(L,A,M,ee){if(typeof M=="object"&&M!==null&&M.type===I&&M.key===null&&(M=M.props.children),typeof M=="object"&&M!==null){switch(M.$$typeof){case F:e:{for(var ye=M.key,je=A;je!==null;){if(je.key===ye){if(ye=M.type,ye===I){if(je.tag===7){c(L,je.sibling),A=v(je,M.props.children),A.return=L,L=A;break e}}else if(je.elementType===ye||typeof ye=="object"&&ye!==null&&ye.$$typeof===B&&vp(ye)===je.type){c(L,je.sibling),A=v(je,M.props),A.ref=ki(L,je,M),A.return=L,L=A;break e}c(L,je);break}else s(L,je);je=je.sibling}M.type===I?(A=ks(M.props.children,L.mode,ee,M.key),A.return=L,L=A):(ee=cl(M.type,M.key,M.props,null,L.mode,ee),ee.ref=ki(L,A,M),ee.return=L,L=ee)}return k(L);case V:e:{for(je=M.key;A!==null;){if(A.key===je)if(A.tag===4&&A.stateNode.containerInfo===M.containerInfo&&A.stateNode.implementation===M.implementation){c(L,A.sibling),A=v(A,M.children||[]),A.return=L,L=A;break e}else{c(L,A);break}else s(L,A);A=A.sibling}A=od(M,L.mode,ee),A.return=L,L=A}return k(L);case B:return je=M._init,ot(L,A,je(M._payload),ee)}if(cs(M))return fe(L,A,M,ee);if(Z(M))return ve(L,A,M,ee);Fa(L,M)}return typeof M=="string"&&M!==""||typeof M=="number"?(M=""+M,A!==null&&A.tag===6?(c(L,A.sibling),A=v(A,M),A.return=L,L=A):(c(L,A),A=sd(M,L.mode,ee),A.return=L,L=A),k(L)):c(L,A)}return ot}var so=yp(!0),wp=yp(!1),Ua=Dn(null),za=null,oo=null,pu=null;function mu(){pu=oo=za=null}function gu(r){var s=Ua.current;Je(Ua),r._currentValue=s}function vu(r,s,c){for(;r!==null;){var f=r.alternate;if((r.childLanes&s)!==s?(r.childLanes|=s,f!==null&&(f.childLanes|=s)):f!==null&&(f.childLanes&s)!==s&&(f.childLanes|=s),r===c)break;r=r.return}}function io(r,s){za=r,pu=oo=null,r=r.dependencies,r!==null&&r.firstContext!==null&&((r.lanes&s)!==0&&(Wt=!0),r.firstContext=null)}function gr(r){var s=r._currentValue;if(pu!==r)if(r={context:r,memoizedValue:s,next:null},oo===null){if(za===null)throw Error(n(308));oo=r,za.dependencies={lanes:0,firstContext:r}}else oo=oo.next=r;return s}var ys=null;function yu(r){ys===null?ys=[r]:ys.push(r)}function xp(r,s,c,f){var v=s.interleaved;return v===null?(c.next=c,yu(s)):(c.next=v.next,v.next=c),s.interleaved=c,cn(r,f)}function cn(r,s){r.lanes|=s;var c=r.alternate;for(c!==null&&(c.lanes|=s),c=r,r=r.return;r!==null;)r.childLanes|=s,c=r.alternate,c!==null&&(c.childLanes|=s),c=r,r=r.return;return c.tag===3?c.stateNode:null}var Mn=!1;function wu(r){r.updateQueue={baseState:r.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function bp(r,s){r=r.updateQueue,s.updateQueue===r&&(s.updateQueue={baseState:r.baseState,firstBaseUpdate:r.firstBaseUpdate,lastBaseUpdate:r.lastBaseUpdate,shared:r.shared,effects:r.effects})}function un(r,s){return{eventTime:r,lane:s,tag:0,payload:null,callback:null,next:null}}function Fn(r,s,c){var f=r.updateQueue;if(f===null)return null;if(f=f.shared,(Ue&2)!==0){var v=f.pending;return v===null?s.next=s:(s.next=v.next,v.next=s),f.pending=s,cn(r,c)}return v=f.interleaved,v===null?(s.next=s,yu(f)):(s.next=v.next,v.next=s),f.interleaved=s,cn(r,c)}function Ba(r,s,c){if(s=s.updateQueue,s!==null&&(s=s.shared,(c&4194240)!==0)){var f=s.lanes;f&=r.pendingLanes,c|=f,s.lanes=c,Oc(r,c)}}function _p(r,s){var c=r.updateQueue,f=r.alternate;if(f!==null&&(f=f.updateQueue,c===f)){var v=null,w=null;if(c=c.firstBaseUpdate,c!==null){do{var k={eventTime:c.eventTime,lane:c.lane,tag:c.tag,payload:c.payload,callback:c.callback,next:null};w===null?v=w=k:w=w.next=k,c=c.next}while(c!==null);w===null?v=w=s:w=w.next=s}else v=w=s;c={baseState:f.baseState,firstBaseUpdate:v,lastBaseUpdate:w,shared:f.shared,effects:f.effects},r.updateQueue=c;return}r=c.lastBaseUpdate,r===null?c.firstBaseUpdate=s:r.next=s,c.lastBaseUpdate=s}function Va(r,s,c,f){var v=r.updateQueue;Mn=!1;var w=v.firstBaseUpdate,k=v.lastBaseUpdate,R=v.shared.pending;if(R!==null){v.shared.pending=null;var T=R,U=T.next;T.next=null,k===null?w=U:k.next=U,k=T;var Y=r.alternate;Y!==null&&(Y=Y.updateQueue,R=Y.lastBaseUpdate,R!==k&&(R===null?Y.firstBaseUpdate=U:R.next=U,Y.lastBaseUpdate=T))}if(w!==null){var X=v.baseState;k=0,Y=U=T=null,R=w;do{var G=R.lane,ae=R.eventTime;if((f&G)===G){Y!==null&&(Y=Y.next={eventTime:ae,lane:0,tag:R.tag,payload:R.payload,callback:R.callback,next:null});e:{var fe=r,ve=R;switch(G=s,ae=c,ve.tag){case 1:if(fe=ve.payload,typeof fe=="function"){X=fe.call(ae,X,G);break e}X=fe;break e;case 3:fe.flags=fe.flags&-65537|128;case 0:if(fe=ve.payload,G=typeof fe=="function"?fe.call(ae,X,G):fe,G==null)break e;X=K({},X,G);break e;case 2:Mn=!0}}R.callback!==null&&R.lane!==0&&(r.flags|=64,G=v.effects,G===null?v.effects=[R]:G.push(R))}else ae={eventTime:ae,lane:G,tag:R.tag,payload:R.payload,callback:R.callback,next:null},Y===null?(U=Y=ae,T=X):Y=Y.next=ae,k|=G;if(R=R.next,R===null){if(R=v.shared.pending,R===null)break;G=R,R=G.next,G.next=null,v.lastBaseUpdate=G,v.shared.pending=null}}while(!0);if(Y===null&&(T=X),v.baseState=T,v.firstBaseUpdate=U,v.lastBaseUpdate=Y,s=v.shared.interleaved,s!==null){v=s;do k|=v.lane,v=v.next;while(v!==s)}else w===null&&(v.shared.lanes=0);bs|=k,r.lanes=k,r.memoizedState=X}}function Sp(r,s,c){if(r=s.effects,s.effects=null,r!==null)for(s=0;s<r.length;s++){var f=r[s],v=f.callback;if(v!==null){if(f.callback=null,f=c,typeof v!="function")throw Error(n(191,v));v.call(f)}}}var Ei={},zr=Dn(Ei),Ni=Dn(Ei),Ci=Dn(Ei);function ws(r){if(r===Ei)throw Error(n(174));return r}function xu(r,s){switch(Ke(Ci,s),Ke(Ni,r),Ke(zr,Ei),r=s.nodeType,r){case 9:case 11:s=(s=s.documentElement)?s.namespaceURI:ti(null,"");break;default:r=r===8?s.parentNode:s,s=r.namespaceURI||null,r=r.tagName,s=ti(s,r)}Je(zr),Ke(zr,s)}function ao(){Je(zr),Je(Ni),Je(Ci)}function jp(r){ws(Ci.current);var s=ws(zr.current),c=ti(s,r.type);s!==c&&(Ke(Ni,r),Ke(zr,c))}function bu(r){Ni.current===r&&(Je(zr),Je(Ni))}var Xe=Dn(0);function Wa(r){for(var s=r;s!==null;){if(s.tag===13){var c=s.memoizedState;if(c!==null&&(c=c.dehydrated,c===null||c.data==="$?"||c.data==="$!"))return s}else if(s.tag===19&&s.memoizedProps.revealOrder!==void 0){if((s.flags&128)!==0)return s}else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===r)break;for(;s.sibling===null;){if(s.return===null||s.return===r)return null;s=s.return}s.sibling.return=s.return,s=s.sibling}return null}var _u=[];function Su(){for(var r=0;r<_u.length;r++)_u[r]._workInProgressVersionPrimary=null;_u.length=0}var Ha=P.ReactCurrentDispatcher,ju=P.ReactCurrentBatchConfig,xs=0,Ze=null,ht=null,yt=null,qa=!1,Ri=!1,Ti=0,Ib=0;function Rt(){throw Error(n(321))}function ku(r,s){if(s===null)return!1;for(var c=0;c<s.length&&c<r.length;c++)if(!kr(r[c],s[c]))return!1;return!0}function Eu(r,s,c,f,v,w){if(xs=w,Ze=s,s.memoizedState=null,s.updateQueue=null,s.lanes=0,Ha.current=r===null||r.memoizedState===null?Mb:Fb,r=c(f,v),Ri){w=0;do{if(Ri=!1,Ti=0,25<=w)throw Error(n(301));w+=1,yt=ht=null,s.updateQueue=null,Ha.current=Ub,r=c(f,v)}while(Ri)}if(Ha.current=Ya,s=ht!==null&&ht.next!==null,xs=0,yt=ht=Ze=null,qa=!1,s)throw Error(n(300));return r}function Nu(){var r=Ti!==0;return Ti=0,r}function Br(){var r={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return yt===null?Ze.memoizedState=yt=r:yt=yt.next=r,yt}function vr(){if(ht===null){var r=Ze.alternate;r=r!==null?r.memoizedState:null}else r=ht.next;var s=yt===null?Ze.memoizedState:yt.next;if(s!==null)yt=s,ht=r;else{if(r===null)throw Error(n(310));ht=r,r={memoizedState:ht.memoizedState,baseState:ht.baseState,baseQueue:ht.baseQueue,queue:ht.queue,next:null},yt===null?Ze.memoizedState=yt=r:yt=yt.next=r}return yt}function Pi(r,s){return typeof s=="function"?s(r):s}function Cu(r){var s=vr(),c=s.queue;if(c===null)throw Error(n(311));c.lastRenderedReducer=r;var f=ht,v=f.baseQueue,w=c.pending;if(w!==null){if(v!==null){var k=v.next;v.next=w.next,w.next=k}f.baseQueue=v=w,c.pending=null}if(v!==null){w=v.next,f=f.baseState;var R=k=null,T=null,U=w;do{var Y=U.lane;if((xs&Y)===Y)T!==null&&(T=T.next={lane:0,action:U.action,hasEagerState:U.hasEagerState,eagerState:U.eagerState,next:null}),f=U.hasEagerState?U.eagerState:r(f,U.action);else{var X={lane:Y,action:U.action,hasEagerState:U.hasEagerState,eagerState:U.eagerState,next:null};T===null?(R=T=X,k=f):T=T.next=X,Ze.lanes|=Y,bs|=Y}U=U.next}while(U!==null&&U!==w);T===null?k=f:T.next=R,kr(f,s.memoizedState)||(Wt=!0),s.memoizedState=f,s.baseState=k,s.baseQueue=T,c.lastRenderedState=f}if(r=c.interleaved,r!==null){v=r;do w=v.lane,Ze.lanes|=w,bs|=w,v=v.next;while(v!==r)}else v===null&&(c.lanes=0);return[s.memoizedState,c.dispatch]}function Ru(r){var s=vr(),c=s.queue;if(c===null)throw Error(n(311));c.lastRenderedReducer=r;var f=c.dispatch,v=c.pending,w=s.memoizedState;if(v!==null){c.pending=null;var k=v=v.next;do w=r(w,k.action),k=k.next;while(k!==v);kr(w,s.memoizedState)||(Wt=!0),s.memoizedState=w,s.baseQueue===null&&(s.baseState=w),c.lastRenderedState=w}return[w,f]}function kp(){}function Ep(r,s){var c=Ze,f=vr(),v=s(),w=!kr(f.memoizedState,v);if(w&&(f.memoizedState=v,Wt=!0),f=f.queue,Tu(Rp.bind(null,c,f,r),[r]),f.getSnapshot!==s||w||yt!==null&&yt.memoizedState.tag&1){if(c.flags|=2048,Ai(9,Cp.bind(null,c,f,v,s),void 0,null),wt===null)throw Error(n(349));(xs&30)!==0||Np(c,s,v)}return v}function Np(r,s,c){r.flags|=16384,r={getSnapshot:s,value:c},s=Ze.updateQueue,s===null?(s={lastEffect:null,stores:null},Ze.updateQueue=s,s.stores=[r]):(c=s.stores,c===null?s.stores=[r]:c.push(r))}function Cp(r,s,c,f){s.value=c,s.getSnapshot=f,Tp(s)&&Pp(r)}function Rp(r,s,c){return c(function(){Tp(s)&&Pp(r)})}function Tp(r){var s=r.getSnapshot;r=r.value;try{var c=s();return!kr(r,c)}catch{return!0}}function Pp(r){var s=cn(r,1);s!==null&&Tr(s,r,1,-1)}function Ap(r){var s=Br();return typeof r=="function"&&(r=r()),s.memoizedState=s.baseState=r,r={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Pi,lastRenderedState:r},s.queue=r,r=r.dispatch=$b.bind(null,Ze,r),[s.memoizedState,r]}function Ai(r,s,c,f){return r={tag:r,create:s,destroy:c,deps:f,next:null},s=Ze.updateQueue,s===null?(s={lastEffect:null,stores:null},Ze.updateQueue=s,s.lastEffect=r.next=r):(c=s.lastEffect,c===null?s.lastEffect=r.next=r:(f=c.next,c.next=r,r.next=f,s.lastEffect=r)),r}function Op(){return vr().memoizedState}function Ka(r,s,c,f){var v=Br();Ze.flags|=r,v.memoizedState=Ai(1|s,c,void 0,f===void 0?null:f)}function Ga(r,s,c,f){var v=vr();f=f===void 0?null:f;var w=void 0;if(ht!==null){var k=ht.memoizedState;if(w=k.destroy,f!==null&&ku(f,k.deps)){v.memoizedState=Ai(s,c,w,f);return}}Ze.flags|=r,v.memoizedState=Ai(1|s,c,w,f)}function Ip(r,s){return Ka(8390656,8,r,s)}function Tu(r,s){return Ga(2048,8,r,s)}function Dp(r,s){return Ga(4,2,r,s)}function Lp(r,s){return Ga(4,4,r,s)}function $p(r,s){if(typeof s=="function")return r=r(),s(r),function(){s(null)};if(s!=null)return r=r(),s.current=r,function(){s.current=null}}function Mp(r,s,c){return c=c!=null?c.concat([r]):null,Ga(4,4,$p.bind(null,s,r),c)}function Pu(){}function Fp(r,s){var c=vr();s=s===void 0?null:s;var f=c.memoizedState;return f!==null&&s!==null&&ku(s,f[1])?f[0]:(c.memoizedState=[r,s],r)}function Up(r,s){var c=vr();s=s===void 0?null:s;var f=c.memoizedState;return f!==null&&s!==null&&ku(s,f[1])?f[0]:(r=r(),c.memoizedState=[r,s],r)}function zp(r,s,c){return(xs&21)===0?(r.baseState&&(r.baseState=!1,Wt=!0),r.memoizedState=c):(kr(c,s)||(c=vh(),Ze.lanes|=c,bs|=c,r.baseState=!0),s)}function Db(r,s){var c=We;We=c!==0&&4>c?c:4,r(!0);var f=ju.transition;ju.transition={};try{r(!1),s()}finally{We=c,ju.transition=f}}function Bp(){return vr().memoizedState}function Lb(r,s,c){var f=Vn(r);if(c={lane:f,action:c,hasEagerState:!1,eagerState:null,next:null},Vp(r))Wp(s,c);else if(c=xp(r,s,c,f),c!==null){var v=Ft();Tr(c,r,f,v),Hp(c,s,f)}}function $b(r,s,c){var f=Vn(r),v={lane:f,action:c,hasEagerState:!1,eagerState:null,next:null};if(Vp(r))Wp(s,v);else{var w=r.alternate;if(r.lanes===0&&(w===null||w.lanes===0)&&(w=s.lastRenderedReducer,w!==null))try{var k=s.lastRenderedState,R=w(k,c);if(v.hasEagerState=!0,v.eagerState=R,kr(R,k)){var T=s.interleaved;T===null?(v.next=v,yu(s)):(v.next=T.next,T.next=v),s.interleaved=v;return}}catch{}finally{}c=xp(r,s,v,f),c!==null&&(v=Ft(),Tr(c,r,f,v),Hp(c,s,f))}}function Vp(r){var s=r.alternate;return r===Ze||s!==null&&s===Ze}function Wp(r,s){Ri=qa=!0;var c=r.pending;c===null?s.next=s:(s.next=c.next,c.next=s),r.pending=s}function Hp(r,s,c){if((c&4194240)!==0){var f=s.lanes;f&=r.pendingLanes,c|=f,s.lanes=c,Oc(r,c)}}var Ya={readContext:gr,useCallback:Rt,useContext:Rt,useEffect:Rt,useImperativeHandle:Rt,useInsertionEffect:Rt,useLayoutEffect:Rt,useMemo:Rt,useReducer:Rt,useRef:Rt,useState:Rt,useDebugValue:Rt,useDeferredValue:Rt,useTransition:Rt,useMutableSource:Rt,useSyncExternalStore:Rt,useId:Rt,unstable_isNewReconciler:!1},Mb={readContext:gr,useCallback:function(r,s){return Br().memoizedState=[r,s===void 0?null:s],r},useContext:gr,useEffect:Ip,useImperativeHandle:function(r,s,c){return c=c!=null?c.concat([r]):null,Ka(4194308,4,$p.bind(null,s,r),c)},useLayoutEffect:function(r,s){return Ka(4194308,4,r,s)},useInsertionEffect:function(r,s){return Ka(4,2,r,s)},useMemo:function(r,s){var c=Br();return s=s===void 0?null:s,r=r(),c.memoizedState=[r,s],r},useReducer:function(r,s,c){var f=Br();return s=c!==void 0?c(s):s,f.memoizedState=f.baseState=s,r={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:r,lastRenderedState:s},f.queue=r,r=r.dispatch=Lb.bind(null,Ze,r),[f.memoizedState,r]},useRef:function(r){var s=Br();return r={current:r},s.memoizedState=r},useState:Ap,useDebugValue:Pu,useDeferredValue:function(r){return Br().memoizedState=r},useTransition:function(){var r=Ap(!1),s=r[0];return r=Db.bind(null,r[1]),Br().memoizedState=r,[s,r]},useMutableSource:function(){},useSyncExternalStore:function(r,s,c){var f=Ze,v=Br();if(Qe){if(c===void 0)throw Error(n(407));c=c()}else{if(c=s(),wt===null)throw Error(n(349));(xs&30)!==0||Np(f,s,c)}v.memoizedState=c;var w={value:c,getSnapshot:s};return v.queue=w,Ip(Rp.bind(null,f,w,r),[r]),f.flags|=2048,Ai(9,Cp.bind(null,f,w,c,s),void 0,null),c},useId:function(){var r=Br(),s=wt.identifierPrefix;if(Qe){var c=ln,f=an;c=(f&~(1<<32-jr(f)-1)).toString(32)+c,s=":"+s+"R"+c,c=Ti++,0<c&&(s+="H"+c.toString(32)),s+=":"}else c=Ib++,s=":"+s+"r"+c.toString(32)+":";return r.memoizedState=s},unstable_isNewReconciler:!1},Fb={readContext:gr,useCallback:Fp,useContext:gr,useEffect:Tu,useImperativeHandle:Mp,useInsertionEffect:Dp,useLayoutEffect:Lp,useMemo:Up,useReducer:Cu,useRef:Op,useState:function(){return Cu(Pi)},useDebugValue:Pu,useDeferredValue:function(r){var s=vr();return zp(s,ht.memoizedState,r)},useTransition:function(){var r=Cu(Pi)[0],s=vr().memoizedState;return[r,s]},useMutableSource:kp,useSyncExternalStore:Ep,useId:Bp,unstable_isNewReconciler:!1},Ub={readContext:gr,useCallback:Fp,useContext:gr,useEffect:Tu,useImperativeHandle:Mp,useInsertionEffect:Dp,useLayoutEffect:Lp,useMemo:Up,useReducer:Ru,useRef:Op,useState:function(){return Ru(Pi)},useDebugValue:Pu,useDeferredValue:function(r){var s=vr();return ht===null?s.memoizedState=r:zp(s,ht.memoizedState,r)},useTransition:function(){var r=Ru(Pi)[0],s=vr().memoizedState;return[r,s]},useMutableSource:kp,useSyncExternalStore:Ep,useId:Bp,unstable_isNewReconciler:!1};function Nr(r,s){if(r&&r.defaultProps){s=K({},s),r=r.defaultProps;for(var c in r)s[c]===void 0&&(s[c]=r[c]);return s}return s}function Au(r,s,c,f){s=r.memoizedState,c=c(f,s),c=c==null?s:K({},s,c),r.memoizedState=c,r.lanes===0&&(r.updateQueue.baseState=c)}var Ja={isMounted:function(r){return(r=r._reactInternals)?hs(r)===r:!1},enqueueSetState:function(r,s,c){r=r._reactInternals;var f=Ft(),v=Vn(r),w=un(f,v);w.payload=s,c!=null&&(w.callback=c),s=Fn(r,w,v),s!==null&&(Tr(s,r,v,f),Ba(s,r,v))},enqueueReplaceState:function(r,s,c){r=r._reactInternals;var f=Ft(),v=Vn(r),w=un(f,v);w.tag=1,w.payload=s,c!=null&&(w.callback=c),s=Fn(r,w,v),s!==null&&(Tr(s,r,v,f),Ba(s,r,v))},enqueueForceUpdate:function(r,s){r=r._reactInternals;var c=Ft(),f=Vn(r),v=un(c,f);v.tag=2,s!=null&&(v.callback=s),s=Fn(r,v,f),s!==null&&(Tr(s,r,f,c),Ba(s,r,f))}};function qp(r,s,c,f,v,w,k){return r=r.stateNode,typeof r.shouldComponentUpdate=="function"?r.shouldComponentUpdate(f,w,k):s.prototype&&s.prototype.isPureReactComponent?!yi(c,f)||!yi(v,w):!0}function Kp(r,s,c){var f=!1,v=Ln,w=s.contextType;return typeof w=="object"&&w!==null?w=gr(w):(v=Vt(s)?ms:Ct.current,f=s.contextTypes,w=(f=f!=null)?eo(r,v):Ln),s=new s(c,w),r.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,s.updater=Ja,r.stateNode=s,s._reactInternals=r,f&&(r=r.stateNode,r.__reactInternalMemoizedUnmaskedChildContext=v,r.__reactInternalMemoizedMaskedChildContext=w),s}function Gp(r,s,c,f){r=s.state,typeof s.componentWillReceiveProps=="function"&&s.componentWillReceiveProps(c,f),typeof s.UNSAFE_componentWillReceiveProps=="function"&&s.UNSAFE_componentWillReceiveProps(c,f),s.state!==r&&Ja.enqueueReplaceState(s,s.state,null)}function Ou(r,s,c,f){var v=r.stateNode;v.props=c,v.state=r.memoizedState,v.refs={},wu(r);var w=s.contextType;typeof w=="object"&&w!==null?v.context=gr(w):(w=Vt(s)?ms:Ct.current,v.context=eo(r,w)),v.state=r.memoizedState,w=s.getDerivedStateFromProps,typeof w=="function"&&(Au(r,s,w,c),v.state=r.memoizedState),typeof s.getDerivedStateFromProps=="function"||typeof v.getSnapshotBeforeUpdate=="function"||typeof v.UNSAFE_componentWillMount!="function"&&typeof v.componentWillMount!="function"||(s=v.state,typeof v.componentWillMount=="function"&&v.componentWillMount(),typeof v.UNSAFE_componentWillMount=="function"&&v.UNSAFE_componentWillMount(),s!==v.state&&Ja.enqueueReplaceState(v,v.state,null),Va(r,c,v,f),v.state=r.memoizedState),typeof v.componentDidMount=="function"&&(r.flags|=4194308)}function lo(r,s){try{var c="",f=s;do c+=oe(f),f=f.return;while(f);var v=c}catch(w){v=`
Error generating stack: `+w.message+`
`+w.stack}return{value:r,source:s,stack:v,digest:null}}function Iu(r,s,c){return{value:r,source:null,stack:c??null,digest:s??null}}function Du(r,s){try{console.error(s.value)}catch(c){setTimeout(function(){throw c})}}var zb=typeof WeakMap=="function"?WeakMap:Map;function Yp(r,s,c){c=un(-1,c),c.tag=3,c.payload={element:null};var f=s.value;return c.callback=function(){nl||(nl=!0,Ju=f),Du(r,s)},c}function Jp(r,s,c){c=un(-1,c),c.tag=3;var f=r.type.getDerivedStateFromError;if(typeof f=="function"){var v=s.value;c.payload=function(){return f(v)},c.callback=function(){Du(r,s)}}var w=r.stateNode;return w!==null&&typeof w.componentDidCatch=="function"&&(c.callback=function(){Du(r,s),typeof f!="function"&&(zn===null?zn=new Set([this]):zn.add(this));var k=s.stack;this.componentDidCatch(s.value,{componentStack:k!==null?k:""})}),c}function Qp(r,s,c){var f=r.pingCache;if(f===null){f=r.pingCache=new zb;var v=new Set;f.set(s,v)}else v=f.get(s),v===void 0&&(v=new Set,f.set(s,v));v.has(c)||(v.add(c),r=t_.bind(null,r,s,c),s.then(r,r))}function Xp(r){do{var s;if((s=r.tag===13)&&(s=r.memoizedState,s=s!==null?s.dehydrated!==null:!0),s)return r;r=r.return}while(r!==null);return null}function Zp(r,s,c,f,v){return(r.mode&1)===0?(r===s?r.flags|=65536:(r.flags|=128,c.flags|=131072,c.flags&=-52805,c.tag===1&&(c.alternate===null?c.tag=17:(s=un(-1,1),s.tag=2,Fn(c,s,1))),c.lanes|=1),r):(r.flags|=65536,r.lanes=v,r)}var Bb=P.ReactCurrentOwner,Wt=!1;function Mt(r,s,c,f){s.child=r===null?wp(s,null,c,f):so(s,r.child,c,f)}function em(r,s,c,f,v){c=c.render;var w=s.ref;return io(s,v),f=Eu(r,s,c,f,w,v),c=Nu(),r!==null&&!Wt?(s.updateQueue=r.updateQueue,s.flags&=-2053,r.lanes&=~v,dn(r,s,v)):(Qe&&c&&cu(s),s.flags|=1,Mt(r,s,f,v),s.child)}function tm(r,s,c,f,v){if(r===null){var w=c.type;return typeof w=="function"&&!nd(w)&&w.defaultProps===void 0&&c.compare===null&&c.defaultProps===void 0?(s.tag=15,s.type=w,rm(r,s,w,f,v)):(r=cl(c.type,null,f,s,s.mode,v),r.ref=s.ref,r.return=s,s.child=r)}if(w=r.child,(r.lanes&v)===0){var k=w.memoizedProps;if(c=c.compare,c=c!==null?c:yi,c(k,f)&&r.ref===s.ref)return dn(r,s,v)}return s.flags|=1,r=Hn(w,f),r.ref=s.ref,r.return=s,s.child=r}function rm(r,s,c,f,v){if(r!==null){var w=r.memoizedProps;if(yi(w,f)&&r.ref===s.ref)if(Wt=!1,s.pendingProps=f=w,(r.lanes&v)!==0)(r.flags&131072)!==0&&(Wt=!0);else return s.lanes=r.lanes,dn(r,s,v)}return Lu(r,s,c,f,v)}function nm(r,s,c){var f=s.pendingProps,v=f.children,w=r!==null?r.memoizedState:null;if(f.mode==="hidden")if((s.mode&1)===0)s.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ke(uo,nr),nr|=c;else{if((c&1073741824)===0)return r=w!==null?w.baseLanes|c:c,s.lanes=s.childLanes=1073741824,s.memoizedState={baseLanes:r,cachePool:null,transitions:null},s.updateQueue=null,Ke(uo,nr),nr|=r,null;s.memoizedState={baseLanes:0,cachePool:null,transitions:null},f=w!==null?w.baseLanes:c,Ke(uo,nr),nr|=f}else w!==null?(f=w.baseLanes|c,s.memoizedState=null):f=c,Ke(uo,nr),nr|=f;return Mt(r,s,v,c),s.child}function sm(r,s){var c=s.ref;(r===null&&c!==null||r!==null&&r.ref!==c)&&(s.flags|=512,s.flags|=2097152)}function Lu(r,s,c,f,v){var w=Vt(c)?ms:Ct.current;return w=eo(s,w),io(s,v),c=Eu(r,s,c,f,w,v),f=Nu(),r!==null&&!Wt?(s.updateQueue=r.updateQueue,s.flags&=-2053,r.lanes&=~v,dn(r,s,v)):(Qe&&f&&cu(s),s.flags|=1,Mt(r,s,c,v),s.child)}function om(r,s,c,f,v){if(Vt(c)){var w=!0;Ia(s)}else w=!1;if(io(s,v),s.stateNode===null)Xa(r,s),Kp(s,c,f),Ou(s,c,f,v),f=!0;else if(r===null){var k=s.stateNode,R=s.memoizedProps;k.props=R;var T=k.context,U=c.contextType;typeof U=="object"&&U!==null?U=gr(U):(U=Vt(c)?ms:Ct.current,U=eo(s,U));var Y=c.getDerivedStateFromProps,X=typeof Y=="function"||typeof k.getSnapshotBeforeUpdate=="function";X||typeof k.UNSAFE_componentWillReceiveProps!="function"&&typeof k.componentWillReceiveProps!="function"||(R!==f||T!==U)&&Gp(s,k,f,U),Mn=!1;var G=s.memoizedState;k.state=G,Va(s,f,k,v),T=s.memoizedState,R!==f||G!==T||Bt.current||Mn?(typeof Y=="function"&&(Au(s,c,Y,f),T=s.memoizedState),(R=Mn||qp(s,c,R,f,G,T,U))?(X||typeof k.UNSAFE_componentWillMount!="function"&&typeof k.componentWillMount!="function"||(typeof k.componentWillMount=="function"&&k.componentWillMount(),typeof k.UNSAFE_componentWillMount=="function"&&k.UNSAFE_componentWillMount()),typeof k.componentDidMount=="function"&&(s.flags|=4194308)):(typeof k.componentDidMount=="function"&&(s.flags|=4194308),s.memoizedProps=f,s.memoizedState=T),k.props=f,k.state=T,k.context=U,f=R):(typeof k.componentDidMount=="function"&&(s.flags|=4194308),f=!1)}else{k=s.stateNode,bp(r,s),R=s.memoizedProps,U=s.type===s.elementType?R:Nr(s.type,R),k.props=U,X=s.pendingProps,G=k.context,T=c.contextType,typeof T=="object"&&T!==null?T=gr(T):(T=Vt(c)?ms:Ct.current,T=eo(s,T));var ae=c.getDerivedStateFromProps;(Y=typeof ae=="function"||typeof k.getSnapshotBeforeUpdate=="function")||typeof k.UNSAFE_componentWillReceiveProps!="function"&&typeof k.componentWillReceiveProps!="function"||(R!==X||G!==T)&&Gp(s,k,f,T),Mn=!1,G=s.memoizedState,k.state=G,Va(s,f,k,v);var fe=s.memoizedState;R!==X||G!==fe||Bt.current||Mn?(typeof ae=="function"&&(Au(s,c,ae,f),fe=s.memoizedState),(U=Mn||qp(s,c,U,f,G,fe,T)||!1)?(Y||typeof k.UNSAFE_componentWillUpdate!="function"&&typeof k.componentWillUpdate!="function"||(typeof k.componentWillUpdate=="function"&&k.componentWillUpdate(f,fe,T),typeof k.UNSAFE_componentWillUpdate=="function"&&k.UNSAFE_componentWillUpdate(f,fe,T)),typeof k.componentDidUpdate=="function"&&(s.flags|=4),typeof k.getSnapshotBeforeUpdate=="function"&&(s.flags|=1024)):(typeof k.componentDidUpdate!="function"||R===r.memoizedProps&&G===r.memoizedState||(s.flags|=4),typeof k.getSnapshotBeforeUpdate!="function"||R===r.memoizedProps&&G===r.memoizedState||(s.flags|=1024),s.memoizedProps=f,s.memoizedState=fe),k.props=f,k.state=fe,k.context=T,f=U):(typeof k.componentDidUpdate!="function"||R===r.memoizedProps&&G===r.memoizedState||(s.flags|=4),typeof k.getSnapshotBeforeUpdate!="function"||R===r.memoizedProps&&G===r.memoizedState||(s.flags|=1024),f=!1)}return $u(r,s,c,f,w,v)}function $u(r,s,c,f,v,w){sm(r,s);var k=(s.flags&128)!==0;if(!f&&!k)return v&&up(s,c,!1),dn(r,s,w);f=s.stateNode,Bb.current=s;var R=k&&typeof c.getDerivedStateFromError!="function"?null:f.render();return s.flags|=1,r!==null&&k?(s.child=so(s,r.child,null,w),s.child=so(s,null,R,w)):Mt(r,s,R,w),s.memoizedState=f.state,v&&up(s,c,!0),s.child}function im(r){var s=r.stateNode;s.pendingContext?lp(r,s.pendingContext,s.pendingContext!==s.context):s.context&&lp(r,s.context,!1),xu(r,s.containerInfo)}function am(r,s,c,f,v){return no(),hu(v),s.flags|=256,Mt(r,s,c,f),s.child}var Mu={dehydrated:null,treeContext:null,retryLane:0};function Fu(r){return{baseLanes:r,cachePool:null,transitions:null}}function lm(r,s,c){var f=s.pendingProps,v=Xe.current,w=!1,k=(s.flags&128)!==0,R;if((R=k)||(R=r!==null&&r.memoizedState===null?!1:(v&2)!==0),R?(w=!0,s.flags&=-129):(r===null||r.memoizedState!==null)&&(v|=1),Ke(Xe,v&1),r===null)return fu(s),r=s.memoizedState,r!==null&&(r=r.dehydrated,r!==null)?((s.mode&1)===0?s.lanes=1:r.data==="$!"?s.lanes=8:s.lanes=1073741824,null):(k=f.children,r=f.fallback,w?(f=s.mode,w=s.child,k={mode:"hidden",children:k},(f&1)===0&&w!==null?(w.childLanes=0,w.pendingProps=k):w=ul(k,f,0,null),r=ks(r,f,c,null),w.return=s,r.return=s,w.sibling=r,s.child=w,s.child.memoizedState=Fu(c),s.memoizedState=Mu,r):Uu(s,k));if(v=r.memoizedState,v!==null&&(R=v.dehydrated,R!==null))return Vb(r,s,k,f,R,v,c);if(w){w=f.fallback,k=s.mode,v=r.child,R=v.sibling;var T={mode:"hidden",children:f.children};return(k&1)===0&&s.child!==v?(f=s.child,f.childLanes=0,f.pendingProps=T,s.deletions=null):(f=Hn(v,T),f.subtreeFlags=v.subtreeFlags&14680064),R!==null?w=Hn(R,w):(w=ks(w,k,c,null),w.flags|=2),w.return=s,f.return=s,f.sibling=w,s.child=f,f=w,w=s.child,k=r.child.memoizedState,k=k===null?Fu(c):{baseLanes:k.baseLanes|c,cachePool:null,transitions:k.transitions},w.memoizedState=k,w.childLanes=r.childLanes&~c,s.memoizedState=Mu,f}return w=r.child,r=w.sibling,f=Hn(w,{mode:"visible",children:f.children}),(s.mode&1)===0&&(f.lanes=c),f.return=s,f.sibling=null,r!==null&&(c=s.deletions,c===null?(s.deletions=[r],s.flags|=16):c.push(r)),s.child=f,s.memoizedState=null,f}function Uu(r,s){return s=ul({mode:"visible",children:s},r.mode,0,null),s.return=r,r.child=s}function Qa(r,s,c,f){return f!==null&&hu(f),so(s,r.child,null,c),r=Uu(s,s.pendingProps.children),r.flags|=2,s.memoizedState=null,r}function Vb(r,s,c,f,v,w,k){if(c)return s.flags&256?(s.flags&=-257,f=Iu(Error(n(422))),Qa(r,s,k,f)):s.memoizedState!==null?(s.child=r.child,s.flags|=128,null):(w=f.fallback,v=s.mode,f=ul({mode:"visible",children:f.children},v,0,null),w=ks(w,v,k,null),w.flags|=2,f.return=s,w.return=s,f.sibling=w,s.child=f,(s.mode&1)!==0&&so(s,r.child,null,k),s.child.memoizedState=Fu(k),s.memoizedState=Mu,w);if((s.mode&1)===0)return Qa(r,s,k,null);if(v.data==="$!"){if(f=v.nextSibling&&v.nextSibling.dataset,f)var R=f.dgst;return f=R,w=Error(n(419)),f=Iu(w,f,void 0),Qa(r,s,k,f)}if(R=(k&r.childLanes)!==0,Wt||R){if(f=wt,f!==null){switch(k&-k){case 4:v=2;break;case 16:v=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:v=32;break;case 536870912:v=268435456;break;default:v=0}v=(v&(f.suspendedLanes|k))!==0?0:v,v!==0&&v!==w.retryLane&&(w.retryLane=v,cn(r,v),Tr(f,r,v,-1))}return rd(),f=Iu(Error(n(421))),Qa(r,s,k,f)}return v.data==="$?"?(s.flags|=128,s.child=r.child,s=r_.bind(null,r),v._reactRetry=s,null):(r=w.treeContext,rr=In(v.nextSibling),tr=s,Qe=!0,Er=null,r!==null&&(pr[mr++]=an,pr[mr++]=ln,pr[mr++]=gs,an=r.id,ln=r.overflow,gs=s),s=Uu(s,f.children),s.flags|=4096,s)}function cm(r,s,c){r.lanes|=s;var f=r.alternate;f!==null&&(f.lanes|=s),vu(r.return,s,c)}function zu(r,s,c,f,v){var w=r.memoizedState;w===null?r.memoizedState={isBackwards:s,rendering:null,renderingStartTime:0,last:f,tail:c,tailMode:v}:(w.isBackwards=s,w.rendering=null,w.renderingStartTime=0,w.last=f,w.tail=c,w.tailMode=v)}function um(r,s,c){var f=s.pendingProps,v=f.revealOrder,w=f.tail;if(Mt(r,s,f.children,c),f=Xe.current,(f&2)!==0)f=f&1|2,s.flags|=128;else{if(r!==null&&(r.flags&128)!==0)e:for(r=s.child;r!==null;){if(r.tag===13)r.memoizedState!==null&&cm(r,c,s);else if(r.tag===19)cm(r,c,s);else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===s)break e;for(;r.sibling===null;){if(r.return===null||r.return===s)break e;r=r.return}r.sibling.return=r.return,r=r.sibling}f&=1}if(Ke(Xe,f),(s.mode&1)===0)s.memoizedState=null;else switch(v){case"forwards":for(c=s.child,v=null;c!==null;)r=c.alternate,r!==null&&Wa(r)===null&&(v=c),c=c.sibling;c=v,c===null?(v=s.child,s.child=null):(v=c.sibling,c.sibling=null),zu(s,!1,v,c,w);break;case"backwards":for(c=null,v=s.child,s.child=null;v!==null;){if(r=v.alternate,r!==null&&Wa(r)===null){s.child=v;break}r=v.sibling,v.sibling=c,c=v,v=r}zu(s,!0,c,null,w);break;case"together":zu(s,!1,null,null,void 0);break;default:s.memoizedState=null}return s.child}function Xa(r,s){(s.mode&1)===0&&r!==null&&(r.alternate=null,s.alternate=null,s.flags|=2)}function dn(r,s,c){if(r!==null&&(s.dependencies=r.dependencies),bs|=s.lanes,(c&s.childLanes)===0)return null;if(r!==null&&s.child!==r.child)throw Error(n(153));if(s.child!==null){for(r=s.child,c=Hn(r,r.pendingProps),s.child=c,c.return=s;r.sibling!==null;)r=r.sibling,c=c.sibling=Hn(r,r.pendingProps),c.return=s;c.sibling=null}return s.child}function Wb(r,s,c){switch(s.tag){case 3:im(s),no();break;case 5:jp(s);break;case 1:Vt(s.type)&&Ia(s);break;case 4:xu(s,s.stateNode.containerInfo);break;case 10:var f=s.type._context,v=s.memoizedProps.value;Ke(Ua,f._currentValue),f._currentValue=v;break;case 13:if(f=s.memoizedState,f!==null)return f.dehydrated!==null?(Ke(Xe,Xe.current&1),s.flags|=128,null):(c&s.child.childLanes)!==0?lm(r,s,c):(Ke(Xe,Xe.current&1),r=dn(r,s,c),r!==null?r.sibling:null);Ke(Xe,Xe.current&1);break;case 19:if(f=(c&s.childLanes)!==0,(r.flags&128)!==0){if(f)return um(r,s,c);s.flags|=128}if(v=s.memoizedState,v!==null&&(v.rendering=null,v.tail=null,v.lastEffect=null),Ke(Xe,Xe.current),f)break;return null;case 22:case 23:return s.lanes=0,nm(r,s,c)}return dn(r,s,c)}var dm,Bu,fm,hm;dm=function(r,s){for(var c=s.child;c!==null;){if(c.tag===5||c.tag===6)r.appendChild(c.stateNode);else if(c.tag!==4&&c.child!==null){c.child.return=c,c=c.child;continue}if(c===s)break;for(;c.sibling===null;){if(c.return===null||c.return===s)return;c=c.return}c.sibling.return=c.return,c=c.sibling}},Bu=function(){},fm=function(r,s,c,f){var v=r.memoizedProps;if(v!==f){r=s.stateNode,ws(zr.current);var w=null;switch(c){case"input":v=$t(r,v),f=$t(r,f),w=[];break;case"select":v=K({},v,{value:void 0}),f=K({},f,{value:void 0}),w=[];break;case"textarea":v=bt(r,v),f=bt(r,f),w=[];break;default:typeof v.onClick!="function"&&typeof f.onClick=="function"&&(r.onclick=Pa)}Ws(c,f);var k;c=null;for(U in v)if(!f.hasOwnProperty(U)&&v.hasOwnProperty(U)&&v[U]!=null)if(U==="style"){var R=v[U];for(k in R)R.hasOwnProperty(k)&&(c||(c={}),c[k]="")}else U!=="dangerouslySetInnerHTML"&&U!=="children"&&U!=="suppressContentEditableWarning"&&U!=="suppressHydrationWarning"&&U!=="autoFocus"&&(i.hasOwnProperty(U)?w||(w=[]):(w=w||[]).push(U,null));for(U in f){var T=f[U];if(R=v?.[U],f.hasOwnProperty(U)&&T!==R&&(T!=null||R!=null))if(U==="style")if(R){for(k in R)!R.hasOwnProperty(k)||T&&T.hasOwnProperty(k)||(c||(c={}),c[k]="");for(k in T)T.hasOwnProperty(k)&&R[k]!==T[k]&&(c||(c={}),c[k]=T[k])}else c||(w||(w=[]),w.push(U,c)),c=T;else U==="dangerouslySetInnerHTML"?(T=T?T.__html:void 0,R=R?R.__html:void 0,T!=null&&R!==T&&(w=w||[]).push(U,T)):U==="children"?typeof T!="string"&&typeof T!="number"||(w=w||[]).push(U,""+T):U!=="suppressContentEditableWarning"&&U!=="suppressHydrationWarning"&&(i.hasOwnProperty(U)?(T!=null&&U==="onScroll"&&Ye("scroll",r),w||R===T||(w=[])):(w=w||[]).push(U,T))}c&&(w=w||[]).push("style",c);var U=w;(s.updateQueue=U)&&(s.flags|=4)}},hm=function(r,s,c,f){c!==f&&(s.flags|=4)};function Oi(r,s){if(!Qe)switch(r.tailMode){case"hidden":s=r.tail;for(var c=null;s!==null;)s.alternate!==null&&(c=s),s=s.sibling;c===null?r.tail=null:c.sibling=null;break;case"collapsed":c=r.tail;for(var f=null;c!==null;)c.alternate!==null&&(f=c),c=c.sibling;f===null?s||r.tail===null?r.tail=null:r.tail.sibling=null:f.sibling=null}}function Tt(r){var s=r.alternate!==null&&r.alternate.child===r.child,c=0,f=0;if(s)for(var v=r.child;v!==null;)c|=v.lanes|v.childLanes,f|=v.subtreeFlags&14680064,f|=v.flags&14680064,v.return=r,v=v.sibling;else for(v=r.child;v!==null;)c|=v.lanes|v.childLanes,f|=v.subtreeFlags,f|=v.flags,v.return=r,v=v.sibling;return r.subtreeFlags|=f,r.childLanes=c,s}function Hb(r,s,c){var f=s.pendingProps;switch(uu(s),s.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Tt(s),null;case 1:return Vt(s.type)&&Oa(),Tt(s),null;case 3:return f=s.stateNode,ao(),Je(Bt),Je(Ct),Su(),f.pendingContext&&(f.context=f.pendingContext,f.pendingContext=null),(r===null||r.child===null)&&(Ma(s)?s.flags|=4:r===null||r.memoizedState.isDehydrated&&(s.flags&256)===0||(s.flags|=1024,Er!==null&&(Zu(Er),Er=null))),Bu(r,s),Tt(s),null;case 5:bu(s);var v=ws(Ci.current);if(c=s.type,r!==null&&s.stateNode!=null)fm(r,s,c,f,v),r.ref!==s.ref&&(s.flags|=512,s.flags|=2097152);else{if(!f){if(s.stateNode===null)throw Error(n(166));return Tt(s),null}if(r=ws(zr.current),Ma(s)){f=s.stateNode,c=s.type;var w=s.memoizedProps;switch(f[Ur]=s,f[Si]=w,r=(s.mode&1)!==0,c){case"dialog":Ye("cancel",f),Ye("close",f);break;case"iframe":case"object":case"embed":Ye("load",f);break;case"video":case"audio":for(v=0;v<xi.length;v++)Ye(xi[v],f);break;case"source":Ye("error",f);break;case"img":case"image":case"link":Ye("error",f),Ye("load",f);break;case"details":Ye("toggle",f);break;case"input":xn(f,w),Ye("invalid",f);break;case"select":f._wrapperState={wasMultiple:!!w.multiple},Ye("invalid",f);break;case"textarea":rn(f,w),Ye("invalid",f)}Ws(c,w),v=null;for(var k in w)if(w.hasOwnProperty(k)){var R=w[k];k==="children"?typeof R=="string"?f.textContent!==R&&(w.suppressHydrationWarning!==!0&&Ta(f.textContent,R,r),v=["children",R]):typeof R=="number"&&f.textContent!==""+R&&(w.suppressHydrationWarning!==!0&&Ta(f.textContent,R,r),v=["children",""+R]):i.hasOwnProperty(k)&&R!=null&&k==="onScroll"&&Ye("scroll",f)}switch(c){case"input":De(f),ei(f,w,!0);break;case"textarea":De(f),la(f);break;case"select":case"option":break;default:typeof w.onClick=="function"&&(f.onclick=Pa)}f=v,s.updateQueue=f,f!==null&&(s.flags|=4)}else{k=v.nodeType===9?v:v.ownerDocument,r==="http://www.w3.org/1999/xhtml"&&(r=us(c)),r==="http://www.w3.org/1999/xhtml"?c==="script"?(r=k.createElement("div"),r.innerHTML="<script><\/script>",r=r.removeChild(r.firstChild)):typeof f.is=="string"?r=k.createElement(c,{is:f.is}):(r=k.createElement(c),c==="select"&&(k=r,f.multiple?k.multiple=!0:f.size&&(k.size=f.size))):r=k.createElementNS(r,c),r[Ur]=s,r[Si]=f,dm(r,s,!1,!1),s.stateNode=r;e:{switch(k=ri(c,f),c){case"dialog":Ye("cancel",r),Ye("close",r),v=f;break;case"iframe":case"object":case"embed":Ye("load",r),v=f;break;case"video":case"audio":for(v=0;v<xi.length;v++)Ye(xi[v],r);v=f;break;case"source":Ye("error",r),v=f;break;case"img":case"image":case"link":Ye("error",r),Ye("load",r),v=f;break;case"details":Ye("toggle",r),v=f;break;case"input":xn(r,f),v=$t(r,f),Ye("invalid",r);break;case"option":v=f;break;case"select":r._wrapperState={wasMultiple:!!f.multiple},v=K({},f,{value:void 0}),Ye("invalid",r);break;case"textarea":rn(r,f),v=bt(r,f),Ye("invalid",r);break;default:v=f}Ws(c,v),R=v;for(w in R)if(R.hasOwnProperty(w)){var T=R[w];w==="style"?ua(r,T):w==="dangerouslySetInnerHTML"?(T=T?T.__html:void 0,T!=null&&Vs(r,T)):w==="children"?typeof T=="string"?(c!=="textarea"||T!=="")&&dr(r,T):typeof T=="number"&&dr(r,""+T):w!=="suppressContentEditableWarning"&&w!=="suppressHydrationWarning"&&w!=="autoFocus"&&(i.hasOwnProperty(w)?T!=null&&w==="onScroll"&&Ye("scroll",r):T!=null&&C(r,w,T,k))}switch(c){case"input":De(r),ei(r,f,!1);break;case"textarea":De(r),la(r);break;case"option":f.value!=null&&r.setAttribute("value",""+se(f.value));break;case"select":r.multiple=!!f.multiple,w=f.value,w!=null?bn(r,!!f.multiple,w,!1):f.defaultValue!=null&&bn(r,!!f.multiple,f.defaultValue,!0);break;default:typeof v.onClick=="function"&&(r.onclick=Pa)}switch(c){case"button":case"input":case"select":case"textarea":f=!!f.autoFocus;break e;case"img":f=!0;break e;default:f=!1}}f&&(s.flags|=4)}s.ref!==null&&(s.flags|=512,s.flags|=2097152)}return Tt(s),null;case 6:if(r&&s.stateNode!=null)hm(r,s,r.memoizedProps,f);else{if(typeof f!="string"&&s.stateNode===null)throw Error(n(166));if(c=ws(Ci.current),ws(zr.current),Ma(s)){if(f=s.stateNode,c=s.memoizedProps,f[Ur]=s,(w=f.nodeValue!==c)&&(r=tr,r!==null))switch(r.tag){case 3:Ta(f.nodeValue,c,(r.mode&1)!==0);break;case 5:r.memoizedProps.suppressHydrationWarning!==!0&&Ta(f.nodeValue,c,(r.mode&1)!==0)}w&&(s.flags|=4)}else f=(c.nodeType===9?c:c.ownerDocument).createTextNode(f),f[Ur]=s,s.stateNode=f}return Tt(s),null;case 13:if(Je(Xe),f=s.memoizedState,r===null||r.memoizedState!==null&&r.memoizedState.dehydrated!==null){if(Qe&&rr!==null&&(s.mode&1)!==0&&(s.flags&128)===0)gp(),no(),s.flags|=98560,w=!1;else if(w=Ma(s),f!==null&&f.dehydrated!==null){if(r===null){if(!w)throw Error(n(318));if(w=s.memoizedState,w=w!==null?w.dehydrated:null,!w)throw Error(n(317));w[Ur]=s}else no(),(s.flags&128)===0&&(s.memoizedState=null),s.flags|=4;Tt(s),w=!1}else Er!==null&&(Zu(Er),Er=null),w=!0;if(!w)return s.flags&65536?s:null}return(s.flags&128)!==0?(s.lanes=c,s):(f=f!==null,f!==(r!==null&&r.memoizedState!==null)&&f&&(s.child.flags|=8192,(s.mode&1)!==0&&(r===null||(Xe.current&1)!==0?pt===0&&(pt=3):rd())),s.updateQueue!==null&&(s.flags|=4),Tt(s),null);case 4:return ao(),Bu(r,s),r===null&&bi(s.stateNode.containerInfo),Tt(s),null;case 10:return gu(s.type._context),Tt(s),null;case 17:return Vt(s.type)&&Oa(),Tt(s),null;case 19:if(Je(Xe),w=s.memoizedState,w===null)return Tt(s),null;if(f=(s.flags&128)!==0,k=w.rendering,k===null)if(f)Oi(w,!1);else{if(pt!==0||r!==null&&(r.flags&128)!==0)for(r=s.child;r!==null;){if(k=Wa(r),k!==null){for(s.flags|=128,Oi(w,!1),f=k.updateQueue,f!==null&&(s.updateQueue=f,s.flags|=4),s.subtreeFlags=0,f=c,c=s.child;c!==null;)w=c,r=f,w.flags&=14680066,k=w.alternate,k===null?(w.childLanes=0,w.lanes=r,w.child=null,w.subtreeFlags=0,w.memoizedProps=null,w.memoizedState=null,w.updateQueue=null,w.dependencies=null,w.stateNode=null):(w.childLanes=k.childLanes,w.lanes=k.lanes,w.child=k.child,w.subtreeFlags=0,w.deletions=null,w.memoizedProps=k.memoizedProps,w.memoizedState=k.memoizedState,w.updateQueue=k.updateQueue,w.type=k.type,r=k.dependencies,w.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext}),c=c.sibling;return Ke(Xe,Xe.current&1|2),s.child}r=r.sibling}w.tail!==null&&st()>fo&&(s.flags|=128,f=!0,Oi(w,!1),s.lanes=4194304)}else{if(!f)if(r=Wa(k),r!==null){if(s.flags|=128,f=!0,c=r.updateQueue,c!==null&&(s.updateQueue=c,s.flags|=4),Oi(w,!0),w.tail===null&&w.tailMode==="hidden"&&!k.alternate&&!Qe)return Tt(s),null}else 2*st()-w.renderingStartTime>fo&&c!==1073741824&&(s.flags|=128,f=!0,Oi(w,!1),s.lanes=4194304);w.isBackwards?(k.sibling=s.child,s.child=k):(c=w.last,c!==null?c.sibling=k:s.child=k,w.last=k)}return w.tail!==null?(s=w.tail,w.rendering=s,w.tail=s.sibling,w.renderingStartTime=st(),s.sibling=null,c=Xe.current,Ke(Xe,f?c&1|2:c&1),s):(Tt(s),null);case 22:case 23:return td(),f=s.memoizedState!==null,r!==null&&r.memoizedState!==null!==f&&(s.flags|=8192),f&&(s.mode&1)!==0?(nr&1073741824)!==0&&(Tt(s),s.subtreeFlags&6&&(s.flags|=8192)):Tt(s),null;case 24:return null;case 25:return null}throw Error(n(156,s.tag))}function qb(r,s){switch(uu(s),s.tag){case 1:return Vt(s.type)&&Oa(),r=s.flags,r&65536?(s.flags=r&-65537|128,s):null;case 3:return ao(),Je(Bt),Je(Ct),Su(),r=s.flags,(r&65536)!==0&&(r&128)===0?(s.flags=r&-65537|128,s):null;case 5:return bu(s),null;case 13:if(Je(Xe),r=s.memoizedState,r!==null&&r.dehydrated!==null){if(s.alternate===null)throw Error(n(340));no()}return r=s.flags,r&65536?(s.flags=r&-65537|128,s):null;case 19:return Je(Xe),null;case 4:return ao(),null;case 10:return gu(s.type._context),null;case 22:case 23:return td(),null;case 24:return null;default:return null}}var Za=!1,Pt=!1,Kb=typeof WeakSet=="function"?WeakSet:Set,ue=null;function co(r,s){var c=r.ref;if(c!==null)if(typeof c=="function")try{c(null)}catch(f){tt(r,s,f)}else c.current=null}function Vu(r,s,c){try{c()}catch(f){tt(r,s,f)}}var pm=!1;function Gb(r,s){if(tu=wa,r=qh(),Kc(r)){if("selectionStart"in r)var c={start:r.selectionStart,end:r.selectionEnd};else e:{c=(c=r.ownerDocument)&&c.defaultView||window;var f=c.getSelection&&c.getSelection();if(f&&f.rangeCount!==0){c=f.anchorNode;var v=f.anchorOffset,w=f.focusNode;f=f.focusOffset;try{c.nodeType,w.nodeType}catch{c=null;break e}var k=0,R=-1,T=-1,U=0,Y=0,X=r,G=null;t:for(;;){for(var ae;X!==c||v!==0&&X.nodeType!==3||(R=k+v),X!==w||f!==0&&X.nodeType!==3||(T=k+f),X.nodeType===3&&(k+=X.nodeValue.length),(ae=X.firstChild)!==null;)G=X,X=ae;for(;;){if(X===r)break t;if(G===c&&++U===v&&(R=k),G===w&&++Y===f&&(T=k),(ae=X.nextSibling)!==null)break;X=G,G=X.parentNode}X=ae}c=R===-1||T===-1?null:{start:R,end:T}}else c=null}c=c||{start:0,end:0}}else c=null;for(ru={focusedElem:r,selectionRange:c},wa=!1,ue=s;ue!==null;)if(s=ue,r=s.child,(s.subtreeFlags&1028)!==0&&r!==null)r.return=s,ue=r;else for(;ue!==null;){s=ue;try{var fe=s.alternate;if((s.flags&1024)!==0)switch(s.tag){case 0:case 11:case 15:break;case 1:if(fe!==null){var ve=fe.memoizedProps,ot=fe.memoizedState,L=s.stateNode,A=L.getSnapshotBeforeUpdate(s.elementType===s.type?ve:Nr(s.type,ve),ot);L.__reactInternalSnapshotBeforeUpdate=A}break;case 3:var M=s.stateNode.containerInfo;M.nodeType===1?M.textContent="":M.nodeType===9&&M.documentElement&&M.removeChild(M.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(n(163))}}catch(ee){tt(s,s.return,ee)}if(r=s.sibling,r!==null){r.return=s.return,ue=r;break}ue=s.return}return fe=pm,pm=!1,fe}function Ii(r,s,c){var f=s.updateQueue;if(f=f!==null?f.lastEffect:null,f!==null){var v=f=f.next;do{if((v.tag&r)===r){var w=v.destroy;v.destroy=void 0,w!==void 0&&Vu(s,c,w)}v=v.next}while(v!==f)}}function el(r,s){if(s=s.updateQueue,s=s!==null?s.lastEffect:null,s!==null){var c=s=s.next;do{if((c.tag&r)===r){var f=c.create;c.destroy=f()}c=c.next}while(c!==s)}}function Wu(r){var s=r.ref;if(s!==null){var c=r.stateNode;switch(r.tag){case 5:r=c;break;default:r=c}typeof s=="function"?s(r):s.current=r}}function mm(r){var s=r.alternate;s!==null&&(r.alternate=null,mm(s)),r.child=null,r.deletions=null,r.sibling=null,r.tag===5&&(s=r.stateNode,s!==null&&(delete s[Ur],delete s[Si],delete s[iu],delete s[Tb],delete s[Pb])),r.stateNode=null,r.return=null,r.dependencies=null,r.memoizedProps=null,r.memoizedState=null,r.pendingProps=null,r.stateNode=null,r.updateQueue=null}function gm(r){return r.tag===5||r.tag===3||r.tag===4}function vm(r){e:for(;;){for(;r.sibling===null;){if(r.return===null||gm(r.return))return null;r=r.return}for(r.sibling.return=r.return,r=r.sibling;r.tag!==5&&r.tag!==6&&r.tag!==18;){if(r.flags&2||r.child===null||r.tag===4)continue e;r.child.return=r,r=r.child}if(!(r.flags&2))return r.stateNode}}function Hu(r,s,c){var f=r.tag;if(f===5||f===6)r=r.stateNode,s?c.nodeType===8?c.parentNode.insertBefore(r,s):c.insertBefore(r,s):(c.nodeType===8?(s=c.parentNode,s.insertBefore(r,c)):(s=c,s.appendChild(r)),c=c._reactRootContainer,c!=null||s.onclick!==null||(s.onclick=Pa));else if(f!==4&&(r=r.child,r!==null))for(Hu(r,s,c),r=r.sibling;r!==null;)Hu(r,s,c),r=r.sibling}function qu(r,s,c){var f=r.tag;if(f===5||f===6)r=r.stateNode,s?c.insertBefore(r,s):c.appendChild(r);else if(f!==4&&(r=r.child,r!==null))for(qu(r,s,c),r=r.sibling;r!==null;)qu(r,s,c),r=r.sibling}var St=null,Cr=!1;function Un(r,s,c){for(c=c.child;c!==null;)ym(r,s,c),c=c.sibling}function ym(r,s,c){if(Fr&&typeof Fr.onCommitFiberUnmount=="function")try{Fr.onCommitFiberUnmount(ha,c)}catch{}switch(c.tag){case 5:Pt||co(c,s);case 6:var f=St,v=Cr;St=null,Un(r,s,c),St=f,Cr=v,St!==null&&(Cr?(r=St,c=c.stateNode,r.nodeType===8?r.parentNode.removeChild(c):r.removeChild(c)):St.removeChild(c.stateNode));break;case 18:St!==null&&(Cr?(r=St,c=c.stateNode,r.nodeType===8?ou(r.parentNode,c):r.nodeType===1&&ou(r,c),fi(r)):ou(St,c.stateNode));break;case 4:f=St,v=Cr,St=c.stateNode.containerInfo,Cr=!0,Un(r,s,c),St=f,Cr=v;break;case 0:case 11:case 14:case 15:if(!Pt&&(f=c.updateQueue,f!==null&&(f=f.lastEffect,f!==null))){v=f=f.next;do{var w=v,k=w.destroy;w=w.tag,k!==void 0&&((w&2)!==0||(w&4)!==0)&&Vu(c,s,k),v=v.next}while(v!==f)}Un(r,s,c);break;case 1:if(!Pt&&(co(c,s),f=c.stateNode,typeof f.componentWillUnmount=="function"))try{f.props=c.memoizedProps,f.state=c.memoizedState,f.componentWillUnmount()}catch(R){tt(c,s,R)}Un(r,s,c);break;case 21:Un(r,s,c);break;case 22:c.mode&1?(Pt=(f=Pt)||c.memoizedState!==null,Un(r,s,c),Pt=f):Un(r,s,c);break;default:Un(r,s,c)}}function wm(r){var s=r.updateQueue;if(s!==null){r.updateQueue=null;var c=r.stateNode;c===null&&(c=r.stateNode=new Kb),s.forEach(function(f){var v=n_.bind(null,r,f);c.has(f)||(c.add(f),f.then(v,v))})}}function Rr(r,s){var c=s.deletions;if(c!==null)for(var f=0;f<c.length;f++){var v=c[f];try{var w=r,k=s,R=k;e:for(;R!==null;){switch(R.tag){case 5:St=R.stateNode,Cr=!1;break e;case 3:St=R.stateNode.containerInfo,Cr=!0;break e;case 4:St=R.stateNode.containerInfo,Cr=!0;break e}R=R.return}if(St===null)throw Error(n(160));ym(w,k,v),St=null,Cr=!1;var T=v.alternate;T!==null&&(T.return=null),v.return=null}catch(U){tt(v,s,U)}}if(s.subtreeFlags&12854)for(s=s.child;s!==null;)xm(s,r),s=s.sibling}function xm(r,s){var c=r.alternate,f=r.flags;switch(r.tag){case 0:case 11:case 14:case 15:if(Rr(s,r),Vr(r),f&4){try{Ii(3,r,r.return),el(3,r)}catch(ve){tt(r,r.return,ve)}try{Ii(5,r,r.return)}catch(ve){tt(r,r.return,ve)}}break;case 1:Rr(s,r),Vr(r),f&512&&c!==null&&co(c,c.return);break;case 5:if(Rr(s,r),Vr(r),f&512&&c!==null&&co(c,c.return),r.flags&32){var v=r.stateNode;try{dr(v,"")}catch(ve){tt(r,r.return,ve)}}if(f&4&&(v=r.stateNode,v!=null)){var w=r.memoizedProps,k=c!==null?c.memoizedProps:w,R=r.type,T=r.updateQueue;if(r.updateQueue=null,T!==null)try{R==="input"&&w.type==="radio"&&w.name!=null&&tn(v,w),ri(R,k);var U=ri(R,w);for(k=0;k<T.length;k+=2){var Y=T[k],X=T[k+1];Y==="style"?ua(v,X):Y==="dangerouslySetInnerHTML"?Vs(v,X):Y==="children"?dr(v,X):C(v,Y,X,U)}switch(R){case"input":Qt(v,w);break;case"textarea":aa(v,w);break;case"select":var G=v._wrapperState.wasMultiple;v._wrapperState.wasMultiple=!!w.multiple;var ae=w.value;ae!=null?bn(v,!!w.multiple,ae,!1):G!==!!w.multiple&&(w.defaultValue!=null?bn(v,!!w.multiple,w.defaultValue,!0):bn(v,!!w.multiple,w.multiple?[]:"",!1))}v[Si]=w}catch(ve){tt(r,r.return,ve)}}break;case 6:if(Rr(s,r),Vr(r),f&4){if(r.stateNode===null)throw Error(n(162));v=r.stateNode,w=r.memoizedProps;try{v.nodeValue=w}catch(ve){tt(r,r.return,ve)}}break;case 3:if(Rr(s,r),Vr(r),f&4&&c!==null&&c.memoizedState.isDehydrated)try{fi(s.containerInfo)}catch(ve){tt(r,r.return,ve)}break;case 4:Rr(s,r),Vr(r);break;case 13:Rr(s,r),Vr(r),v=r.child,v.flags&8192&&(w=v.memoizedState!==null,v.stateNode.isHidden=w,!w||v.alternate!==null&&v.alternate.memoizedState!==null||(Yu=st())),f&4&&wm(r);break;case 22:if(Y=c!==null&&c.memoizedState!==null,r.mode&1?(Pt=(U=Pt)||Y,Rr(s,r),Pt=U):Rr(s,r),Vr(r),f&8192){if(U=r.memoizedState!==null,(r.stateNode.isHidden=U)&&!Y&&(r.mode&1)!==0)for(ue=r,Y=r.child;Y!==null;){for(X=ue=Y;ue!==null;){switch(G=ue,ae=G.child,G.tag){case 0:case 11:case 14:case 15:Ii(4,G,G.return);break;case 1:co(G,G.return);var fe=G.stateNode;if(typeof fe.componentWillUnmount=="function"){f=G,c=G.return;try{s=f,fe.props=s.memoizedProps,fe.state=s.memoizedState,fe.componentWillUnmount()}catch(ve){tt(f,c,ve)}}break;case 5:co(G,G.return);break;case 22:if(G.memoizedState!==null){Sm(X);continue}}ae!==null?(ae.return=G,ue=ae):Sm(X)}Y=Y.sibling}e:for(Y=null,X=r;;){if(X.tag===5){if(Y===null){Y=X;try{v=X.stateNode,U?(w=v.style,typeof w.setProperty=="function"?w.setProperty("display","none","important"):w.display="none"):(R=X.stateNode,T=X.memoizedProps.style,k=T!=null&&T.hasOwnProperty("display")?T.display:null,R.style.display=ca("display",k))}catch(ve){tt(r,r.return,ve)}}}else if(X.tag===6){if(Y===null)try{X.stateNode.nodeValue=U?"":X.memoizedProps}catch(ve){tt(r,r.return,ve)}}else if((X.tag!==22&&X.tag!==23||X.memoizedState===null||X===r)&&X.child!==null){X.child.return=X,X=X.child;continue}if(X===r)break e;for(;X.sibling===null;){if(X.return===null||X.return===r)break e;Y===X&&(Y=null),X=X.return}Y===X&&(Y=null),X.sibling.return=X.return,X=X.sibling}}break;case 19:Rr(s,r),Vr(r),f&4&&wm(r);break;case 21:break;default:Rr(s,r),Vr(r)}}function Vr(r){var s=r.flags;if(s&2){try{e:{for(var c=r.return;c!==null;){if(gm(c)){var f=c;break e}c=c.return}throw Error(n(160))}switch(f.tag){case 5:var v=f.stateNode;f.flags&32&&(dr(v,""),f.flags&=-33);var w=vm(r);qu(r,w,v);break;case 3:case 4:var k=f.stateNode.containerInfo,R=vm(r);Hu(r,R,k);break;default:throw Error(n(161))}}catch(T){tt(r,r.return,T)}r.flags&=-3}s&4096&&(r.flags&=-4097)}function Yb(r,s,c){ue=r,bm(r)}function bm(r,s,c){for(var f=(r.mode&1)!==0;ue!==null;){var v=ue,w=v.child;if(v.tag===22&&f){var k=v.memoizedState!==null||Za;if(!k){var R=v.alternate,T=R!==null&&R.memoizedState!==null||Pt;R=Za;var U=Pt;if(Za=k,(Pt=T)&&!U)for(ue=v;ue!==null;)k=ue,T=k.child,k.tag===22&&k.memoizedState!==null?jm(v):T!==null?(T.return=k,ue=T):jm(v);for(;w!==null;)ue=w,bm(w),w=w.sibling;ue=v,Za=R,Pt=U}_m(r)}else(v.subtreeFlags&8772)!==0&&w!==null?(w.return=v,ue=w):_m(r)}}function _m(r){for(;ue!==null;){var s=ue;if((s.flags&8772)!==0){var c=s.alternate;try{if((s.flags&8772)!==0)switch(s.tag){case 0:case 11:case 15:Pt||el(5,s);break;case 1:var f=s.stateNode;if(s.flags&4&&!Pt)if(c===null)f.componentDidMount();else{var v=s.elementType===s.type?c.memoizedProps:Nr(s.type,c.memoizedProps);f.componentDidUpdate(v,c.memoizedState,f.__reactInternalSnapshotBeforeUpdate)}var w=s.updateQueue;w!==null&&Sp(s,w,f);break;case 3:var k=s.updateQueue;if(k!==null){if(c=null,s.child!==null)switch(s.child.tag){case 5:c=s.child.stateNode;break;case 1:c=s.child.stateNode}Sp(s,k,c)}break;case 5:var R=s.stateNode;if(c===null&&s.flags&4){c=R;var T=s.memoizedProps;switch(s.type){case"button":case"input":case"select":case"textarea":T.autoFocus&&c.focus();break;case"img":T.src&&(c.src=T.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(s.memoizedState===null){var U=s.alternate;if(U!==null){var Y=U.memoizedState;if(Y!==null){var X=Y.dehydrated;X!==null&&fi(X)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(n(163))}Pt||s.flags&512&&Wu(s)}catch(G){tt(s,s.return,G)}}if(s===r){ue=null;break}if(c=s.sibling,c!==null){c.return=s.return,ue=c;break}ue=s.return}}function Sm(r){for(;ue!==null;){var s=ue;if(s===r){ue=null;break}var c=s.sibling;if(c!==null){c.return=s.return,ue=c;break}ue=s.return}}function jm(r){for(;ue!==null;){var s=ue;try{switch(s.tag){case 0:case 11:case 15:var c=s.return;try{el(4,s)}catch(T){tt(s,c,T)}break;case 1:var f=s.stateNode;if(typeof f.componentDidMount=="function"){var v=s.return;try{f.componentDidMount()}catch(T){tt(s,v,T)}}var w=s.return;try{Wu(s)}catch(T){tt(s,w,T)}break;case 5:var k=s.return;try{Wu(s)}catch(T){tt(s,k,T)}}}catch(T){tt(s,s.return,T)}if(s===r){ue=null;break}var R=s.sibling;if(R!==null){R.return=s.return,ue=R;break}ue=s.return}}var Jb=Math.ceil,tl=P.ReactCurrentDispatcher,Ku=P.ReactCurrentOwner,yr=P.ReactCurrentBatchConfig,Ue=0,wt=null,lt=null,jt=0,nr=0,uo=Dn(0),pt=0,Di=null,bs=0,rl=0,Gu=0,Li=null,Ht=null,Yu=0,fo=1/0,fn=null,nl=!1,Ju=null,zn=null,sl=!1,Bn=null,ol=0,$i=0,Qu=null,il=-1,al=0;function Ft(){return(Ue&6)!==0?st():il!==-1?il:il=st()}function Vn(r){return(r.mode&1)===0?1:(Ue&2)!==0&&jt!==0?jt&-jt:Ob.transition!==null?(al===0&&(al=vh()),al):(r=We,r!==0||(r=window.event,r=r===void 0?16:Eh(r.type)),r)}function Tr(r,s,c,f){if(50<$i)throw $i=0,Qu=null,Error(n(185));ai(r,c,f),((Ue&2)===0||r!==wt)&&(r===wt&&((Ue&2)===0&&(rl|=c),pt===4&&Wn(r,jt)),qt(r,f),c===1&&Ue===0&&(s.mode&1)===0&&(fo=st()+500,Da&&$n()))}function qt(r,s){var c=r.callbackNode;Ox(r,s);var f=ga(r,r===wt?jt:0);if(f===0)c!==null&&ph(c),r.callbackNode=null,r.callbackPriority=0;else if(s=f&-f,r.callbackPriority!==s){if(c!=null&&ph(c),s===1)r.tag===0?Ab(Em.bind(null,r)):dp(Em.bind(null,r)),Cb(function(){(Ue&6)===0&&$n()}),c=null;else{switch(yh(f)){case 1:c=Tc;break;case 4:c=mh;break;case 16:c=fa;break;case 536870912:c=gh;break;default:c=fa}c=Im(c,km.bind(null,r))}r.callbackPriority=s,r.callbackNode=c}}function km(r,s){if(il=-1,al=0,(Ue&6)!==0)throw Error(n(327));var c=r.callbackNode;if(ho()&&r.callbackNode!==c)return null;var f=ga(r,r===wt?jt:0);if(f===0)return null;if((f&30)!==0||(f&r.expiredLanes)!==0||s)s=ll(r,f);else{s=f;var v=Ue;Ue|=2;var w=Cm();(wt!==r||jt!==s)&&(fn=null,fo=st()+500,Ss(r,s));do try{Zb();break}catch(R){Nm(r,R)}while(!0);mu(),tl.current=w,Ue=v,lt!==null?s=0:(wt=null,jt=0,s=pt)}if(s!==0){if(s===2&&(v=Pc(r),v!==0&&(f=v,s=Xu(r,v))),s===1)throw c=Di,Ss(r,0),Wn(r,f),qt(r,st()),c;if(s===6)Wn(r,f);else{if(v=r.current.alternate,(f&30)===0&&!Qb(v)&&(s=ll(r,f),s===2&&(w=Pc(r),w!==0&&(f=w,s=Xu(r,w))),s===1))throw c=Di,Ss(r,0),Wn(r,f),qt(r,st()),c;switch(r.finishedWork=v,r.finishedLanes=f,s){case 0:case 1:throw Error(n(345));case 2:js(r,Ht,fn);break;case 3:if(Wn(r,f),(f&130023424)===f&&(s=Yu+500-st(),10<s)){if(ga(r,0)!==0)break;if(v=r.suspendedLanes,(v&f)!==f){Ft(),r.pingedLanes|=r.suspendedLanes&v;break}r.timeoutHandle=su(js.bind(null,r,Ht,fn),s);break}js(r,Ht,fn);break;case 4:if(Wn(r,f),(f&4194240)===f)break;for(s=r.eventTimes,v=-1;0<f;){var k=31-jr(f);w=1<<k,k=s[k],k>v&&(v=k),f&=~w}if(f=v,f=st()-f,f=(120>f?120:480>f?480:1080>f?1080:1920>f?1920:3e3>f?3e3:4320>f?4320:1960*Jb(f/1960))-f,10<f){r.timeoutHandle=su(js.bind(null,r,Ht,fn),f);break}js(r,Ht,fn);break;case 5:js(r,Ht,fn);break;default:throw Error(n(329))}}}return qt(r,st()),r.callbackNode===c?km.bind(null,r):null}function Xu(r,s){var c=Li;return r.current.memoizedState.isDehydrated&&(Ss(r,s).flags|=256),r=ll(r,s),r!==2&&(s=Ht,Ht=c,s!==null&&Zu(s)),r}function Zu(r){Ht===null?Ht=r:Ht.push.apply(Ht,r)}function Qb(r){for(var s=r;;){if(s.flags&16384){var c=s.updateQueue;if(c!==null&&(c=c.stores,c!==null))for(var f=0;f<c.length;f++){var v=c[f],w=v.getSnapshot;v=v.value;try{if(!kr(w(),v))return!1}catch{return!1}}}if(c=s.child,s.subtreeFlags&16384&&c!==null)c.return=s,s=c;else{if(s===r)break;for(;s.sibling===null;){if(s.return===null||s.return===r)return!0;s=s.return}s.sibling.return=s.return,s=s.sibling}}return!0}function Wn(r,s){for(s&=~Gu,s&=~rl,r.suspendedLanes|=s,r.pingedLanes&=~s,r=r.expirationTimes;0<s;){var c=31-jr(s),f=1<<c;r[c]=-1,s&=~f}}function Em(r){if((Ue&6)!==0)throw Error(n(327));ho();var s=ga(r,0);if((s&1)===0)return qt(r,st()),null;var c=ll(r,s);if(r.tag!==0&&c===2){var f=Pc(r);f!==0&&(s=f,c=Xu(r,f))}if(c===1)throw c=Di,Ss(r,0),Wn(r,s),qt(r,st()),c;if(c===6)throw Error(n(345));return r.finishedWork=r.current.alternate,r.finishedLanes=s,js(r,Ht,fn),qt(r,st()),null}function ed(r,s){var c=Ue;Ue|=1;try{return r(s)}finally{Ue=c,Ue===0&&(fo=st()+500,Da&&$n())}}function _s(r){Bn!==null&&Bn.tag===0&&(Ue&6)===0&&ho();var s=Ue;Ue|=1;var c=yr.transition,f=We;try{if(yr.transition=null,We=1,r)return r()}finally{We=f,yr.transition=c,Ue=s,(Ue&6)===0&&$n()}}function td(){nr=uo.current,Je(uo)}function Ss(r,s){r.finishedWork=null,r.finishedLanes=0;var c=r.timeoutHandle;if(c!==-1&&(r.timeoutHandle=-1,Nb(c)),lt!==null)for(c=lt.return;c!==null;){var f=c;switch(uu(f),f.tag){case 1:f=f.type.childContextTypes,f!=null&&Oa();break;case 3:ao(),Je(Bt),Je(Ct),Su();break;case 5:bu(f);break;case 4:ao();break;case 13:Je(Xe);break;case 19:Je(Xe);break;case 10:gu(f.type._context);break;case 22:case 23:td()}c=c.return}if(wt=r,lt=r=Hn(r.current,null),jt=nr=s,pt=0,Di=null,Gu=rl=bs=0,Ht=Li=null,ys!==null){for(s=0;s<ys.length;s++)if(c=ys[s],f=c.interleaved,f!==null){c.interleaved=null;var v=f.next,w=c.pending;if(w!==null){var k=w.next;w.next=v,f.next=k}c.pending=f}ys=null}return r}function Nm(r,s){do{var c=lt;try{if(mu(),Ha.current=Ya,qa){for(var f=Ze.memoizedState;f!==null;){var v=f.queue;v!==null&&(v.pending=null),f=f.next}qa=!1}if(xs=0,yt=ht=Ze=null,Ri=!1,Ti=0,Ku.current=null,c===null||c.return===null){pt=1,Di=s,lt=null;break}e:{var w=r,k=c.return,R=c,T=s;if(s=jt,R.flags|=32768,T!==null&&typeof T=="object"&&typeof T.then=="function"){var U=T,Y=R,X=Y.tag;if((Y.mode&1)===0&&(X===0||X===11||X===15)){var G=Y.alternate;G?(Y.updateQueue=G.updateQueue,Y.memoizedState=G.memoizedState,Y.lanes=G.lanes):(Y.updateQueue=null,Y.memoizedState=null)}var ae=Xp(k);if(ae!==null){ae.flags&=-257,Zp(ae,k,R,w,s),ae.mode&1&&Qp(w,U,s),s=ae,T=U;var fe=s.updateQueue;if(fe===null){var ve=new Set;ve.add(T),s.updateQueue=ve}else fe.add(T);break e}else{if((s&1)===0){Qp(w,U,s),rd();break e}T=Error(n(426))}}else if(Qe&&R.mode&1){var ot=Xp(k);if(ot!==null){(ot.flags&65536)===0&&(ot.flags|=256),Zp(ot,k,R,w,s),hu(lo(T,R));break e}}w=T=lo(T,R),pt!==4&&(pt=2),Li===null?Li=[w]:Li.push(w),w=k;do{switch(w.tag){case 3:w.flags|=65536,s&=-s,w.lanes|=s;var L=Yp(w,T,s);_p(w,L);break e;case 1:R=T;var A=w.type,M=w.stateNode;if((w.flags&128)===0&&(typeof A.getDerivedStateFromError=="function"||M!==null&&typeof M.componentDidCatch=="function"&&(zn===null||!zn.has(M)))){w.flags|=65536,s&=-s,w.lanes|=s;var ee=Jp(w,R,s);_p(w,ee);break e}}w=w.return}while(w!==null)}Tm(c)}catch(ye){s=ye,lt===c&&c!==null&&(lt=c=c.return);continue}break}while(!0)}function Cm(){var r=tl.current;return tl.current=Ya,r===null?Ya:r}function rd(){(pt===0||pt===3||pt===2)&&(pt=4),wt===null||(bs&268435455)===0&&(rl&268435455)===0||Wn(wt,jt)}function ll(r,s){var c=Ue;Ue|=2;var f=Cm();(wt!==r||jt!==s)&&(fn=null,Ss(r,s));do try{Xb();break}catch(v){Nm(r,v)}while(!0);if(mu(),Ue=c,tl.current=f,lt!==null)throw Error(n(261));return wt=null,jt=0,pt}function Xb(){for(;lt!==null;)Rm(lt)}function Zb(){for(;lt!==null&&!jx();)Rm(lt)}function Rm(r){var s=Om(r.alternate,r,nr);r.memoizedProps=r.pendingProps,s===null?Tm(r):lt=s,Ku.current=null}function Tm(r){var s=r;do{var c=s.alternate;if(r=s.return,(s.flags&32768)===0){if(c=Hb(c,s,nr),c!==null){lt=c;return}}else{if(c=qb(c,s),c!==null){c.flags&=32767,lt=c;return}if(r!==null)r.flags|=32768,r.subtreeFlags=0,r.deletions=null;else{pt=6,lt=null;return}}if(s=s.sibling,s!==null){lt=s;return}lt=s=r}while(s!==null);pt===0&&(pt=5)}function js(r,s,c){var f=We,v=yr.transition;try{yr.transition=null,We=1,e_(r,s,c,f)}finally{yr.transition=v,We=f}return null}function e_(r,s,c,f){do ho();while(Bn!==null);if((Ue&6)!==0)throw Error(n(327));c=r.finishedWork;var v=r.finishedLanes;if(c===null)return null;if(r.finishedWork=null,r.finishedLanes=0,c===r.current)throw Error(n(177));r.callbackNode=null,r.callbackPriority=0;var w=c.lanes|c.childLanes;if(Ix(r,w),r===wt&&(lt=wt=null,jt=0),(c.subtreeFlags&2064)===0&&(c.flags&2064)===0||sl||(sl=!0,Im(fa,function(){return ho(),null})),w=(c.flags&15990)!==0,(c.subtreeFlags&15990)!==0||w){w=yr.transition,yr.transition=null;var k=We;We=1;var R=Ue;Ue|=4,Ku.current=null,Gb(r,c),xm(c,r),xb(ru),wa=!!tu,ru=tu=null,r.current=c,Yb(c),kx(),Ue=R,We=k,yr.transition=w}else r.current=c;if(sl&&(sl=!1,Bn=r,ol=v),w=r.pendingLanes,w===0&&(zn=null),Cx(c.stateNode),qt(r,st()),s!==null)for(f=r.onRecoverableError,c=0;c<s.length;c++)v=s[c],f(v.value,{componentStack:v.stack,digest:v.digest});if(nl)throw nl=!1,r=Ju,Ju=null,r;return(ol&1)!==0&&r.tag!==0&&ho(),w=r.pendingLanes,(w&1)!==0?r===Qu?$i++:($i=0,Qu=r):$i=0,$n(),null}function ho(){if(Bn!==null){var r=yh(ol),s=yr.transition,c=We;try{if(yr.transition=null,We=16>r?16:r,Bn===null)var f=!1;else{if(r=Bn,Bn=null,ol=0,(Ue&6)!==0)throw Error(n(331));var v=Ue;for(Ue|=4,ue=r.current;ue!==null;){var w=ue,k=w.child;if((ue.flags&16)!==0){var R=w.deletions;if(R!==null){for(var T=0;T<R.length;T++){var U=R[T];for(ue=U;ue!==null;){var Y=ue;switch(Y.tag){case 0:case 11:case 15:Ii(8,Y,w)}var X=Y.child;if(X!==null)X.return=Y,ue=X;else for(;ue!==null;){Y=ue;var G=Y.sibling,ae=Y.return;if(mm(Y),Y===U){ue=null;break}if(G!==null){G.return=ae,ue=G;break}ue=ae}}}var fe=w.alternate;if(fe!==null){var ve=fe.child;if(ve!==null){fe.child=null;do{var ot=ve.sibling;ve.sibling=null,ve=ot}while(ve!==null)}}ue=w}}if((w.subtreeFlags&2064)!==0&&k!==null)k.return=w,ue=k;else e:for(;ue!==null;){if(w=ue,(w.flags&2048)!==0)switch(w.tag){case 0:case 11:case 15:Ii(9,w,w.return)}var L=w.sibling;if(L!==null){L.return=w.return,ue=L;break e}ue=w.return}}var A=r.current;for(ue=A;ue!==null;){k=ue;var M=k.child;if((k.subtreeFlags&2064)!==0&&M!==null)M.return=k,ue=M;else e:for(k=A;ue!==null;){if(R=ue,(R.flags&2048)!==0)try{switch(R.tag){case 0:case 11:case 15:el(9,R)}}catch(ye){tt(R,R.return,ye)}if(R===k){ue=null;break e}var ee=R.sibling;if(ee!==null){ee.return=R.return,ue=ee;break e}ue=R.return}}if(Ue=v,$n(),Fr&&typeof Fr.onPostCommitFiberRoot=="function")try{Fr.onPostCommitFiberRoot(ha,r)}catch{}f=!0}return f}finally{We=c,yr.transition=s}}return!1}function Pm(r,s,c){s=lo(c,s),s=Yp(r,s,1),r=Fn(r,s,1),s=Ft(),r!==null&&(ai(r,1,s),qt(r,s))}function tt(r,s,c){if(r.tag===3)Pm(r,r,c);else for(;s!==null;){if(s.tag===3){Pm(s,r,c);break}else if(s.tag===1){var f=s.stateNode;if(typeof s.type.getDerivedStateFromError=="function"||typeof f.componentDidCatch=="function"&&(zn===null||!zn.has(f))){r=lo(c,r),r=Jp(s,r,1),s=Fn(s,r,1),r=Ft(),s!==null&&(ai(s,1,r),qt(s,r));break}}s=s.return}}function t_(r,s,c){var f=r.pingCache;f!==null&&f.delete(s),s=Ft(),r.pingedLanes|=r.suspendedLanes&c,wt===r&&(jt&c)===c&&(pt===4||pt===3&&(jt&130023424)===jt&&500>st()-Yu?Ss(r,0):Gu|=c),qt(r,s)}function Am(r,s){s===0&&((r.mode&1)===0?s=1:(s=ma,ma<<=1,(ma&130023424)===0&&(ma=4194304)));var c=Ft();r=cn(r,s),r!==null&&(ai(r,s,c),qt(r,c))}function r_(r){var s=r.memoizedState,c=0;s!==null&&(c=s.retryLane),Am(r,c)}function n_(r,s){var c=0;switch(r.tag){case 13:var f=r.stateNode,v=r.memoizedState;v!==null&&(c=v.retryLane);break;case 19:f=r.stateNode;break;default:throw Error(n(314))}f!==null&&f.delete(s),Am(r,c)}var Om;Om=function(r,s,c){if(r!==null)if(r.memoizedProps!==s.pendingProps||Bt.current)Wt=!0;else{if((r.lanes&c)===0&&(s.flags&128)===0)return Wt=!1,Wb(r,s,c);Wt=(r.flags&131072)!==0}else Wt=!1,Qe&&(s.flags&1048576)!==0&&fp(s,$a,s.index);switch(s.lanes=0,s.tag){case 2:var f=s.type;Xa(r,s),r=s.pendingProps;var v=eo(s,Ct.current);io(s,c),v=Eu(null,s,f,r,v,c);var w=Nu();return s.flags|=1,typeof v=="object"&&v!==null&&typeof v.render=="function"&&v.$$typeof===void 0?(s.tag=1,s.memoizedState=null,s.updateQueue=null,Vt(f)?(w=!0,Ia(s)):w=!1,s.memoizedState=v.state!==null&&v.state!==void 0?v.state:null,wu(s),v.updater=Ja,s.stateNode=v,v._reactInternals=s,Ou(s,f,r,c),s=$u(null,s,f,!0,w,c)):(s.tag=0,Qe&&w&&cu(s),Mt(null,s,v,c),s=s.child),s;case 16:f=s.elementType;e:{switch(Xa(r,s),r=s.pendingProps,v=f._init,f=v(f._payload),s.type=f,v=s.tag=o_(f),r=Nr(f,r),v){case 0:s=Lu(null,s,f,r,c);break e;case 1:s=om(null,s,f,r,c);break e;case 11:s=em(null,s,f,r,c);break e;case 14:s=tm(null,s,f,Nr(f.type,r),c);break e}throw Error(n(306,f,""))}return s;case 0:return f=s.type,v=s.pendingProps,v=s.elementType===f?v:Nr(f,v),Lu(r,s,f,v,c);case 1:return f=s.type,v=s.pendingProps,v=s.elementType===f?v:Nr(f,v),om(r,s,f,v,c);case 3:e:{if(im(s),r===null)throw Error(n(387));f=s.pendingProps,w=s.memoizedState,v=w.element,bp(r,s),Va(s,f,null,c);var k=s.memoizedState;if(f=k.element,w.isDehydrated)if(w={element:f,isDehydrated:!1,cache:k.cache,pendingSuspenseBoundaries:k.pendingSuspenseBoundaries,transitions:k.transitions},s.updateQueue.baseState=w,s.memoizedState=w,s.flags&256){v=lo(Error(n(423)),s),s=am(r,s,f,c,v);break e}else if(f!==v){v=lo(Error(n(424)),s),s=am(r,s,f,c,v);break e}else for(rr=In(s.stateNode.containerInfo.firstChild),tr=s,Qe=!0,Er=null,c=wp(s,null,f,c),s.child=c;c;)c.flags=c.flags&-3|4096,c=c.sibling;else{if(no(),f===v){s=dn(r,s,c);break e}Mt(r,s,f,c)}s=s.child}return s;case 5:return jp(s),r===null&&fu(s),f=s.type,v=s.pendingProps,w=r!==null?r.memoizedProps:null,k=v.children,nu(f,v)?k=null:w!==null&&nu(f,w)&&(s.flags|=32),sm(r,s),Mt(r,s,k,c),s.child;case 6:return r===null&&fu(s),null;case 13:return lm(r,s,c);case 4:return xu(s,s.stateNode.containerInfo),f=s.pendingProps,r===null?s.child=so(s,null,f,c):Mt(r,s,f,c),s.child;case 11:return f=s.type,v=s.pendingProps,v=s.elementType===f?v:Nr(f,v),em(r,s,f,v,c);case 7:return Mt(r,s,s.pendingProps,c),s.child;case 8:return Mt(r,s,s.pendingProps.children,c),s.child;case 12:return Mt(r,s,s.pendingProps.children,c),s.child;case 10:e:{if(f=s.type._context,v=s.pendingProps,w=s.memoizedProps,k=v.value,Ke(Ua,f._currentValue),f._currentValue=k,w!==null)if(kr(w.value,k)){if(w.children===v.children&&!Bt.current){s=dn(r,s,c);break e}}else for(w=s.child,w!==null&&(w.return=s);w!==null;){var R=w.dependencies;if(R!==null){k=w.child;for(var T=R.firstContext;T!==null;){if(T.context===f){if(w.tag===1){T=un(-1,c&-c),T.tag=2;var U=w.updateQueue;if(U!==null){U=U.shared;var Y=U.pending;Y===null?T.next=T:(T.next=Y.next,Y.next=T),U.pending=T}}w.lanes|=c,T=w.alternate,T!==null&&(T.lanes|=c),vu(w.return,c,s),R.lanes|=c;break}T=T.next}}else if(w.tag===10)k=w.type===s.type?null:w.child;else if(w.tag===18){if(k=w.return,k===null)throw Error(n(341));k.lanes|=c,R=k.alternate,R!==null&&(R.lanes|=c),vu(k,c,s),k=w.sibling}else k=w.child;if(k!==null)k.return=w;else for(k=w;k!==null;){if(k===s){k=null;break}if(w=k.sibling,w!==null){w.return=k.return,k=w;break}k=k.return}w=k}Mt(r,s,v.children,c),s=s.child}return s;case 9:return v=s.type,f=s.pendingProps.children,io(s,c),v=gr(v),f=f(v),s.flags|=1,Mt(r,s,f,c),s.child;case 14:return f=s.type,v=Nr(f,s.pendingProps),v=Nr(f.type,v),tm(r,s,f,v,c);case 15:return rm(r,s,s.type,s.pendingProps,c);case 17:return f=s.type,v=s.pendingProps,v=s.elementType===f?v:Nr(f,v),Xa(r,s),s.tag=1,Vt(f)?(r=!0,Ia(s)):r=!1,io(s,c),Kp(s,f,v),Ou(s,f,v,c),$u(null,s,f,!0,r,c);case 19:return um(r,s,c);case 22:return nm(r,s,c)}throw Error(n(156,s.tag))};function Im(r,s){return hh(r,s)}function s_(r,s,c,f){this.tag=r,this.key=c,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=s,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=f,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function wr(r,s,c,f){return new s_(r,s,c,f)}function nd(r){return r=r.prototype,!(!r||!r.isReactComponent)}function o_(r){if(typeof r=="function")return nd(r)?1:0;if(r!=null){if(r=r.$$typeof,r===de)return 11;if(r===be)return 14}return 2}function Hn(r,s){var c=r.alternate;return c===null?(c=wr(r.tag,s,r.key,r.mode),c.elementType=r.elementType,c.type=r.type,c.stateNode=r.stateNode,c.alternate=r,r.alternate=c):(c.pendingProps=s,c.type=r.type,c.flags=0,c.subtreeFlags=0,c.deletions=null),c.flags=r.flags&14680064,c.childLanes=r.childLanes,c.lanes=r.lanes,c.child=r.child,c.memoizedProps=r.memoizedProps,c.memoizedState=r.memoizedState,c.updateQueue=r.updateQueue,s=r.dependencies,c.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext},c.sibling=r.sibling,c.index=r.index,c.ref=r.ref,c}function cl(r,s,c,f,v,w){var k=2;if(f=r,typeof r=="function")nd(r)&&(k=1);else if(typeof r=="string")k=5;else e:switch(r){case I:return ks(c.children,v,w,s);case z:k=8,v|=8;break;case q:return r=wr(12,c,s,v|2),r.elementType=q,r.lanes=w,r;case le:return r=wr(13,c,s,v),r.elementType=le,r.lanes=w,r;case me:return r=wr(19,c,s,v),r.elementType=me,r.lanes=w,r;case $:return ul(c,v,w,s);default:if(typeof r=="object"&&r!==null)switch(r.$$typeof){case ne:k=10;break e;case ce:k=9;break e;case de:k=11;break e;case be:k=14;break e;case B:k=16,f=null;break e}throw Error(n(130,r==null?r:typeof r,""))}return s=wr(k,c,s,v),s.elementType=r,s.type=f,s.lanes=w,s}function ks(r,s,c,f){return r=wr(7,r,f,s),r.lanes=c,r}function ul(r,s,c,f){return r=wr(22,r,f,s),r.elementType=$,r.lanes=c,r.stateNode={isHidden:!1},r}function sd(r,s,c){return r=wr(6,r,null,s),r.lanes=c,r}function od(r,s,c){return s=wr(4,r.children!==null?r.children:[],r.key,s),s.lanes=c,s.stateNode={containerInfo:r.containerInfo,pendingChildren:null,implementation:r.implementation},s}function i_(r,s,c,f,v){this.tag=s,this.containerInfo=r,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Ac(0),this.expirationTimes=Ac(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ac(0),this.identifierPrefix=f,this.onRecoverableError=v,this.mutableSourceEagerHydrationData=null}function id(r,s,c,f,v,w,k,R,T){return r=new i_(r,s,c,R,T),s===1?(s=1,w===!0&&(s|=8)):s=0,w=wr(3,null,null,s),r.current=w,w.stateNode=r,w.memoizedState={element:f,isDehydrated:c,cache:null,transitions:null,pendingSuspenseBoundaries:null},wu(w),r}function a_(r,s,c){var f=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:V,key:f==null?null:""+f,children:r,containerInfo:s,implementation:c}}function Dm(r){if(!r)return Ln;r=r._reactInternals;e:{if(hs(r)!==r||r.tag!==1)throw Error(n(170));var s=r;do{switch(s.tag){case 3:s=s.stateNode.context;break e;case 1:if(Vt(s.type)){s=s.stateNode.__reactInternalMemoizedMergedChildContext;break e}}s=s.return}while(s!==null);throw Error(n(171))}if(r.tag===1){var c=r.type;if(Vt(c))return cp(r,c,s)}return s}function Lm(r,s,c,f,v,w,k,R,T){return r=id(c,f,!0,r,v,w,k,R,T),r.context=Dm(null),c=r.current,f=Ft(),v=Vn(c),w=un(f,v),w.callback=s??null,Fn(c,w,v),r.current.lanes=v,ai(r,v,f),qt(r,f),r}function dl(r,s,c,f){var v=s.current,w=Ft(),k=Vn(v);return c=Dm(c),s.context===null?s.context=c:s.pendingContext=c,s=un(w,k),s.payload={element:r},f=f===void 0?null:f,f!==null&&(s.callback=f),r=Fn(v,s,k),r!==null&&(Tr(r,v,k,w),Ba(r,v,k)),k}function fl(r){if(r=r.current,!r.child)return null;switch(r.child.tag){case 5:return r.child.stateNode;default:return r.child.stateNode}}function $m(r,s){if(r=r.memoizedState,r!==null&&r.dehydrated!==null){var c=r.retryLane;r.retryLane=c!==0&&c<s?c:s}}function ad(r,s){$m(r,s),(r=r.alternate)&&$m(r,s)}function l_(){return null}var Mm=typeof reportError=="function"?reportError:function(r){console.error(r)};function ld(r){this._internalRoot=r}hl.prototype.render=ld.prototype.render=function(r){var s=this._internalRoot;if(s===null)throw Error(n(409));dl(r,s,null,null)},hl.prototype.unmount=ld.prototype.unmount=function(){var r=this._internalRoot;if(r!==null){this._internalRoot=null;var s=r.containerInfo;_s(function(){dl(null,r,null,null)}),s[sn]=null}};function hl(r){this._internalRoot=r}hl.prototype.unstable_scheduleHydration=function(r){if(r){var s=bh();r={blockedOn:null,target:r,priority:s};for(var c=0;c<Pn.length&&s!==0&&s<Pn[c].priority;c++);Pn.splice(c,0,r),c===0&&jh(r)}};function cd(r){return!(!r||r.nodeType!==1&&r.nodeType!==9&&r.nodeType!==11)}function pl(r){return!(!r||r.nodeType!==1&&r.nodeType!==9&&r.nodeType!==11&&(r.nodeType!==8||r.nodeValue!==" react-mount-point-unstable "))}function Fm(){}function c_(r,s,c,f,v){if(v){if(typeof f=="function"){var w=f;f=function(){var U=fl(k);w.call(U)}}var k=Lm(s,f,r,0,null,!1,!1,"",Fm);return r._reactRootContainer=k,r[sn]=k.current,bi(r.nodeType===8?r.parentNode:r),_s(),k}for(;v=r.lastChild;)r.removeChild(v);if(typeof f=="function"){var R=f;f=function(){var U=fl(T);R.call(U)}}var T=id(r,0,!1,null,null,!1,!1,"",Fm);return r._reactRootContainer=T,r[sn]=T.current,bi(r.nodeType===8?r.parentNode:r),_s(function(){dl(s,T,c,f)}),T}function ml(r,s,c,f,v){var w=c._reactRootContainer;if(w){var k=w;if(typeof v=="function"){var R=v;v=function(){var T=fl(k);R.call(T)}}dl(s,k,r,v)}else k=c_(c,s,r,v,f);return fl(k)}wh=function(r){switch(r.tag){case 3:var s=r.stateNode;if(s.current.memoizedState.isDehydrated){var c=ii(s.pendingLanes);c!==0&&(Oc(s,c|1),qt(s,st()),(Ue&6)===0&&(fo=st()+500,$n()))}break;case 13:_s(function(){var f=cn(r,1);if(f!==null){var v=Ft();Tr(f,r,1,v)}}),ad(r,1)}},Ic=function(r){if(r.tag===13){var s=cn(r,134217728);if(s!==null){var c=Ft();Tr(s,r,134217728,c)}ad(r,134217728)}},xh=function(r){if(r.tag===13){var s=Vn(r),c=cn(r,s);if(c!==null){var f=Ft();Tr(c,r,s,f)}ad(r,s)}},bh=function(){return We},_h=function(r,s){var c=We;try{return We=r,s()}finally{We=c}},ni=function(r,s,c){switch(s){case"input":if(Qt(r,c),s=c.name,c.type==="radio"&&s!=null){for(c=r;c.parentNode;)c=c.parentNode;for(c=c.querySelectorAll("input[name="+JSON.stringify(""+s)+'][type="radio"]'),s=0;s<c.length;s++){var f=c[s];if(f!==r&&f.form===r.form){var v=Aa(f);if(!v)throw Error(n(90));Fe(f),Qt(f,v)}}}break;case"textarea":aa(r,c);break;case"select":s=c.value,s!=null&&bn(r,!!c.multiple,s,!1)}},ft=ed,Nt=_s;var u_={usingClientEntryPoint:!1,Events:[ji,Xs,Aa,Pe,nt,ed]},Mi={findFiberByHostInstance:ps,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},d_={bundleType:Mi.bundleType,version:Mi.version,rendererPackageName:Mi.rendererPackageName,rendererConfig:Mi.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:P.ReactCurrentDispatcher,findHostInstanceByFiber:function(r){return r=dh(r),r===null?null:r.stateNode},findFiberByHostInstance:Mi.findFiberByHostInstance||l_,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var gl=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!gl.isDisabled&&gl.supportsFiber)try{ha=gl.inject(d_),Fr=gl}catch{}}return Kt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=u_,Kt.createPortal=function(r,s){var c=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!cd(s))throw Error(n(200));return a_(r,s,null,c)},Kt.createRoot=function(r,s){if(!cd(r))throw Error(n(299));var c=!1,f="",v=Mm;return s!=null&&(s.unstable_strictMode===!0&&(c=!0),s.identifierPrefix!==void 0&&(f=s.identifierPrefix),s.onRecoverableError!==void 0&&(v=s.onRecoverableError)),s=id(r,1,!1,null,null,c,!1,f,v),r[sn]=s.current,bi(r.nodeType===8?r.parentNode:r),new ld(s)},Kt.findDOMNode=function(r){if(r==null)return null;if(r.nodeType===1)return r;var s=r._reactInternals;if(s===void 0)throw typeof r.render=="function"?Error(n(188)):(r=Object.keys(r).join(","),Error(n(268,r)));return r=dh(s),r=r===null?null:r.stateNode,r},Kt.flushSync=function(r){return _s(r)},Kt.hydrate=function(r,s,c){if(!pl(s))throw Error(n(200));return ml(null,r,s,!0,c)},Kt.hydrateRoot=function(r,s,c){if(!cd(r))throw Error(n(405));var f=c!=null&&c.hydratedSources||null,v=!1,w="",k=Mm;if(c!=null&&(c.unstable_strictMode===!0&&(v=!0),c.identifierPrefix!==void 0&&(w=c.identifierPrefix),c.onRecoverableError!==void 0&&(k=c.onRecoverableError)),s=Lm(s,null,r,1,c??null,v,!1,w,k),r[sn]=s.current,bi(r),f)for(r=0;r<f.length;r++)c=f[r],v=c._getVersion,v=v(c._source),s.mutableSourceEagerHydrationData==null?s.mutableSourceEagerHydrationData=[c,v]:s.mutableSourceEagerHydrationData.push(c,v);return new hl(s)},Kt.render=function(r,s,c){if(!pl(s))throw Error(n(200));return ml(null,r,s,!1,c)},Kt.unmountComponentAtNode=function(r){if(!pl(r))throw Error(n(40));return r._reactRootContainer?(_s(function(){ml(null,null,r,!1,function(){r._reactRootContainer=null,r[sn]=null})}),!0):!1},Kt.unstable_batchedUpdates=ed,Kt.unstable_renderSubtreeIntoContainer=function(r,s,c,f){if(!pl(c))throw Error(n(200));if(r==null||r._reactInternals===void 0)throw Error(n(38));return ml(r,s,c,!1,f)},Kt.version="18.3.1-next-f1338f8080-20240426",Kt}var Km;function Sv(){if(Km)return fd.exports;Km=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),fd.exports=w_(),fd.exports}var Gm;function x_(){if(Gm)return vl;Gm=1;var t=Sv();return vl.createRoot=t.createRoot,vl.hydrateRoot=t.hydrateRoot,vl}var b_=x_(),y=nc();const te=bf(y),sc=_v({__proto__:null,default:te},[y]);var ra=Sv();const jv=bf(ra);/**
 * @remix-run/router v1.23.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function qi(){return qi=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(t[o]=n[o])}return t},qi.apply(this,arguments)}var Xn;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(Xn||(Xn={}));const Ym="popstate";function __(t){t===void 0&&(t={});function e(o,i){let{pathname:a,search:u,hash:d}=o.location;return Bd("",{pathname:a,search:u,hash:d},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function n(o,i){return typeof i=="string"?i:Ul(i)}return j_(e,n,null,t)}function it(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function _f(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function S_(){return Math.random().toString(36).substr(2,8)}function Jm(t,e){return{usr:t.state,key:t.key,idx:e}}function Bd(t,e,n,o){return n===void 0&&(n=null),qi({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?Lo(e):e,{state:n,key:e&&e.key||o||S_()})}function Ul(t){let{pathname:e="/",search:n="",hash:o=""}=t;return n&&n!=="?"&&(e+=n.charAt(0)==="?"?n:"?"+n),o&&o!=="#"&&(e+=o.charAt(0)==="#"?o:"#"+o),e}function Lo(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substr(n),t=t.substr(0,n));let o=t.indexOf("?");o>=0&&(e.search=t.substr(o),t=t.substr(0,o)),t&&(e.pathname=t)}return e}function j_(t,e,n,o){o===void 0&&(o={});let{window:i=document.defaultView,v5Compat:a=!1}=o,u=i.history,d=Xn.Pop,h=null,p=g();p==null&&(p=0,u.replaceState(qi({},u.state,{idx:p}),""));function g(){return(u.state||{idx:null}).idx}function m(){d=Xn.Pop;let S=g(),E=S==null?null:S-p;p=S,h&&h({action:d,location:_.location,delta:E})}function x(S,E){d=Xn.Push;let N=Bd(_.location,S,E);p=g()+1;let C=Jm(N,p),P=_.createHref(N);try{u.pushState(C,"",P)}catch(F){if(F instanceof DOMException&&F.name==="DataCloneError")throw F;i.location.assign(P)}a&&h&&h({action:d,location:_.location,delta:1})}function b(S,E){d=Xn.Replace;let N=Bd(_.location,S,E);p=g();let C=Jm(N,p),P=_.createHref(N);u.replaceState(C,"",P),a&&h&&h({action:d,location:_.location,delta:0})}function j(S){let E=i.location.origin!=="null"?i.location.origin:i.location.href,N=typeof S=="string"?S:Ul(S);return N=N.replace(/ $/,"%20"),it(E,"No window.location.(origin|href) available to create URL for href: "+N),new URL(N,E)}let _={get action(){return d},get location(){return t(i,u)},listen(S){if(h)throw new Error("A history only accepts one active listener");return i.addEventListener(Ym,m),h=S,()=>{i.removeEventListener(Ym,m),h=null}},createHref(S){return e(i,S)},createURL:j,encodeLocation(S){let E=j(S);return{pathname:E.pathname,search:E.search,hash:E.hash}},push:x,replace:b,go(S){return u.go(S)}};return _}var Qm;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(Qm||(Qm={}));function k_(t,e,n){return n===void 0&&(n="/"),E_(t,e,n)}function E_(t,e,n,o){let i=typeof e=="string"?Lo(e):e,a=Sf(i.pathname||"/",n);if(a==null)return null;let u=kv(t);N_(u);let d=null;for(let h=0;d==null&&h<u.length;++h){let p=F_(a);d=L_(u[h],p)}return d}function kv(t,e,n,o){e===void 0&&(e=[]),n===void 0&&(n=[]),o===void 0&&(o="");let i=(a,u,d)=>{let h={relativePath:d===void 0?a.path||"":d,caseSensitive:a.caseSensitive===!0,childrenIndex:u,route:a};h.relativePath.startsWith("/")&&(it(h.relativePath.startsWith(o),'Absolute route path "'+h.relativePath+'" nested under path '+('"'+o+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),h.relativePath=h.relativePath.slice(o.length));let p=es([o,h.relativePath]),g=n.concat(h);a.children&&a.children.length>0&&(it(a.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+p+'".')),kv(a.children,e,g,p)),!(a.path==null&&!a.index)&&e.push({path:p,score:I_(p,a.index),routesMeta:g})};return t.forEach((a,u)=>{var d;if(a.path===""||!((d=a.path)!=null&&d.includes("?")))i(a,u);else for(let h of Ev(a.path))i(a,u,h)}),e}function Ev(t){let e=t.split("/");if(e.length===0)return[];let[n,...o]=e,i=n.endsWith("?"),a=n.replace(/\?$/,"");if(o.length===0)return i?[a,""]:[a];let u=Ev(o.join("/")),d=[];return d.push(...u.map(h=>h===""?a:[a,h].join("/"))),i&&d.push(...u),d.map(h=>t.startsWith("/")&&h===""?"/":h)}function N_(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:D_(e.routesMeta.map(o=>o.childrenIndex),n.routesMeta.map(o=>o.childrenIndex)))}const C_=/^:[\w-]+$/,R_=3,T_=2,P_=1,A_=10,O_=-2,Xm=t=>t==="*";function I_(t,e){let n=t.split("/"),o=n.length;return n.some(Xm)&&(o+=O_),e&&(o+=T_),n.filter(i=>!Xm(i)).reduce((i,a)=>i+(C_.test(a)?R_:a===""?P_:A_),o)}function D_(t,e){return t.length===e.length&&t.slice(0,-1).every((o,i)=>o===e[i])?t[t.length-1]-e[e.length-1]:0}function L_(t,e,n){let{routesMeta:o}=t,i={},a="/",u=[];for(let d=0;d<o.length;++d){let h=o[d],p=d===o.length-1,g=a==="/"?e:e.slice(a.length)||"/",m=$_({path:h.relativePath,caseSensitive:h.caseSensitive,end:p},g),x=h.route;if(!m)return null;Object.assign(i,m.params),u.push({params:i,pathname:es([a,m.pathname]),pathnameBase:W_(es([a,m.pathnameBase])),route:x}),m.pathnameBase!=="/"&&(a=es([a,m.pathnameBase]))}return u}function $_(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,o]=M_(t.path,t.caseSensitive,t.end),i=e.match(n);if(!i)return null;let a=i[0],u=a.replace(/(.)\/+$/,"$1"),d=i.slice(1);return{params:o.reduce((p,g,m)=>{let{paramName:x,isOptional:b}=g;if(x==="*"){let _=d[m]||"";u=a.slice(0,a.length-_.length).replace(/(.)\/+$/,"$1")}const j=d[m];return b&&!j?p[x]=void 0:p[x]=(j||"").replace(/%2F/g,"/"),p},{}),pathname:a,pathnameBase:u,pattern:t}}function M_(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!0),_f(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let o=[],i="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(u,d,h)=>(o.push({paramName:d,isOptional:h!=null}),h?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(o.push({paramName:"*"}),i+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":t!==""&&t!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),o]}function F_(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return _f(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function Sf(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,o=t.charAt(n);return o&&o!=="/"?null:t.slice(n)||"/"}const U_=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,z_=t=>U_.test(t);function B_(t,e){e===void 0&&(e="/");let{pathname:n,search:o="",hash:i=""}=typeof t=="string"?Lo(t):t,a;if(n)if(z_(n))a=n;else{if(n.includes("//")){let u=n;n=n.replace(/\/\/+/g,"/"),_f(!1,"Pathnames cannot have embedded double slashes - normalizing "+(u+" -> "+n))}n.startsWith("/")?a=Zm(n.substring(1),"/"):a=Zm(n,e)}else a=e;return{pathname:a,search:H_(o),hash:q_(i)}}function Zm(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function md(t,e,n,o){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(o)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function V_(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function jf(t,e){let n=V_(t);return e?n.map((o,i)=>i===n.length-1?o.pathname:o.pathnameBase):n.map(o=>o.pathnameBase)}function kf(t,e,n,o){o===void 0&&(o=!1);let i;typeof t=="string"?i=Lo(t):(i=qi({},t),it(!i.pathname||!i.pathname.includes("?"),md("?","pathname","search",i)),it(!i.pathname||!i.pathname.includes("#"),md("#","pathname","hash",i)),it(!i.search||!i.search.includes("#"),md("#","search","hash",i)));let a=t===""||i.pathname==="",u=a?"/":i.pathname,d;if(u==null)d=n;else{let m=e.length-1;if(!o&&u.startsWith("..")){let x=u.split("/");for(;x[0]==="..";)x.shift(),m-=1;i.pathname=x.join("/")}d=m>=0?e[m]:"/"}let h=B_(i,d),p=u&&u!=="/"&&u.endsWith("/"),g=(a||u===".")&&n.endsWith("/");return!h.pathname.endsWith("/")&&(p||g)&&(h.pathname+="/"),h}const es=t=>t.join("/").replace(/\/\/+/g,"/"),W_=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),H_=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,q_=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function K_(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const Nv=["post","put","patch","delete"];new Set(Nv);const G_=["get",...Nv];new Set(G_);/**
 * React Router v6.30.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Ki(){return Ki=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(t[o]=n[o])}return t},Ki.apply(this,arguments)}const Ef=y.createContext(null),Y_=y.createContext(null),ss=y.createContext(null),oc=y.createContext(null),yn=y.createContext({outlet:null,matches:[],isDataRoute:!1}),Cv=y.createContext(null);function J_(t,e){let{relative:n}=e===void 0?{}:e;$o()||it(!1);let{basename:o,navigator:i}=y.useContext(ss),{hash:a,pathname:u,search:d}=Tv(t,{relative:n}),h=u;return o!=="/"&&(h=u==="/"?o:es([o,u])),i.createHref({pathname:h,search:d,hash:a})}function $o(){return y.useContext(oc)!=null}function Mo(){return $o()||it(!1),y.useContext(oc).location}function Rv(t){y.useContext(ss).static||y.useLayoutEffect(t)}function Xr(){let{isDataRoute:t}=y.useContext(yn);return t?uS():Q_()}function Q_(){$o()||it(!1);let t=y.useContext(Ef),{basename:e,future:n,navigator:o}=y.useContext(ss),{matches:i}=y.useContext(yn),{pathname:a}=Mo(),u=JSON.stringify(jf(i,n.v7_relativeSplatPath)),d=y.useRef(!1);return Rv(()=>{d.current=!0}),y.useCallback(function(p,g){if(g===void 0&&(g={}),!d.current)return;if(typeof p=="number"){o.go(p);return}let m=kf(p,JSON.parse(u),a,g.relative==="path");t==null&&e!=="/"&&(m.pathname=m.pathname==="/"?e:es([e,m.pathname])),(g.replace?o.replace:o.push)(m,g.state,g)},[e,o,u,a,t])}function X_(){let{matches:t}=y.useContext(yn),e=t[t.length-1];return e?e.params:{}}function Tv(t,e){let{relative:n}=e===void 0?{}:e,{future:o}=y.useContext(ss),{matches:i}=y.useContext(yn),{pathname:a}=Mo(),u=JSON.stringify(jf(i,o.v7_relativeSplatPath));return y.useMemo(()=>kf(t,JSON.parse(u),a,n==="path"),[t,u,a,n])}function Z_(t,e){return eS(t,e)}function eS(t,e,n,o){$o()||it(!1);let{navigator:i}=y.useContext(ss),{matches:a}=y.useContext(yn),u=a[a.length-1],d=u?u.params:{};u&&u.pathname;let h=u?u.pathnameBase:"/";u&&u.route;let p=Mo(),g;if(e){var m;let S=typeof e=="string"?Lo(e):e;h==="/"||(m=S.pathname)!=null&&m.startsWith(h)||it(!1),g=S}else g=p;let x=g.pathname||"/",b=x;if(h!=="/"){let S=h.replace(/^\//,"").split("/");b="/"+x.replace(/^\//,"").split("/").slice(S.length).join("/")}let j=k_(t,{pathname:b}),_=oS(j&&j.map(S=>Object.assign({},S,{params:Object.assign({},d,S.params),pathname:es([h,i.encodeLocation?i.encodeLocation(S.pathname).pathname:S.pathname]),pathnameBase:S.pathnameBase==="/"?h:es([h,i.encodeLocation?i.encodeLocation(S.pathnameBase).pathname:S.pathnameBase])})),a,n,o);return e&&_?y.createElement(oc.Provider,{value:{location:Ki({pathname:"/",search:"",hash:"",state:null,key:"default"},g),navigationType:Xn.Pop}},_):_}function tS(){let t=cS(),e=K_(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return y.createElement(y.Fragment,null,y.createElement("h2",null,"Unexpected Application Error!"),y.createElement("h3",{style:{fontStyle:"italic"}},e),n?y.createElement("pre",{style:i},n):null,null)}const rS=y.createElement(tS,null);class nS extends y.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,n){return n.location!==e.location||n.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:n.error,location:n.location,revalidation:e.revalidation||n.revalidation}}componentDidCatch(e,n){console.error("React Router caught the following error during render",e,n)}render(){return this.state.error!==void 0?y.createElement(yn.Provider,{value:this.props.routeContext},y.createElement(Cv.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function sS(t){let{routeContext:e,match:n,children:o}=t,i=y.useContext(Ef);return i&&i.static&&i.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=n.route.id),y.createElement(yn.Provider,{value:e},o)}function oS(t,e,n,o){var i;if(e===void 0&&(e=[]),n===void 0&&(n=null),o===void 0&&(o=null),t==null){var a;if(!n)return null;if(n.errors)t=n.matches;else if((a=o)!=null&&a.v7_partialHydration&&e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let u=t,d=(i=n)==null?void 0:i.errors;if(d!=null){let g=u.findIndex(m=>m.route.id&&d?.[m.route.id]!==void 0);g>=0||it(!1),u=u.slice(0,Math.min(u.length,g+1))}let h=!1,p=-1;if(n&&o&&o.v7_partialHydration)for(let g=0;g<u.length;g++){let m=u[g];if((m.route.HydrateFallback||m.route.hydrateFallbackElement)&&(p=g),m.route.id){let{loaderData:x,errors:b}=n,j=m.route.loader&&x[m.route.id]===void 0&&(!b||b[m.route.id]===void 0);if(m.route.lazy||j){h=!0,p>=0?u=u.slice(0,p+1):u=[u[0]];break}}}return u.reduceRight((g,m,x)=>{let b,j=!1,_=null,S=null;n&&(b=d&&m.route.id?d[m.route.id]:void 0,_=m.route.errorElement||rS,h&&(p<0&&x===0?(dS("route-fallback"),j=!0,S=null):p===x&&(j=!0,S=m.route.hydrateFallbackElement||null)));let E=e.concat(u.slice(0,x+1)),N=()=>{let C;return b?C=_:j?C=S:m.route.Component?C=y.createElement(m.route.Component,null):m.route.element?C=m.route.element:C=g,y.createElement(sS,{match:m,routeContext:{outlet:g,matches:E,isDataRoute:n!=null},children:C})};return n&&(m.route.ErrorBoundary||m.route.errorElement||x===0)?y.createElement(nS,{location:n.location,revalidation:n.revalidation,component:_,error:b,children:N(),routeContext:{outlet:null,matches:E,isDataRoute:!0}}):N()},null)}var Pv=(function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t})(Pv||{}),Av=(function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t})(Av||{});function iS(t){let e=y.useContext(Ef);return e||it(!1),e}function aS(t){let e=y.useContext(Y_);return e||it(!1),e}function lS(t){let e=y.useContext(yn);return e||it(!1),e}function Ov(t){let e=lS(),n=e.matches[e.matches.length-1];return n.route.id||it(!1),n.route.id}function cS(){var t;let e=y.useContext(Cv),n=aS(),o=Ov();return e!==void 0?e:(t=n.errors)==null?void 0:t[o]}function uS(){let{router:t}=iS(Pv.UseNavigateStable),e=Ov(Av.UseNavigateStable),n=y.useRef(!1);return Rv(()=>{n.current=!0}),y.useCallback(function(i,a){a===void 0&&(a={}),n.current&&(typeof i=="number"?t.navigate(i):t.navigate(i,Ki({fromRouteId:e},a)))},[t,e])}const eg={};function dS(t,e,n){eg[t]||(eg[t]=!0)}function fS(t,e){t?.v7_startTransition,t?.v7_relativeSplatPath}function Vd(t){let{to:e,replace:n,state:o,relative:i}=t;$o()||it(!1);let{future:a,static:u}=y.useContext(ss),{matches:d}=y.useContext(yn),{pathname:h}=Mo(),p=Xr(),g=kf(e,jf(d,a.v7_relativeSplatPath),h,i==="path"),m=JSON.stringify(g);return y.useEffect(()=>p(JSON.parse(m),{replace:n,state:o,relative:i}),[p,m,i,n,o]),null}function xr(t){it(!1)}function hS(t){let{basename:e="/",children:n=null,location:o,navigationType:i=Xn.Pop,navigator:a,static:u=!1,future:d}=t;$o()&&it(!1);let h=e.replace(/^\/*/,"/"),p=y.useMemo(()=>({basename:h,navigator:a,static:u,future:Ki({v7_relativeSplatPath:!1},d)}),[h,d,a,u]);typeof o=="string"&&(o=Lo(o));let{pathname:g="/",search:m="",hash:x="",state:b=null,key:j="default"}=o,_=y.useMemo(()=>{let S=Sf(g,h);return S==null?null:{location:{pathname:S,search:m,hash:x,state:b,key:j},navigationType:i}},[h,g,m,x,b,j,i]);return _==null?null:y.createElement(ss.Provider,{value:p},y.createElement(oc.Provider,{children:n,value:_}))}function pS(t){let{children:e,location:n}=t;return Z_(Wd(e),n)}new Promise(()=>{});function Wd(t,e){e===void 0&&(e=[]);let n=[];return y.Children.forEach(t,(o,i)=>{if(!y.isValidElement(o))return;let a=[...e,i];if(o.type===y.Fragment){n.push.apply(n,Wd(o.props.children,a));return}o.type!==xr&&it(!1),!o.props.index||!o.props.children||it(!1);let u={id:o.props.id||a.join("-"),caseSensitive:o.props.caseSensitive,element:o.props.element,Component:o.props.Component,index:o.props.index,path:o.props.path,loader:o.props.loader,action:o.props.action,errorElement:o.props.errorElement,ErrorBoundary:o.props.ErrorBoundary,hasErrorBoundary:o.props.ErrorBoundary!=null||o.props.errorElement!=null,shouldRevalidate:o.props.shouldRevalidate,handle:o.props.handle,lazy:o.props.lazy};o.props.children&&(u.children=Wd(o.props.children,a)),n.push(u)}),n}/**
 * React Router DOM v6.30.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Hd(){return Hd=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(t[o]=n[o])}return t},Hd.apply(this,arguments)}function mS(t,e){if(t==null)return{};var n={},o=Object.keys(t),i,a;for(a=0;a<o.length;a++)i=o[a],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function gS(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function vS(t,e){return t.button===0&&(!e||e==="_self")&&!gS(t)}const yS=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],wS="6";try{window.__reactRouterVersion=wS}catch{}const xS="startTransition",tg=sc[xS];function bS(t){let{basename:e,children:n,future:o,window:i}=t,a=y.useRef();a.current==null&&(a.current=__({window:i,v5Compat:!0}));let u=a.current,[d,h]=y.useState({action:u.action,location:u.location}),{v7_startTransition:p}=o||{},g=y.useCallback(m=>{p&&tg?tg(()=>h(m)):h(m)},[h,p]);return y.useLayoutEffect(()=>u.listen(g),[u,g]),y.useEffect(()=>fS(o),[o]),y.createElement(hS,{basename:e,children:n,location:d.location,navigationType:d.action,navigator:u,future:o})}const _S=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",SS=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,jS=y.forwardRef(function(e,n){let{onClick:o,relative:i,reloadDocument:a,replace:u,state:d,target:h,to:p,preventScrollReset:g,viewTransition:m}=e,x=mS(e,yS),{basename:b}=y.useContext(ss),j,_=!1;if(typeof p=="string"&&SS.test(p)&&(j=p,_S))try{let C=new URL(window.location.href),P=p.startsWith("//")?new URL(C.protocol+p):new URL(p),F=Sf(P.pathname,b);P.origin===C.origin&&F!=null?p=F+P.search+P.hash:_=!0}catch{}let S=J_(p,{relative:i}),E=kS(p,{replace:u,state:d,target:h,preventScrollReset:g,relative:i,viewTransition:m});function N(C){o&&o(C),C.defaultPrevented||E(C)}return y.createElement("a",Hd({},x,{href:j||S,onClick:_||a?o:N,ref:n,target:h}))});var rg;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(rg||(rg={}));var ng;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(ng||(ng={}));function kS(t,e){let{target:n,replace:o,state:i,preventScrollReset:a,relative:u,viewTransition:d}=e===void 0?{}:e,h=Xr(),p=Mo(),g=Tv(t,{relative:u});return y.useCallback(m=>{if(vS(m,n)){m.preventDefault();let x=o!==void 0?o:Ul(p)===Ul(g);h(t,{replace:x,state:i,preventScrollReset:a,relative:u,viewTransition:d})}},[p,h,g,o,i,n,t,a,u,d])}function Iv(t){var e,n,o="";if(typeof t=="string"||typeof t=="number")o+=t;else if(typeof t=="object")if(Array.isArray(t)){var i=t.length;for(e=0;e<i;e++)t[e]&&(n=Iv(t[e]))&&(o&&(o+=" "),o+=n)}else for(n in t)t[n]&&(o&&(o+=" "),o+=n);return o}function Dv(){for(var t,e,n=0,o="",i=arguments.length;n<i;n++)(t=arguments[n])&&(e=Iv(t))&&(o&&(o+=" "),o+=e);return o}const ES=(t,e)=>{const n=new Array(t.length+e.length);for(let o=0;o<t.length;o++)n[o]=t[o];for(let o=0;o<e.length;o++)n[t.length+o]=e[o];return n},NS=(t,e)=>({classGroupId:t,validator:e}),Lv=(t=new Map,e=null,n)=>({nextPart:t,validators:e,classGroupId:n}),zl="-",sg=[],CS="arbitrary..",RS=t=>{const e=PS(t),{conflictingClassGroups:n,conflictingClassGroupModifiers:o}=t;return{getClassGroupId:u=>{if(u.startsWith("[")&&u.endsWith("]"))return TS(u);const d=u.split(zl),h=d[0]===""&&d.length>1?1:0;return $v(d,h,e)},getConflictingClassGroupIds:(u,d)=>{if(d){const h=o[u],p=n[u];return h?p?ES(p,h):h:p||sg}return n[u]||sg}}},$v=(t,e,n)=>{if(t.length-e===0)return n.classGroupId;const i=t[e],a=n.nextPart.get(i);if(a){const p=$v(t,e+1,a);if(p)return p}const u=n.validators;if(u===null)return;const d=e===0?t.join(zl):t.slice(e).join(zl),h=u.length;for(let p=0;p<h;p++){const g=u[p];if(g.validator(d))return g.classGroupId}},TS=t=>t.slice(1,-1).indexOf(":")===-1?void 0:(()=>{const e=t.slice(1,-1),n=e.indexOf(":"),o=e.slice(0,n);return o?CS+o:void 0})(),PS=t=>{const{theme:e,classGroups:n}=t;return AS(n,e)},AS=(t,e)=>{const n=Lv();for(const o in t){const i=t[o];Nf(i,n,o,e)}return n},Nf=(t,e,n,o)=>{const i=t.length;for(let a=0;a<i;a++){const u=t[a];OS(u,e,n,o)}},OS=(t,e,n,o)=>{if(typeof t=="string"){IS(t,e,n);return}if(typeof t=="function"){DS(t,e,n,o);return}LS(t,e,n,o)},IS=(t,e,n)=>{const o=t===""?e:Mv(e,t);o.classGroupId=n},DS=(t,e,n,o)=>{if($S(t)){Nf(t(o),e,n,o);return}e.validators===null&&(e.validators=[]),e.validators.push(NS(n,t))},LS=(t,e,n,o)=>{const i=Object.entries(t),a=i.length;for(let u=0;u<a;u++){const[d,h]=i[u];Nf(h,Mv(e,d),n,o)}},Mv=(t,e)=>{let n=t;const o=e.split(zl),i=o.length;for(let a=0;a<i;a++){const u=o[a];let d=n.nextPart.get(u);d||(d=Lv(),n.nextPart.set(u,d)),n=d}return n},$S=t=>"isThemeGetter"in t&&t.isThemeGetter===!0,MS=t=>{if(t<1)return{get:()=>{},set:()=>{}};let e=0,n=Object.create(null),o=Object.create(null);const i=(a,u)=>{n[a]=u,e++,e>t&&(e=0,o=n,n=Object.create(null))};return{get(a){let u=n[a];if(u!==void 0)return u;if((u=o[a])!==void 0)return i(a,u),u},set(a,u){a in n?n[a]=u:i(a,u)}}},qd="!",og=":",FS=[],ig=(t,e,n,o,i)=>({modifiers:t,hasImportantModifier:e,baseClassName:n,maybePostfixModifierPosition:o,isExternal:i}),US=t=>{const{prefix:e,experimentalParseClassName:n}=t;let o=i=>{const a=[];let u=0,d=0,h=0,p;const g=i.length;for(let _=0;_<g;_++){const S=i[_];if(u===0&&d===0){if(S===og){a.push(i.slice(h,_)),h=_+1;continue}if(S==="/"){p=_;continue}}S==="["?u++:S==="]"?u--:S==="("?d++:S===")"&&d--}const m=a.length===0?i:i.slice(h);let x=m,b=!1;m.endsWith(qd)?(x=m.slice(0,-1),b=!0):m.startsWith(qd)&&(x=m.slice(1),b=!0);const j=p&&p>h?p-h:void 0;return ig(a,b,x,j)};if(e){const i=e+og,a=o;o=u=>u.startsWith(i)?a(u.slice(i.length)):ig(FS,!1,u,void 0,!0)}if(n){const i=o;o=a=>n({className:a,parseClassName:i})}return o},zS=t=>{const e=new Map;return t.orderSensitiveModifiers.forEach((n,o)=>{e.set(n,1e6+o)}),n=>{const o=[];let i=[];for(let a=0;a<n.length;a++){const u=n[a],d=u[0]==="[",h=e.has(u);d||h?(i.length>0&&(i.sort(),o.push(...i),i=[]),o.push(u)):i.push(u)}return i.length>0&&(i.sort(),o.push(...i)),o}},BS=t=>({cache:MS(t.cacheSize),parseClassName:US(t),sortModifiers:zS(t),...RS(t)}),VS=/\s+/,WS=(t,e)=>{const{parseClassName:n,getClassGroupId:o,getConflictingClassGroupIds:i,sortModifiers:a}=e,u=[],d=t.trim().split(VS);let h="";for(let p=d.length-1;p>=0;p-=1){const g=d[p],{isExternal:m,modifiers:x,hasImportantModifier:b,baseClassName:j,maybePostfixModifierPosition:_}=n(g);if(m){h=g+(h.length>0?" "+h:h);continue}let S=!!_,E=o(S?j.substring(0,_):j);if(!E){if(!S){h=g+(h.length>0?" "+h:h);continue}if(E=o(j),!E){h=g+(h.length>0?" "+h:h);continue}S=!1}const N=x.length===0?"":x.length===1?x[0]:a(x).join(":"),C=b?N+qd:N,P=C+E;if(u.indexOf(P)>-1)continue;u.push(P);const F=i(E,S);for(let V=0;V<F.length;++V){const I=F[V];u.push(C+I)}h=g+(h.length>0?" "+h:h)}return h},HS=(...t)=>{let e=0,n,o,i="";for(;e<t.length;)(n=t[e++])&&(o=Fv(n))&&(i&&(i+=" "),i+=o);return i},Fv=t=>{if(typeof t=="string")return t;let e,n="";for(let o=0;o<t.length;o++)t[o]&&(e=Fv(t[o]))&&(n&&(n+=" "),n+=e);return n},qS=(t,...e)=>{let n,o,i,a;const u=h=>{const p=e.reduce((g,m)=>m(g),t());return n=BS(p),o=n.cache.get,i=n.cache.set,a=d,d(h)},d=h=>{const p=o(h);if(p)return p;const g=WS(h,n);return i(h,g),g};return a=u,(...h)=>a(HS(...h))},KS=[],mt=t=>{const e=n=>n[t]||KS;return e.isThemeGetter=!0,e},Uv=/^\[(?:(\w[\w-]*):)?(.+)\]$/i,zv=/^\((?:(\w[\w-]*):)?(.+)\)$/i,GS=/^\d+\/\d+$/,YS=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,JS=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,QS=/^(rgba?|hsla?|hwb|(ok)?(lab|lch)|color-mix)\(.+\)$/,XS=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,ZS=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,po=t=>GS.test(t),Ie=t=>!!t&&!Number.isNaN(Number(t)),Kn=t=>!!t&&Number.isInteger(Number(t)),gd=t=>t.endsWith("%")&&Ie(t.slice(0,-1)),hn=t=>YS.test(t),ej=()=>!0,tj=t=>JS.test(t)&&!QS.test(t),Bv=()=>!1,rj=t=>XS.test(t),nj=t=>ZS.test(t),sj=t=>!he(t)&&!pe(t),oj=t=>Fo(t,Hv,Bv),he=t=>Uv.test(t),Es=t=>Fo(t,qv,tj),vd=t=>Fo(t,uj,Ie),ag=t=>Fo(t,Vv,Bv),ij=t=>Fo(t,Wv,nj),yl=t=>Fo(t,Kv,rj),pe=t=>zv.test(t),Ui=t=>Uo(t,qv),aj=t=>Uo(t,dj),lg=t=>Uo(t,Vv),lj=t=>Uo(t,Hv),cj=t=>Uo(t,Wv),wl=t=>Uo(t,Kv,!0),Fo=(t,e,n)=>{const o=Uv.exec(t);return o?o[1]?e(o[1]):n(o[2]):!1},Uo=(t,e,n=!1)=>{const o=zv.exec(t);return o?o[1]?e(o[1]):n:!1},Vv=t=>t==="position"||t==="percentage",Wv=t=>t==="image"||t==="url",Hv=t=>t==="length"||t==="size"||t==="bg-size",qv=t=>t==="length",uj=t=>t==="number",dj=t=>t==="family-name",Kv=t=>t==="shadow",fj=()=>{const t=mt("color"),e=mt("font"),n=mt("text"),o=mt("font-weight"),i=mt("tracking"),a=mt("leading"),u=mt("breakpoint"),d=mt("container"),h=mt("spacing"),p=mt("radius"),g=mt("shadow"),m=mt("inset-shadow"),x=mt("text-shadow"),b=mt("drop-shadow"),j=mt("blur"),_=mt("perspective"),S=mt("aspect"),E=mt("ease"),N=mt("animate"),C=()=>["auto","avoid","all","avoid-page","page","left","right","column"],P=()=>["center","top","bottom","left","right","top-left","left-top","top-right","right-top","bottom-right","right-bottom","bottom-left","left-bottom"],F=()=>[...P(),pe,he],V=()=>["auto","hidden","clip","visible","scroll"],I=()=>["auto","contain","none"],z=()=>[pe,he,h],q=()=>[po,"full","auto",...z()],ne=()=>[Kn,"none","subgrid",pe,he],ce=()=>["auto",{span:["full",Kn,pe,he]},Kn,pe,he],de=()=>[Kn,"auto",pe,he],le=()=>["auto","min","max","fr",pe,he],me=()=>["start","end","center","between","around","evenly","stretch","baseline","center-safe","end-safe"],be=()=>["start","end","center","stretch","center-safe","end-safe"],B=()=>["auto",...z()],$=()=>[po,"auto","full","dvw","dvh","lvw","lvh","svw","svh","min","max","fit",...z()],O=()=>[t,pe,he],Z=()=>[...P(),lg,ag,{position:[pe,he]}],K=()=>["no-repeat",{repeat:["","x","y","space","round"]}],D=()=>["auto","cover","contain",lj,oj,{size:[pe,he]}],H=()=>[gd,Ui,Es],Q=()=>["","none","full",p,pe,he],W=()=>["",Ie,Ui,Es],oe=()=>["solid","dashed","dotted","double"],_e=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],J=()=>[Ie,gd,lg,ag],se=()=>["","none",j,pe,he],Se=()=>["none",Ie,pe,he],Ce=()=>["none",Ie,pe,he],De=()=>[Ie,pe,he],Fe=()=>[po,"full",...z()];return{cacheSize:500,theme:{animate:["spin","ping","pulse","bounce"],aspect:["video"],blur:[hn],breakpoint:[hn],color:[ej],container:[hn],"drop-shadow":[hn],ease:["in","out","in-out"],font:[sj],"font-weight":["thin","extralight","light","normal","medium","semibold","bold","extrabold","black"],"inset-shadow":[hn],leading:["none","tight","snug","normal","relaxed","loose"],perspective:["dramatic","near","normal","midrange","distant","none"],radius:[hn],shadow:[hn],spacing:["px",Ie],text:[hn],"text-shadow":[hn],tracking:["tighter","tight","normal","wide","wider","widest"]},classGroups:{aspect:[{aspect:["auto","square",po,he,pe,S]}],container:["container"],columns:[{columns:[Ie,he,pe,d]}],"break-after":[{"break-after":C()}],"break-before":[{"break-before":C()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],sr:["sr-only","not-sr-only"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:F()}],overflow:[{overflow:V()}],"overflow-x":[{"overflow-x":V()}],"overflow-y":[{"overflow-y":V()}],overscroll:[{overscroll:I()}],"overscroll-x":[{"overscroll-x":I()}],"overscroll-y":[{"overscroll-y":I()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:q()}],"inset-x":[{"inset-x":q()}],"inset-y":[{"inset-y":q()}],start:[{start:q()}],end:[{end:q()}],top:[{top:q()}],right:[{right:q()}],bottom:[{bottom:q()}],left:[{left:q()}],visibility:["visible","invisible","collapse"],z:[{z:[Kn,"auto",pe,he]}],basis:[{basis:[po,"full","auto",d,...z()]}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["nowrap","wrap","wrap-reverse"]}],flex:[{flex:[Ie,po,"auto","initial","none",he]}],grow:[{grow:["",Ie,pe,he]}],shrink:[{shrink:["",Ie,pe,he]}],order:[{order:[Kn,"first","last","none",pe,he]}],"grid-cols":[{"grid-cols":ne()}],"col-start-end":[{col:ce()}],"col-start":[{"col-start":de()}],"col-end":[{"col-end":de()}],"grid-rows":[{"grid-rows":ne()}],"row-start-end":[{row:ce()}],"row-start":[{"row-start":de()}],"row-end":[{"row-end":de()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":le()}],"auto-rows":[{"auto-rows":le()}],gap:[{gap:z()}],"gap-x":[{"gap-x":z()}],"gap-y":[{"gap-y":z()}],"justify-content":[{justify:[...me(),"normal"]}],"justify-items":[{"justify-items":[...be(),"normal"]}],"justify-self":[{"justify-self":["auto",...be()]}],"align-content":[{content:["normal",...me()]}],"align-items":[{items:[...be(),{baseline:["","last"]}]}],"align-self":[{self:["auto",...be(),{baseline:["","last"]}]}],"place-content":[{"place-content":me()}],"place-items":[{"place-items":[...be(),"baseline"]}],"place-self":[{"place-self":["auto",...be()]}],p:[{p:z()}],px:[{px:z()}],py:[{py:z()}],ps:[{ps:z()}],pe:[{pe:z()}],pt:[{pt:z()}],pr:[{pr:z()}],pb:[{pb:z()}],pl:[{pl:z()}],m:[{m:B()}],mx:[{mx:B()}],my:[{my:B()}],ms:[{ms:B()}],me:[{me:B()}],mt:[{mt:B()}],mr:[{mr:B()}],mb:[{mb:B()}],ml:[{ml:B()}],"space-x":[{"space-x":z()}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":z()}],"space-y-reverse":["space-y-reverse"],size:[{size:$()}],w:[{w:[d,"screen",...$()]}],"min-w":[{"min-w":[d,"screen","none",...$()]}],"max-w":[{"max-w":[d,"screen","none","prose",{screen:[u]},...$()]}],h:[{h:["screen","lh",...$()]}],"min-h":[{"min-h":["screen","lh","none",...$()]}],"max-h":[{"max-h":["screen","lh",...$()]}],"font-size":[{text:["base",n,Ui,Es]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:[o,pe,vd]}],"font-stretch":[{"font-stretch":["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded",gd,he]}],"font-family":[{font:[aj,he,e]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:[i,pe,he]}],"line-clamp":[{"line-clamp":[Ie,"none",pe,vd]}],leading:[{leading:[a,...z()]}],"list-image":[{"list-image":["none",pe,he]}],"list-style-position":[{list:["inside","outside"]}],"list-style-type":[{list:["disc","decimal","none",pe,he]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"placeholder-color":[{placeholder:O()}],"text-color":[{text:O()}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...oe(),"wavy"]}],"text-decoration-thickness":[{decoration:[Ie,"from-font","auto",pe,Es]}],"text-decoration-color":[{decoration:O()}],"underline-offset":[{"underline-offset":[Ie,"auto",pe,he]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:z()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",pe,he]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],wrap:[{wrap:["break-word","anywhere","normal"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",pe,he]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:Z()}],"bg-repeat":[{bg:K()}],"bg-size":[{bg:D()}],"bg-image":[{bg:["none",{linear:[{to:["t","tr","r","br","b","bl","l","tl"]},Kn,pe,he],radial:["",pe,he],conic:[Kn,pe,he]},cj,ij]}],"bg-color":[{bg:O()}],"gradient-from-pos":[{from:H()}],"gradient-via-pos":[{via:H()}],"gradient-to-pos":[{to:H()}],"gradient-from":[{from:O()}],"gradient-via":[{via:O()}],"gradient-to":[{to:O()}],rounded:[{rounded:Q()}],"rounded-s":[{"rounded-s":Q()}],"rounded-e":[{"rounded-e":Q()}],"rounded-t":[{"rounded-t":Q()}],"rounded-r":[{"rounded-r":Q()}],"rounded-b":[{"rounded-b":Q()}],"rounded-l":[{"rounded-l":Q()}],"rounded-ss":[{"rounded-ss":Q()}],"rounded-se":[{"rounded-se":Q()}],"rounded-ee":[{"rounded-ee":Q()}],"rounded-es":[{"rounded-es":Q()}],"rounded-tl":[{"rounded-tl":Q()}],"rounded-tr":[{"rounded-tr":Q()}],"rounded-br":[{"rounded-br":Q()}],"rounded-bl":[{"rounded-bl":Q()}],"border-w":[{border:W()}],"border-w-x":[{"border-x":W()}],"border-w-y":[{"border-y":W()}],"border-w-s":[{"border-s":W()}],"border-w-e":[{"border-e":W()}],"border-w-t":[{"border-t":W()}],"border-w-r":[{"border-r":W()}],"border-w-b":[{"border-b":W()}],"border-w-l":[{"border-l":W()}],"divide-x":[{"divide-x":W()}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":W()}],"divide-y-reverse":["divide-y-reverse"],"border-style":[{border:[...oe(),"hidden","none"]}],"divide-style":[{divide:[...oe(),"hidden","none"]}],"border-color":[{border:O()}],"border-color-x":[{"border-x":O()}],"border-color-y":[{"border-y":O()}],"border-color-s":[{"border-s":O()}],"border-color-e":[{"border-e":O()}],"border-color-t":[{"border-t":O()}],"border-color-r":[{"border-r":O()}],"border-color-b":[{"border-b":O()}],"border-color-l":[{"border-l":O()}],"divide-color":[{divide:O()}],"outline-style":[{outline:[...oe(),"none","hidden"]}],"outline-offset":[{"outline-offset":[Ie,pe,he]}],"outline-w":[{outline:["",Ie,Ui,Es]}],"outline-color":[{outline:O()}],shadow:[{shadow:["","none",g,wl,yl]}],"shadow-color":[{shadow:O()}],"inset-shadow":[{"inset-shadow":["none",m,wl,yl]}],"inset-shadow-color":[{"inset-shadow":O()}],"ring-w":[{ring:W()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:O()}],"ring-offset-w":[{"ring-offset":[Ie,Es]}],"ring-offset-color":[{"ring-offset":O()}],"inset-ring-w":[{"inset-ring":W()}],"inset-ring-color":[{"inset-ring":O()}],"text-shadow":[{"text-shadow":["none",x,wl,yl]}],"text-shadow-color":[{"text-shadow":O()}],opacity:[{opacity:[Ie,pe,he]}],"mix-blend":[{"mix-blend":[..._e(),"plus-darker","plus-lighter"]}],"bg-blend":[{"bg-blend":_e()}],"mask-clip":[{"mask-clip":["border","padding","content","fill","stroke","view"]},"mask-no-clip"],"mask-composite":[{mask:["add","subtract","intersect","exclude"]}],"mask-image-linear-pos":[{"mask-linear":[Ie]}],"mask-image-linear-from-pos":[{"mask-linear-from":J()}],"mask-image-linear-to-pos":[{"mask-linear-to":J()}],"mask-image-linear-from-color":[{"mask-linear-from":O()}],"mask-image-linear-to-color":[{"mask-linear-to":O()}],"mask-image-t-from-pos":[{"mask-t-from":J()}],"mask-image-t-to-pos":[{"mask-t-to":J()}],"mask-image-t-from-color":[{"mask-t-from":O()}],"mask-image-t-to-color":[{"mask-t-to":O()}],"mask-image-r-from-pos":[{"mask-r-from":J()}],"mask-image-r-to-pos":[{"mask-r-to":J()}],"mask-image-r-from-color":[{"mask-r-from":O()}],"mask-image-r-to-color":[{"mask-r-to":O()}],"mask-image-b-from-pos":[{"mask-b-from":J()}],"mask-image-b-to-pos":[{"mask-b-to":J()}],"mask-image-b-from-color":[{"mask-b-from":O()}],"mask-image-b-to-color":[{"mask-b-to":O()}],"mask-image-l-from-pos":[{"mask-l-from":J()}],"mask-image-l-to-pos":[{"mask-l-to":J()}],"mask-image-l-from-color":[{"mask-l-from":O()}],"mask-image-l-to-color":[{"mask-l-to":O()}],"mask-image-x-from-pos":[{"mask-x-from":J()}],"mask-image-x-to-pos":[{"mask-x-to":J()}],"mask-image-x-from-color":[{"mask-x-from":O()}],"mask-image-x-to-color":[{"mask-x-to":O()}],"mask-image-y-from-pos":[{"mask-y-from":J()}],"mask-image-y-to-pos":[{"mask-y-to":J()}],"mask-image-y-from-color":[{"mask-y-from":O()}],"mask-image-y-to-color":[{"mask-y-to":O()}],"mask-image-radial":[{"mask-radial":[pe,he]}],"mask-image-radial-from-pos":[{"mask-radial-from":J()}],"mask-image-radial-to-pos":[{"mask-radial-to":J()}],"mask-image-radial-from-color":[{"mask-radial-from":O()}],"mask-image-radial-to-color":[{"mask-radial-to":O()}],"mask-image-radial-shape":[{"mask-radial":["circle","ellipse"]}],"mask-image-radial-size":[{"mask-radial":[{closest:["side","corner"],farthest:["side","corner"]}]}],"mask-image-radial-pos":[{"mask-radial-at":P()}],"mask-image-conic-pos":[{"mask-conic":[Ie]}],"mask-image-conic-from-pos":[{"mask-conic-from":J()}],"mask-image-conic-to-pos":[{"mask-conic-to":J()}],"mask-image-conic-from-color":[{"mask-conic-from":O()}],"mask-image-conic-to-color":[{"mask-conic-to":O()}],"mask-mode":[{mask:["alpha","luminance","match"]}],"mask-origin":[{"mask-origin":["border","padding","content","fill","stroke","view"]}],"mask-position":[{mask:Z()}],"mask-repeat":[{mask:K()}],"mask-size":[{mask:D()}],"mask-type":[{"mask-type":["alpha","luminance"]}],"mask-image":[{mask:["none",pe,he]}],filter:[{filter:["","none",pe,he]}],blur:[{blur:se()}],brightness:[{brightness:[Ie,pe,he]}],contrast:[{contrast:[Ie,pe,he]}],"drop-shadow":[{"drop-shadow":["","none",b,wl,yl]}],"drop-shadow-color":[{"drop-shadow":O()}],grayscale:[{grayscale:["",Ie,pe,he]}],"hue-rotate":[{"hue-rotate":[Ie,pe,he]}],invert:[{invert:["",Ie,pe,he]}],saturate:[{saturate:[Ie,pe,he]}],sepia:[{sepia:["",Ie,pe,he]}],"backdrop-filter":[{"backdrop-filter":["","none",pe,he]}],"backdrop-blur":[{"backdrop-blur":se()}],"backdrop-brightness":[{"backdrop-brightness":[Ie,pe,he]}],"backdrop-contrast":[{"backdrop-contrast":[Ie,pe,he]}],"backdrop-grayscale":[{"backdrop-grayscale":["",Ie,pe,he]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[Ie,pe,he]}],"backdrop-invert":[{"backdrop-invert":["",Ie,pe,he]}],"backdrop-opacity":[{"backdrop-opacity":[Ie,pe,he]}],"backdrop-saturate":[{"backdrop-saturate":[Ie,pe,he]}],"backdrop-sepia":[{"backdrop-sepia":["",Ie,pe,he]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":z()}],"border-spacing-x":[{"border-spacing-x":z()}],"border-spacing-y":[{"border-spacing-y":z()}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["","all","colors","opacity","shadow","transform","none",pe,he]}],"transition-behavior":[{transition:["normal","discrete"]}],duration:[{duration:[Ie,"initial",pe,he]}],ease:[{ease:["linear","initial",E,pe,he]}],delay:[{delay:[Ie,pe,he]}],animate:[{animate:["none",N,pe,he]}],backface:[{backface:["hidden","visible"]}],perspective:[{perspective:[_,pe,he]}],"perspective-origin":[{"perspective-origin":F()}],rotate:[{rotate:Se()}],"rotate-x":[{"rotate-x":Se()}],"rotate-y":[{"rotate-y":Se()}],"rotate-z":[{"rotate-z":Se()}],scale:[{scale:Ce()}],"scale-x":[{"scale-x":Ce()}],"scale-y":[{"scale-y":Ce()}],"scale-z":[{"scale-z":Ce()}],"scale-3d":["scale-3d"],skew:[{skew:De()}],"skew-x":[{"skew-x":De()}],"skew-y":[{"skew-y":De()}],transform:[{transform:[pe,he,"","none","gpu","cpu"]}],"transform-origin":[{origin:F()}],"transform-style":[{transform:["3d","flat"]}],translate:[{translate:Fe()}],"translate-x":[{"translate-x":Fe()}],"translate-y":[{"translate-y":Fe()}],"translate-z":[{"translate-z":Fe()}],"translate-none":["translate-none"],accent:[{accent:O()}],appearance:[{appearance:["none","auto"]}],"caret-color":[{caret:O()}],"color-scheme":[{scheme:["normal","dark","light","light-dark","only-dark","only-light"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",pe,he]}],"field-sizing":[{"field-sizing":["fixed","content"]}],"pointer-events":[{"pointer-events":["auto","none"]}],resize:[{resize:["none","","y","x"]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":z()}],"scroll-mx":[{"scroll-mx":z()}],"scroll-my":[{"scroll-my":z()}],"scroll-ms":[{"scroll-ms":z()}],"scroll-me":[{"scroll-me":z()}],"scroll-mt":[{"scroll-mt":z()}],"scroll-mr":[{"scroll-mr":z()}],"scroll-mb":[{"scroll-mb":z()}],"scroll-ml":[{"scroll-ml":z()}],"scroll-p":[{"scroll-p":z()}],"scroll-px":[{"scroll-px":z()}],"scroll-py":[{"scroll-py":z()}],"scroll-ps":[{"scroll-ps":z()}],"scroll-pe":[{"scroll-pe":z()}],"scroll-pt":[{"scroll-pt":z()}],"scroll-pr":[{"scroll-pr":z()}],"scroll-pb":[{"scroll-pb":z()}],"scroll-pl":[{"scroll-pl":z()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",pe,he]}],fill:[{fill:["none",...O()]}],"stroke-w":[{stroke:[Ie,Ui,Es,vd]}],stroke:[{stroke:["none",...O()]}],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-x","border-w-y","border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-x","border-color-y","border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],translate:["translate-x","translate-y","translate-none"],"translate-none":["translate","translate-x","translate-y","translate-z"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]},orderSensitiveModifiers:["*","**","after","backdrop","before","details-content","file","first-letter","first-line","marker","placeholder","selection"]}},hj=qS(fj);function ge(...t){return hj(Dv(t))}function Ae({className:t,...e}){return l.jsx("div",{"data-slot":"card",className:ge("bg-card text-card-foreground flex flex-col gap-6 rounded-xl border",t),...e})}function Dt({className:t,...e}){return l.jsx("div",{"data-slot":"card-header",className:ge("@container/card-header grid auto-rows-min grid-rows-[auto_auto] items-start gap-1.5 px-6 pt-6 has-data-[slot=card-action]:grid-cols-[1fr_auto] [.border-b]:pb-6",t),...e})}function lr({className:t,...e}){return l.jsx("h4",{"data-slot":"card-title",className:ge("leading-none",t),...e})}function Is({className:t,...e}){return l.jsx("p",{"data-slot":"card-description",className:ge("text-muted-foreground",t),...e})}function $e({className:t,...e}){return l.jsx("div",{"data-slot":"card-content",className:ge("px-6 [&:last-child]:pb-6",t),...e})}function Gv({className:t,...e}){return l.jsx("div",{"data-slot":"card-footer",className:ge("flex items-center px-6 pb-6 [.border-t]:pt-6",t),...e})}function cg(t,e){if(typeof t=="function")return t(e);t!=null&&(t.current=e)}function zo(...t){return e=>{let n=!1;const o=t.map(i=>{const a=cg(i,e);return!n&&typeof a=="function"&&(n=!0),a});if(n)return()=>{for(let i=0;i<o.length;i++){const a=o[i];typeof a=="function"?a():cg(t[i],null)}}}}function qe(...t){return y.useCallback(zo(...t),t)}var pj=Symbol.for("react.lazy"),Bl=sc[" use ".trim().toString()];function mj(t){return typeof t=="object"&&t!==null&&"then"in t}function Yv(t){return t!=null&&typeof t=="object"&&"$$typeof"in t&&t.$$typeof===pj&&"_payload"in t&&mj(t._payload)}function ic(t){const e=gj(t),n=y.forwardRef((o,i)=>{let{children:a,...u}=o;Yv(a)&&typeof Bl=="function"&&(a=Bl(a._payload));const d=y.Children.toArray(a),h=d.find(yj);if(h){const p=h.props.children,g=d.map(m=>m===h?y.Children.count(p)>1?y.Children.only(null):y.isValidElement(p)?p.props.children:null:m);return l.jsx(e,{...u,ref:i,children:y.isValidElement(p)?y.cloneElement(p,void 0,g):null})}return l.jsx(e,{...u,ref:i,children:a})});return n.displayName=`${t}.Slot`,n}var Jv=ic("Slot");function gj(t){const e=y.forwardRef((n,o)=>{let{children:i,...a}=n;if(Yv(i)&&typeof Bl=="function"&&(i=Bl(i._payload)),y.isValidElement(i)){const u=xj(i),d=wj(a,i.props);return i.type!==y.Fragment&&(d.ref=o?zo(o,u):u),y.cloneElement(i,d)}return y.Children.count(i)>1?y.Children.only(null):null});return e.displayName=`${t}.SlotClone`,e}var vj=Symbol("radix.slottable");function yj(t){return y.isValidElement(t)&&typeof t.type=="function"&&"__radixId"in t.type&&t.type.__radixId===vj}function wj(t,e){const n={...e};for(const o in e){const i=t[o],a=e[o];/^on[A-Z]/.test(o)?i&&a?n[o]=(...d)=>{const h=a(...d);return i(...d),h}:i&&(n[o]=i):o==="style"?n[o]={...i,...a}:o==="className"&&(n[o]=[i,a].filter(Boolean).join(" "))}return{...t,...n}}function xj(t){let e=Object.getOwnPropertyDescriptor(t.props,"ref")?.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=Object.getOwnPropertyDescriptor(t,"ref")?.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}const ug=t=>typeof t=="boolean"?`${t}`:t===0?"0":t,dg=Dv,Cf=(t,e)=>n=>{var o;if(e?.variants==null)return dg(t,n?.class,n?.className);const{variants:i,defaultVariants:a}=e,u=Object.keys(i).map(p=>{const g=n?.[p],m=a?.[p];if(g===null)return null;const x=ug(g)||ug(m);return i[p][x]}),d=n&&Object.entries(n).reduce((p,g)=>{let[m,x]=g;return x===void 0||(p[m]=x),p},{}),h=e==null||(o=e.compoundVariants)===null||o===void 0?void 0:o.reduce((p,g)=>{let{class:m,className:x,...b}=g;return Object.entries(b).every(j=>{let[_,S]=j;return Array.isArray(S)?S.includes({...a,...d}[_]):{...a,...d}[_]===S})?[...p,m,x]:p},[]);return dg(t,u,h,n?.class,n?.className)},bj=Cf("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-all disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg:not([class*='size-'])]:size-4 shrink-0 [&_svg]:shrink-0 outline-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-white hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60",outline:"border bg-background text-foreground hover:bg-accent hover:text-accent-foreground dark:bg-input/30 dark:border-input dark:hover:bg-input/50",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground dark:hover:bg-accent/50",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-9 px-4 py-2 has-[>svg]:px-3",sm:"h-8 rounded-md gap-1.5 px-3 has-[>svg]:px-2.5",lg:"h-10 rounded-md px-6 has-[>svg]:px-4",icon:"size-9 rounded-md"}},defaultVariants:{variant:"default",size:"default"}});function re({className:t,variant:e,size:n,asChild:o=!1,...i}){const a=o?Jv:"button";return l.jsx(a,{"data-slot":"button",className:ge(bj({variant:e,size:n,className:t})),...i})}const _j=Cf("inline-flex items-center justify-center rounded-md border px-2 py-0.5 text-xs font-medium w-fit whitespace-nowrap shrink-0 [&>svg]:size-3 gap-1 [&>svg]:pointer-events-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive transition-[color,box-shadow] overflow-hidden",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground [a&]:hover:bg-primary/90",secondary:"border-transparent bg-secondary text-secondary-foreground [a&]:hover:bg-secondary/90",destructive:"border-transparent bg-destructive text-white [a&]:hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60",outline:"text-foreground [a&]:hover:bg-accent [a&]:hover:text-accent-foreground"}},defaultVariants:{variant:"default"}});function Lt({className:t,variant:e,asChild:n=!1,...o}){const i=n?Jv:"span";return l.jsx(i,{"data-slot":"badge",className:ge(_j({variant:e}),t),...o})}function Sj(t,e=[]){let n=[];function o(a,u){const d=y.createContext(u);d.displayName=a+"Context";const h=n.length;n=[...n,u];const p=m=>{const{scope:x,children:b,...j}=m,_=x?.[t]?.[h]||d,S=y.useMemo(()=>j,Object.values(j));return l.jsx(_.Provider,{value:S,children:b})};p.displayName=a+"Provider";function g(m,x){const b=x?.[t]?.[h]||d,j=y.useContext(b);if(j)return j;if(u!==void 0)return u;throw new Error(`\`${m}\` must be used within \`${a}\``)}return[p,g]}const i=()=>{const a=n.map(u=>y.createContext(u));return function(d){const h=d?.[t]||a;return y.useMemo(()=>({[`__scope${t}`]:{...d,[t]:h}}),[d,h])}};return i.scopeName=t,[o,jj(i,...e)]}function jj(...t){const e=t[0];if(t.length===1)return e;const n=()=>{const o=t.map(i=>({useScope:i(),scopeName:i.scopeName}));return function(a){const u=o.reduce((d,{useScope:h,scopeName:p})=>{const m=h(a)[`__scope${p}`];return{...d,...m}},{});return y.useMemo(()=>({[`__scope${e.scopeName}`]:u}),[u])}};return n.scopeName=e.scopeName,n}function It(t){const e=y.useRef(t);return y.useEffect(()=>{e.current=t}),y.useMemo(()=>(...n)=>e.current?.(...n),[])}var ut=globalThis?.document?y.useLayoutEffect:()=>{},kj=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],Rf=kj.reduce((t,e)=>{const n=ic(`Primitive.${e}`),o=y.forwardRef((i,a)=>{const{asChild:u,...d}=i,h=u?n:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),l.jsx(h,{...d,ref:a})});return o.displayName=`Primitive.${e}`,{...t,[e]:o}},{}),yd={exports:{}},wd={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var fg;function Ej(){if(fg)return wd;fg=1;var t=nc();function e(m,x){return m===x&&(m!==0||1/m===1/x)||m!==m&&x!==x}var n=typeof Object.is=="function"?Object.is:e,o=t.useState,i=t.useEffect,a=t.useLayoutEffect,u=t.useDebugValue;function d(m,x){var b=x(),j=o({inst:{value:b,getSnapshot:x}}),_=j[0].inst,S=j[1];return a(function(){_.value=b,_.getSnapshot=x,h(_)&&S({inst:_})},[m,b,x]),i(function(){return h(_)&&S({inst:_}),m(function(){h(_)&&S({inst:_})})},[m]),u(b),b}function h(m){var x=m.getSnapshot;m=m.value;try{var b=x();return!n(m,b)}catch{return!0}}function p(m,x){return x()}var g=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?p:d;return wd.useSyncExternalStore=t.useSyncExternalStore!==void 0?t.useSyncExternalStore:g,wd}var hg;function Nj(){return hg||(hg=1,yd.exports=Ej()),yd.exports}var Cj=Nj();function Rj(){return Cj.useSyncExternalStore(Tj,()=>!0,()=>!1)}function Tj(){return()=>{}}var Tf="Avatar",[Pj]=Sj(Tf),[Aj,Qv]=Pj(Tf),Xv=y.forwardRef((t,e)=>{const{__scopeAvatar:n,...o}=t,[i,a]=y.useState("idle");return l.jsx(Aj,{scope:n,imageLoadingStatus:i,onImageLoadingStatusChange:a,children:l.jsx(Rf.span,{...o,ref:e})})});Xv.displayName=Tf;var Zv="AvatarImage",ey=y.forwardRef((t,e)=>{const{__scopeAvatar:n,src:o,onLoadingStatusChange:i=()=>{},...a}=t,u=Qv(Zv,n),d=Oj(o,a),h=It(p=>{i(p),u.onImageLoadingStatusChange(p)});return ut(()=>{d!=="idle"&&h(d)},[d,h]),d==="loaded"?l.jsx(Rf.img,{...a,ref:e,src:o}):null});ey.displayName=Zv;var ty="AvatarFallback",ry=y.forwardRef((t,e)=>{const{__scopeAvatar:n,delayMs:o,...i}=t,a=Qv(ty,n),[u,d]=y.useState(o===void 0);return y.useEffect(()=>{if(o!==void 0){const h=window.setTimeout(()=>d(!0),o);return()=>window.clearTimeout(h)}},[o]),u&&a.imageLoadingStatus!=="loaded"?l.jsx(Rf.span,{...i,ref:e}):null});ry.displayName=ty;function pg(t,e){return t?e?(t.src!==e&&(t.src=e),t.complete&&t.naturalWidth>0?"loaded":"loading"):"error":"idle"}function Oj(t,{referrerPolicy:e,crossOrigin:n}){const o=Rj(),i=y.useRef(null),a=o?(i.current||(i.current=new window.Image),i.current):null,[u,d]=y.useState(()=>pg(a,t));return ut(()=>{d(pg(a,t))},[a,t]),ut(()=>{const h=m=>()=>{d(m)};if(!a)return;const p=h("loaded"),g=h("error");return a.addEventListener("load",p),a.addEventListener("error",g),e&&(a.referrerPolicy=e),typeof n=="string"&&(a.crossOrigin=n),()=>{a.removeEventListener("load",p),a.removeEventListener("error",g)}},[a,n,e]),u}var Ij=Xv,Dj=ey,Lj=ry;function Ut({className:t,...e}){return l.jsx(Ij,{"data-slot":"avatar",className:ge("relative flex size-10 shrink-0 overflow-hidden rounded-full",t),...e})}function mg({className:t,...e}){return l.jsx(Dj,{"data-slot":"avatar-image",className:ge("aspect-square size-full",t),...e})}function zt({className:t,...e}){return l.jsx(Lj,{"data-slot":"avatar-fallback",className:ge("bg-muted flex size-full items-center justify-center rounded-full",t),...e})}/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $j=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),Mj=t=>t.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,n,o)=>o?o.toUpperCase():n.toLowerCase()),gg=t=>{const e=Mj(t);return e.charAt(0).toUpperCase()+e.slice(1)},ny=(...t)=>t.filter((e,n,o)=>!!e&&e.trim()!==""&&o.indexOf(e)===n).join(" ").trim();/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var Fj={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Uj=y.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:n=2,absoluteStrokeWidth:o,className:i="",children:a,iconNode:u,...d},h)=>y.createElement("svg",{ref:h,...Fj,width:e,height:e,stroke:t,strokeWidth:o?Number(n)*24/Number(e):n,className:ny("lucide",i),...d},[...u.map(([p,g])=>y.createElement(p,g)),...Array.isArray(a)?a:[a]]));/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ne=(t,e)=>{const n=y.forwardRef(({className:o,...i},a)=>y.createElement(Uj,{ref:a,iconNode:e,className:ny(`lucide-${$j(gg(t))}`,`lucide-${t}`,o),...i}));return n.displayName=gg(t),n};/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zj=[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]],Bj=Ne("activity",zj);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vj=[["path",{d:"M12 20.94c1.5 0 2.75 1.06 4 1.06 3 0 6-8 6-12.22A4.91 4.91 0 0 0 17 5c-2.22 0-4 1.44-5 2-1-.56-2.78-2-5-2a4.9 4.9 0 0 0-5 4.78C2 14 5 22 8 22c1.25 0 2.5-1.06 4-1.06Z",key:"3s7exb"}],["path",{d:"M10 2c1 .5 2 2 2 5",key:"fcco2y"}]],sy=Ne("apple",Vj);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wj=[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]],ac=Ne("arrow-left",Wj);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hj=[["path",{d:"m7 7 10 10-5 5V2l5 5L7 17",key:"1q5490"}]],Kd=Ne("bluetooth",Hj);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qj=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],Kj=Ne("calendar",qj);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gj=[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]],oy=Ne("chart-column",Gj);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yj=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],Jj=Ne("check",Yj);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qj=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],Bo=Ne("chevron-down",Qj);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xj=[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]],mn=Ne("chevron-up",Xj);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zj=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["line",{x1:"21.17",x2:"12",y1:"8",y2:"8",key:"a0cw5f"}],["line",{x1:"3.95",x2:"8.54",y1:"6.06",y2:"14",key:"1kftof"}],["line",{x1:"10.88",x2:"15.46",y1:"21.94",y2:"14",key:"1ymyh8"}]],iy=Ne("chrome",Zj);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const e1=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],Vl=Ne("circle-alert",e1);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const t1=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],Eo=Ne("circle-check-big",t1);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const r1=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],vg=Ne("circle-check",r1);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const n1=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]],Ls=Ne("circle-x",n1);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const s1=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]],o1=Ne("clock",s1);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const i1=[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]],a1=Ne("dollar-sign",i1);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const l1=[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]],c1=Ne("download",l1);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const u1=[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]],d1=Ne("external-link",u1);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const f1=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],xd=Ne("eye",f1);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const h1=[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]],p1=Ne("file-text",h1);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const m1=[["path",{d:"M10 20a1 1 0 0 0 .553.895l2 1A1 1 0 0 0 14 21v-7a2 2 0 0 1 .517-1.341L21.74 4.67A1 1 0 0 0 21 3H3a1 1 0 0 0-.742 1.67l7.225 7.989A2 2 0 0 1 10 14z",key:"sc7q7i"}]],ay=Ne("funnel",m1);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const g1=[["line",{x1:"6",x2:"10",y1:"11",y2:"11",key:"1gktln"}],["line",{x1:"8",x2:"8",y1:"9",y2:"13",key:"qnk9ow"}],["line",{x1:"15",x2:"15.01",y1:"12",y2:"12",key:"krot7o"}],["line",{x1:"18",x2:"18.01",y1:"10",y2:"10",key:"1lcuu1"}],["path",{d:"M17.32 5H6.68a4 4 0 0 0-3.978 3.59c-.006.052-.01.101-.017.152C2.604 9.416 2 14.456 2 16a3 3 0 0 0 3 3c1 0 1.5-.5 2-1l1.414-1.414A2 2 0 0 1 9.828 16h4.344a2 2 0 0 1 1.414.586L17 18c.5.5 1 1 2 1a3 3 0 0 0 3-3c0-1.545-.604-6.584-.685-7.258-.007-.05-.011-.1-.017-.151A4 4 0 0 0 17.32 5z",key:"mfqc10"}]],ly=Ne("gamepad-2",g1);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const v1=[["path",{d:"M15 22v-4a4.8 4.8 0 0 0-1-3.5c3 0 6-2 6-5.5.08-1.25-.27-2.48-1-3.5.28-1.15.28-2.35 0-3.5 0 0-1 0-3 1.5-2.64-.5-5.36-.5-8 0C6 2 5 2 5 2c-.3 1.15-.3 2.35 0 3.5A5.403 5.403 0 0 0 4 9c0 3.5 3 5.5 6 5.5-.39.49-.68 1.05-.85 1.65-.17.6-.22 1.23-.15 1.85v4",key:"tonef"}],["path",{d:"M9 18c-4.51 2-5-2-7-2",key:"9comsn"}]],cy=Ne("github",v1);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const y1=[["rect",{width:"20",height:"20",x:"2",y:"2",rx:"5",ry:"5",key:"2e1cvw"}],["path",{d:"M16 11.37A4 4 0 1 1 12.63 8 4 4 0 0 1 16 11.37z",key:"9exkf1"}],["line",{x1:"17.5",x2:"17.51",y1:"6.5",y2:"6.5",key:"r4j83e"}]],w1=Ne("instagram",y1);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const x1=[["path",{d:"M15 14c.2-1 .7-1.7 1.5-2.5 1-.9 1.5-2.2 1.5-3.5A6 6 0 0 0 6 8c0 1 .2 2.2 1.5 3.5.7.7 1.3 1.5 1.5 2.5",key:"1gvzjb"}],["path",{d:"M9 18h6",key:"x1upvd"}],["path",{d:"M10 22h4",key:"ceow96"}]],b1=Ne("lightbulb",x1);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _1=[["path",{d:"M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71",key:"1cjeqo"}],["path",{d:"M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71",key:"19qd67"}]],zi=Ne("link",_1);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const S1=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]],Et=Ne("loader-circle",S1);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const j1=[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]],yg=Ne("mail",j1);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const k1=[["path",{d:"M7.9 20A9 9 0 1 0 4 16.1L2 22Z",key:"vv11sd"}]],Ao=Ne("message-circle",k1);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const E1=[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]],N1=Ne("message-square",E1);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const C1=[["path",{d:"M9 18V5l12-2v13",key:"1jmyc2"}],["circle",{cx:"6",cy:"18",r:"3",key:"fqmcym"}],["circle",{cx:"18",cy:"16",r:"3",key:"1hluhg"}]],Pf=Ne("music",C1);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const R1=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],uy=Ne("plus",R1);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const T1=[["path",{d:"M4.9 19.1C1 15.2 1 8.8 4.9 4.9",key:"1vaf9d"}],["path",{d:"M7.8 16.2c-2.3-2.3-2.3-6.1 0-8.5",key:"u1ii0m"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}],["path",{d:"M16.2 7.8c2.3 2.3 2.3 6.1 0 8.5",key:"1j5fej"}],["path",{d:"M19.1 4.9C23 8.8 23 15.1 19.1 19",key:"10b0cb"}]],bd=Ne("radio",T1);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const P1=[["polyline",{points:"9 17 4 12 9 7",key:"hvgpf2"}],["path",{d:"M20 18v-2a4 4 0 0 0-4-4H4",key:"5vmcpk"}]],dy=Ne("reply",P1);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const A1=[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]],lc=Ne("search",A1);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const O1=[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]],ko=Ne("send",O1);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const I1=[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],D1=Ne("settings",I1);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const L1=[["path",{d:"M4 12v8a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2v-8",key:"1b2hhj"}],["polyline",{points:"16 6 12 2 8 6",key:"m901s6"}],["line",{x1:"12",x2:"12",y1:"2",y2:"15",key:"1p0rca"}]],fy=Ne("share",L1);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $1=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"M12 8v4",key:"1got3b"}],["path",{d:"M12 16h.01",key:"1drbdi"}]],M1=Ne("shield-alert",$1);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const F1=[["rect",{width:"14",height:"20",x:"5",y:"2",rx:"2",ry:"2",key:"1yt0o3"}],["path",{d:"M12 18h.01",key:"mhygvu"}]],U1=Ne("smartphone",F1);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const z1=[["path",{d:"M7 10v12",key:"1qc93n"}],["path",{d:"M15 5.88 14 10h5.83a2 2 0 0 1 1.92 2.56l-2.33 8A2 2 0 0 1 17.5 22H4a2 2 0 0 1-2-2v-8a2 2 0 0 1 2-2h2.76a2 2 0 0 0 1.79-1.11L12 2a3.13 3.13 0 0 1 3 3.88Z",key:"emmmcr"}]],B1=Ne("thumbs-up",z1);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const V1=[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]],Ts=Ne("trash-2",V1);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const W1=[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]],hy=Ne("trending-up",W1);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const H1=[["path",{d:"M6 9H4.5a2.5 2.5 0 0 1 0-5H6",key:"17hqa7"}],["path",{d:"M18 9h1.5a2.5 2.5 0 0 0 0-5H18",key:"lmptdp"}],["path",{d:"M4 22h16",key:"57wxv0"}],["path",{d:"M10 14.66V17c0 .55-.47.98-.97 1.21C7.85 18.75 7 20.24 7 22",key:"1nw9bq"}],["path",{d:"M14 14.66V17c0 .55.47.98.97 1.21C16.15 18.75 17 20.24 17 22",key:"1np0yb"}],["path",{d:"M18 2H6v7a6 6 0 0 0 12 0V2Z",key:"u46fv3"}]],q1=Ne("trophy",H1);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const K1=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["polyline",{points:"16 11 18 13 22 9",key:"1pwet4"}]],G1=Ne("user-check",K1);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Y1=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]],J1=Ne("user-plus",Y1);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Q1=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],cr=Ne("user",Q1);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const X1=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]],Wl=Ne("users",X1);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Z1=[["path",{d:"M12 20h.01",key:"zekei9"}],["path",{d:"M2 8.82a15 15 0 0 1 20 0",key:"dnpr2z"}],["path",{d:"M5 12.859a10 10 0 0 1 14 0",key:"1x1e6c"}],["path",{d:"M8.5 16.429a5 5 0 0 1 7 0",key:"1bycff"}]],xl=Ne("wifi",Z1);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ek=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],Af=Ne("x",ek);function tk({idea:t,onVote:e,onComment:n,onClick:o}){const[i,a]=y.useState(t.userVote),[u,d]=y.useState(t.votes),h=(g,m)=>{g.stopPropagation();let x=u,b=m;i==="up"&&(x-=1),i==="down"&&(x+=1),m===i?b=null:(m==="up"&&(x+=1),m==="down"&&(x-=1)),a(b),d(x),e(t.id,m)},p=()=>{o&&o(t.id)};return l.jsxs(Ae,{className:"w-full cursor-pointer transition-colors hover:bg-accent/50",onClick:p,children:[l.jsx(Dt,{className:"pb-3",children:l.jsxs("div",{className:"flex items-start justify-between",children:[l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(Ut,{className:"h-8 w-8",children:l.jsx(zt,{children:l.jsx(cr,{className:"h-4 w-4"})})}),l.jsxs("div",{children:[l.jsx("p",{className:"text-sm font-medium",children:t.author}),l.jsx("p",{className:"text-xs text-muted-foreground",children:t.timeAgo})]})]}),l.jsx(Lt,{variant:"secondary",children:t.category})]})}),l.jsxs($e,{className:"pb-3",children:[l.jsx("h3",{className:"mb-2 font-semibold",children:t.title}),l.jsx("p",{className:"text-muted-foreground",children:t.description})]}),l.jsxs(Gv,{className:"flex items-center justify-between pt-0",children:[l.jsxs("div",{className:"flex items-center gap-1",onClick:g=>g.stopPropagation(),children:[l.jsx(re,{variant:"ghost",size:"sm",onClick:g=>h(g,"up"),className:ge("h-8 w-8 p-0",i==="up"&&"text-green-600 bg-green-50 hover:bg-green-100"),children:l.jsx(mn,{className:"h-4 w-4"})}),l.jsx("span",{className:ge("min-w-8 text-center text-sm font-medium",u>0&&"text-green-600",u<0&&"text-red-600"),children:u}),l.jsx(re,{variant:"ghost",size:"sm",onClick:g=>h(g,"down"),className:ge("h-8 w-8 p-0",i==="down"&&"text-red-600 bg-red-50 hover:bg-red-100"),children:l.jsx(Bo,{className:"h-4 w-4"})})]}),l.jsxs("div",{className:"flex items-center gap-2",onClick:g=>g.stopPropagation(),children:[l.jsxs(re,{variant:"ghost",size:"sm",onClick:g=>{g.stopPropagation(),n(t.id)},className:"gap-1",children:[l.jsx(Ao,{className:"h-4 w-4"}),t.commentCount]}),l.jsx(re,{variant:"ghost",size:"sm",onClick:g=>g.stopPropagation(),children:l.jsx(fy,{className:"h-4 w-4"})})]})]})]})}function Oe(t,e,{checkForDefaultPrevented:n=!0}={}){return function(i){if(t?.(i),n===!1||!i.defaultPrevented)return e?.(i)}}function rk(t,e){const n=y.createContext(e),o=a=>{const{children:u,...d}=a,h=y.useMemo(()=>d,Object.values(d));return l.jsx(n.Provider,{value:h,children:u})};o.displayName=t+"Provider";function i(a){const u=y.useContext(n);if(u)return u;if(e!==void 0)return e;throw new Error(`\`${a}\` must be used within \`${t}\``)}return[o,i]}function zs(t,e=[]){let n=[];function o(a,u){const d=y.createContext(u),h=n.length;n=[...n,u];const p=m=>{const{scope:x,children:b,...j}=m,_=x?.[t]?.[h]||d,S=y.useMemo(()=>j,Object.values(j));return l.jsx(_.Provider,{value:S,children:b})};p.displayName=a+"Provider";function g(m,x){const b=x?.[t]?.[h]||d,j=y.useContext(b);if(j)return j;if(u!==void 0)return u;throw new Error(`\`${m}\` must be used within \`${a}\``)}return[p,g]}const i=()=>{const a=n.map(u=>y.createContext(u));return function(d){const h=d?.[t]||a;return y.useMemo(()=>({[`__scope${t}`]:{...d,[t]:h}}),[d,h])}};return i.scopeName=t,[o,nk(i,...e)]}function nk(...t){const e=t[0];if(t.length===1)return e;const n=()=>{const o=t.map(i=>({useScope:i(),scopeName:i.scopeName}));return function(a){const u=o.reduce((d,{useScope:h,scopeName:p})=>{const m=h(a)[`__scope${p}`];return{...d,...m}},{});return y.useMemo(()=>({[`__scope${e.scopeName}`]:u}),[u])}};return n.scopeName=e.scopeName,n}var sk=sc[" useId ".trim().toString()]||(()=>{}),ok=0;function ts(t){const[e,n]=y.useState(sk());return ut(()=>{n(o=>o??String(ok++))},[t]),t||(e?`radix-${e}`:"")}var ik=sc[" useInsertionEffect ".trim().toString()]||ut;function Gi({prop:t,defaultProp:e,onChange:n=()=>{},caller:o}){const[i,a,u]=ak({defaultProp:e,onChange:n}),d=t!==void 0,h=d?t:i;{const g=y.useRef(t!==void 0);y.useEffect(()=>{const m=g.current;m!==d&&console.warn(`${o} is changing from ${m?"controlled":"uncontrolled"} to ${d?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),g.current=d},[d,o])}const p=y.useCallback(g=>{if(d){const m=lk(g)?g(t):g;m!==t&&u.current?.(m)}else a(g)},[d,t,a,u]);return[h,p]}function ak({defaultProp:t,onChange:e}){const[n,o]=y.useState(t),i=y.useRef(n),a=y.useRef(e);return ik(()=>{a.current=e},[e]),y.useEffect(()=>{i.current!==n&&(a.current?.(n),i.current=n)},[n,i]),[n,o,a]}function lk(t){return typeof t=="function"}function ck(t){const e=uk(t),n=y.forwardRef((o,i)=>{const{children:a,...u}=o,d=y.Children.toArray(a),h=d.find(fk);if(h){const p=h.props.children,g=d.map(m=>m===h?y.Children.count(p)>1?y.Children.only(null):y.isValidElement(p)?p.props.children:null:m);return l.jsx(e,{...u,ref:i,children:y.isValidElement(p)?y.cloneElement(p,void 0,g):null})}return l.jsx(e,{...u,ref:i,children:a})});return n.displayName=`${t}.Slot`,n}function uk(t){const e=y.forwardRef((n,o)=>{const{children:i,...a}=n;if(y.isValidElement(i)){const u=pk(i),d=hk(a,i.props);return i.type!==y.Fragment&&(d.ref=o?zo(o,u):u),y.cloneElement(i,d)}return y.Children.count(i)>1?y.Children.only(null):null});return e.displayName=`${t}.SlotClone`,e}var dk=Symbol("radix.slottable");function fk(t){return y.isValidElement(t)&&typeof t.type=="function"&&"__radixId"in t.type&&t.type.__radixId===dk}function hk(t,e){const n={...e};for(const o in e){const i=t[o],a=e[o];/^on[A-Z]/.test(o)?i&&a?n[o]=(...d)=>{const h=a(...d);return i(...d),h}:i&&(n[o]=i):o==="style"?n[o]={...i,...a}:o==="className"&&(n[o]=[i,a].filter(Boolean).join(" "))}return{...t,...n}}function pk(t){let e=Object.getOwnPropertyDescriptor(t.props,"ref")?.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=Object.getOwnPropertyDescriptor(t,"ref")?.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}var mk=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],Me=mk.reduce((t,e)=>{const n=ck(`Primitive.${e}`),o=y.forwardRef((i,a)=>{const{asChild:u,...d}=i,h=u?n:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),l.jsx(h,{...d,ref:a})});return o.displayName=`Primitive.${e}`,{...t,[e]:o}},{});function gk(t,e){t&&ra.flushSync(()=>t.dispatchEvent(e))}function vk(t,e=globalThis?.document){const n=It(t);y.useEffect(()=>{const o=i=>{i.key==="Escape"&&n(i)};return e.addEventListener("keydown",o,{capture:!0}),()=>e.removeEventListener("keydown",o,{capture:!0})},[n,e])}var yk="DismissableLayer",Gd="dismissableLayer.update",wk="dismissableLayer.pointerDownOutside",xk="dismissableLayer.focusOutside",wg,py=y.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),Of=y.forwardRef((t,e)=>{const{disableOutsidePointerEvents:n=!1,onEscapeKeyDown:o,onPointerDownOutside:i,onFocusOutside:a,onInteractOutside:u,onDismiss:d,...h}=t,p=y.useContext(py),[g,m]=y.useState(null),x=g?.ownerDocument??globalThis?.document,[,b]=y.useState({}),j=qe(e,I=>m(I)),_=Array.from(p.layers),[S]=[...p.layersWithOutsidePointerEventsDisabled].slice(-1),E=_.indexOf(S),N=g?_.indexOf(g):-1,C=p.layersWithOutsidePointerEventsDisabled.size>0,P=N>=E,F=Sk(I=>{const z=I.target,q=[...p.branches].some(ne=>ne.contains(z));!P||q||(i?.(I),u?.(I),I.defaultPrevented||d?.())},x),V=jk(I=>{const z=I.target;[...p.branches].some(ne=>ne.contains(z))||(a?.(I),u?.(I),I.defaultPrevented||d?.())},x);return vk(I=>{N===p.layers.size-1&&(o?.(I),!I.defaultPrevented&&d&&(I.preventDefault(),d()))},x),y.useEffect(()=>{if(g)return n&&(p.layersWithOutsidePointerEventsDisabled.size===0&&(wg=x.body.style.pointerEvents,x.body.style.pointerEvents="none"),p.layersWithOutsidePointerEventsDisabled.add(g)),p.layers.add(g),xg(),()=>{n&&p.layersWithOutsidePointerEventsDisabled.size===1&&(x.body.style.pointerEvents=wg)}},[g,x,n,p]),y.useEffect(()=>()=>{g&&(p.layers.delete(g),p.layersWithOutsidePointerEventsDisabled.delete(g),xg())},[g,p]),y.useEffect(()=>{const I=()=>b({});return document.addEventListener(Gd,I),()=>document.removeEventListener(Gd,I)},[]),l.jsx(Me.div,{...h,ref:j,style:{pointerEvents:C?P?"auto":"none":void 0,...t.style},onFocusCapture:Oe(t.onFocusCapture,V.onFocusCapture),onBlurCapture:Oe(t.onBlurCapture,V.onBlurCapture),onPointerDownCapture:Oe(t.onPointerDownCapture,F.onPointerDownCapture)})});Of.displayName=yk;var bk="DismissableLayerBranch",_k=y.forwardRef((t,e)=>{const n=y.useContext(py),o=y.useRef(null),i=qe(e,o);return y.useEffect(()=>{const a=o.current;if(a)return n.branches.add(a),()=>{n.branches.delete(a)}},[n.branches]),l.jsx(Me.div,{...t,ref:i})});_k.displayName=bk;function Sk(t,e=globalThis?.document){const n=It(t),o=y.useRef(!1),i=y.useRef(()=>{});return y.useEffect(()=>{const a=d=>{if(d.target&&!o.current){let h=function(){my(wk,n,p,{discrete:!0})};const p={originalEvent:d};d.pointerType==="touch"?(e.removeEventListener("click",i.current),i.current=h,e.addEventListener("click",i.current,{once:!0})):h()}else e.removeEventListener("click",i.current);o.current=!1},u=window.setTimeout(()=>{e.addEventListener("pointerdown",a)},0);return()=>{window.clearTimeout(u),e.removeEventListener("pointerdown",a),e.removeEventListener("click",i.current)}},[e,n]),{onPointerDownCapture:()=>o.current=!0}}function jk(t,e=globalThis?.document){const n=It(t),o=y.useRef(!1);return y.useEffect(()=>{const i=a=>{a.target&&!o.current&&my(xk,n,{originalEvent:a},{discrete:!1})};return e.addEventListener("focusin",i),()=>e.removeEventListener("focusin",i)},[e,n]),{onFocusCapture:()=>o.current=!0,onBlurCapture:()=>o.current=!1}}function xg(){const t=new CustomEvent(Gd);document.dispatchEvent(t)}function my(t,e,n,{discrete:o}){const i=n.originalEvent.target,a=new CustomEvent(t,{bubbles:!1,cancelable:!0,detail:n});e&&i.addEventListener(t,e,{once:!0}),o?gk(i,a):i.dispatchEvent(a)}var _d="focusScope.autoFocusOnMount",Sd="focusScope.autoFocusOnUnmount",bg={bubbles:!1,cancelable:!0},kk="FocusScope",If=y.forwardRef((t,e)=>{const{loop:n=!1,trapped:o=!1,onMountAutoFocus:i,onUnmountAutoFocus:a,...u}=t,[d,h]=y.useState(null),p=It(i),g=It(a),m=y.useRef(null),x=qe(e,_=>h(_)),b=y.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;y.useEffect(()=>{if(o){let _=function(C){if(b.paused||!d)return;const P=C.target;d.contains(P)?m.current=P:Jn(m.current,{select:!0})},S=function(C){if(b.paused||!d)return;const P=C.relatedTarget;P!==null&&(d.contains(P)||Jn(m.current,{select:!0}))},E=function(C){if(document.activeElement===document.body)for(const F of C)F.removedNodes.length>0&&Jn(d)};document.addEventListener("focusin",_),document.addEventListener("focusout",S);const N=new MutationObserver(E);return d&&N.observe(d,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",_),document.removeEventListener("focusout",S),N.disconnect()}}},[o,d,b.paused]),y.useEffect(()=>{if(d){Sg.add(b);const _=document.activeElement;if(!d.contains(_)){const E=new CustomEvent(_d,bg);d.addEventListener(_d,p),d.dispatchEvent(E),E.defaultPrevented||(Ek(Pk(gy(d)),{select:!0}),document.activeElement===_&&Jn(d))}return()=>{d.removeEventListener(_d,p),setTimeout(()=>{const E=new CustomEvent(Sd,bg);d.addEventListener(Sd,g),d.dispatchEvent(E),E.defaultPrevented||Jn(_??document.body,{select:!0}),d.removeEventListener(Sd,g),Sg.remove(b)},0)}}},[d,p,g,b]);const j=y.useCallback(_=>{if(!n&&!o||b.paused)return;const S=_.key==="Tab"&&!_.altKey&&!_.ctrlKey&&!_.metaKey,E=document.activeElement;if(S&&E){const N=_.currentTarget,[C,P]=Nk(N);C&&P?!_.shiftKey&&E===P?(_.preventDefault(),n&&Jn(C,{select:!0})):_.shiftKey&&E===C&&(_.preventDefault(),n&&Jn(P,{select:!0})):E===N&&_.preventDefault()}},[n,o,b.paused]);return l.jsx(Me.div,{tabIndex:-1,...u,ref:x,onKeyDown:j})});If.displayName=kk;function Ek(t,{select:e=!1}={}){const n=document.activeElement;for(const o of t)if(Jn(o,{select:e}),document.activeElement!==n)return}function Nk(t){const e=gy(t),n=_g(e,t),o=_g(e.reverse(),t);return[n,o]}function gy(t){const e=[],n=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:o=>{const i=o.tagName==="INPUT"&&o.type==="hidden";return o.disabled||o.hidden||i?NodeFilter.FILTER_SKIP:o.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)e.push(n.currentNode);return e}function _g(t,e){for(const n of t)if(!Ck(n,{upTo:e}))return n}function Ck(t,{upTo:e}){if(getComputedStyle(t).visibility==="hidden")return!0;for(;t;){if(e!==void 0&&t===e)return!1;if(getComputedStyle(t).display==="none")return!0;t=t.parentElement}return!1}function Rk(t){return t instanceof HTMLInputElement&&"select"in t}function Jn(t,{select:e=!1}={}){if(t&&t.focus){const n=document.activeElement;t.focus({preventScroll:!0}),t!==n&&Rk(t)&&e&&t.select()}}var Sg=Tk();function Tk(){let t=[];return{add(e){const n=t[0];e!==n&&n?.pause(),t=jg(t,e),t.unshift(e)},remove(e){t=jg(t,e),t[0]?.resume()}}}function jg(t,e){const n=[...t],o=n.indexOf(e);return o!==-1&&n.splice(o,1),n}function Pk(t){return t.filter(e=>e.tagName!=="A")}var Ak="Portal",Df=y.forwardRef((t,e)=>{const{container:n,...o}=t,[i,a]=y.useState(!1);ut(()=>a(!0),[]);const u=n||i&&globalThis?.document?.body;return u?jv.createPortal(l.jsx(Me.div,{...o,ref:e}),u):null});Df.displayName=Ak;function Ok(t,e){return y.useReducer((n,o)=>e[n][o]??n,t)}var wn=t=>{const{present:e,children:n}=t,o=Ik(e),i=typeof n=="function"?n({present:o.isPresent}):y.Children.only(n),a=qe(o.ref,Dk(i));return typeof n=="function"||o.isPresent?y.cloneElement(i,{ref:a}):null};wn.displayName="Presence";function Ik(t){const[e,n]=y.useState(),o=y.useRef(null),i=y.useRef(t),a=y.useRef("none"),u=t?"mounted":"unmounted",[d,h]=Ok(u,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return y.useEffect(()=>{const p=bl(o.current);a.current=d==="mounted"?p:"none"},[d]),ut(()=>{const p=o.current,g=i.current;if(g!==t){const x=a.current,b=bl(p);t?h("MOUNT"):b==="none"||p?.display==="none"?h("UNMOUNT"):h(g&&x!==b?"ANIMATION_OUT":"UNMOUNT"),i.current=t}},[t,h]),ut(()=>{if(e){let p;const g=e.ownerDocument.defaultView??window,m=b=>{const _=bl(o.current).includes(CSS.escape(b.animationName));if(b.target===e&&_&&(h("ANIMATION_END"),!i.current)){const S=e.style.animationFillMode;e.style.animationFillMode="forwards",p=g.setTimeout(()=>{e.style.animationFillMode==="forwards"&&(e.style.animationFillMode=S)})}},x=b=>{b.target===e&&(a.current=bl(o.current))};return e.addEventListener("animationstart",x),e.addEventListener("animationcancel",m),e.addEventListener("animationend",m),()=>{g.clearTimeout(p),e.removeEventListener("animationstart",x),e.removeEventListener("animationcancel",m),e.removeEventListener("animationend",m)}}else h("ANIMATION_END")},[e,h]),{isPresent:["mounted","unmountSuspended"].includes(d),ref:y.useCallback(p=>{o.current=p?getComputedStyle(p):null,n(p)},[])}}function bl(t){return t?.animationName||"none"}function Dk(t){let e=Object.getOwnPropertyDescriptor(t.props,"ref")?.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=Object.getOwnPropertyDescriptor(t,"ref")?.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}var jd=0;function vy(){y.useEffect(()=>{const t=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",t[0]??kg()),document.body.insertAdjacentElement("beforeend",t[1]??kg()),jd++,()=>{jd===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(e=>e.remove()),jd--}},[])}function kg(){const t=document.createElement("span");return t.setAttribute("data-radix-focus-guard",""),t.tabIndex=0,t.style.outline="none",t.style.opacity="0",t.style.position="fixed",t.style.pointerEvents="none",t}var Yd=function(t,e){return Yd=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,o){n.__proto__=o}||function(n,o){for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(n[i]=o[i])},Yd(t,e)};function yy(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");Yd(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}var br=function(){return br=Object.assign||function(e){for(var n,o=1,i=arguments.length;o<i;o++){n=arguments[o];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},br.apply(this,arguments)};function os(t,e){var n={};for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&e.indexOf(o)<0&&(n[o]=t[o]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,o=Object.getOwnPropertySymbols(t);i<o.length;i++)e.indexOf(o[i])<0&&Object.prototype.propertyIsEnumerable.call(t,o[i])&&(n[o[i]]=t[o[i]]);return n}function wy(t,e,n,o){var i=arguments.length,a=i<3?e:o===null?o=Object.getOwnPropertyDescriptor(e,n):o,u;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")a=Reflect.decorate(t,e,n,o);else for(var d=t.length-1;d>=0;d--)(u=t[d])&&(a=(i<3?u(a):i>3?u(e,n,a):u(e,n))||a);return i>3&&a&&Object.defineProperty(e,n,a),a}function xy(t,e){return function(n,o){e(n,o,t)}}function by(t,e,n,o,i,a){function u(E){if(E!==void 0&&typeof E!="function")throw new TypeError("Function expected");return E}for(var d=o.kind,h=d==="getter"?"get":d==="setter"?"set":"value",p=!e&&t?o.static?t:t.prototype:null,g=e||(p?Object.getOwnPropertyDescriptor(p,o.name):{}),m,x=!1,b=n.length-1;b>=0;b--){var j={};for(var _ in o)j[_]=_==="access"?{}:o[_];for(var _ in o.access)j.access[_]=o.access[_];j.addInitializer=function(E){if(x)throw new TypeError("Cannot add initializers after decoration has completed");a.push(u(E||null))};var S=(0,n[b])(d==="accessor"?{get:g.get,set:g.set}:g[h],j);if(d==="accessor"){if(S===void 0)continue;if(S===null||typeof S!="object")throw new TypeError("Object expected");(m=u(S.get))&&(g.get=m),(m=u(S.set))&&(g.set=m),(m=u(S.init))&&i.unshift(m)}else(m=u(S))&&(d==="field"?i.unshift(m):g[h]=m)}p&&Object.defineProperty(p,o.name,g),x=!0}function _y(t,e,n){for(var o=arguments.length>2,i=0;i<e.length;i++)n=o?e[i].call(t,n):e[i].call(t);return o?n:void 0}function Sy(t){return typeof t=="symbol"?t:"".concat(t)}function jy(t,e,n){return typeof e=="symbol"&&(e=e.description?"[".concat(e.description,"]"):""),Object.defineProperty(t,"name",{configurable:!0,value:n?"".concat(n," ",e):e})}function ky(t,e){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(t,e)}function we(t,e,n,o){function i(a){return a instanceof n?a:new n(function(u){u(a)})}return new(n||(n=Promise))(function(a,u){function d(g){try{p(o.next(g))}catch(m){u(m)}}function h(g){try{p(o.throw(g))}catch(m){u(m)}}function p(g){g.done?a(g.value):i(g.value).then(d,h)}p((o=o.apply(t,e||[])).next())})}function Ey(t,e){var n={label:0,sent:function(){if(a[0]&1)throw a[1];return a[1]},trys:[],ops:[]},o,i,a,u=Object.create((typeof Iterator=="function"?Iterator:Object).prototype);return u.next=d(0),u.throw=d(1),u.return=d(2),typeof Symbol=="function"&&(u[Symbol.iterator]=function(){return this}),u;function d(p){return function(g){return h([p,g])}}function h(p){if(o)throw new TypeError("Generator is already executing.");for(;u&&(u=0,p[0]&&(n=0)),n;)try{if(o=1,i&&(a=p[0]&2?i.return:p[0]?i.throw||((a=i.return)&&a.call(i),0):i.next)&&!(a=a.call(i,p[1])).done)return a;switch(i=0,a&&(p=[p[0]&2,a.value]),p[0]){case 0:case 1:a=p;break;case 4:return n.label++,{value:p[1],done:!1};case 5:n.label++,i=p[1],p=[0];continue;case 7:p=n.ops.pop(),n.trys.pop();continue;default:if(a=n.trys,!(a=a.length>0&&a[a.length-1])&&(p[0]===6||p[0]===2)){n=0;continue}if(p[0]===3&&(!a||p[1]>a[0]&&p[1]<a[3])){n.label=p[1];break}if(p[0]===6&&n.label<a[1]){n.label=a[1],a=p;break}if(a&&n.label<a[2]){n.label=a[2],n.ops.push(p);break}a[2]&&n.ops.pop(),n.trys.pop();continue}p=e.call(t,n)}catch(g){p=[6,g],i=0}finally{o=a=0}if(p[0]&5)throw p[1];return{value:p[0]?p[1]:void 0,done:!0}}}var cc=Object.create?(function(t,e,n,o){o===void 0&&(o=n);var i=Object.getOwnPropertyDescriptor(e,n);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[n]}}),Object.defineProperty(t,o,i)}):(function(t,e,n,o){o===void 0&&(o=n),t[o]=e[n]});function Ny(t,e){for(var n in t)n!=="default"&&!Object.prototype.hasOwnProperty.call(e,n)&&cc(e,t,n)}function Hl(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],o=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&o>=t.length&&(t=void 0),{value:t&&t[o++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function Lf(t,e){var n=typeof Symbol=="function"&&t[Symbol.iterator];if(!n)return t;var o=n.call(t),i,a=[],u;try{for(;(e===void 0||e-- >0)&&!(i=o.next()).done;)a.push(i.value)}catch(d){u={error:d}}finally{try{i&&!i.done&&(n=o.return)&&n.call(o)}finally{if(u)throw u.error}}return a}function Cy(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(Lf(arguments[e]));return t}function Ry(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;for(var o=Array(t),i=0,e=0;e<n;e++)for(var a=arguments[e],u=0,d=a.length;u<d;u++,i++)o[i]=a[u];return o}function $f(t,e,n){if(n||arguments.length===2)for(var o=0,i=e.length,a;o<i;o++)(a||!(o in e))&&(a||(a=Array.prototype.slice.call(e,0,o)),a[o]=e[o]);return t.concat(a||Array.prototype.slice.call(e))}function Oo(t){return this instanceof Oo?(this.v=t,this):new Oo(t)}function Ty(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var o=n.apply(t,e||[]),i,a=[];return i=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),d("next"),d("throw"),d("return",u),i[Symbol.asyncIterator]=function(){return this},i;function u(b){return function(j){return Promise.resolve(j).then(b,m)}}function d(b,j){o[b]&&(i[b]=function(_){return new Promise(function(S,E){a.push([b,_,S,E])>1||h(b,_)})},j&&(i[b]=j(i[b])))}function h(b,j){try{p(o[b](j))}catch(_){x(a[0][3],_)}}function p(b){b.value instanceof Oo?Promise.resolve(b.value.v).then(g,m):x(a[0][2],b)}function g(b){h("next",b)}function m(b){h("throw",b)}function x(b,j){b(j),a.shift(),a.length&&h(a[0][0],a[0][1])}}function Py(t){var e,n;return e={},o("next"),o("throw",function(i){throw i}),o("return"),e[Symbol.iterator]=function(){return this},e;function o(i,a){e[i]=t[i]?function(u){return(n=!n)?{value:Oo(t[i](u)),done:!1}:a?a(u):u}:a}}function Ay(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],n;return e?e.call(t):(t=typeof Hl=="function"?Hl(t):t[Symbol.iterator](),n={},o("next"),o("throw"),o("return"),n[Symbol.asyncIterator]=function(){return this},n);function o(a){n[a]=t[a]&&function(u){return new Promise(function(d,h){u=t[a](u),i(d,h,u.done,u.value)})}}function i(a,u,d,h){Promise.resolve(h).then(function(p){a({value:p,done:d})},u)}}function Oy(t,e){return Object.defineProperty?Object.defineProperty(t,"raw",{value:e}):t.raw=e,t}var Lk=Object.create?(function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}):function(t,e){t.default=e},Jd=function(t){return Jd=Object.getOwnPropertyNames||function(e){var n=[];for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(n[n.length]=o);return n},Jd(t)};function Iy(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var n=Jd(t),o=0;o<n.length;o++)n[o]!=="default"&&cc(e,t,n[o]);return Lk(e,t),e}function Dy(t){return t&&t.__esModule?t:{default:t}}function Ly(t,e,n,o){if(n==="a"&&!o)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?t!==e||!o:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return n==="m"?o:n==="a"?o.call(t):o?o.value:e.get(t)}function $y(t,e,n,o,i){if(o==="m")throw new TypeError("Private method is not writable");if(o==="a"&&!i)throw new TypeError("Private accessor was defined without a setter");if(typeof e=="function"?t!==e||!i:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return o==="a"?i.call(t,n):i?i.value=n:e.set(t,n),n}function My(t,e){if(e===null||typeof e!="object"&&typeof e!="function")throw new TypeError("Cannot use 'in' operator on non-object");return typeof t=="function"?e===t:t.has(e)}function Fy(t,e,n){if(e!=null){if(typeof e!="object"&&typeof e!="function")throw new TypeError("Object expected.");var o,i;if(n){if(!Symbol.asyncDispose)throw new TypeError("Symbol.asyncDispose is not defined.");o=e[Symbol.asyncDispose]}if(o===void 0){if(!Symbol.dispose)throw new TypeError("Symbol.dispose is not defined.");o=e[Symbol.dispose],n&&(i=o)}if(typeof o!="function")throw new TypeError("Object not disposable.");i&&(o=function(){try{i.call(this)}catch(a){return Promise.reject(a)}}),t.stack.push({value:e,dispose:o,async:n})}else n&&t.stack.push({async:!0});return e}var $k=typeof SuppressedError=="function"?SuppressedError:function(t,e,n){var o=new Error(n);return o.name="SuppressedError",o.error=t,o.suppressed=e,o};function Uy(t){function e(a){t.error=t.hasError?new $k(a,t.error,"An error was suppressed during disposal."):a,t.hasError=!0}var n,o=0;function i(){for(;n=t.stack.pop();)try{if(!n.async&&o===1)return o=0,t.stack.push(n),Promise.resolve().then(i);if(n.dispose){var a=n.dispose.call(n.value);if(n.async)return o|=2,Promise.resolve(a).then(i,function(u){return e(u),i()})}else o|=1}catch(u){e(u)}if(o===1)return t.hasError?Promise.reject(t.error):Promise.resolve();if(t.hasError)throw t.error}return i()}function zy(t,e){return typeof t=="string"&&/^\.\.?\//.test(t)?t.replace(/\.(tsx)$|((?:\.d)?)((?:\.[^./]+?)?)\.([cm]?)ts$/i,function(n,o,i,a,u){return o?e?".jsx":".js":i&&(!a||!u)?n:i+a+"."+u.toLowerCase()+"js"}):t}const Mk={__extends:yy,__assign:br,__rest:os,__decorate:wy,__param:xy,__esDecorate:by,__runInitializers:_y,__propKey:Sy,__setFunctionName:jy,__metadata:ky,__awaiter:we,__generator:Ey,__createBinding:cc,__exportStar:Ny,__values:Hl,__read:Lf,__spread:Cy,__spreadArrays:Ry,__spreadArray:$f,__await:Oo,__asyncGenerator:Ty,__asyncDelegator:Py,__asyncValues:Ay,__makeTemplateObject:Oy,__importStar:Iy,__importDefault:Dy,__classPrivateFieldGet:Ly,__classPrivateFieldSet:$y,__classPrivateFieldIn:My,__addDisposableResource:Fy,__disposeResources:Uy,__rewriteRelativeImportExtension:zy},Fk=Object.freeze(Object.defineProperty({__proto__:null,__addDisposableResource:Fy,get __assign(){return br},__asyncDelegator:Py,__asyncGenerator:Ty,__asyncValues:Ay,__await:Oo,__awaiter:we,__classPrivateFieldGet:Ly,__classPrivateFieldIn:My,__classPrivateFieldSet:$y,__createBinding:cc,__decorate:wy,__disposeResources:Uy,__esDecorate:by,__exportStar:Ny,__extends:yy,__generator:Ey,__importDefault:Dy,__importStar:Iy,__makeTemplateObject:Oy,__metadata:ky,__param:xy,__propKey:Sy,__read:Lf,__rest:os,__rewriteRelativeImportExtension:zy,__runInitializers:_y,__setFunctionName:jy,__spread:Cy,__spreadArray:$f,__spreadArrays:Ry,__values:Hl,default:Mk},Symbol.toStringTag,{value:"Module"}));var $l="right-scroll-bar-position",Ml="width-before-scroll-bar",Uk="with-scroll-bars-hidden",zk="--removed-body-scroll-bar-size";function kd(t,e){return typeof t=="function"?t(e):t&&(t.current=e),t}function Bk(t,e){var n=y.useState(function(){return{value:t,callback:e,facade:{get current(){return n.value},set current(o){var i=n.value;i!==o&&(n.value=o,n.callback(o,i))}}}})[0];return n.callback=e,n.facade}var Vk=typeof window<"u"?y.useLayoutEffect:y.useEffect,Eg=new WeakMap;function Wk(t,e){var n=Bk(null,function(o){return t.forEach(function(i){return kd(i,o)})});return Vk(function(){var o=Eg.get(n);if(o){var i=new Set(o),a=new Set(t),u=n.current;i.forEach(function(d){a.has(d)||kd(d,null)}),a.forEach(function(d){i.has(d)||kd(d,u)})}Eg.set(n,t)},[t]),n}function Hk(t){return t}function qk(t,e){e===void 0&&(e=Hk);var n=[],o=!1,i={read:function(){if(o)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return n.length?n[n.length-1]:t},useMedium:function(a){var u=e(a,o);return n.push(u),function(){n=n.filter(function(d){return d!==u})}},assignSyncMedium:function(a){for(o=!0;n.length;){var u=n;n=[],u.forEach(a)}n={push:function(d){return a(d)},filter:function(){return n}}},assignMedium:function(a){o=!0;var u=[];if(n.length){var d=n;n=[],d.forEach(a),u=n}var h=function(){var g=u;u=[],g.forEach(a)},p=function(){return Promise.resolve().then(h)};p(),n={push:function(g){u.push(g),p()},filter:function(g){return u=u.filter(g),n}}}};return i}function Kk(t){t===void 0&&(t={});var e=qk(null);return e.options=br({async:!0,ssr:!1},t),e}var By=function(t){var e=t.sideCar,n=os(t,["sideCar"]);if(!e)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var o=e.read();if(!o)throw new Error("Sidecar medium not found");return y.createElement(o,br({},n))};By.isSideCarExport=!0;function Gk(t,e){return t.useMedium(e),By}var Vy=Kk(),Ed=function(){},uc=y.forwardRef(function(t,e){var n=y.useRef(null),o=y.useState({onScrollCapture:Ed,onWheelCapture:Ed,onTouchMoveCapture:Ed}),i=o[0],a=o[1],u=t.forwardProps,d=t.children,h=t.className,p=t.removeScrollBar,g=t.enabled,m=t.shards,x=t.sideCar,b=t.noRelative,j=t.noIsolation,_=t.inert,S=t.allowPinchZoom,E=t.as,N=E===void 0?"div":E,C=t.gapMode,P=os(t,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noRelative","noIsolation","inert","allowPinchZoom","as","gapMode"]),F=x,V=Wk([n,e]),I=br(br({},P),i);return y.createElement(y.Fragment,null,g&&y.createElement(F,{sideCar:Vy,removeScrollBar:p,shards:m,noRelative:b,noIsolation:j,inert:_,setCallbacks:a,allowPinchZoom:!!S,lockRef:n,gapMode:C}),u?y.cloneElement(y.Children.only(d),br(br({},I),{ref:V})):y.createElement(N,br({},I,{className:h,ref:V}),d))});uc.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};uc.classNames={fullWidth:Ml,zeroRight:$l};var Yk=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function Jk(){if(!document)return null;var t=document.createElement("style");t.type="text/css";var e=Yk();return e&&t.setAttribute("nonce",e),t}function Qk(t,e){t.styleSheet?t.styleSheet.cssText=e:t.appendChild(document.createTextNode(e))}function Xk(t){var e=document.head||document.getElementsByTagName("head")[0];e.appendChild(t)}var Zk=function(){var t=0,e=null;return{add:function(n){t==0&&(e=Jk())&&(Qk(e,n),Xk(e)),t++},remove:function(){t--,!t&&e&&(e.parentNode&&e.parentNode.removeChild(e),e=null)}}},eE=function(){var t=Zk();return function(e,n){y.useEffect(function(){return t.add(e),function(){t.remove()}},[e&&n])}},Wy=function(){var t=eE(),e=function(n){var o=n.styles,i=n.dynamic;return t(o,i),null};return e},tE={left:0,top:0,right:0,gap:0},Nd=function(t){return parseInt(t||"",10)||0},rE=function(t){var e=window.getComputedStyle(document.body),n=e[t==="padding"?"paddingLeft":"marginLeft"],o=e[t==="padding"?"paddingTop":"marginTop"],i=e[t==="padding"?"paddingRight":"marginRight"];return[Nd(n),Nd(o),Nd(i)]},nE=function(t){if(t===void 0&&(t="margin"),typeof window>"u")return tE;var e=rE(t),n=document.documentElement.clientWidth,o=window.innerWidth;return{left:e[0],top:e[1],right:e[2],gap:Math.max(0,o-n+e[2]-e[0])}},sE=Wy(),No="data-scroll-locked",oE=function(t,e,n,o){var i=t.left,a=t.top,u=t.right,d=t.gap;return n===void 0&&(n="margin"),`
  .`.concat(Uk,` {
   overflow: hidden `).concat(o,`;
   padding-right: `).concat(d,"px ").concat(o,`;
  }
  body[`).concat(No,`] {
    overflow: hidden `).concat(o,`;
    overscroll-behavior: contain;
    `).concat([e&&"position: relative ".concat(o,";"),n==="margin"&&`
    padding-left: `.concat(i,`px;
    padding-top: `).concat(a,`px;
    padding-right: `).concat(u,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(d,"px ").concat(o,`;
    `),n==="padding"&&"padding-right: ".concat(d,"px ").concat(o,";")].filter(Boolean).join(""),`
  }
  
  .`).concat($l,` {
    right: `).concat(d,"px ").concat(o,`;
  }
  
  .`).concat(Ml,` {
    margin-right: `).concat(d,"px ").concat(o,`;
  }
  
  .`).concat($l," .").concat($l,` {
    right: 0 `).concat(o,`;
  }
  
  .`).concat(Ml," .").concat(Ml,` {
    margin-right: 0 `).concat(o,`;
  }
  
  body[`).concat(No,`] {
    `).concat(zk,": ").concat(d,`px;
  }
`)},Ng=function(){var t=parseInt(document.body.getAttribute(No)||"0",10);return isFinite(t)?t:0},iE=function(){y.useEffect(function(){return document.body.setAttribute(No,(Ng()+1).toString()),function(){var t=Ng()-1;t<=0?document.body.removeAttribute(No):document.body.setAttribute(No,t.toString())}},[])},aE=function(t){var e=t.noRelative,n=t.noImportant,o=t.gapMode,i=o===void 0?"margin":o;iE();var a=y.useMemo(function(){return nE(i)},[i]);return y.createElement(sE,{styles:oE(a,!e,i,n?"":"!important")})},Qd=!1;if(typeof window<"u")try{var _l=Object.defineProperty({},"passive",{get:function(){return Qd=!0,!0}});window.addEventListener("test",_l,_l),window.removeEventListener("test",_l,_l)}catch{Qd=!1}var mo=Qd?{passive:!1}:!1,lE=function(t){return t.tagName==="TEXTAREA"},Hy=function(t,e){if(!(t instanceof Element))return!1;var n=window.getComputedStyle(t);return n[e]!=="hidden"&&!(n.overflowY===n.overflowX&&!lE(t)&&n[e]==="visible")},cE=function(t){return Hy(t,"overflowY")},uE=function(t){return Hy(t,"overflowX")},Cg=function(t,e){var n=e.ownerDocument,o=e;do{typeof ShadowRoot<"u"&&o instanceof ShadowRoot&&(o=o.host);var i=qy(t,o);if(i){var a=Ky(t,o),u=a[1],d=a[2];if(u>d)return!0}o=o.parentNode}while(o&&o!==n.body);return!1},dE=function(t){var e=t.scrollTop,n=t.scrollHeight,o=t.clientHeight;return[e,n,o]},fE=function(t){var e=t.scrollLeft,n=t.scrollWidth,o=t.clientWidth;return[e,n,o]},qy=function(t,e){return t==="v"?cE(e):uE(e)},Ky=function(t,e){return t==="v"?dE(e):fE(e)},hE=function(t,e){return t==="h"&&e==="rtl"?-1:1},pE=function(t,e,n,o,i){var a=hE(t,window.getComputedStyle(e).direction),u=a*o,d=n.target,h=e.contains(d),p=!1,g=u>0,m=0,x=0;do{if(!d)break;var b=Ky(t,d),j=b[0],_=b[1],S=b[2],E=_-S-a*j;(j||E)&&qy(t,d)&&(m+=E,x+=j);var N=d.parentNode;d=N&&N.nodeType===Node.DOCUMENT_FRAGMENT_NODE?N.host:N}while(!h&&d!==document.body||h&&(e.contains(d)||e===d));return(g&&Math.abs(m)<1||!g&&Math.abs(x)<1)&&(p=!0),p},Sl=function(t){return"changedTouches"in t?[t.changedTouches[0].clientX,t.changedTouches[0].clientY]:[0,0]},Rg=function(t){return[t.deltaX,t.deltaY]},Tg=function(t){return t&&"current"in t?t.current:t},mE=function(t,e){return t[0]===e[0]&&t[1]===e[1]},gE=function(t){return`
  .block-interactivity-`.concat(t,` {pointer-events: none;}
  .allow-interactivity-`).concat(t,` {pointer-events: all;}
`)},vE=0,go=[];function yE(t){var e=y.useRef([]),n=y.useRef([0,0]),o=y.useRef(),i=y.useState(vE++)[0],a=y.useState(Wy)[0],u=y.useRef(t);y.useEffect(function(){u.current=t},[t]),y.useEffect(function(){if(t.inert){document.body.classList.add("block-interactivity-".concat(i));var _=$f([t.lockRef.current],(t.shards||[]).map(Tg),!0).filter(Boolean);return _.forEach(function(S){return S.classList.add("allow-interactivity-".concat(i))}),function(){document.body.classList.remove("block-interactivity-".concat(i)),_.forEach(function(S){return S.classList.remove("allow-interactivity-".concat(i))})}}},[t.inert,t.lockRef.current,t.shards]);var d=y.useCallback(function(_,S){if("touches"in _&&_.touches.length===2||_.type==="wheel"&&_.ctrlKey)return!u.current.allowPinchZoom;var E=Sl(_),N=n.current,C="deltaX"in _?_.deltaX:N[0]-E[0],P="deltaY"in _?_.deltaY:N[1]-E[1],F,V=_.target,I=Math.abs(C)>Math.abs(P)?"h":"v";if("touches"in _&&I==="h"&&V.type==="range")return!1;var z=Cg(I,V);if(!z)return!0;if(z?F=I:(F=I==="v"?"h":"v",z=Cg(I,V)),!z)return!1;if(!o.current&&"changedTouches"in _&&(C||P)&&(o.current=F),!F)return!0;var q=o.current||F;return pE(q,S,_,q==="h"?C:P)},[]),h=y.useCallback(function(_){var S=_;if(!(!go.length||go[go.length-1]!==a)){var E="deltaY"in S?Rg(S):Sl(S),N=e.current.filter(function(F){return F.name===S.type&&(F.target===S.target||S.target===F.shadowParent)&&mE(F.delta,E)})[0];if(N&&N.should){S.cancelable&&S.preventDefault();return}if(!N){var C=(u.current.shards||[]).map(Tg).filter(Boolean).filter(function(F){return F.contains(S.target)}),P=C.length>0?d(S,C[0]):!u.current.noIsolation;P&&S.cancelable&&S.preventDefault()}}},[]),p=y.useCallback(function(_,S,E,N){var C={name:_,delta:S,target:E,should:N,shadowParent:wE(E)};e.current.push(C),setTimeout(function(){e.current=e.current.filter(function(P){return P!==C})},1)},[]),g=y.useCallback(function(_){n.current=Sl(_),o.current=void 0},[]),m=y.useCallback(function(_){p(_.type,Rg(_),_.target,d(_,t.lockRef.current))},[]),x=y.useCallback(function(_){p(_.type,Sl(_),_.target,d(_,t.lockRef.current))},[]);y.useEffect(function(){return go.push(a),t.setCallbacks({onScrollCapture:m,onWheelCapture:m,onTouchMoveCapture:x}),document.addEventListener("wheel",h,mo),document.addEventListener("touchmove",h,mo),document.addEventListener("touchstart",g,mo),function(){go=go.filter(function(_){return _!==a}),document.removeEventListener("wheel",h,mo),document.removeEventListener("touchmove",h,mo),document.removeEventListener("touchstart",g,mo)}},[]);var b=t.removeScrollBar,j=t.inert;return y.createElement(y.Fragment,null,j?y.createElement(a,{styles:gE(i)}):null,b?y.createElement(aE,{noRelative:t.noRelative,gapMode:t.gapMode}):null)}function wE(t){for(var e=null;t!==null;)t instanceof ShadowRoot&&(e=t.host,t=t.host),t=t.parentNode;return e}const xE=Gk(Vy,yE);var Mf=y.forwardRef(function(t,e){return y.createElement(uc,br({},t,{ref:e,sideCar:xE}))});Mf.classNames=uc.classNames;var bE=function(t){if(typeof document>"u")return null;var e=Array.isArray(t)?t[0]:t;return e.ownerDocument.body},vo=new WeakMap,jl=new WeakMap,kl={},Cd=0,Gy=function(t){return t&&(t.host||Gy(t.parentNode))},_E=function(t,e){return e.map(function(n){if(t.contains(n))return n;var o=Gy(n);return o&&t.contains(o)?o:(console.error("aria-hidden",n,"in not contained inside",t,". Doing nothing"),null)}).filter(function(n){return!!n})},SE=function(t,e,n,o){var i=_E(e,Array.isArray(t)?t:[t]);kl[n]||(kl[n]=new WeakMap);var a=kl[n],u=[],d=new Set,h=new Set(i),p=function(m){!m||d.has(m)||(d.add(m),p(m.parentNode))};i.forEach(p);var g=function(m){!m||h.has(m)||Array.prototype.forEach.call(m.children,function(x){if(d.has(x))g(x);else try{var b=x.getAttribute(o),j=b!==null&&b!=="false",_=(vo.get(x)||0)+1,S=(a.get(x)||0)+1;vo.set(x,_),a.set(x,S),u.push(x),_===1&&j&&jl.set(x,!0),S===1&&x.setAttribute(n,"true"),j||x.setAttribute(o,"true")}catch(E){console.error("aria-hidden: cannot operate on ",x,E)}})};return g(e),d.clear(),Cd++,function(){u.forEach(function(m){var x=vo.get(m)-1,b=a.get(m)-1;vo.set(m,x),a.set(m,b),x||(jl.has(m)||m.removeAttribute(o),jl.delete(m)),b||m.removeAttribute(n)}),Cd--,Cd||(vo=new WeakMap,vo=new WeakMap,jl=new WeakMap,kl={})}},Yy=function(t,e,n){n===void 0&&(n="data-aria-hidden");var o=Array.from(Array.isArray(t)?t:[t]),i=bE(t);return i?(o.push.apply(o,Array.from(i.querySelectorAll("[aria-live], script"))),SE(o,i,n,"aria-hidden")):function(){return null}};function jE(t){const e=kE(t),n=y.forwardRef((o,i)=>{const{children:a,...u}=o,d=y.Children.toArray(a),h=d.find(NE);if(h){const p=h.props.children,g=d.map(m=>m===h?y.Children.count(p)>1?y.Children.only(null):y.isValidElement(p)?p.props.children:null:m);return l.jsx(e,{...u,ref:i,children:y.isValidElement(p)?y.cloneElement(p,void 0,g):null})}return l.jsx(e,{...u,ref:i,children:a})});return n.displayName=`${t}.Slot`,n}function kE(t){const e=y.forwardRef((n,o)=>{const{children:i,...a}=n;if(y.isValidElement(i)){const u=RE(i),d=CE(a,i.props);return i.type!==y.Fragment&&(d.ref=o?zo(o,u):u),y.cloneElement(i,d)}return y.Children.count(i)>1?y.Children.only(null):null});return e.displayName=`${t}.SlotClone`,e}var EE=Symbol("radix.slottable");function NE(t){return y.isValidElement(t)&&typeof t.type=="function"&&"__radixId"in t.type&&t.type.__radixId===EE}function CE(t,e){const n={...e};for(const o in e){const i=t[o],a=e[o];/^on[A-Z]/.test(o)?i&&a?n[o]=(...d)=>{const h=a(...d);return i(...d),h}:i&&(n[o]=i):o==="style"?n[o]={...i,...a}:o==="className"&&(n[o]=[i,a].filter(Boolean).join(" "))}return{...t,...n}}function RE(t){let e=Object.getOwnPropertyDescriptor(t.props,"ref")?.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=Object.getOwnPropertyDescriptor(t,"ref")?.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}var dc="Dialog",[Jy]=zs(dc),[TE,$r]=Jy(dc),Qy=t=>{const{__scopeDialog:e,children:n,open:o,defaultOpen:i,onOpenChange:a,modal:u=!0}=t,d=y.useRef(null),h=y.useRef(null),[p,g]=Gi({prop:o,defaultProp:i??!1,onChange:a,caller:dc});return l.jsx(TE,{scope:e,triggerRef:d,contentRef:h,contentId:ts(),titleId:ts(),descriptionId:ts(),open:p,onOpenChange:g,onOpenToggle:y.useCallback(()=>g(m=>!m),[g]),modal:u,children:n})};Qy.displayName=dc;var Xy="DialogTrigger",PE=y.forwardRef((t,e)=>{const{__scopeDialog:n,...o}=t,i=$r(Xy,n),a=qe(e,i.triggerRef);return l.jsx(Me.button,{type:"button","aria-haspopup":"dialog","aria-expanded":i.open,"aria-controls":i.contentId,"data-state":zf(i.open),...o,ref:a,onClick:Oe(t.onClick,i.onOpenToggle)})});PE.displayName=Xy;var Ff="DialogPortal",[AE,Zy]=Jy(Ff,{forceMount:void 0}),ew=t=>{const{__scopeDialog:e,forceMount:n,children:o,container:i}=t,a=$r(Ff,e);return l.jsx(AE,{scope:e,forceMount:n,children:y.Children.map(o,u=>l.jsx(wn,{present:n||a.open,children:l.jsx(Df,{asChild:!0,container:i,children:u})}))})};ew.displayName=Ff;var ql="DialogOverlay",tw=y.forwardRef((t,e)=>{const n=Zy(ql,t.__scopeDialog),{forceMount:o=n.forceMount,...i}=t,a=$r(ql,t.__scopeDialog);return a.modal?l.jsx(wn,{present:o||a.open,children:l.jsx(IE,{...i,ref:e})}):null});tw.displayName=ql;var OE=jE("DialogOverlay.RemoveScroll"),IE=y.forwardRef((t,e)=>{const{__scopeDialog:n,...o}=t,i=$r(ql,n);return l.jsx(Mf,{as:OE,allowPinchZoom:!0,shards:[i.contentRef],children:l.jsx(Me.div,{"data-state":zf(i.open),...o,ref:e,style:{pointerEvents:"auto",...o.style}})})}),$s="DialogContent",rw=y.forwardRef((t,e)=>{const n=Zy($s,t.__scopeDialog),{forceMount:o=n.forceMount,...i}=t,a=$r($s,t.__scopeDialog);return l.jsx(wn,{present:o||a.open,children:a.modal?l.jsx(DE,{...i,ref:e}):l.jsx(LE,{...i,ref:e})})});rw.displayName=$s;var DE=y.forwardRef((t,e)=>{const n=$r($s,t.__scopeDialog),o=y.useRef(null),i=qe(e,n.contentRef,o);return y.useEffect(()=>{const a=o.current;if(a)return Yy(a)},[]),l.jsx(nw,{...t,ref:i,trapFocus:n.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:Oe(t.onCloseAutoFocus,a=>{a.preventDefault(),n.triggerRef.current?.focus()}),onPointerDownOutside:Oe(t.onPointerDownOutside,a=>{const u=a.detail.originalEvent,d=u.button===0&&u.ctrlKey===!0;(u.button===2||d)&&a.preventDefault()}),onFocusOutside:Oe(t.onFocusOutside,a=>a.preventDefault())})}),LE=y.forwardRef((t,e)=>{const n=$r($s,t.__scopeDialog),o=y.useRef(!1),i=y.useRef(!1);return l.jsx(nw,{...t,ref:e,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:a=>{t.onCloseAutoFocus?.(a),a.defaultPrevented||(o.current||n.triggerRef.current?.focus(),a.preventDefault()),o.current=!1,i.current=!1},onInteractOutside:a=>{t.onInteractOutside?.(a),a.defaultPrevented||(o.current=!0,a.detail.originalEvent.type==="pointerdown"&&(i.current=!0));const u=a.target;n.triggerRef.current?.contains(u)&&a.preventDefault(),a.detail.originalEvent.type==="focusin"&&i.current&&a.preventDefault()}})}),nw=y.forwardRef((t,e)=>{const{__scopeDialog:n,trapFocus:o,onOpenAutoFocus:i,onCloseAutoFocus:a,...u}=t,d=$r($s,n),h=y.useRef(null),p=qe(e,h);return vy(),l.jsxs(l.Fragment,{children:[l.jsx(If,{asChild:!0,loop:!0,trapped:o,onMountAutoFocus:i,onUnmountAutoFocus:a,children:l.jsx(Of,{role:"dialog",id:d.contentId,"aria-describedby":d.descriptionId,"aria-labelledby":d.titleId,"data-state":zf(d.open),...u,ref:p,onDismiss:()=>d.onOpenChange(!1)})}),l.jsxs(l.Fragment,{children:[l.jsx($E,{titleId:d.titleId}),l.jsx(FE,{contentRef:h,descriptionId:d.descriptionId})]})]})}),Uf="DialogTitle",sw=y.forwardRef((t,e)=>{const{__scopeDialog:n,...o}=t,i=$r(Uf,n);return l.jsx(Me.h2,{id:i.titleId,...o,ref:e})});sw.displayName=Uf;var ow="DialogDescription",iw=y.forwardRef((t,e)=>{const{__scopeDialog:n,...o}=t,i=$r(ow,n);return l.jsx(Me.p,{id:i.descriptionId,...o,ref:e})});iw.displayName=ow;var aw="DialogClose",lw=y.forwardRef((t,e)=>{const{__scopeDialog:n,...o}=t,i=$r(aw,n);return l.jsx(Me.button,{type:"button",...o,ref:e,onClick:Oe(t.onClick,()=>i.onOpenChange(!1))})});lw.displayName=aw;function zf(t){return t?"open":"closed"}var cw="DialogTitleWarning",[AA,uw]=rk(cw,{contentName:$s,titleName:Uf,docsSlug:"dialog"}),$E=({titleId:t})=>{const e=uw(cw),n=`\`${e.contentName}\` requires a \`${e.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${e.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${e.docsSlug}`;return y.useEffect(()=>{t&&(document.getElementById(t)||console.error(n))},[n,t]),null},ME="DialogDescriptionWarning",FE=({contentRef:t,descriptionId:e})=>{const o=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${uw(ME).contentName}}.`;return y.useEffect(()=>{const i=t.current?.getAttribute("aria-describedby");e&&i&&(document.getElementById(e)||console.warn(o))},[o,t,e]),null},UE=Qy,zE=ew,dw=tw,fw=rw,BE=sw,VE=iw,WE=lw;function Vo({...t}){return l.jsx(UE,{"data-slot":"dialog",...t})}function HE({...t}){return l.jsx(zE,{"data-slot":"dialog-portal",...t})}const hw=y.forwardRef(({className:t,...e},n)=>l.jsx(dw,{ref:n,"data-slot":"dialog-overlay",className:ge("data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 fixed inset-0 z-50 bg-black/50",t),...e}));hw.displayName=dw.displayName;const Bs=y.forwardRef(({className:t,children:e,...n},o)=>l.jsxs(HE,{"data-slot":"dialog-portal",children:[l.jsx(hw,{}),l.jsxs(fw,{ref:o,"data-slot":"dialog-content",className:ge("bg-background data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 fixed top-[50%] left-[50%] z-50 grid w-full max-w-[calc(100%-2rem)] translate-x-[-50%] translate-y-[-50%] gap-4 rounded-lg border p-6 shadow-lg duration-200 sm:max-w-lg",t),...n,children:[e,l.jsxs(WE,{className:"ring-offset-background focus:ring-ring data-[state=open]:bg-accent data-[state=open]:text-muted-foreground absolute top-4 right-4 rounded-xs opacity-70 transition-opacity hover:opacity-100 focus:ring-2 focus:ring-offset-2 focus:outline-hidden disabled:pointer-events-none [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",children:[l.jsx(Af,{}),l.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));Bs.displayName=fw.displayName;function Wo({className:t,...e}){return l.jsx("div",{"data-slot":"dialog-header",className:ge("flex flex-col gap-2 text-center sm:text-left",t),...e})}function pw({className:t,...e}){return l.jsx("div",{"data-slot":"dialog-footer",className:ge("flex flex-col-reverse gap-2 sm:flex-row sm:justify-end",t),...e})}function Ho({className:t,...e}){return l.jsx(BE,{"data-slot":"dialog-title",className:ge("text-lg leading-none font-semibold",t),...e})}function qo({className:t,...e}){return l.jsx(VE,{"data-slot":"dialog-description",className:ge("text-muted-foreground text-sm",t),...e})}function rt({className:t,type:e,...n}){return l.jsx("input",{type:e,"data-slot":"input",className:ge("file:text-foreground placeholder:text-muted-foreground selection:bg-primary selection:text-primary-foreground dark:bg-input/30 border-input flex h-9 w-full min-w-0 rounded-md border px-3 py-1 text-base bg-input-background transition-[color,box-shadow] outline-none file:inline-flex file:h-7 file:border-0 file:bg-transparent file:text-sm file:font-medium disabled:pointer-events-none disabled:cursor-not-allowed disabled:opacity-50 md:text-sm","focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px]","aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",t),...n})}function Ko({className:t,...e}){return l.jsx("textarea",{"data-slot":"textarea",className:ge("resize-none border-input placeholder:text-muted-foreground focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive dark:bg-input/30 flex field-sizing-content min-h-16 w-full rounded-md border bg-input-background px-3 py-2 text-base transition-[color,box-shadow] outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",t),...e})}function Xd(t,[e,n]){return Math.min(n,Math.max(e,t))}function Pg(t){const e=qE(t),n=y.forwardRef((o,i)=>{const{children:a,...u}=o,d=y.Children.toArray(a),h=d.find(GE);if(h){const p=h.props.children,g=d.map(m=>m===h?y.Children.count(p)>1?y.Children.only(null):y.isValidElement(p)?p.props.children:null:m);return l.jsx(e,{...u,ref:i,children:y.isValidElement(p)?y.cloneElement(p,void 0,g):null})}return l.jsx(e,{...u,ref:i,children:a})});return n.displayName=`${t}.Slot`,n}function qE(t){const e=y.forwardRef((n,o)=>{const{children:i,...a}=n;if(y.isValidElement(i)){const u=JE(i),d=YE(a,i.props);return i.type!==y.Fragment&&(d.ref=o?zo(o,u):u),y.cloneElement(i,d)}return y.Children.count(i)>1?y.Children.only(null):null});return e.displayName=`${t}.SlotClone`,e}var KE=Symbol("radix.slottable");function GE(t){return y.isValidElement(t)&&typeof t.type=="function"&&"__radixId"in t.type&&t.type.__radixId===KE}function YE(t,e){const n={...e};for(const o in e){const i=t[o],a=e[o];/^on[A-Z]/.test(o)?i&&a?n[o]=(...d)=>{const h=a(...d);return i(...d),h}:i&&(n[o]=i):o==="style"?n[o]={...i,...a}:o==="className"&&(n[o]=[i,a].filter(Boolean).join(" "))}return{...t,...n}}function JE(t){let e=Object.getOwnPropertyDescriptor(t.props,"ref")?.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=Object.getOwnPropertyDescriptor(t,"ref")?.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}function mw(t){const e=t+"CollectionProvider",[n,o]=zs(e),[i,a]=n(e,{collectionRef:{current:null},itemMap:new Map}),u=_=>{const{scope:S,children:E}=_,N=te.useRef(null),C=te.useRef(new Map).current;return l.jsx(i,{scope:S,itemMap:C,collectionRef:N,children:E})};u.displayName=e;const d=t+"CollectionSlot",h=Pg(d),p=te.forwardRef((_,S)=>{const{scope:E,children:N}=_,C=a(d,E),P=qe(S,C.collectionRef);return l.jsx(h,{ref:P,children:N})});p.displayName=d;const g=t+"CollectionItemSlot",m="data-radix-collection-item",x=Pg(g),b=te.forwardRef((_,S)=>{const{scope:E,children:N,...C}=_,P=te.useRef(null),F=qe(S,P),V=a(g,E);return te.useEffect(()=>(V.itemMap.set(P,{ref:P,...C}),()=>void V.itemMap.delete(P))),l.jsx(x,{[m]:"",ref:F,children:N})});b.displayName=g;function j(_){const S=a(t+"CollectionConsumer",_);return te.useCallback(()=>{const N=S.collectionRef.current;if(!N)return[];const C=Array.from(N.querySelectorAll(`[${m}]`));return Array.from(S.itemMap.values()).sort((V,I)=>C.indexOf(V.ref.current)-C.indexOf(I.ref.current))},[S.collectionRef,S.itemMap])}return[{Provider:u,Slot:p,ItemSlot:b},j,o]}var QE=y.createContext(void 0);function fc(t){const e=y.useContext(QE);return t||e||"ltr"}const XE=["top","right","bottom","left"],rs=Math.min,or=Math.max,Kl=Math.round,El=Math.floor,Jr=t=>({x:t,y:t}),ZE={left:"right",right:"left",bottom:"top",top:"bottom"},eN={start:"end",end:"start"};function Zd(t,e,n){return or(t,rs(e,n))}function gn(t,e){return typeof t=="function"?t(e):t}function vn(t){return t.split("-")[0]}function Go(t){return t.split("-")[1]}function Bf(t){return t==="x"?"y":"x"}function Vf(t){return t==="y"?"height":"width"}const tN=new Set(["top","bottom"]);function Hr(t){return tN.has(vn(t))?"y":"x"}function Wf(t){return Bf(Hr(t))}function rN(t,e,n){n===void 0&&(n=!1);const o=Go(t),i=Wf(t),a=Vf(i);let u=i==="x"?o===(n?"end":"start")?"right":"left":o==="start"?"bottom":"top";return e.reference[a]>e.floating[a]&&(u=Gl(u)),[u,Gl(u)]}function nN(t){const e=Gl(t);return[ef(t),e,ef(e)]}function ef(t){return t.replace(/start|end/g,e=>eN[e])}const Ag=["left","right"],Og=["right","left"],sN=["top","bottom"],oN=["bottom","top"];function iN(t,e,n){switch(t){case"top":case"bottom":return n?e?Og:Ag:e?Ag:Og;case"left":case"right":return e?sN:oN;default:return[]}}function aN(t,e,n,o){const i=Go(t);let a=iN(vn(t),n==="start",o);return i&&(a=a.map(u=>u+"-"+i),e&&(a=a.concat(a.map(ef)))),a}function Gl(t){return t.replace(/left|right|bottom|top/g,e=>ZE[e])}function lN(t){return{top:0,right:0,bottom:0,left:0,...t}}function gw(t){return typeof t!="number"?lN(t):{top:t,right:t,bottom:t,left:t}}function Yl(t){const{x:e,y:n,width:o,height:i}=t;return{width:o,height:i,top:n,left:e,right:e+o,bottom:n+i,x:e,y:n}}function Ig(t,e,n){let{reference:o,floating:i}=t;const a=Hr(e),u=Wf(e),d=Vf(u),h=vn(e),p=a==="y",g=o.x+o.width/2-i.width/2,m=o.y+o.height/2-i.height/2,x=o[d]/2-i[d]/2;let b;switch(h){case"top":b={x:g,y:o.y-i.height};break;case"bottom":b={x:g,y:o.y+o.height};break;case"right":b={x:o.x+o.width,y:m};break;case"left":b={x:o.x-i.width,y:m};break;default:b={x:o.x,y:o.y}}switch(Go(e)){case"start":b[u]-=x*(n&&p?-1:1);break;case"end":b[u]+=x*(n&&p?-1:1);break}return b}const cN=async(t,e,n)=>{const{placement:o="bottom",strategy:i="absolute",middleware:a=[],platform:u}=n,d=a.filter(Boolean),h=await(u.isRTL==null?void 0:u.isRTL(e));let p=await u.getElementRects({reference:t,floating:e,strategy:i}),{x:g,y:m}=Ig(p,o,h),x=o,b={},j=0;for(let _=0;_<d.length;_++){const{name:S,fn:E}=d[_],{x:N,y:C,data:P,reset:F}=await E({x:g,y:m,initialPlacement:o,placement:x,strategy:i,middlewareData:b,rects:p,platform:u,elements:{reference:t,floating:e}});g=N??g,m=C??m,b={...b,[S]:{...b[S],...P}},F&&j<=50&&(j++,typeof F=="object"&&(F.placement&&(x=F.placement),F.rects&&(p=F.rects===!0?await u.getElementRects({reference:t,floating:e,strategy:i}):F.rects),{x:g,y:m}=Ig(p,x,h)),_=-1)}return{x:g,y:m,placement:x,strategy:i,middlewareData:b}};async function Yi(t,e){var n;e===void 0&&(e={});const{x:o,y:i,platform:a,rects:u,elements:d,strategy:h}=t,{boundary:p="clippingAncestors",rootBoundary:g="viewport",elementContext:m="floating",altBoundary:x=!1,padding:b=0}=gn(e,t),j=gw(b),S=d[x?m==="floating"?"reference":"floating":m],E=Yl(await a.getClippingRect({element:(n=await(a.isElement==null?void 0:a.isElement(S)))==null||n?S:S.contextElement||await(a.getDocumentElement==null?void 0:a.getDocumentElement(d.floating)),boundary:p,rootBoundary:g,strategy:h})),N=m==="floating"?{x:o,y:i,width:u.floating.width,height:u.floating.height}:u.reference,C=await(a.getOffsetParent==null?void 0:a.getOffsetParent(d.floating)),P=await(a.isElement==null?void 0:a.isElement(C))?await(a.getScale==null?void 0:a.getScale(C))||{x:1,y:1}:{x:1,y:1},F=Yl(a.convertOffsetParentRelativeRectToViewportRelativeRect?await a.convertOffsetParentRelativeRectToViewportRelativeRect({elements:d,rect:N,offsetParent:C,strategy:h}):N);return{top:(E.top-F.top+j.top)/P.y,bottom:(F.bottom-E.bottom+j.bottom)/P.y,left:(E.left-F.left+j.left)/P.x,right:(F.right-E.right+j.right)/P.x}}const uN=t=>({name:"arrow",options:t,async fn(e){const{x:n,y:o,placement:i,rects:a,platform:u,elements:d,middlewareData:h}=e,{element:p,padding:g=0}=gn(t,e)||{};if(p==null)return{};const m=gw(g),x={x:n,y:o},b=Wf(i),j=Vf(b),_=await u.getDimensions(p),S=b==="y",E=S?"top":"left",N=S?"bottom":"right",C=S?"clientHeight":"clientWidth",P=a.reference[j]+a.reference[b]-x[b]-a.floating[j],F=x[b]-a.reference[b],V=await(u.getOffsetParent==null?void 0:u.getOffsetParent(p));let I=V?V[C]:0;(!I||!await(u.isElement==null?void 0:u.isElement(V)))&&(I=d.floating[C]||a.floating[j]);const z=P/2-F/2,q=I/2-_[j]/2-1,ne=rs(m[E],q),ce=rs(m[N],q),de=ne,le=I-_[j]-ce,me=I/2-_[j]/2+z,be=Zd(de,me,le),B=!h.arrow&&Go(i)!=null&&me!==be&&a.reference[j]/2-(me<de?ne:ce)-_[j]/2<0,$=B?me<de?me-de:me-le:0;return{[b]:x[b]+$,data:{[b]:be,centerOffset:me-be-$,...B&&{alignmentOffset:$}},reset:B}}}),dN=function(t){return t===void 0&&(t={}),{name:"flip",options:t,async fn(e){var n,o;const{placement:i,middlewareData:a,rects:u,initialPlacement:d,platform:h,elements:p}=e,{mainAxis:g=!0,crossAxis:m=!0,fallbackPlacements:x,fallbackStrategy:b="bestFit",fallbackAxisSideDirection:j="none",flipAlignment:_=!0,...S}=gn(t,e);if((n=a.arrow)!=null&&n.alignmentOffset)return{};const E=vn(i),N=Hr(d),C=vn(d)===d,P=await(h.isRTL==null?void 0:h.isRTL(p.floating)),F=x||(C||!_?[Gl(d)]:nN(d)),V=j!=="none";!x&&V&&F.push(...aN(d,_,j,P));const I=[d,...F],z=await Yi(e,S),q=[];let ne=((o=a.flip)==null?void 0:o.overflows)||[];if(g&&q.push(z[E]),m){const me=rN(i,u,P);q.push(z[me[0]],z[me[1]])}if(ne=[...ne,{placement:i,overflows:q}],!q.every(me=>me<=0)){var ce,de;const me=(((ce=a.flip)==null?void 0:ce.index)||0)+1,be=I[me];if(be&&(!(m==="alignment"?N!==Hr(be):!1)||ne.every(O=>Hr(O.placement)===N?O.overflows[0]>0:!0)))return{data:{index:me,overflows:ne},reset:{placement:be}};let B=(de=ne.filter($=>$.overflows[0]<=0).sort(($,O)=>$.overflows[1]-O.overflows[1])[0])==null?void 0:de.placement;if(!B)switch(b){case"bestFit":{var le;const $=(le=ne.filter(O=>{if(V){const Z=Hr(O.placement);return Z===N||Z==="y"}return!0}).map(O=>[O.placement,O.overflows.filter(Z=>Z>0).reduce((Z,K)=>Z+K,0)]).sort((O,Z)=>O[1]-Z[1])[0])==null?void 0:le[0];$&&(B=$);break}case"initialPlacement":B=d;break}if(i!==B)return{reset:{placement:B}}}return{}}}};function Dg(t,e){return{top:t.top-e.height,right:t.right-e.width,bottom:t.bottom-e.height,left:t.left-e.width}}function Lg(t){return XE.some(e=>t[e]>=0)}const fN=function(t){return t===void 0&&(t={}),{name:"hide",options:t,async fn(e){const{rects:n}=e,{strategy:o="referenceHidden",...i}=gn(t,e);switch(o){case"referenceHidden":{const a=await Yi(e,{...i,elementContext:"reference"}),u=Dg(a,n.reference);return{data:{referenceHiddenOffsets:u,referenceHidden:Lg(u)}}}case"escaped":{const a=await Yi(e,{...i,altBoundary:!0}),u=Dg(a,n.floating);return{data:{escapedOffsets:u,escaped:Lg(u)}}}default:return{}}}}},vw=new Set(["left","top"]);async function hN(t,e){const{placement:n,platform:o,elements:i}=t,a=await(o.isRTL==null?void 0:o.isRTL(i.floating)),u=vn(n),d=Go(n),h=Hr(n)==="y",p=vw.has(u)?-1:1,g=a&&h?-1:1,m=gn(e,t);let{mainAxis:x,crossAxis:b,alignmentAxis:j}=typeof m=="number"?{mainAxis:m,crossAxis:0,alignmentAxis:null}:{mainAxis:m.mainAxis||0,crossAxis:m.crossAxis||0,alignmentAxis:m.alignmentAxis};return d&&typeof j=="number"&&(b=d==="end"?j*-1:j),h?{x:b*g,y:x*p}:{x:x*p,y:b*g}}const pN=function(t){return t===void 0&&(t=0),{name:"offset",options:t,async fn(e){var n,o;const{x:i,y:a,placement:u,middlewareData:d}=e,h=await hN(e,t);return u===((n=d.offset)==null?void 0:n.placement)&&(o=d.arrow)!=null&&o.alignmentOffset?{}:{x:i+h.x,y:a+h.y,data:{...h,placement:u}}}}},mN=function(t){return t===void 0&&(t={}),{name:"shift",options:t,async fn(e){const{x:n,y:o,placement:i}=e,{mainAxis:a=!0,crossAxis:u=!1,limiter:d={fn:S=>{let{x:E,y:N}=S;return{x:E,y:N}}},...h}=gn(t,e),p={x:n,y:o},g=await Yi(e,h),m=Hr(vn(i)),x=Bf(m);let b=p[x],j=p[m];if(a){const S=x==="y"?"top":"left",E=x==="y"?"bottom":"right",N=b+g[S],C=b-g[E];b=Zd(N,b,C)}if(u){const S=m==="y"?"top":"left",E=m==="y"?"bottom":"right",N=j+g[S],C=j-g[E];j=Zd(N,j,C)}const _=d.fn({...e,[x]:b,[m]:j});return{..._,data:{x:_.x-n,y:_.y-o,enabled:{[x]:a,[m]:u}}}}}},gN=function(t){return t===void 0&&(t={}),{options:t,fn(e){const{x:n,y:o,placement:i,rects:a,middlewareData:u}=e,{offset:d=0,mainAxis:h=!0,crossAxis:p=!0}=gn(t,e),g={x:n,y:o},m=Hr(i),x=Bf(m);let b=g[x],j=g[m];const _=gn(d,e),S=typeof _=="number"?{mainAxis:_,crossAxis:0}:{mainAxis:0,crossAxis:0,..._};if(h){const C=x==="y"?"height":"width",P=a.reference[x]-a.floating[C]+S.mainAxis,F=a.reference[x]+a.reference[C]-S.mainAxis;b<P?b=P:b>F&&(b=F)}if(p){var E,N;const C=x==="y"?"width":"height",P=vw.has(vn(i)),F=a.reference[m]-a.floating[C]+(P&&((E=u.offset)==null?void 0:E[m])||0)+(P?0:S.crossAxis),V=a.reference[m]+a.reference[C]+(P?0:((N=u.offset)==null?void 0:N[m])||0)-(P?S.crossAxis:0);j<F?j=F:j>V&&(j=V)}return{[x]:b,[m]:j}}}},vN=function(t){return t===void 0&&(t={}),{name:"size",options:t,async fn(e){var n,o;const{placement:i,rects:a,platform:u,elements:d}=e,{apply:h=()=>{},...p}=gn(t,e),g=await Yi(e,p),m=vn(i),x=Go(i),b=Hr(i)==="y",{width:j,height:_}=a.floating;let S,E;m==="top"||m==="bottom"?(S=m,E=x===(await(u.isRTL==null?void 0:u.isRTL(d.floating))?"start":"end")?"left":"right"):(E=m,S=x==="end"?"top":"bottom");const N=_-g.top-g.bottom,C=j-g.left-g.right,P=rs(_-g[S],N),F=rs(j-g[E],C),V=!e.middlewareData.shift;let I=P,z=F;if((n=e.middlewareData.shift)!=null&&n.enabled.x&&(z=C),(o=e.middlewareData.shift)!=null&&o.enabled.y&&(I=N),V&&!x){const ne=or(g.left,0),ce=or(g.right,0),de=or(g.top,0),le=or(g.bottom,0);b?z=j-2*(ne!==0||ce!==0?ne+ce:or(g.left,g.right)):I=_-2*(de!==0||le!==0?de+le:or(g.top,g.bottom))}await h({...e,availableWidth:z,availableHeight:I});const q=await u.getDimensions(d.floating);return j!==q.width||_!==q.height?{reset:{rects:!0}}:{}}}};function hc(){return typeof window<"u"}function Yo(t){return yw(t)?(t.nodeName||"").toLowerCase():"#document"}function ur(t){var e;return(t==null||(e=t.ownerDocument)==null?void 0:e.defaultView)||window}function Zr(t){var e;return(e=(yw(t)?t.ownerDocument:t.document)||window.document)==null?void 0:e.documentElement}function yw(t){return hc()?t instanceof Node||t instanceof ur(t).Node:!1}function Dr(t){return hc()?t instanceof Element||t instanceof ur(t).Element:!1}function Qr(t){return hc()?t instanceof HTMLElement||t instanceof ur(t).HTMLElement:!1}function $g(t){return!hc()||typeof ShadowRoot>"u"?!1:t instanceof ShadowRoot||t instanceof ur(t).ShadowRoot}const yN=new Set(["inline","contents"]);function na(t){const{overflow:e,overflowX:n,overflowY:o,display:i}=Lr(t);return/auto|scroll|overlay|hidden|clip/.test(e+o+n)&&!yN.has(i)}const wN=new Set(["table","td","th"]);function xN(t){return wN.has(Yo(t))}const bN=[":popover-open",":modal"];function pc(t){return bN.some(e=>{try{return t.matches(e)}catch{return!1}})}const _N=["transform","translate","scale","rotate","perspective"],SN=["transform","translate","scale","rotate","perspective","filter"],jN=["paint","layout","strict","content"];function Hf(t){const e=qf(),n=Dr(t)?Lr(t):t;return _N.some(o=>n[o]?n[o]!=="none":!1)||(n.containerType?n.containerType!=="normal":!1)||!e&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!e&&(n.filter?n.filter!=="none":!1)||SN.some(o=>(n.willChange||"").includes(o))||jN.some(o=>(n.contain||"").includes(o))}function kN(t){let e=ns(t);for(;Qr(e)&&!Io(e);){if(Hf(e))return e;if(pc(e))return null;e=ns(e)}return null}function qf(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const EN=new Set(["html","body","#document"]);function Io(t){return EN.has(Yo(t))}function Lr(t){return ur(t).getComputedStyle(t)}function mc(t){return Dr(t)?{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}:{scrollLeft:t.scrollX,scrollTop:t.scrollY}}function ns(t){if(Yo(t)==="html")return t;const e=t.assignedSlot||t.parentNode||$g(t)&&t.host||Zr(t);return $g(e)?e.host:e}function ww(t){const e=ns(t);return Io(e)?t.ownerDocument?t.ownerDocument.body:t.body:Qr(e)&&na(e)?e:ww(e)}function Ji(t,e,n){var o;e===void 0&&(e=[]),n===void 0&&(n=!0);const i=ww(t),a=i===((o=t.ownerDocument)==null?void 0:o.body),u=ur(i);if(a){const d=tf(u);return e.concat(u,u.visualViewport||[],na(i)?i:[],d&&n?Ji(d):[])}return e.concat(i,Ji(i,[],n))}function tf(t){return t.parent&&Object.getPrototypeOf(t.parent)?t.frameElement:null}function xw(t){const e=Lr(t);let n=parseFloat(e.width)||0,o=parseFloat(e.height)||0;const i=Qr(t),a=i?t.offsetWidth:n,u=i?t.offsetHeight:o,d=Kl(n)!==a||Kl(o)!==u;return d&&(n=a,o=u),{width:n,height:o,$:d}}function Kf(t){return Dr(t)?t:t.contextElement}function Co(t){const e=Kf(t);if(!Qr(e))return Jr(1);const n=e.getBoundingClientRect(),{width:o,height:i,$:a}=xw(e);let u=(a?Kl(n.width):n.width)/o,d=(a?Kl(n.height):n.height)/i;return(!u||!Number.isFinite(u))&&(u=1),(!d||!Number.isFinite(d))&&(d=1),{x:u,y:d}}const NN=Jr(0);function bw(t){const e=ur(t);return!qf()||!e.visualViewport?NN:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function CN(t,e,n){return e===void 0&&(e=!1),!n||e&&n!==ur(t)?!1:e}function Ms(t,e,n,o){e===void 0&&(e=!1),n===void 0&&(n=!1);const i=t.getBoundingClientRect(),a=Kf(t);let u=Jr(1);e&&(o?Dr(o)&&(u=Co(o)):u=Co(t));const d=CN(a,n,o)?bw(a):Jr(0);let h=(i.left+d.x)/u.x,p=(i.top+d.y)/u.y,g=i.width/u.x,m=i.height/u.y;if(a){const x=ur(a),b=o&&Dr(o)?ur(o):o;let j=x,_=tf(j);for(;_&&o&&b!==j;){const S=Co(_),E=_.getBoundingClientRect(),N=Lr(_),C=E.left+(_.clientLeft+parseFloat(N.paddingLeft))*S.x,P=E.top+(_.clientTop+parseFloat(N.paddingTop))*S.y;h*=S.x,p*=S.y,g*=S.x,m*=S.y,h+=C,p+=P,j=ur(_),_=tf(j)}}return Yl({width:g,height:m,x:h,y:p})}function gc(t,e){const n=mc(t).scrollLeft;return e?e.left+n:Ms(Zr(t)).left+n}function _w(t,e){const n=t.getBoundingClientRect(),o=n.left+e.scrollLeft-gc(t,n),i=n.top+e.scrollTop;return{x:o,y:i}}function RN(t){let{elements:e,rect:n,offsetParent:o,strategy:i}=t;const a=i==="fixed",u=Zr(o),d=e?pc(e.floating):!1;if(o===u||d&&a)return n;let h={scrollLeft:0,scrollTop:0},p=Jr(1);const g=Jr(0),m=Qr(o);if((m||!m&&!a)&&((Yo(o)!=="body"||na(u))&&(h=mc(o)),Qr(o))){const b=Ms(o);p=Co(o),g.x=b.x+o.clientLeft,g.y=b.y+o.clientTop}const x=u&&!m&&!a?_w(u,h):Jr(0);return{width:n.width*p.x,height:n.height*p.y,x:n.x*p.x-h.scrollLeft*p.x+g.x+x.x,y:n.y*p.y-h.scrollTop*p.y+g.y+x.y}}function TN(t){return Array.from(t.getClientRects())}function PN(t){const e=Zr(t),n=mc(t),o=t.ownerDocument.body,i=or(e.scrollWidth,e.clientWidth,o.scrollWidth,o.clientWidth),a=or(e.scrollHeight,e.clientHeight,o.scrollHeight,o.clientHeight);let u=-n.scrollLeft+gc(t);const d=-n.scrollTop;return Lr(o).direction==="rtl"&&(u+=or(e.clientWidth,o.clientWidth)-i),{width:i,height:a,x:u,y:d}}const Mg=25;function AN(t,e){const n=ur(t),o=Zr(t),i=n.visualViewport;let a=o.clientWidth,u=o.clientHeight,d=0,h=0;if(i){a=i.width,u=i.height;const g=qf();(!g||g&&e==="fixed")&&(d=i.offsetLeft,h=i.offsetTop)}const p=gc(o);if(p<=0){const g=o.ownerDocument,m=g.body,x=getComputedStyle(m),b=g.compatMode==="CSS1Compat"&&parseFloat(x.marginLeft)+parseFloat(x.marginRight)||0,j=Math.abs(o.clientWidth-m.clientWidth-b);j<=Mg&&(a-=j)}else p<=Mg&&(a+=p);return{width:a,height:u,x:d,y:h}}const ON=new Set(["absolute","fixed"]);function IN(t,e){const n=Ms(t,!0,e==="fixed"),o=n.top+t.clientTop,i=n.left+t.clientLeft,a=Qr(t)?Co(t):Jr(1),u=t.clientWidth*a.x,d=t.clientHeight*a.y,h=i*a.x,p=o*a.y;return{width:u,height:d,x:h,y:p}}function Fg(t,e,n){let o;if(e==="viewport")o=AN(t,n);else if(e==="document")o=PN(Zr(t));else if(Dr(e))o=IN(e,n);else{const i=bw(t);o={x:e.x-i.x,y:e.y-i.y,width:e.width,height:e.height}}return Yl(o)}function Sw(t,e){const n=ns(t);return n===e||!Dr(n)||Io(n)?!1:Lr(n).position==="fixed"||Sw(n,e)}function DN(t,e){const n=e.get(t);if(n)return n;let o=Ji(t,[],!1).filter(d=>Dr(d)&&Yo(d)!=="body"),i=null;const a=Lr(t).position==="fixed";let u=a?ns(t):t;for(;Dr(u)&&!Io(u);){const d=Lr(u),h=Hf(u);!h&&d.position==="fixed"&&(i=null),(a?!h&&!i:!h&&d.position==="static"&&!!i&&ON.has(i.position)||na(u)&&!h&&Sw(t,u))?o=o.filter(g=>g!==u):i=d,u=ns(u)}return e.set(t,o),o}function LN(t){let{element:e,boundary:n,rootBoundary:o,strategy:i}=t;const u=[...n==="clippingAncestors"?pc(e)?[]:DN(e,this._c):[].concat(n),o],d=u[0],h=u.reduce((p,g)=>{const m=Fg(e,g,i);return p.top=or(m.top,p.top),p.right=rs(m.right,p.right),p.bottom=rs(m.bottom,p.bottom),p.left=or(m.left,p.left),p},Fg(e,d,i));return{width:h.right-h.left,height:h.bottom-h.top,x:h.left,y:h.top}}function $N(t){const{width:e,height:n}=xw(t);return{width:e,height:n}}function MN(t,e,n){const o=Qr(e),i=Zr(e),a=n==="fixed",u=Ms(t,!0,a,e);let d={scrollLeft:0,scrollTop:0};const h=Jr(0);function p(){h.x=gc(i)}if(o||!o&&!a)if((Yo(e)!=="body"||na(i))&&(d=mc(e)),o){const b=Ms(e,!0,a,e);h.x=b.x+e.clientLeft,h.y=b.y+e.clientTop}else i&&p();a&&!o&&i&&p();const g=i&&!o&&!a?_w(i,d):Jr(0),m=u.left+d.scrollLeft-h.x-g.x,x=u.top+d.scrollTop-h.y-g.y;return{x:m,y:x,width:u.width,height:u.height}}function Rd(t){return Lr(t).position==="static"}function Ug(t,e){if(!Qr(t)||Lr(t).position==="fixed")return null;if(e)return e(t);let n=t.offsetParent;return Zr(t)===n&&(n=n.ownerDocument.body),n}function jw(t,e){const n=ur(t);if(pc(t))return n;if(!Qr(t)){let i=ns(t);for(;i&&!Io(i);){if(Dr(i)&&!Rd(i))return i;i=ns(i)}return n}let o=Ug(t,e);for(;o&&xN(o)&&Rd(o);)o=Ug(o,e);return o&&Io(o)&&Rd(o)&&!Hf(o)?n:o||kN(t)||n}const FN=async function(t){const e=this.getOffsetParent||jw,n=this.getDimensions,o=await n(t.floating);return{reference:MN(t.reference,await e(t.floating),t.strategy),floating:{x:0,y:0,width:o.width,height:o.height}}};function UN(t){return Lr(t).direction==="rtl"}const zN={convertOffsetParentRelativeRectToViewportRelativeRect:RN,getDocumentElement:Zr,getClippingRect:LN,getOffsetParent:jw,getElementRects:FN,getClientRects:TN,getDimensions:$N,getScale:Co,isElement:Dr,isRTL:UN};function kw(t,e){return t.x===e.x&&t.y===e.y&&t.width===e.width&&t.height===e.height}function BN(t,e){let n=null,o;const i=Zr(t);function a(){var d;clearTimeout(o),(d=n)==null||d.disconnect(),n=null}function u(d,h){d===void 0&&(d=!1),h===void 0&&(h=1),a();const p=t.getBoundingClientRect(),{left:g,top:m,width:x,height:b}=p;if(d||e(),!x||!b)return;const j=El(m),_=El(i.clientWidth-(g+x)),S=El(i.clientHeight-(m+b)),E=El(g),C={rootMargin:-j+"px "+-_+"px "+-S+"px "+-E+"px",threshold:or(0,rs(1,h))||1};let P=!0;function F(V){const I=V[0].intersectionRatio;if(I!==h){if(!P)return u();I?u(!1,I):o=setTimeout(()=>{u(!1,1e-7)},1e3)}I===1&&!kw(p,t.getBoundingClientRect())&&u(),P=!1}try{n=new IntersectionObserver(F,{...C,root:i.ownerDocument})}catch{n=new IntersectionObserver(F,C)}n.observe(t)}return u(!0),a}function VN(t,e,n,o){o===void 0&&(o={});const{ancestorScroll:i=!0,ancestorResize:a=!0,elementResize:u=typeof ResizeObserver=="function",layoutShift:d=typeof IntersectionObserver=="function",animationFrame:h=!1}=o,p=Kf(t),g=i||a?[...p?Ji(p):[],...Ji(e)]:[];g.forEach(E=>{i&&E.addEventListener("scroll",n,{passive:!0}),a&&E.addEventListener("resize",n)});const m=p&&d?BN(p,n):null;let x=-1,b=null;u&&(b=new ResizeObserver(E=>{let[N]=E;N&&N.target===p&&b&&(b.unobserve(e),cancelAnimationFrame(x),x=requestAnimationFrame(()=>{var C;(C=b)==null||C.observe(e)})),n()}),p&&!h&&b.observe(p),b.observe(e));let j,_=h?Ms(t):null;h&&S();function S(){const E=Ms(t);_&&!kw(_,E)&&n(),_=E,j=requestAnimationFrame(S)}return n(),()=>{var E;g.forEach(N=>{i&&N.removeEventListener("scroll",n),a&&N.removeEventListener("resize",n)}),m?.(),(E=b)==null||E.disconnect(),b=null,h&&cancelAnimationFrame(j)}}const WN=pN,HN=mN,qN=dN,KN=vN,GN=fN,zg=uN,YN=gN,JN=(t,e,n)=>{const o=new Map,i={platform:zN,...n},a={...i.platform,_c:o};return cN(t,e,{...i,platform:a})};var QN=typeof document<"u",XN=function(){},Fl=QN?y.useLayoutEffect:XN;function Jl(t,e){if(t===e)return!0;if(typeof t!=typeof e)return!1;if(typeof t=="function"&&t.toString()===e.toString())return!0;let n,o,i;if(t&&e&&typeof t=="object"){if(Array.isArray(t)){if(n=t.length,n!==e.length)return!1;for(o=n;o--!==0;)if(!Jl(t[o],e[o]))return!1;return!0}if(i=Object.keys(t),n=i.length,n!==Object.keys(e).length)return!1;for(o=n;o--!==0;)if(!{}.hasOwnProperty.call(e,i[o]))return!1;for(o=n;o--!==0;){const a=i[o];if(!(a==="_owner"&&t.$$typeof)&&!Jl(t[a],e[a]))return!1}return!0}return t!==t&&e!==e}function Ew(t){return typeof window>"u"?1:(t.ownerDocument.defaultView||window).devicePixelRatio||1}function Bg(t,e){const n=Ew(t);return Math.round(e*n)/n}function Td(t){const e=y.useRef(t);return Fl(()=>{e.current=t}),e}function ZN(t){t===void 0&&(t={});const{placement:e="bottom",strategy:n="absolute",middleware:o=[],platform:i,elements:{reference:a,floating:u}={},transform:d=!0,whileElementsMounted:h,open:p}=t,[g,m]=y.useState({x:0,y:0,strategy:n,placement:e,middlewareData:{},isPositioned:!1}),[x,b]=y.useState(o);Jl(x,o)||b(o);const[j,_]=y.useState(null),[S,E]=y.useState(null),N=y.useCallback(O=>{O!==V.current&&(V.current=O,_(O))},[]),C=y.useCallback(O=>{O!==I.current&&(I.current=O,E(O))},[]),P=a||j,F=u||S,V=y.useRef(null),I=y.useRef(null),z=y.useRef(g),q=h!=null,ne=Td(h),ce=Td(i),de=Td(p),le=y.useCallback(()=>{if(!V.current||!I.current)return;const O={placement:e,strategy:n,middleware:x};ce.current&&(O.platform=ce.current),JN(V.current,I.current,O).then(Z=>{const K={...Z,isPositioned:de.current!==!1};me.current&&!Jl(z.current,K)&&(z.current=K,ra.flushSync(()=>{m(K)}))})},[x,e,n,ce,de]);Fl(()=>{p===!1&&z.current.isPositioned&&(z.current.isPositioned=!1,m(O=>({...O,isPositioned:!1})))},[p]);const me=y.useRef(!1);Fl(()=>(me.current=!0,()=>{me.current=!1}),[]),Fl(()=>{if(P&&(V.current=P),F&&(I.current=F),P&&F){if(ne.current)return ne.current(P,F,le);le()}},[P,F,le,ne,q]);const be=y.useMemo(()=>({reference:V,floating:I,setReference:N,setFloating:C}),[N,C]),B=y.useMemo(()=>({reference:P,floating:F}),[P,F]),$=y.useMemo(()=>{const O={position:n,left:0,top:0};if(!B.floating)return O;const Z=Bg(B.floating,g.x),K=Bg(B.floating,g.y);return d?{...O,transform:"translate("+Z+"px, "+K+"px)",...Ew(B.floating)>=1.5&&{willChange:"transform"}}:{position:n,left:Z,top:K}},[n,d,B.floating,g.x,g.y]);return y.useMemo(()=>({...g,update:le,refs:be,elements:B,floatingStyles:$}),[g,le,be,B,$])}const eC=t=>{function e(n){return{}.hasOwnProperty.call(n,"current")}return{name:"arrow",options:t,fn(n){const{element:o,padding:i}=typeof t=="function"?t(n):t;return o&&e(o)?o.current!=null?zg({element:o.current,padding:i}).fn(n):{}:o?zg({element:o,padding:i}).fn(n):{}}}},tC=(t,e)=>({...WN(t),options:[t,e]}),rC=(t,e)=>({...HN(t),options:[t,e]}),nC=(t,e)=>({...YN(t),options:[t,e]}),sC=(t,e)=>({...qN(t),options:[t,e]}),oC=(t,e)=>({...KN(t),options:[t,e]}),iC=(t,e)=>({...GN(t),options:[t,e]}),aC=(t,e)=>({...eC(t),options:[t,e]});var lC="Arrow",Nw=y.forwardRef((t,e)=>{const{children:n,width:o=10,height:i=5,...a}=t;return l.jsx(Me.svg,{...a,ref:e,width:o,height:i,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:t.asChild?n:l.jsx("polygon",{points:"0,0 30,0 15,10"})})});Nw.displayName=lC;var cC=Nw;function uC(t){const[e,n]=y.useState(void 0);return ut(()=>{if(t){n({width:t.offsetWidth,height:t.offsetHeight});const o=new ResizeObserver(i=>{if(!Array.isArray(i)||!i.length)return;const a=i[0];let u,d;if("borderBoxSize"in a){const h=a.borderBoxSize,p=Array.isArray(h)?h[0]:h;u=p.inlineSize,d=p.blockSize}else u=t.offsetWidth,d=t.offsetHeight;n({width:u,height:d})});return o.observe(t,{box:"border-box"}),()=>o.unobserve(t)}else n(void 0)},[t]),e}var Gf="Popper",[Cw,Rw]=zs(Gf),[dC,Tw]=Cw(Gf),Pw=t=>{const{__scopePopper:e,children:n}=t,[o,i]=y.useState(null);return l.jsx(dC,{scope:e,anchor:o,onAnchorChange:i,children:n})};Pw.displayName=Gf;var Aw="PopperAnchor",Ow=y.forwardRef((t,e)=>{const{__scopePopper:n,virtualRef:o,...i}=t,a=Tw(Aw,n),u=y.useRef(null),d=qe(e,u),h=y.useRef(null);return y.useEffect(()=>{const p=h.current;h.current=o?.current||u.current,p!==h.current&&a.onAnchorChange(h.current)}),o?null:l.jsx(Me.div,{...i,ref:d})});Ow.displayName=Aw;var Yf="PopperContent",[fC,hC]=Cw(Yf),Iw=y.forwardRef((t,e)=>{const{__scopePopper:n,side:o="bottom",sideOffset:i=0,align:a="center",alignOffset:u=0,arrowPadding:d=0,avoidCollisions:h=!0,collisionBoundary:p=[],collisionPadding:g=0,sticky:m="partial",hideWhenDetached:x=!1,updatePositionStrategy:b="optimized",onPlaced:j,..._}=t,S=Tw(Yf,n),[E,N]=y.useState(null),C=qe(e,J=>N(J)),[P,F]=y.useState(null),V=uC(P),I=V?.width??0,z=V?.height??0,q=o+(a!=="center"?"-"+a:""),ne=typeof g=="number"?g:{top:0,right:0,bottom:0,left:0,...g},ce=Array.isArray(p)?p:[p],de=ce.length>0,le={padding:ne,boundary:ce.filter(mC),altBoundary:de},{refs:me,floatingStyles:be,placement:B,isPositioned:$,middlewareData:O}=ZN({strategy:"fixed",placement:q,whileElementsMounted:(...J)=>VN(...J,{animationFrame:b==="always"}),elements:{reference:S.anchor},middleware:[tC({mainAxis:i+z,alignmentAxis:u}),h&&rC({mainAxis:!0,crossAxis:!1,limiter:m==="partial"?nC():void 0,...le}),h&&sC({...le}),oC({...le,apply:({elements:J,rects:se,availableWidth:Se,availableHeight:Ce})=>{const{width:De,height:Fe}=se.reference,dt=J.floating.style;dt.setProperty("--radix-popper-available-width",`${Se}px`),dt.setProperty("--radix-popper-available-height",`${Ce}px`),dt.setProperty("--radix-popper-anchor-width",`${De}px`),dt.setProperty("--radix-popper-anchor-height",`${Fe}px`)}}),P&&aC({element:P,padding:d}),gC({arrowWidth:I,arrowHeight:z}),x&&iC({strategy:"referenceHidden",...le})]}),[Z,K]=$w(B),D=It(j);ut(()=>{$&&D?.()},[$,D]);const H=O.arrow?.x,Q=O.arrow?.y,W=O.arrow?.centerOffset!==0,[oe,_e]=y.useState();return ut(()=>{E&&_e(window.getComputedStyle(E).zIndex)},[E]),l.jsx("div",{ref:me.setFloating,"data-radix-popper-content-wrapper":"",style:{...be,transform:$?be.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:oe,"--radix-popper-transform-origin":[O.transformOrigin?.x,O.transformOrigin?.y].join(" "),...O.hide?.referenceHidden&&{visibility:"hidden",pointerEvents:"none"}},dir:t.dir,children:l.jsx(fC,{scope:n,placedSide:Z,onArrowChange:F,arrowX:H,arrowY:Q,shouldHideArrow:W,children:l.jsx(Me.div,{"data-side":Z,"data-align":K,..._,ref:C,style:{..._.style,animation:$?void 0:"none"}})})})});Iw.displayName=Yf;var Dw="PopperArrow",pC={top:"bottom",right:"left",bottom:"top",left:"right"},Lw=y.forwardRef(function(e,n){const{__scopePopper:o,...i}=e,a=hC(Dw,o),u=pC[a.placedSide];return l.jsx("span",{ref:a.onArrowChange,style:{position:"absolute",left:a.arrowX,top:a.arrowY,[u]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[a.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[a.placedSide],visibility:a.shouldHideArrow?"hidden":void 0},children:l.jsx(cC,{...i,ref:n,style:{...i.style,display:"block"}})})});Lw.displayName=Dw;function mC(t){return t!==null}var gC=t=>({name:"transformOrigin",options:t,fn(e){const{placement:n,rects:o,middlewareData:i}=e,u=i.arrow?.centerOffset!==0,d=u?0:t.arrowWidth,h=u?0:t.arrowHeight,[p,g]=$w(n),m={start:"0%",center:"50%",end:"100%"}[g],x=(i.arrow?.x??0)+d/2,b=(i.arrow?.y??0)+h/2;let j="",_="";return p==="bottom"?(j=u?m:`${x}px`,_=`${-h}px`):p==="top"?(j=u?m:`${x}px`,_=`${o.floating.height+h}px`):p==="right"?(j=`${-h}px`,_=u?m:`${b}px`):p==="left"&&(j=`${o.floating.width+h}px`,_=u?m:`${b}px`),{data:{x:j,y:_}}}});function $w(t){const[e,n="center"]=t.split("-");return[e,n]}var vC=Pw,yC=Ow,wC=Iw,xC=Lw;function bC(t){const e=_C(t),n=y.forwardRef((o,i)=>{const{children:a,...u}=o,d=y.Children.toArray(a),h=d.find(jC);if(h){const p=h.props.children,g=d.map(m=>m===h?y.Children.count(p)>1?y.Children.only(null):y.isValidElement(p)?p.props.children:null:m);return l.jsx(e,{...u,ref:i,children:y.isValidElement(p)?y.cloneElement(p,void 0,g):null})}return l.jsx(e,{...u,ref:i,children:a})});return n.displayName=`${t}.Slot`,n}function _C(t){const e=y.forwardRef((n,o)=>{const{children:i,...a}=n;if(y.isValidElement(i)){const u=EC(i),d=kC(a,i.props);return i.type!==y.Fragment&&(d.ref=o?zo(o,u):u),y.cloneElement(i,d)}return y.Children.count(i)>1?y.Children.only(null):null});return e.displayName=`${t}.SlotClone`,e}var SC=Symbol("radix.slottable");function jC(t){return y.isValidElement(t)&&typeof t.type=="function"&&"__radixId"in t.type&&t.type.__radixId===SC}function kC(t,e){const n={...e};for(const o in e){const i=t[o],a=e[o];/^on[A-Z]/.test(o)?i&&a?n[o]=(...d)=>{const h=a(...d);return i(...d),h}:i&&(n[o]=i):o==="style"?n[o]={...i,...a}:o==="className"&&(n[o]=[i,a].filter(Boolean).join(" "))}return{...t,...n}}function EC(t){let e=Object.getOwnPropertyDescriptor(t.props,"ref")?.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=Object.getOwnPropertyDescriptor(t,"ref")?.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}function NC(t){const e=y.useRef({value:t,previous:t});return y.useMemo(()=>(e.current.value!==t&&(e.current.previous=e.current.value,e.current.value=t),e.current.previous),[t])}var Mw=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}),CC="VisuallyHidden",RC=y.forwardRef((t,e)=>l.jsx(Me.span,{...t,ref:e,style:{...Mw,...t.style}}));RC.displayName=CC;var TC=[" ","Enter","ArrowUp","ArrowDown"],PC=[" ","Enter"],Fs="Select",[vc,yc,AC]=mw(Fs),[Jo]=zs(Fs,[AC,Rw]),wc=Rw(),[OC,is]=Jo(Fs),[IC,DC]=Jo(Fs),Fw=t=>{const{__scopeSelect:e,children:n,open:o,defaultOpen:i,onOpenChange:a,value:u,defaultValue:d,onValueChange:h,dir:p,name:g,autoComplete:m,disabled:x,required:b,form:j}=t,_=wc(e),[S,E]=y.useState(null),[N,C]=y.useState(null),[P,F]=y.useState(!1),V=fc(p),[I,z]=Gi({prop:o,defaultProp:i??!1,onChange:a,caller:Fs}),[q,ne]=Gi({prop:u,defaultProp:d,onChange:h,caller:Fs}),ce=y.useRef(null),de=S?j||!!S.closest("form"):!0,[le,me]=y.useState(new Set),be=Array.from(le).map(B=>B.props.value).join(";");return l.jsx(vC,{..._,children:l.jsxs(OC,{required:b,scope:e,trigger:S,onTriggerChange:E,valueNode:N,onValueNodeChange:C,valueNodeHasChildren:P,onValueNodeHasChildrenChange:F,contentId:ts(),value:q,onValueChange:ne,open:I,onOpenChange:z,dir:V,triggerPointerDownPosRef:ce,disabled:x,children:[l.jsx(vc.Provider,{scope:e,children:l.jsx(IC,{scope:t.__scopeSelect,onNativeOptionAdd:y.useCallback(B=>{me($=>new Set($).add(B))},[]),onNativeOptionRemove:y.useCallback(B=>{me($=>{const O=new Set($);return O.delete(B),O})},[]),children:n})}),de?l.jsxs(a0,{"aria-hidden":!0,required:b,tabIndex:-1,name:g,autoComplete:m,value:q,onChange:B=>ne(B.target.value),disabled:x,form:j,children:[q===void 0?l.jsx("option",{value:""}):null,Array.from(le)]},be):null]})})};Fw.displayName=Fs;var Uw="SelectTrigger",zw=y.forwardRef((t,e)=>{const{__scopeSelect:n,disabled:o=!1,...i}=t,a=wc(n),u=is(Uw,n),d=u.disabled||o,h=qe(e,u.onTriggerChange),p=yc(n),g=y.useRef("touch"),[m,x,b]=c0(_=>{const S=p().filter(C=>!C.disabled),E=S.find(C=>C.value===u.value),N=u0(S,_,E);N!==void 0&&u.onValueChange(N.value)}),j=_=>{d||(u.onOpenChange(!0),b()),_&&(u.triggerPointerDownPosRef.current={x:Math.round(_.pageX),y:Math.round(_.pageY)})};return l.jsx(yC,{asChild:!0,...a,children:l.jsx(Me.button,{type:"button",role:"combobox","aria-controls":u.contentId,"aria-expanded":u.open,"aria-required":u.required,"aria-autocomplete":"none",dir:u.dir,"data-state":u.open?"open":"closed",disabled:d,"data-disabled":d?"":void 0,"data-placeholder":l0(u.value)?"":void 0,...i,ref:h,onClick:Oe(i.onClick,_=>{_.currentTarget.focus(),g.current!=="mouse"&&j(_)}),onPointerDown:Oe(i.onPointerDown,_=>{g.current=_.pointerType;const S=_.target;S.hasPointerCapture(_.pointerId)&&S.releasePointerCapture(_.pointerId),_.button===0&&_.ctrlKey===!1&&_.pointerType==="mouse"&&(j(_),_.preventDefault())}),onKeyDown:Oe(i.onKeyDown,_=>{const S=m.current!=="";!(_.ctrlKey||_.altKey||_.metaKey)&&_.key.length===1&&x(_.key),!(S&&_.key===" ")&&TC.includes(_.key)&&(j(),_.preventDefault())})})})});zw.displayName=Uw;var Bw="SelectValue",Vw=y.forwardRef((t,e)=>{const{__scopeSelect:n,className:o,style:i,children:a,placeholder:u="",...d}=t,h=is(Bw,n),{onValueNodeHasChildrenChange:p}=h,g=a!==void 0,m=qe(e,h.onValueNodeChange);return ut(()=>{p(g)},[p,g]),l.jsx(Me.span,{...d,ref:m,style:{pointerEvents:"none"},children:l0(h.value)?l.jsx(l.Fragment,{children:u}):a})});Vw.displayName=Bw;var LC="SelectIcon",Ww=y.forwardRef((t,e)=>{const{__scopeSelect:n,children:o,...i}=t;return l.jsx(Me.span,{"aria-hidden":!0,...i,ref:e,children:o||""})});Ww.displayName=LC;var $C="SelectPortal",Hw=t=>l.jsx(Df,{asChild:!0,...t});Hw.displayName=$C;var Us="SelectContent",qw=y.forwardRef((t,e)=>{const n=is(Us,t.__scopeSelect),[o,i]=y.useState();if(ut(()=>{i(new DocumentFragment)},[]),!n.open){const a=o;return a?ra.createPortal(l.jsx(Kw,{scope:t.__scopeSelect,children:l.jsx(vc.Slot,{scope:t.__scopeSelect,children:l.jsx("div",{children:t.children})})}),a):null}return l.jsx(Gw,{...t,ref:e})});qw.displayName=Us;var Ar=10,[Kw,as]=Jo(Us),MC="SelectContentImpl",FC=bC("SelectContent.RemoveScroll"),Gw=y.forwardRef((t,e)=>{const{__scopeSelect:n,position:o="item-aligned",onCloseAutoFocus:i,onEscapeKeyDown:a,onPointerDownOutside:u,side:d,sideOffset:h,align:p,alignOffset:g,arrowPadding:m,collisionBoundary:x,collisionPadding:b,sticky:j,hideWhenDetached:_,avoidCollisions:S,...E}=t,N=is(Us,n),[C,P]=y.useState(null),[F,V]=y.useState(null),I=qe(e,J=>P(J)),[z,q]=y.useState(null),[ne,ce]=y.useState(null),de=yc(n),[le,me]=y.useState(!1),be=y.useRef(!1);y.useEffect(()=>{if(C)return Yy(C)},[C]),vy();const B=y.useCallback(J=>{const[se,...Se]=de().map(Fe=>Fe.ref.current),[Ce]=Se.slice(-1),De=document.activeElement;for(const Fe of J)if(Fe===De||(Fe?.scrollIntoView({block:"nearest"}),Fe===se&&F&&(F.scrollTop=0),Fe===Ce&&F&&(F.scrollTop=F.scrollHeight),Fe?.focus(),document.activeElement!==De))return},[de,F]),$=y.useCallback(()=>B([z,C]),[B,z,C]);y.useEffect(()=>{le&&$()},[le,$]);const{onOpenChange:O,triggerPointerDownPosRef:Z}=N;y.useEffect(()=>{if(C){let J={x:0,y:0};const se=Ce=>{J={x:Math.abs(Math.round(Ce.pageX)-(Z.current?.x??0)),y:Math.abs(Math.round(Ce.pageY)-(Z.current?.y??0))}},Se=Ce=>{J.x<=10&&J.y<=10?Ce.preventDefault():C.contains(Ce.target)||O(!1),document.removeEventListener("pointermove",se),Z.current=null};return Z.current!==null&&(document.addEventListener("pointermove",se),document.addEventListener("pointerup",Se,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",se),document.removeEventListener("pointerup",Se,{capture:!0})}}},[C,O,Z]),y.useEffect(()=>{const J=()=>O(!1);return window.addEventListener("blur",J),window.addEventListener("resize",J),()=>{window.removeEventListener("blur",J),window.removeEventListener("resize",J)}},[O]);const[K,D]=c0(J=>{const se=de().filter(De=>!De.disabled),Se=se.find(De=>De.ref.current===document.activeElement),Ce=u0(se,J,Se);Ce&&setTimeout(()=>Ce.ref.current.focus())}),H=y.useCallback((J,se,Se)=>{const Ce=!be.current&&!Se;(N.value!==void 0&&N.value===se||Ce)&&(q(J),Ce&&(be.current=!0))},[N.value]),Q=y.useCallback(()=>C?.focus(),[C]),W=y.useCallback((J,se,Se)=>{const Ce=!be.current&&!Se;(N.value!==void 0&&N.value===se||Ce)&&ce(J)},[N.value]),oe=o==="popper"?rf:Yw,_e=oe===rf?{side:d,sideOffset:h,align:p,alignOffset:g,arrowPadding:m,collisionBoundary:x,collisionPadding:b,sticky:j,hideWhenDetached:_,avoidCollisions:S}:{};return l.jsx(Kw,{scope:n,content:C,viewport:F,onViewportChange:V,itemRefCallback:H,selectedItem:z,onItemLeave:Q,itemTextRefCallback:W,focusSelectedItem:$,selectedItemText:ne,position:o,isPositioned:le,searchRef:K,children:l.jsx(Mf,{as:FC,allowPinchZoom:!0,children:l.jsx(If,{asChild:!0,trapped:N.open,onMountAutoFocus:J=>{J.preventDefault()},onUnmountAutoFocus:Oe(i,J=>{N.trigger?.focus({preventScroll:!0}),J.preventDefault()}),children:l.jsx(Of,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:a,onPointerDownOutside:u,onFocusOutside:J=>J.preventDefault(),onDismiss:()=>N.onOpenChange(!1),children:l.jsx(oe,{role:"listbox",id:N.contentId,"data-state":N.open?"open":"closed",dir:N.dir,onContextMenu:J=>J.preventDefault(),...E,..._e,onPlaced:()=>me(!0),ref:I,style:{display:"flex",flexDirection:"column",outline:"none",...E.style},onKeyDown:Oe(E.onKeyDown,J=>{const se=J.ctrlKey||J.altKey||J.metaKey;if(J.key==="Tab"&&J.preventDefault(),!se&&J.key.length===1&&D(J.key),["ArrowUp","ArrowDown","Home","End"].includes(J.key)){let Ce=de().filter(De=>!De.disabled).map(De=>De.ref.current);if(["ArrowUp","End"].includes(J.key)&&(Ce=Ce.slice().reverse()),["ArrowUp","ArrowDown"].includes(J.key)){const De=J.target,Fe=Ce.indexOf(De);Ce=Ce.slice(Fe+1)}setTimeout(()=>B(Ce)),J.preventDefault()}})})})})})})});Gw.displayName=MC;var UC="SelectItemAlignedPosition",Yw=y.forwardRef((t,e)=>{const{__scopeSelect:n,onPlaced:o,...i}=t,a=is(Us,n),u=as(Us,n),[d,h]=y.useState(null),[p,g]=y.useState(null),m=qe(e,I=>g(I)),x=yc(n),b=y.useRef(!1),j=y.useRef(!0),{viewport:_,selectedItem:S,selectedItemText:E,focusSelectedItem:N}=u,C=y.useCallback(()=>{if(a.trigger&&a.valueNode&&d&&p&&_&&S&&E){const I=a.trigger.getBoundingClientRect(),z=p.getBoundingClientRect(),q=a.valueNode.getBoundingClientRect(),ne=E.getBoundingClientRect();if(a.dir!=="rtl"){const De=ne.left-z.left,Fe=q.left-De,dt=I.left-Fe,$t=I.width+dt,xn=Math.max($t,z.width),tn=window.innerWidth-Ar,Qt=Xd(Fe,[Ar,Math.max(Ar,tn-xn)]);d.style.minWidth=$t+"px",d.style.left=Qt+"px"}else{const De=z.right-ne.right,Fe=window.innerWidth-q.right-De,dt=window.innerWidth-I.right-Fe,$t=I.width+dt,xn=Math.max($t,z.width),tn=window.innerWidth-Ar,Qt=Xd(Fe,[Ar,Math.max(Ar,tn-xn)]);d.style.minWidth=$t+"px",d.style.right=Qt+"px"}const ce=x(),de=window.innerHeight-Ar*2,le=_.scrollHeight,me=window.getComputedStyle(p),be=parseInt(me.borderTopWidth,10),B=parseInt(me.paddingTop,10),$=parseInt(me.borderBottomWidth,10),O=parseInt(me.paddingBottom,10),Z=be+B+le+O+$,K=Math.min(S.offsetHeight*5,Z),D=window.getComputedStyle(_),H=parseInt(D.paddingTop,10),Q=parseInt(D.paddingBottom,10),W=I.top+I.height/2-Ar,oe=de-W,_e=S.offsetHeight/2,J=S.offsetTop+_e,se=be+B+J,Se=Z-se;if(se<=W){const De=ce.length>0&&S===ce[ce.length-1].ref.current;d.style.bottom="0px";const Fe=p.clientHeight-_.offsetTop-_.offsetHeight,dt=Math.max(oe,_e+(De?Q:0)+Fe+$),$t=se+dt;d.style.height=$t+"px"}else{const De=ce.length>0&&S===ce[0].ref.current;d.style.top="0px";const dt=Math.max(W,be+_.offsetTop+(De?H:0)+_e)+Se;d.style.height=dt+"px",_.scrollTop=se-W+_.offsetTop}d.style.margin=`${Ar}px 0`,d.style.minHeight=K+"px",d.style.maxHeight=de+"px",o?.(),requestAnimationFrame(()=>b.current=!0)}},[x,a.trigger,a.valueNode,d,p,_,S,E,a.dir,o]);ut(()=>C(),[C]);const[P,F]=y.useState();ut(()=>{p&&F(window.getComputedStyle(p).zIndex)},[p]);const V=y.useCallback(I=>{I&&j.current===!0&&(C(),N?.(),j.current=!1)},[C,N]);return l.jsx(BC,{scope:n,contentWrapper:d,shouldExpandOnScrollRef:b,onScrollButtonChange:V,children:l.jsx("div",{ref:h,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:P},children:l.jsx(Me.div,{...i,ref:m,style:{boxSizing:"border-box",maxHeight:"100%",...i.style}})})})});Yw.displayName=UC;var zC="SelectPopperPosition",rf=y.forwardRef((t,e)=>{const{__scopeSelect:n,align:o="start",collisionPadding:i=Ar,...a}=t,u=wc(n);return l.jsx(wC,{...u,...a,ref:e,align:o,collisionPadding:i,style:{boxSizing:"border-box",...a.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});rf.displayName=zC;var[BC,Jf]=Jo(Us,{}),nf="SelectViewport",Jw=y.forwardRef((t,e)=>{const{__scopeSelect:n,nonce:o,...i}=t,a=as(nf,n),u=Jf(nf,n),d=qe(e,a.onViewportChange),h=y.useRef(0);return l.jsxs(l.Fragment,{children:[l.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:o}),l.jsx(vc.Slot,{scope:n,children:l.jsx(Me.div,{"data-radix-select-viewport":"",role:"presentation",...i,ref:d,style:{position:"relative",flex:1,overflow:"hidden auto",...i.style},onScroll:Oe(i.onScroll,p=>{const g=p.currentTarget,{contentWrapper:m,shouldExpandOnScrollRef:x}=u;if(x?.current&&m){const b=Math.abs(h.current-g.scrollTop);if(b>0){const j=window.innerHeight-Ar*2,_=parseFloat(m.style.minHeight),S=parseFloat(m.style.height),E=Math.max(_,S);if(E<j){const N=E+b,C=Math.min(j,N),P=N-C;m.style.height=C+"px",m.style.bottom==="0px"&&(g.scrollTop=P>0?P:0,m.style.justifyContent="flex-end")}}}h.current=g.scrollTop})})})]})});Jw.displayName=nf;var Qw="SelectGroup",[VC,WC]=Jo(Qw),HC=y.forwardRef((t,e)=>{const{__scopeSelect:n,...o}=t,i=ts();return l.jsx(VC,{scope:n,id:i,children:l.jsx(Me.div,{role:"group","aria-labelledby":i,...o,ref:e})})});HC.displayName=Qw;var Xw="SelectLabel",qC=y.forwardRef((t,e)=>{const{__scopeSelect:n,...o}=t,i=WC(Xw,n);return l.jsx(Me.div,{id:i.id,...o,ref:e})});qC.displayName=Xw;var Ql="SelectItem",[KC,Zw]=Jo(Ql),e0=y.forwardRef((t,e)=>{const{__scopeSelect:n,value:o,disabled:i=!1,textValue:a,...u}=t,d=is(Ql,n),h=as(Ql,n),p=d.value===o,[g,m]=y.useState(a??""),[x,b]=y.useState(!1),j=qe(e,N=>h.itemRefCallback?.(N,o,i)),_=ts(),S=y.useRef("touch"),E=()=>{i||(d.onValueChange(o),d.onOpenChange(!1))};if(o==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return l.jsx(KC,{scope:n,value:o,disabled:i,textId:_,isSelected:p,onItemTextChange:y.useCallback(N=>{m(C=>C||(N?.textContent??"").trim())},[]),children:l.jsx(vc.ItemSlot,{scope:n,value:o,disabled:i,textValue:g,children:l.jsx(Me.div,{role:"option","aria-labelledby":_,"data-highlighted":x?"":void 0,"aria-selected":p&&x,"data-state":p?"checked":"unchecked","aria-disabled":i||void 0,"data-disabled":i?"":void 0,tabIndex:i?void 0:-1,...u,ref:j,onFocus:Oe(u.onFocus,()=>b(!0)),onBlur:Oe(u.onBlur,()=>b(!1)),onClick:Oe(u.onClick,()=>{S.current!=="mouse"&&E()}),onPointerUp:Oe(u.onPointerUp,()=>{S.current==="mouse"&&E()}),onPointerDown:Oe(u.onPointerDown,N=>{S.current=N.pointerType}),onPointerMove:Oe(u.onPointerMove,N=>{S.current=N.pointerType,i?h.onItemLeave?.():S.current==="mouse"&&N.currentTarget.focus({preventScroll:!0})}),onPointerLeave:Oe(u.onPointerLeave,N=>{N.currentTarget===document.activeElement&&h.onItemLeave?.()}),onKeyDown:Oe(u.onKeyDown,N=>{h.searchRef?.current!==""&&N.key===" "||(PC.includes(N.key)&&E(),N.key===" "&&N.preventDefault())})})})})});e0.displayName=Ql;var Bi="SelectItemText",t0=y.forwardRef((t,e)=>{const{__scopeSelect:n,className:o,style:i,...a}=t,u=is(Bi,n),d=as(Bi,n),h=Zw(Bi,n),p=DC(Bi,n),[g,m]=y.useState(null),x=qe(e,E=>m(E),h.onItemTextChange,E=>d.itemTextRefCallback?.(E,h.value,h.disabled)),b=g?.textContent,j=y.useMemo(()=>l.jsx("option",{value:h.value,disabled:h.disabled,children:b},h.value),[h.disabled,h.value,b]),{onNativeOptionAdd:_,onNativeOptionRemove:S}=p;return ut(()=>(_(j),()=>S(j)),[_,S,j]),l.jsxs(l.Fragment,{children:[l.jsx(Me.span,{id:h.textId,...a,ref:x}),h.isSelected&&u.valueNode&&!u.valueNodeHasChildren?ra.createPortal(a.children,u.valueNode):null]})});t0.displayName=Bi;var r0="SelectItemIndicator",n0=y.forwardRef((t,e)=>{const{__scopeSelect:n,...o}=t;return Zw(r0,n).isSelected?l.jsx(Me.span,{"aria-hidden":!0,...o,ref:e}):null});n0.displayName=r0;var sf="SelectScrollUpButton",s0=y.forwardRef((t,e)=>{const n=as(sf,t.__scopeSelect),o=Jf(sf,t.__scopeSelect),[i,a]=y.useState(!1),u=qe(e,o.onScrollButtonChange);return ut(()=>{if(n.viewport&&n.isPositioned){let d=function(){const p=h.scrollTop>0;a(p)};const h=n.viewport;return d(),h.addEventListener("scroll",d),()=>h.removeEventListener("scroll",d)}},[n.viewport,n.isPositioned]),i?l.jsx(i0,{...t,ref:u,onAutoScroll:()=>{const{viewport:d,selectedItem:h}=n;d&&h&&(d.scrollTop=d.scrollTop-h.offsetHeight)}}):null});s0.displayName=sf;var of="SelectScrollDownButton",o0=y.forwardRef((t,e)=>{const n=as(of,t.__scopeSelect),o=Jf(of,t.__scopeSelect),[i,a]=y.useState(!1),u=qe(e,o.onScrollButtonChange);return ut(()=>{if(n.viewport&&n.isPositioned){let d=function(){const p=h.scrollHeight-h.clientHeight,g=Math.ceil(h.scrollTop)<p;a(g)};const h=n.viewport;return d(),h.addEventListener("scroll",d),()=>h.removeEventListener("scroll",d)}},[n.viewport,n.isPositioned]),i?l.jsx(i0,{...t,ref:u,onAutoScroll:()=>{const{viewport:d,selectedItem:h}=n;d&&h&&(d.scrollTop=d.scrollTop+h.offsetHeight)}}):null});o0.displayName=of;var i0=y.forwardRef((t,e)=>{const{__scopeSelect:n,onAutoScroll:o,...i}=t,a=as("SelectScrollButton",n),u=y.useRef(null),d=yc(n),h=y.useCallback(()=>{u.current!==null&&(window.clearInterval(u.current),u.current=null)},[]);return y.useEffect(()=>()=>h(),[h]),ut(()=>{d().find(g=>g.ref.current===document.activeElement)?.ref.current?.scrollIntoView({block:"nearest"})},[d]),l.jsx(Me.div,{"aria-hidden":!0,...i,ref:e,style:{flexShrink:0,...i.style},onPointerDown:Oe(i.onPointerDown,()=>{u.current===null&&(u.current=window.setInterval(o,50))}),onPointerMove:Oe(i.onPointerMove,()=>{a.onItemLeave?.(),u.current===null&&(u.current=window.setInterval(o,50))}),onPointerLeave:Oe(i.onPointerLeave,()=>{h()})})}),GC="SelectSeparator",YC=y.forwardRef((t,e)=>{const{__scopeSelect:n,...o}=t;return l.jsx(Me.div,{"aria-hidden":!0,...o,ref:e})});YC.displayName=GC;var af="SelectArrow",JC=y.forwardRef((t,e)=>{const{__scopeSelect:n,...o}=t,i=wc(n),a=is(af,n),u=as(af,n);return a.open&&u.position==="popper"?l.jsx(xC,{...i,...o,ref:e}):null});JC.displayName=af;var QC="SelectBubbleInput",a0=y.forwardRef(({__scopeSelect:t,value:e,...n},o)=>{const i=y.useRef(null),a=qe(o,i),u=NC(e);return y.useEffect(()=>{const d=i.current;if(!d)return;const h=window.HTMLSelectElement.prototype,g=Object.getOwnPropertyDescriptor(h,"value").set;if(u!==e&&g){const m=new Event("change",{bubbles:!0});g.call(d,e),d.dispatchEvent(m)}},[u,e]),l.jsx(Me.select,{...n,style:{...Mw,...n.style},ref:a,defaultValue:e})});a0.displayName=QC;function l0(t){return t===""||t===void 0}function c0(t){const e=It(t),n=y.useRef(""),o=y.useRef(0),i=y.useCallback(u=>{const d=n.current+u;e(d),(function h(p){n.current=p,window.clearTimeout(o.current),p!==""&&(o.current=window.setTimeout(()=>h(""),1e3))})(d)},[e]),a=y.useCallback(()=>{n.current="",window.clearTimeout(o.current)},[]);return y.useEffect(()=>()=>window.clearTimeout(o.current),[]),[n,i,a]}function u0(t,e,n){const i=e.length>1&&Array.from(e).every(p=>p===e[0])?e[0]:e,a=n?t.indexOf(n):-1;let u=XC(t,Math.max(a,0));i.length===1&&(u=u.filter(p=>p!==n));const h=u.find(p=>p.textValue.toLowerCase().startsWith(i.toLowerCase()));return h!==n?h:void 0}function XC(t,e){return t.map((n,o)=>t[(e+o)%t.length])}var ZC=Fw,eR=zw,tR=Vw,rR=Ww,nR=Hw,sR=qw,oR=Jw,iR=e0,aR=t0,lR=n0,cR=s0,uR=o0;function qr({...t}){return l.jsx(ZC,{"data-slot":"select",...t})}function Kr({...t}){return l.jsx(tR,{"data-slot":"select-value",...t})}function Gr({className:t,size:e="default",children:n,...o}){return l.jsxs(eR,{"data-slot":"select-trigger","data-size":e,className:ge("border-input data-[placeholder]:text-muted-foreground [&_svg:not([class*='text-'])]:text-muted-foreground focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive dark:bg-input/30 dark:hover:bg-input/50 flex w-full items-center justify-between gap-2 rounded-md border bg-input-background px-3 py-2 text-sm whitespace-nowrap transition-[color,box-shadow] outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50 data-[size=default]:h-9 data-[size=sm]:h-8 *:data-[slot=select-value]:line-clamp-1 *:data-[slot=select-value]:flex *:data-[slot=select-value]:items-center *:data-[slot=select-value]:gap-2 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",t),...o,children:[n,l.jsx(rR,{asChild:!0,children:l.jsx(Bo,{className:"size-4 opacity-50"})})]})}function Yr({className:t,children:e,position:n="popper",...o}){return l.jsx(nR,{children:l.jsxs(sR,{"data-slot":"select-content",className:ge("bg-popover text-popover-foreground data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 relative z-50 max-h-(--radix-select-content-available-height) min-w-[8rem] origin-(--radix-select-content-transform-origin) overflow-x-hidden overflow-y-auto rounded-md border shadow-md",n==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",t),position:n,...o,children:[l.jsx(dR,{}),l.jsx(oR,{className:ge("p-1",n==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)] scroll-my-1"),children:e}),l.jsx(fR,{})]})})}function Ve({className:t,children:e,...n}){return l.jsxs(iR,{"data-slot":"select-item",className:ge("focus:bg-accent focus:text-accent-foreground [&_svg:not([class*='text-'])]:text-muted-foreground relative flex w-full cursor-default items-center gap-2 rounded-sm py-1.5 pr-8 pl-2 text-sm outline-hidden select-none data-[disabled]:pointer-events-none data-[disabled]:opacity-50 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4 *:[span]:last:flex *:[span]:last:items-center *:[span]:last:gap-2",t),...n,children:[l.jsx("span",{className:"absolute right-2 flex size-3.5 items-center justify-center",children:l.jsx(lR,{children:l.jsx(Jj,{className:"size-4"})})}),l.jsx(aR,{children:e})]})}function dR({className:t,...e}){return l.jsx(cR,{"data-slot":"select-scroll-up-button",className:ge("flex cursor-default items-center justify-center py-1",t),...e,children:l.jsx(mn,{className:"size-4"})})}function fR({className:t,...e}){return l.jsx(uR,{"data-slot":"select-scroll-down-button",className:ge("flex cursor-default items-center justify-center py-1",t),...e,children:l.jsx(Bo,{className:"size-4"})})}var hR=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],pR=hR.reduce((t,e)=>{const n=ic(`Primitive.${e}`),o=y.forwardRef((i,a)=>{const{asChild:u,...d}=i,h=u?n:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),l.jsx(h,{...d,ref:a})});return o.displayName=`Primitive.${e}`,{...t,[e]:o}},{}),mR="Label",d0=y.forwardRef((t,e)=>l.jsx(pR.label,{...t,ref:e,onMouseDown:n=>{n.target.closest("button, input, select, textarea")||(t.onMouseDown?.(n),!n.defaultPrevented&&n.detail>1&&n.preventDefault())}}));d0.displayName=mR;var gR=d0;function Ot({className:t,...e}){return l.jsx(gR,{"data-slot":"label",className:ge("flex items-center gap-2 text-sm leading-none font-medium select-none group-data-[disabled=true]:pointer-events-none group-data-[disabled=true]:opacity-50 peer-disabled:cursor-not-allowed peer-disabled:opacity-50",t),...e})}const vR=["Academic","Facilities","Technology","Events","Sports","Clubs","Food Service","Transportation","Environment","Other"];function yR({isOpen:t,onClose:e,onSubmit:n}){const[o,i]=y.useState(""),[a,u]=y.useState(""),[d,h]=y.useState(""),p=g=>{g.preventDefault(),o.trim()&&a.trim()&&d&&(n({title:o.trim(),description:a.trim(),category:d}),i(""),u(""),h(""),e())};return l.jsx(Vo,{open:t,onOpenChange:e,children:l.jsxs(Bs,{className:"sm:max-w-[500px]",children:[l.jsxs(Wo,{children:[l.jsx(Ho,{children:"Submit a New Idea"}),l.jsx(qo,{children:"Share your idea to improve our school. Fill out the form below with details about your proposal."})]}),l.jsxs("form",{onSubmit:p,className:"space-y-4",children:[l.jsxs("div",{children:[l.jsx(Ot,{htmlFor:"title",children:"Title"}),l.jsx(rt,{id:"title",placeholder:"What's your idea?",value:o,onChange:g=>i(g.target.value),required:!0})]}),l.jsxs("div",{children:[l.jsx(Ot,{htmlFor:"category",children:"Category"}),l.jsxs(qr,{value:d,onValueChange:h,required:!0,children:[l.jsx(Gr,{children:l.jsx(Kr,{placeholder:"Select a category"})}),l.jsx(Yr,{children:vR.map(g=>l.jsx(Ve,{value:g,children:g},g))})]})]}),l.jsxs("div",{children:[l.jsx(Ot,{htmlFor:"description",children:"Description"}),l.jsx(Ko,{id:"description",placeholder:"Describe your idea in detail...",value:a,onChange:g=>u(g.target.value),rows:4,required:!0})]}),l.jsxs("div",{className:"flex justify-end gap-2",children:[l.jsx(re,{type:"button",variant:"outline",onClick:e,children:"Cancel"}),l.jsx(re,{type:"submit",children:"Submit Idea"})]})]})]})})}function f0({comment:t,onVote:e,level:n=0}){const[o,i]=y.useState(t.userVote),[a,u]=y.useState(t.votes),[d,h]=y.useState(!1),p=g=>{let m=a,x=g;o==="up"&&(m-=1),o==="down"&&(m+=1),g===o?x=null:(g==="up"&&(m+=1),g==="down"&&(m-=1)),i(x),u(m),e(t.id,g)};return l.jsxs("div",{className:ge("space-y-2",n>0&&"ml-6 border-l-2 border-muted pl-4"),children:[l.jsx(Ae,{children:l.jsx($e,{className:"p-4",children:l.jsxs("div",{className:"flex items-start gap-3",children:[l.jsx(Ut,{className:"h-8 w-8",children:l.jsx(zt,{children:l.jsx(cr,{className:"h-4 w-4"})})}),l.jsxs("div",{className:"flex-1 space-y-2",children:[l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("span",{className:"font-medium",children:t.author}),l.jsx("span",{className:"text-xs text-muted-foreground",children:t.timeAgo})]}),l.jsx("p",{className:"text-sm",children:t.content}),l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsxs("div",{className:"flex items-center gap-1",children:[l.jsx(re,{variant:"ghost",size:"sm",onClick:()=>p("up"),className:ge("h-6 w-6 p-0",o==="up"&&"text-green-600"),children:l.jsx(mn,{className:"h-3 w-3"})}),l.jsx("span",{className:ge("text-xs font-medium",a>0&&"text-green-600",a<0&&"text-red-600"),children:a}),l.jsx(re,{variant:"ghost",size:"sm",onClick:()=>p("down"),className:ge("h-6 w-6 p-0",o==="down"&&"text-red-600"),children:l.jsx(Bo,{className:"h-3 w-3"})})]}),l.jsxs(re,{variant:"ghost",size:"sm",onClick:()=>h(!d),className:"h-6 gap-1 px-2",children:[l.jsx(dy,{className:"h-3 w-3"}),"Reply"]})]})]})]})})}),t.replies&&t.replies.map(g=>l.jsx(f0,{comment:g,onVote:e,level:n+1},g.id))]})}function wR({isOpen:t,onClose:e,ideaTitle:n,comments:o,onAddComment:i,onVoteComment:a}){const[u,d]=y.useState(""),h=p=>{p.preventDefault(),u.trim()&&(i(u.trim()),d(""))};return l.jsx(Vo,{open:t,onOpenChange:e,children:l.jsxs(Bs,{className:"sm:max-w-[700px] max-h-[80vh] flex flex-col",children:[l.jsxs(Wo,{children:[l.jsxs(Ho,{className:"text-left",children:['Comments on "',n,'"']}),l.jsx(qo,{className:"text-left",children:"Join the discussion about this idea. Share your thoughts and vote on comments."})]}),l.jsxs("form",{onSubmit:h,className:"space-y-3",children:[l.jsx(Ko,{placeholder:"Add a comment...",value:u,onChange:p=>d(p.target.value),rows:3}),l.jsx(re,{type:"submit",disabled:!u.trim(),children:"Post Comment"})]}),l.jsx("div",{className:"flex-1 overflow-y-auto space-y-4",children:o.length===0?l.jsx("p",{className:"text-center text-muted-foreground py-8",children:"No comments yet. Be the first to comment!"}):o.map(p=>l.jsx(f0,{comment:p,onVote:a},p.id))})]})})}var Pd="rovingFocusGroup.onEntryFocus",xR={bubbles:!1,cancelable:!0},sa="RovingFocusGroup",[lf,h0,bR]=mw(sa),[_R,p0]=zs(sa,[bR]),[SR,jR]=_R(sa),m0=y.forwardRef((t,e)=>l.jsx(lf.Provider,{scope:t.__scopeRovingFocusGroup,children:l.jsx(lf.Slot,{scope:t.__scopeRovingFocusGroup,children:l.jsx(kR,{...t,ref:e})})}));m0.displayName=sa;var kR=y.forwardRef((t,e)=>{const{__scopeRovingFocusGroup:n,orientation:o,loop:i=!1,dir:a,currentTabStopId:u,defaultCurrentTabStopId:d,onCurrentTabStopIdChange:h,onEntryFocus:p,preventScrollOnEntryFocus:g=!1,...m}=t,x=y.useRef(null),b=qe(e,x),j=fc(a),[_,S]=Gi({prop:u,defaultProp:d??null,onChange:h,caller:sa}),[E,N]=y.useState(!1),C=It(p),P=h0(n),F=y.useRef(!1),[V,I]=y.useState(0);return y.useEffect(()=>{const z=x.current;if(z)return z.addEventListener(Pd,C),()=>z.removeEventListener(Pd,C)},[C]),l.jsx(SR,{scope:n,orientation:o,dir:j,loop:i,currentTabStopId:_,onItemFocus:y.useCallback(z=>S(z),[S]),onItemShiftTab:y.useCallback(()=>N(!0),[]),onFocusableItemAdd:y.useCallback(()=>I(z=>z+1),[]),onFocusableItemRemove:y.useCallback(()=>I(z=>z-1),[]),children:l.jsx(Me.div,{tabIndex:E||V===0?-1:0,"data-orientation":o,...m,ref:b,style:{outline:"none",...t.style},onMouseDown:Oe(t.onMouseDown,()=>{F.current=!0}),onFocus:Oe(t.onFocus,z=>{const q=!F.current;if(z.target===z.currentTarget&&q&&!E){const ne=new CustomEvent(Pd,xR);if(z.currentTarget.dispatchEvent(ne),!ne.defaultPrevented){const ce=P().filter(B=>B.focusable),de=ce.find(B=>B.active),le=ce.find(B=>B.id===_),be=[de,le,...ce].filter(Boolean).map(B=>B.ref.current);y0(be,g)}}F.current=!1}),onBlur:Oe(t.onBlur,()=>N(!1))})})}),g0="RovingFocusGroupItem",v0=y.forwardRef((t,e)=>{const{__scopeRovingFocusGroup:n,focusable:o=!0,active:i=!1,tabStopId:a,children:u,...d}=t,h=ts(),p=a||h,g=jR(g0,n),m=g.currentTabStopId===p,x=h0(n),{onFocusableItemAdd:b,onFocusableItemRemove:j,currentTabStopId:_}=g;return y.useEffect(()=>{if(o)return b(),()=>j()},[o,b,j]),l.jsx(lf.ItemSlot,{scope:n,id:p,focusable:o,active:i,children:l.jsx(Me.span,{tabIndex:m?0:-1,"data-orientation":g.orientation,...d,ref:e,onMouseDown:Oe(t.onMouseDown,S=>{o?g.onItemFocus(p):S.preventDefault()}),onFocus:Oe(t.onFocus,()=>g.onItemFocus(p)),onKeyDown:Oe(t.onKeyDown,S=>{if(S.key==="Tab"&&S.shiftKey){g.onItemShiftTab();return}if(S.target!==S.currentTarget)return;const E=CR(S,g.orientation,g.dir);if(E!==void 0){if(S.metaKey||S.ctrlKey||S.altKey||S.shiftKey)return;S.preventDefault();let C=x().filter(P=>P.focusable).map(P=>P.ref.current);if(E==="last")C.reverse();else if(E==="prev"||E==="next"){E==="prev"&&C.reverse();const P=C.indexOf(S.currentTarget);C=g.loop?RR(C,P+1):C.slice(P+1)}setTimeout(()=>y0(C))}}),children:typeof u=="function"?u({isCurrentTabStop:m,hasTabStop:_!=null}):u})})});v0.displayName=g0;var ER={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function NR(t,e){return e!=="rtl"?t:t==="ArrowLeft"?"ArrowRight":t==="ArrowRight"?"ArrowLeft":t}function CR(t,e,n){const o=NR(t.key,n);if(!(e==="vertical"&&["ArrowLeft","ArrowRight"].includes(o))&&!(e==="horizontal"&&["ArrowUp","ArrowDown"].includes(o)))return ER[o]}function y0(t,e=!1){const n=document.activeElement;for(const o of t)if(o===n||(o.focus({preventScroll:e}),document.activeElement!==n))return}function RR(t,e){return t.map((n,o)=>t[(e+o)%t.length])}var TR=m0,PR=v0,xc="Tabs",[AR]=zs(xc,[p0]),w0=p0(),[OR,Qf]=AR(xc),x0=y.forwardRef((t,e)=>{const{__scopeTabs:n,value:o,onValueChange:i,defaultValue:a,orientation:u="horizontal",dir:d,activationMode:h="automatic",...p}=t,g=fc(d),[m,x]=Gi({prop:o,onChange:i,defaultProp:a??"",caller:xc});return l.jsx(OR,{scope:n,baseId:ts(),value:m,onValueChange:x,orientation:u,dir:g,activationMode:h,children:l.jsx(Me.div,{dir:g,"data-orientation":u,...p,ref:e})})});x0.displayName=xc;var b0="TabsList",_0=y.forwardRef((t,e)=>{const{__scopeTabs:n,loop:o=!0,...i}=t,a=Qf(b0,n),u=w0(n);return l.jsx(TR,{asChild:!0,...u,orientation:a.orientation,dir:a.dir,loop:o,children:l.jsx(Me.div,{role:"tablist","aria-orientation":a.orientation,...i,ref:e})})});_0.displayName=b0;var S0="TabsTrigger",j0=y.forwardRef((t,e)=>{const{__scopeTabs:n,value:o,disabled:i=!1,...a}=t,u=Qf(S0,n),d=w0(n),h=N0(u.baseId,o),p=C0(u.baseId,o),g=o===u.value;return l.jsx(PR,{asChild:!0,...d,focusable:!i,active:g,children:l.jsx(Me.button,{type:"button",role:"tab","aria-selected":g,"aria-controls":p,"data-state":g?"active":"inactive","data-disabled":i?"":void 0,disabled:i,id:h,...a,ref:e,onMouseDown:Oe(t.onMouseDown,m=>{!i&&m.button===0&&m.ctrlKey===!1?u.onValueChange(o):m.preventDefault()}),onKeyDown:Oe(t.onKeyDown,m=>{[" ","Enter"].includes(m.key)&&u.onValueChange(o)}),onFocus:Oe(t.onFocus,()=>{const m=u.activationMode!=="manual";!g&&!i&&m&&u.onValueChange(o)})})})});j0.displayName=S0;var k0="TabsContent",E0=y.forwardRef((t,e)=>{const{__scopeTabs:n,value:o,forceMount:i,children:a,...u}=t,d=Qf(k0,n),h=N0(d.baseId,o),p=C0(d.baseId,o),g=o===d.value,m=y.useRef(g);return y.useEffect(()=>{const x=requestAnimationFrame(()=>m.current=!1);return()=>cancelAnimationFrame(x)},[]),l.jsx(wn,{present:i||g,children:({present:x})=>l.jsx(Me.div,{"data-state":g?"active":"inactive","data-orientation":d.orientation,role:"tabpanel","aria-labelledby":h,hidden:!x,id:p,tabIndex:0,...u,ref:e,style:{...t.style,animationDuration:m.current?"0s":void 0},children:x&&a})})});E0.displayName=k0;function N0(t,e){return`${t}-trigger-${e}`}function C0(t,e){return`${t}-content-${e}`}var IR=x0,DR=_0,LR=j0,$R=E0;function Qo({className:t,...e}){return l.jsx(IR,{"data-slot":"tabs",className:ge("flex flex-col gap-2",t),...e})}function Xo({className:t,...e}){return l.jsx(DR,{"data-slot":"tabs-list",className:ge("bg-muted text-muted-foreground inline-flex h-9 w-fit items-center justify-center rounded-xl p-[3px] flex",t),...e})}function Yt({className:t,...e}){return l.jsx(LR,{"data-slot":"tabs-trigger",className:ge("data-[state=active]:bg-card dark:data-[state=active]:text-foreground focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:outline-ring dark:data-[state=active]:border-input dark:data-[state=active]:bg-input/30 text-foreground dark:text-muted-foreground inline-flex h-[calc(100%-1px)] flex-1 items-center justify-center gap-1.5 rounded-xl border border-transparent px-2 py-1 text-sm font-medium whitespace-nowrap transition-[color,box-shadow] focus-visible:ring-[3px] focus-visible:outline-1 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",t),...e})}function Jt({className:t,...e}){return l.jsx($R,{"data-slot":"tabs-content",className:ge("flex-1 outline-none",t),...e})}var MR=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],FR=MR.reduce((t,e)=>{const n=ic(`Primitive.${e}`),o=y.forwardRef((i,a)=>{const{asChild:u,...d}=i,h=u?n:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),l.jsx(h,{...d,ref:a})});return o.displayName=`Primitive.${e}`,{...t,[e]:o}},{}),UR="Separator",Vg="horizontal",zR=["horizontal","vertical"],R0=y.forwardRef((t,e)=>{const{decorative:n,orientation:o=Vg,...i}=t,a=BR(o)?o:Vg,d=n?{role:"none"}:{"aria-orientation":a==="vertical"?a:void 0,role:"separator"};return l.jsx(FR.div,{"data-orientation":a,...d,...i,ref:e})});R0.displayName=UR;function BR(t){return zR.includes(t)}var VR=R0;function Qi({className:t,orientation:e="horizontal",decorative:n=!0,...o}){return l.jsx(VR,{"data-slot":"separator-root",decorative:n,orientation:e,className:ge("bg-border shrink-0 data-[orientation=horizontal]:h-px data-[orientation=horizontal]:w-full data-[orientation=vertical]:h-full data-[orientation=vertical]:w-px",t),...o})}const WR=t=>t?(...e)=>t(...e):(...e)=>fetch(...e);class Xf extends Error{constructor(e,n="FunctionsError",o){super(e),this.name=n,this.context=o}}class HR extends Xf{constructor(e){super("Failed to send a request to the Edge Function","FunctionsFetchError",e)}}class Wg extends Xf{constructor(e){super("Relay Error invoking the Edge Function","FunctionsRelayError",e)}}class Hg extends Xf{constructor(e){super("Edge Function returned a non-2xx status code","FunctionsHttpError",e)}}var cf;(function(t){t.Any="any",t.ApNortheast1="ap-northeast-1",t.ApNortheast2="ap-northeast-2",t.ApSouth1="ap-south-1",t.ApSoutheast1="ap-southeast-1",t.ApSoutheast2="ap-southeast-2",t.CaCentral1="ca-central-1",t.EuCentral1="eu-central-1",t.EuWest1="eu-west-1",t.EuWest2="eu-west-2",t.EuWest3="eu-west-3",t.SaEast1="sa-east-1",t.UsEast1="us-east-1",t.UsWest1="us-west-1",t.UsWest2="us-west-2"})(cf||(cf={}));class qR{constructor(e,{headers:n={},customFetch:o,region:i=cf.Any}={}){this.url=e,this.headers=n,this.region=i,this.fetch=WR(o)}setAuth(e){this.headers.Authorization=`Bearer ${e}`}invoke(e){return we(this,arguments,void 0,function*(n,o={}){var i;let a,u;try{const{headers:d,method:h,body:p,signal:g,timeout:m}=o;let x={},{region:b}=o;b||(b=this.region);const j=new URL(`${this.url}/${n}`);b&&b!=="any"&&(x["x-region"]=b,j.searchParams.set("forceFunctionRegion",b));let _;p&&(d&&!Object.prototype.hasOwnProperty.call(d,"Content-Type")||!d)?typeof Blob<"u"&&p instanceof Blob||p instanceof ArrayBuffer?(x["Content-Type"]="application/octet-stream",_=p):typeof p=="string"?(x["Content-Type"]="text/plain",_=p):typeof FormData<"u"&&p instanceof FormData?_=p:(x["Content-Type"]="application/json",_=JSON.stringify(p)):_=p;let S=g;m&&(u=new AbortController,a=setTimeout(()=>u.abort(),m),g?(S=u.signal,g.addEventListener("abort",()=>u.abort())):S=u.signal);const E=yield this.fetch(j.toString(),{method:h||"POST",headers:Object.assign(Object.assign(Object.assign({},x),this.headers),d),body:_,signal:S}).catch(F=>{throw new HR(F)}),N=E.headers.get("x-relay-error");if(N&&N==="true")throw new Wg(E);if(!E.ok)throw new Hg(E);let C=((i=E.headers.get("Content-Type"))!==null&&i!==void 0?i:"text/plain").split(";")[0].trim(),P;return C==="application/json"?P=yield E.json():C==="application/octet-stream"||C==="application/pdf"?P=yield E.blob():C==="text/event-stream"?P=E:C==="multipart/form-data"?P=yield E.formData():P=yield E.text(),{data:P,error:null,response:E}}catch(d){return{data:null,error:d,response:d instanceof Hg||d instanceof Wg?d.context:void 0}}finally{a&&clearTimeout(a)}})}}var At={};const Zo=h_(Fk);var Nl={},Cl={},Rl={},Tl={},Pl={},Al={},qg;function T0(){if(qg)return Al;qg=1,Object.defineProperty(Al,"__esModule",{value:!0});class t extends Error{constructor(n){super(n.message),this.name="PostgrestError",this.details=n.details,this.hint=n.hint,this.code=n.code}}return Al.default=t,Al}var Kg;function P0(){if(Kg)return Pl;Kg=1,Object.defineProperty(Pl,"__esModule",{value:!0});const e=Zo.__importDefault(T0());class n{constructor(i){var a,u;this.shouldThrowOnError=!1,this.method=i.method,this.url=i.url,this.headers=new Headers(i.headers),this.schema=i.schema,this.body=i.body,this.shouldThrowOnError=(a=i.shouldThrowOnError)!==null&&a!==void 0?a:!1,this.signal=i.signal,this.isMaybeSingle=(u=i.isMaybeSingle)!==null&&u!==void 0?u:!1,i.fetch?this.fetch=i.fetch:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(i,a){return this.headers=new Headers(this.headers),this.headers.set(i,a),this}then(i,a){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const u=this.fetch;let d=u(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async h=>{var p,g,m,x;let b=null,j=null,_=null,S=h.status,E=h.statusText;if(h.ok){if(this.method!=="HEAD"){const F=await h.text();F===""||(this.headers.get("Accept")==="text/csv"||this.headers.get("Accept")&&(!((p=this.headers.get("Accept"))===null||p===void 0)&&p.includes("application/vnd.pgrst.plan+text"))?j=F:j=JSON.parse(F))}const C=(g=this.headers.get("Prefer"))===null||g===void 0?void 0:g.match(/count=(exact|planned|estimated)/),P=(m=h.headers.get("content-range"))===null||m===void 0?void 0:m.split("/");C&&P&&P.length>1&&(_=parseInt(P[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(j)&&(j.length>1?(b={code:"PGRST116",details:`Results contain ${j.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},j=null,_=null,S=406,E="Not Acceptable"):j.length===1?j=j[0]:j=null)}else{const C=await h.text();try{b=JSON.parse(C),Array.isArray(b)&&h.status===404&&(j=[],b=null,S=200,E="OK")}catch{h.status===404&&C===""?(S=204,E="No Content"):b={message:C}}if(b&&this.isMaybeSingle&&(!((x=b?.details)===null||x===void 0)&&x.includes("0 rows"))&&(b=null,S=200,E="OK"),b&&this.shouldThrowOnError)throw new e.default(b)}return{error:b,data:j,count:_,status:S,statusText:E}});return this.shouldThrowOnError||(d=d.catch(h=>{var p,g,m,x,b,j;let _="";const S=h?.cause;if(S){const E=(p=S?.message)!==null&&p!==void 0?p:"",N=(g=S?.code)!==null&&g!==void 0?g:"";_=`${(m=h?.name)!==null&&m!==void 0?m:"FetchError"}: ${h?.message}`,_+=`

Caused by: ${(x=S?.name)!==null&&x!==void 0?x:"Error"}: ${E}`,N&&(_+=` (${N})`),S?.stack&&(_+=`
${S.stack}`)}else _=(b=h?.stack)!==null&&b!==void 0?b:"";return{error:{message:`${(j=h?.name)!==null&&j!==void 0?j:"FetchError"}: ${h?.message}`,details:_,hint:"",code:""},data:null,count:null,status:0,statusText:""}})),d.then(i,a)}returns(){return this}overrideTypes(){return this}}return Pl.default=n,Pl}var Gg;function A0(){if(Gg)return Tl;Gg=1,Object.defineProperty(Tl,"__esModule",{value:!0});const e=Zo.__importDefault(P0());class n extends e.default{select(i){let a=!1;const u=(i??"*").split("").map(d=>/\s/.test(d)&&!a?"":(d==='"'&&(a=!a),d)).join("");return this.url.searchParams.set("select",u),this.headers.append("Prefer","return=representation"),this}order(i,{ascending:a=!0,nullsFirst:u,foreignTable:d,referencedTable:h=d}={}){const p=h?`${h}.order`:"order",g=this.url.searchParams.get(p);return this.url.searchParams.set(p,`${g?`${g},`:""}${i}.${a?"asc":"desc"}${u===void 0?"":u?".nullsfirst":".nullslast"}`),this}limit(i,{foreignTable:a,referencedTable:u=a}={}){const d=typeof u>"u"?"limit":`${u}.limit`;return this.url.searchParams.set(d,`${i}`),this}range(i,a,{foreignTable:u,referencedTable:d=u}={}){const h=typeof d>"u"?"offset":`${d}.offset`,p=typeof d>"u"?"limit":`${d}.limit`;return this.url.searchParams.set(h,`${i}`),this.url.searchParams.set(p,`${a-i+1}`),this}abortSignal(i){return this.signal=i,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:i=!1,verbose:a=!1,settings:u=!1,buffers:d=!1,wal:h=!1,format:p="text"}={}){var g;const m=[i?"analyze":null,a?"verbose":null,u?"settings":null,d?"buffers":null,h?"wal":null].filter(Boolean).join("|"),x=(g=this.headers.get("Accept"))!==null&&g!==void 0?g:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${p}; for="${x}"; options=${m};`),p==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(i){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${i}`),this}}return Tl.default=n,Tl}var Yg;function Zf(){if(Yg)return Rl;Yg=1,Object.defineProperty(Rl,"__esModule",{value:!0});const e=Zo.__importDefault(A0()),n=new RegExp("[,()]");class o extends e.default{eq(a,u){return this.url.searchParams.append(a,`eq.${u}`),this}neq(a,u){return this.url.searchParams.append(a,`neq.${u}`),this}gt(a,u){return this.url.searchParams.append(a,`gt.${u}`),this}gte(a,u){return this.url.searchParams.append(a,`gte.${u}`),this}lt(a,u){return this.url.searchParams.append(a,`lt.${u}`),this}lte(a,u){return this.url.searchParams.append(a,`lte.${u}`),this}like(a,u){return this.url.searchParams.append(a,`like.${u}`),this}likeAllOf(a,u){return this.url.searchParams.append(a,`like(all).{${u.join(",")}}`),this}likeAnyOf(a,u){return this.url.searchParams.append(a,`like(any).{${u.join(",")}}`),this}ilike(a,u){return this.url.searchParams.append(a,`ilike.${u}`),this}ilikeAllOf(a,u){return this.url.searchParams.append(a,`ilike(all).{${u.join(",")}}`),this}ilikeAnyOf(a,u){return this.url.searchParams.append(a,`ilike(any).{${u.join(",")}}`),this}regexMatch(a,u){return this.url.searchParams.append(a,`match.${u}`),this}regexIMatch(a,u){return this.url.searchParams.append(a,`imatch.${u}`),this}is(a,u){return this.url.searchParams.append(a,`is.${u}`),this}isDistinct(a,u){return this.url.searchParams.append(a,`isdistinct.${u}`),this}in(a,u){const d=Array.from(new Set(u)).map(h=>typeof h=="string"&&n.test(h)?`"${h}"`:`${h}`).join(",");return this.url.searchParams.append(a,`in.(${d})`),this}contains(a,u){return typeof u=="string"?this.url.searchParams.append(a,`cs.${u}`):Array.isArray(u)?this.url.searchParams.append(a,`cs.{${u.join(",")}}`):this.url.searchParams.append(a,`cs.${JSON.stringify(u)}`),this}containedBy(a,u){return typeof u=="string"?this.url.searchParams.append(a,`cd.${u}`):Array.isArray(u)?this.url.searchParams.append(a,`cd.{${u.join(",")}}`):this.url.searchParams.append(a,`cd.${JSON.stringify(u)}`),this}rangeGt(a,u){return this.url.searchParams.append(a,`sr.${u}`),this}rangeGte(a,u){return this.url.searchParams.append(a,`nxl.${u}`),this}rangeLt(a,u){return this.url.searchParams.append(a,`sl.${u}`),this}rangeLte(a,u){return this.url.searchParams.append(a,`nxr.${u}`),this}rangeAdjacent(a,u){return this.url.searchParams.append(a,`adj.${u}`),this}overlaps(a,u){return typeof u=="string"?this.url.searchParams.append(a,`ov.${u}`):this.url.searchParams.append(a,`ov.{${u.join(",")}}`),this}textSearch(a,u,{config:d,type:h}={}){let p="";h==="plain"?p="pl":h==="phrase"?p="ph":h==="websearch"&&(p="w");const g=d===void 0?"":`(${d})`;return this.url.searchParams.append(a,`${p}fts${g}.${u}`),this}match(a){return Object.entries(a).forEach(([u,d])=>{this.url.searchParams.append(u,`eq.${d}`)}),this}not(a,u,d){return this.url.searchParams.append(a,`not.${u}.${d}`),this}or(a,{foreignTable:u,referencedTable:d=u}={}){const h=d?`${d}.or`:"or";return this.url.searchParams.append(h,`(${a})`),this}filter(a,u,d){return this.url.searchParams.append(a,`${u}.${d}`),this}}return Rl.default=o,Rl}var Jg;function O0(){if(Jg)return Cl;Jg=1,Object.defineProperty(Cl,"__esModule",{value:!0});const e=Zo.__importDefault(Zf());class n{constructor(i,{headers:a={},schema:u,fetch:d}){this.url=i,this.headers=new Headers(a),this.schema=u,this.fetch=d}select(i,a){const{head:u=!1,count:d}=a??{},h=u?"HEAD":"GET";let p=!1;const g=(i??"*").split("").map(m=>/\s/.test(m)&&!p?"":(m==='"'&&(p=!p),m)).join("");return this.url.searchParams.set("select",g),d&&this.headers.append("Prefer",`count=${d}`),new e.default({method:h,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch})}insert(i,{count:a,defaultToNull:u=!0}={}){var d;const h="POST";if(a&&this.headers.append("Prefer",`count=${a}`),u||this.headers.append("Prefer","missing=default"),Array.isArray(i)){const p=i.reduce((g,m)=>g.concat(Object.keys(m)),[]);if(p.length>0){const g=[...new Set(p)].map(m=>`"${m}"`);this.url.searchParams.set("columns",g.join(","))}}return new e.default({method:h,url:this.url,headers:this.headers,schema:this.schema,body:i,fetch:(d=this.fetch)!==null&&d!==void 0?d:fetch})}upsert(i,{onConflict:a,ignoreDuplicates:u=!1,count:d,defaultToNull:h=!0}={}){var p;const g="POST";if(this.headers.append("Prefer",`resolution=${u?"ignore":"merge"}-duplicates`),a!==void 0&&this.url.searchParams.set("on_conflict",a),d&&this.headers.append("Prefer",`count=${d}`),h||this.headers.append("Prefer","missing=default"),Array.isArray(i)){const m=i.reduce((x,b)=>x.concat(Object.keys(b)),[]);if(m.length>0){const x=[...new Set(m)].map(b=>`"${b}"`);this.url.searchParams.set("columns",x.join(","))}}return new e.default({method:g,url:this.url,headers:this.headers,schema:this.schema,body:i,fetch:(p=this.fetch)!==null&&p!==void 0?p:fetch})}update(i,{count:a}={}){var u;const d="PATCH";return a&&this.headers.append("Prefer",`count=${a}`),new e.default({method:d,url:this.url,headers:this.headers,schema:this.schema,body:i,fetch:(u=this.fetch)!==null&&u!==void 0?u:fetch})}delete({count:i}={}){var a;const u="DELETE";return i&&this.headers.append("Prefer",`count=${i}`),new e.default({method:u,url:this.url,headers:this.headers,schema:this.schema,fetch:(a=this.fetch)!==null&&a!==void 0?a:fetch})}}return Cl.default=n,Cl}var Qg;function KR(){if(Qg)return Nl;Qg=1,Object.defineProperty(Nl,"__esModule",{value:!0});const t=Zo,e=t.__importDefault(O0()),n=t.__importDefault(Zf());class o{constructor(a,{headers:u={},schema:d,fetch:h}={}){this.url=a,this.headers=new Headers(u),this.schemaName=d,this.fetch=h}from(a){if(!a||typeof a!="string"||a.trim()==="")throw new Error("Invalid relation name: relation must be a non-empty string.");const u=new URL(`${this.url}/${a}`);return new e.default(u,{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(a){return new o(this.url,{headers:this.headers,schema:a,fetch:this.fetch})}rpc(a,u={},{head:d=!1,get:h=!1,count:p}={}){var g;let m;const x=new URL(`${this.url}/rpc/${a}`);let b;d||h?(m=d?"HEAD":"GET",Object.entries(u).filter(([_,S])=>S!==void 0).map(([_,S])=>[_,Array.isArray(S)?`{${S.join(",")}}`:`${S}`]).forEach(([_,S])=>{x.searchParams.append(_,S)})):(m="POST",b=u);const j=new Headers(this.headers);return p&&j.set("Prefer",`count=${p}`),new n.default({method:m,url:x,headers:j,schema:this.schemaName,body:b,fetch:(g=this.fetch)!==null&&g!==void 0?g:fetch})}}return Nl.default=o,Nl}var Xg;function GR(){if(Xg)return At;Xg=1,Object.defineProperty(At,"__esModule",{value:!0}),At.PostgrestError=At.PostgrestBuilder=At.PostgrestTransformBuilder=At.PostgrestFilterBuilder=At.PostgrestQueryBuilder=At.PostgrestClient=void 0;const t=Zo,e=t.__importDefault(KR());At.PostgrestClient=e.default;const n=t.__importDefault(O0());At.PostgrestQueryBuilder=n.default;const o=t.__importDefault(Zf());At.PostgrestFilterBuilder=o.default;const i=t.__importDefault(A0());At.PostgrestTransformBuilder=i.default;const a=t.__importDefault(P0());At.PostgrestBuilder=a.default;const u=t.__importDefault(T0());return At.PostgrestError=u.default,At.default={PostgrestClient:e.default,PostgrestQueryBuilder:n.default,PostgrestFilterBuilder:o.default,PostgrestTransformBuilder:i.default,PostgrestBuilder:a.default,PostgrestError:u.default},At}var I0=GR();const D0=bf(I0),YR=_v({__proto__:null,default:D0},[I0]),{PostgrestClient:JR,PostgrestQueryBuilder:OA,PostgrestFilterBuilder:IA,PostgrestTransformBuilder:DA,PostgrestBuilder:LA,PostgrestError:$A}=D0||YR;class QR{constructor(){}static detectEnvironment(){var e;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((e=navigator.userAgent)===null||e===void 0)&&e.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};if(typeof process<"u"){const n=process.versions;if(n&&n.node){const o=n.node,i=parseInt(o.replace(/^v/,"").split(".")[0]);return i>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${i} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${i} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const e=this.detectEnvironment();if(e.constructor)return e.constructor;let n=e.error||"WebSocket not supported in this environment.";throw e.workaround&&(n+=`

Suggested solution: ${e.workaround}`),new Error(n)}static createWebSocket(e,n){const o=this.getWebSocketConstructor();return new o(e,n)}static isWebSocketSupported(){try{const e=this.detectEnvironment();return e.type==="native"||e.type==="ws"}catch{return!1}}}const XR="2.84.0",ZR=`realtime-js/${XR}`,L0="1.0.0",e2="2.0.0",Zg=L0,uf=1e4,t2=1e3,r2=100;var Ps;(function(t){t[t.connecting=0]="connecting",t[t.open=1]="open",t[t.closing=2]="closing",t[t.closed=3]="closed"})(Ps||(Ps={}));var gt;(function(t){t.closed="closed",t.errored="errored",t.joined="joined",t.joining="joining",t.leaving="leaving"})(gt||(gt={}));var Ir;(function(t){t.close="phx_close",t.error="phx_error",t.join="phx_join",t.reply="phx_reply",t.leave="phx_leave",t.access_token="access_token"})(Ir||(Ir={}));var df;(function(t){t.websocket="websocket"})(df||(df={}));var As;(function(t){t.Connecting="connecting",t.Open="open",t.Closing="closing",t.Closed="closed"})(As||(As={}));class n2{constructor(){this.HEADER_LENGTH=1,this.META_LENGTH=4,this.USER_BROADCAST_PUSH_META_LENGTH=5,this.KINDS={userBroadcastPush:3,userBroadcast:4},this.BINARY_ENCODING=0,this.JSON_ENCODING=1,this.BROADCAST_EVENT="broadcast"}encode(e,n){if(e.event===this.BROADCAST_EVENT&&!(e.payload instanceof ArrayBuffer)&&typeof e.payload.event=="string")return n(this._binaryEncodeUserBroadcastPush(e));let o=[e.join_ref,e.ref,e.topic,e.event,e.payload];return n(JSON.stringify(o))}_binaryEncodeUserBroadcastPush(e){var n;return this._isArrayBuffer((n=e.payload)===null||n===void 0?void 0:n.payload)?this._encodeBinaryUserBroadcastPush(e):this._encodeJsonUserBroadcastPush(e)}_encodeBinaryUserBroadcastPush(e){var n,o,i,a;const u=e.topic,d=(n=e.ref)!==null&&n!==void 0?n:"",h=(o=e.join_ref)!==null&&o!==void 0?o:"",p=e.payload.event,g=(a=(i=e.payload)===null||i===void 0?void 0:i.payload)!==null&&a!==void 0?a:new ArrayBuffer(0),m=this.USER_BROADCAST_PUSH_META_LENGTH+h.length+d.length+u.length+p.length,x=new ArrayBuffer(this.HEADER_LENGTH+m);let b=new DataView(x),j=0;b.setUint8(j++,this.KINDS.userBroadcastPush),b.setUint8(j++,h.length),b.setUint8(j++,d.length),b.setUint8(j++,u.length),b.setUint8(j++,p.length),b.setUint8(j++,this.BINARY_ENCODING),Array.from(h,S=>b.setUint8(j++,S.charCodeAt(0))),Array.from(d,S=>b.setUint8(j++,S.charCodeAt(0))),Array.from(u,S=>b.setUint8(j++,S.charCodeAt(0))),Array.from(p,S=>b.setUint8(j++,S.charCodeAt(0)));var _=new Uint8Array(x.byteLength+g.byteLength);return _.set(new Uint8Array(x),0),_.set(new Uint8Array(g),x.byteLength),_.buffer}_encodeJsonUserBroadcastPush(e){var n,o,i,a;const u=e.topic,d=(n=e.ref)!==null&&n!==void 0?n:"",h=(o=e.join_ref)!==null&&o!==void 0?o:"",p=e.payload.event,g=(a=(i=e.payload)===null||i===void 0?void 0:i.payload)!==null&&a!==void 0?a:{},x=new TextEncoder().encode(JSON.stringify(g)).buffer,b=this.USER_BROADCAST_PUSH_META_LENGTH+h.length+d.length+u.length+p.length,j=new ArrayBuffer(this.HEADER_LENGTH+b);let _=new DataView(j),S=0;_.setUint8(S++,this.KINDS.userBroadcastPush),_.setUint8(S++,h.length),_.setUint8(S++,d.length),_.setUint8(S++,u.length),_.setUint8(S++,p.length),_.setUint8(S++,this.JSON_ENCODING),Array.from(h,N=>_.setUint8(S++,N.charCodeAt(0))),Array.from(d,N=>_.setUint8(S++,N.charCodeAt(0))),Array.from(u,N=>_.setUint8(S++,N.charCodeAt(0))),Array.from(p,N=>_.setUint8(S++,N.charCodeAt(0)));var E=new Uint8Array(j.byteLength+x.byteLength);return E.set(new Uint8Array(j),0),E.set(new Uint8Array(x),j.byteLength),E.buffer}decode(e,n){if(this._isArrayBuffer(e)){let o=this._binaryDecode(e);return n(o)}if(typeof e=="string"){const o=JSON.parse(e),[i,a,u,d,h]=o;return n({join_ref:i,ref:a,topic:u,event:d,payload:h})}return n({})}_binaryDecode(e){const n=new DataView(e),o=n.getUint8(0),i=new TextDecoder;switch(o){case this.KINDS.userBroadcast:return this._decodeUserBroadcast(e,n,i)}}_decodeUserBroadcast(e,n,o){const i=n.getUint8(1),a=n.getUint8(2),u=n.getUint8(3),d=n.getUint8(4);let h=this.HEADER_LENGTH+4;const p=o.decode(e.slice(h,h+i));h=h+i;const g=o.decode(e.slice(h,h+a));h=h+a;const m=o.decode(e.slice(h,h+u));h=h+u;const x=e.slice(h,e.byteLength),b=d===this.JSON_ENCODING?JSON.parse(o.decode(x)):x,j={type:this.BROADCAST_EVENT,event:g,payload:b};return u>0&&(j.meta=JSON.parse(m)),{join_ref:null,ref:null,topic:p,event:this.BROADCAST_EVENT,payload:j}}_isArrayBuffer(e){var n;return e instanceof ArrayBuffer||((n=e?.constructor)===null||n===void 0?void 0:n.name)==="ArrayBuffer"}}class $0{constructor(e,n){this.callback=e,this.timerCalc=n,this.timer=void 0,this.tries=0,this.callback=e,this.timerCalc=n}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var Ge;(function(t){t.abstime="abstime",t.bool="bool",t.date="date",t.daterange="daterange",t.float4="float4",t.float8="float8",t.int2="int2",t.int4="int4",t.int4range="int4range",t.int8="int8",t.int8range="int8range",t.json="json",t.jsonb="jsonb",t.money="money",t.numeric="numeric",t.oid="oid",t.reltime="reltime",t.text="text",t.time="time",t.timestamp="timestamp",t.timestamptz="timestamptz",t.timetz="timetz",t.tsrange="tsrange",t.tstzrange="tstzrange"})(Ge||(Ge={}));const ev=(t,e,n={})=>{var o;const i=(o=n.skipTypes)!==null&&o!==void 0?o:[];return e?Object.keys(e).reduce((a,u)=>(a[u]=s2(u,t,e,i),a),{}):{}},s2=(t,e,n,o)=>{const i=e.find(d=>d.name===t),a=i?.type,u=n[t];return a&&!o.includes(a)?M0(a,u):ff(u)},M0=(t,e)=>{if(t.charAt(0)==="_"){const n=t.slice(1,t.length);return l2(e,n)}switch(t){case Ge.bool:return o2(e);case Ge.float4:case Ge.float8:case Ge.int2:case Ge.int4:case Ge.int8:case Ge.numeric:case Ge.oid:return i2(e);case Ge.json:case Ge.jsonb:return a2(e);case Ge.timestamp:return c2(e);case Ge.abstime:case Ge.date:case Ge.daterange:case Ge.int4range:case Ge.int8range:case Ge.money:case Ge.reltime:case Ge.text:case Ge.time:case Ge.timestamptz:case Ge.timetz:case Ge.tsrange:case Ge.tstzrange:return ff(e);default:return ff(e)}},ff=t=>t,o2=t=>{switch(t){case"t":return!0;case"f":return!1;default:return t}},i2=t=>{if(typeof t=="string"){const e=parseFloat(t);if(!Number.isNaN(e))return e}return t},a2=t=>{if(typeof t=="string")try{return JSON.parse(t)}catch(e){return console.log(`JSON parse error: ${e}`),t}return t},l2=(t,e)=>{if(typeof t!="string")return t;const n=t.length-1,o=t[n];if(t[0]==="{"&&o==="}"){let a;const u=t.slice(1,n);try{a=JSON.parse("["+u+"]")}catch{a=u?u.split(","):[]}return a.map(d=>M0(e,d))}return t},c2=t=>typeof t=="string"?t.replace(" ","T"):t,F0=t=>{const e=new URL(t);return e.protocol=e.protocol.replace(/^ws/i,"http"),e.pathname=e.pathname.replace(/\/+$/,"").replace(/\/socket\/websocket$/i,"").replace(/\/socket$/i,"").replace(/\/websocket$/i,""),e.pathname===""||e.pathname==="/"?e.pathname="/api/broadcast":e.pathname=e.pathname+"/api/broadcast",e.href};class Ad{constructor(e,n,o={},i=uf){this.channel=e,this.event=n,this.payload=o,this.timeout=i,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(e){this.timeout=e,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(e){this.payload=Object.assign(Object.assign({},this.payload),e)}receive(e,n){var o;return this._hasReceived(e)&&n((o=this.receivedResp)===null||o===void 0?void 0:o.response),this.recHooks.push({status:e,callback:n}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const e=n=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=n,this._matchReceive(n)};this.channel._on(this.refEvent,{},e),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(e,n){this.refEvent&&this.channel._trigger(this.refEvent,{status:e,response:n})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:e,response:n}){this.recHooks.filter(o=>o.status===e).forEach(o=>o.callback(n))}_hasReceived(e){return this.receivedResp&&this.receivedResp.status===e}}var tv;(function(t){t.SYNC="sync",t.JOIN="join",t.LEAVE="leave"})(tv||(tv={}));class Wi{constructor(e,n){this.channel=e,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const o=n?.events||{state:"presence_state",diff:"presence_diff"};this.channel._on(o.state,{},i=>{const{onJoin:a,onLeave:u,onSync:d}=this.caller;this.joinRef=this.channel._joinRef(),this.state=Wi.syncState(this.state,i,a,u),this.pendingDiffs.forEach(h=>{this.state=Wi.syncDiff(this.state,h,a,u)}),this.pendingDiffs=[],d()}),this.channel._on(o.diff,{},i=>{const{onJoin:a,onLeave:u,onSync:d}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(i):(this.state=Wi.syncDiff(this.state,i,a,u),d())}),this.onJoin((i,a,u)=>{this.channel._trigger("presence",{event:"join",key:i,currentPresences:a,newPresences:u})}),this.onLeave((i,a,u)=>{this.channel._trigger("presence",{event:"leave",key:i,currentPresences:a,leftPresences:u})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(e,n,o,i){const a=this.cloneDeep(e),u=this.transformState(n),d={},h={};return this.map(a,(p,g)=>{u[p]||(h[p]=g)}),this.map(u,(p,g)=>{const m=a[p];if(m){const x=g.map(S=>S.presence_ref),b=m.map(S=>S.presence_ref),j=g.filter(S=>b.indexOf(S.presence_ref)<0),_=m.filter(S=>x.indexOf(S.presence_ref)<0);j.length>0&&(d[p]=j),_.length>0&&(h[p]=_)}else d[p]=g}),this.syncDiff(a,{joins:d,leaves:h},o,i)}static syncDiff(e,n,o,i){const{joins:a,leaves:u}={joins:this.transformState(n.joins),leaves:this.transformState(n.leaves)};return o||(o=()=>{}),i||(i=()=>{}),this.map(a,(d,h)=>{var p;const g=(p=e[d])!==null&&p!==void 0?p:[];if(e[d]=this.cloneDeep(h),g.length>0){const m=e[d].map(b=>b.presence_ref),x=g.filter(b=>m.indexOf(b.presence_ref)<0);e[d].unshift(...x)}o(d,g,h)}),this.map(u,(d,h)=>{let p=e[d];if(!p)return;const g=h.map(m=>m.presence_ref);p=p.filter(m=>g.indexOf(m.presence_ref)<0),e[d]=p,i(d,p,h),p.length===0&&delete e[d]}),e}static map(e,n){return Object.getOwnPropertyNames(e).map(o=>n(o,e[o]))}static transformState(e){return e=this.cloneDeep(e),Object.getOwnPropertyNames(e).reduce((n,o)=>{const i=e[o];return"metas"in i?n[o]=i.metas.map(a=>(a.presence_ref=a.phx_ref,delete a.phx_ref,delete a.phx_ref_prev,a)):n[o]=i,n},{})}static cloneDeep(e){return JSON.parse(JSON.stringify(e))}onJoin(e){this.caller.onJoin=e}onLeave(e){this.caller.onLeave=e}onSync(e){this.caller.onSync=e}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var rv;(function(t){t.ALL="*",t.INSERT="INSERT",t.UPDATE="UPDATE",t.DELETE="DELETE"})(rv||(rv={}));var Hi;(function(t){t.BROADCAST="broadcast",t.PRESENCE="presence",t.POSTGRES_CHANGES="postgres_changes",t.SYSTEM="system"})(Hi||(Hi={}));var pn;(function(t){t.SUBSCRIBED="SUBSCRIBED",t.TIMED_OUT="TIMED_OUT",t.CLOSED="CLOSED",t.CHANNEL_ERROR="CHANNEL_ERROR"})(pn||(pn={}));class eh{constructor(e,n={config:{}},o){var i,a;if(this.topic=e,this.params=n,this.socket=o,this.bindings={},this.state=gt.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=e.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},n.config),this.timeout=this.socket.timeout,this.joinPush=new Ad(this,Ir.join,this.params,this.timeout),this.rejoinTimer=new $0(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=gt.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(u=>u.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=gt.closed,this.socket._remove(this)}),this._onError(u=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,u),this.state=gt.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=gt.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",u=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,u),this.state=gt.errored,this.rejoinTimer.scheduleTimeout())}),this._on(Ir.reply,{},(u,d)=>{this._trigger(this._replyEventName(d),u)}),this.presence=new Wi(this),this.broadcastEndpointURL=F0(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&(!((a=(i=this.params.config)===null||i===void 0?void 0:i.broadcast)===null||a===void 0)&&a.replay))throw`tried to use replay on public channel '${this.topic}'. It must be a private channel.`}subscribe(e,n=this.timeout){var o,i,a;if(this.socket.isConnected()||this.socket.connect(),this.state==gt.closed){const{config:{broadcast:u,presence:d,private:h}}=this.params,p=(i=(o=this.bindings.postgres_changes)===null||o===void 0?void 0:o.map(b=>b.filter))!==null&&i!==void 0?i:[],g=!!this.bindings[Hi.PRESENCE]&&this.bindings[Hi.PRESENCE].length>0||((a=this.params.config.presence)===null||a===void 0?void 0:a.enabled)===!0,m={},x={broadcast:u,presence:Object.assign(Object.assign({},d),{enabled:g}),postgres_changes:p,private:h};this.socket.accessTokenValue&&(m.access_token=this.socket.accessTokenValue),this._onError(b=>e?.(pn.CHANNEL_ERROR,b)),this._onClose(()=>e?.(pn.CLOSED)),this.updateJoinPayload(Object.assign({config:x},m)),this.joinedOnce=!0,this._rejoin(n),this.joinPush.receive("ok",async({postgres_changes:b})=>{var j;if(this.socket.setAuth(),b===void 0){e?.(pn.SUBSCRIBED);return}else{const _=this.bindings.postgres_changes,S=(j=_?.length)!==null&&j!==void 0?j:0,E=[];for(let N=0;N<S;N++){const C=_[N],{filter:{event:P,schema:F,table:V,filter:I}}=C,z=b&&b[N];if(z&&z.event===P&&z.schema===F&&z.table===V&&z.filter===I)E.push(Object.assign(Object.assign({},C),{id:z.id}));else{this.unsubscribe(),this.state=gt.errored,e?.(pn.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=E,e&&e(pn.SUBSCRIBED);return}}).receive("error",b=>{this.state=gt.errored,e?.(pn.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(b).join(", ")||"error")))}).receive("timeout",()=>{e?.(pn.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(e,n={}){return await this.send({type:"presence",event:"track",payload:e},n.timeout||this.timeout)}async untrack(e={}){return await this.send({type:"presence",event:"untrack"},e)}on(e,n,o){return this.state===gt.joined&&e===Hi.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(()=>this.subscribe())),this._on(e,n,o)}async httpSend(e,n,o={}){var i;const a=this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"";if(n==null)return Promise.reject("Payload is required for httpSend()");const u={method:"POST",headers:{Authorization:a,apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:e,payload:n,private:this.private}]})},d=await this._fetchWithTimeout(this.broadcastEndpointURL,u,(i=o.timeout)!==null&&i!==void 0?i:this.timeout);if(d.status===202)return{success:!0};let h=d.statusText;try{const p=await d.json();h=p.error||p.message||h}catch{}return Promise.reject(new Error(h))}async send(e,n={}){var o,i;if(!this._canPush()&&e.type==="broadcast"){console.warn("Realtime send() is automatically falling back to REST API. This behavior will be deprecated in the future. Please use httpSend() explicitly for REST delivery.");const{event:a,payload:u}=e,h={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:a,payload:u,private:this.private}]})};try{const p=await this._fetchWithTimeout(this.broadcastEndpointURL,h,(o=n.timeout)!==null&&o!==void 0?o:this.timeout);return await((i=p.body)===null||i===void 0?void 0:i.cancel()),p.ok?"ok":"error"}catch(p){return p.name==="AbortError"?"timed out":"error"}}else return new Promise(a=>{var u,d,h;const p=this._push(e.type,e,n.timeout||this.timeout);e.type==="broadcast"&&!(!((h=(d=(u=this.params)===null||u===void 0?void 0:u.config)===null||d===void 0?void 0:d.broadcast)===null||h===void 0)&&h.ack)&&a("ok"),p.receive("ok",()=>a("ok")),p.receive("error",()=>a("error")),p.receive("timeout",()=>a("timed out"))})}updateJoinPayload(e){this.joinPush.updatePayload(e)}unsubscribe(e=this.timeout){this.state=gt.leaving;const n=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(Ir.close,"leave",this._joinRef())};this.joinPush.destroy();let o=null;return new Promise(i=>{o=new Ad(this,Ir.leave,{},e),o.receive("ok",()=>{n(),i("ok")}).receive("timeout",()=>{n(),i("timed out")}).receive("error",()=>{i("error")}),o.send(),this._canPush()||o.trigger("ok",{})}).finally(()=>{o?.destroy()})}teardown(){this.pushBuffer.forEach(e=>e.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=gt.closed,this.bindings={}}async _fetchWithTimeout(e,n,o){const i=new AbortController,a=setTimeout(()=>i.abort(),o),u=await this.socket.fetch(e,Object.assign(Object.assign({},n),{signal:i.signal}));return clearTimeout(a),u}_push(e,n,o=this.timeout){if(!this.joinedOnce)throw`tried to push '${e}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let i=new Ad(this,e,n,o);return this._canPush()?i.send():this._addToPushBuffer(i),i}_addToPushBuffer(e){if(e.startTimeout(),this.pushBuffer.push(e),this.pushBuffer.length>r2){const n=this.pushBuffer.shift();n&&(n.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${n.event}`,n.payload))}}_onMessage(e,n,o){return n}_isMember(e){return this.topic===e}_joinRef(){return this.joinPush.ref}_trigger(e,n,o){var i,a;const u=e.toLocaleLowerCase(),{close:d,error:h,leave:p,join:g}=Ir;if(o&&[d,h,p,g].indexOf(u)>=0&&o!==this._joinRef())return;let x=this._onMessage(u,n,o);if(n&&!x)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(u)?(i=this.bindings.postgres_changes)===null||i===void 0||i.filter(b=>{var j,_,S;return((j=b.filter)===null||j===void 0?void 0:j.event)==="*"||((S=(_=b.filter)===null||_===void 0?void 0:_.event)===null||S===void 0?void 0:S.toLocaleLowerCase())===u}).map(b=>b.callback(x,o)):(a=this.bindings[u])===null||a===void 0||a.filter(b=>{var j,_,S,E,N,C;if(["broadcast","presence","postgres_changes"].includes(u))if("id"in b){const P=b.id,F=(j=b.filter)===null||j===void 0?void 0:j.event;return P&&((_=n.ids)===null||_===void 0?void 0:_.includes(P))&&(F==="*"||F?.toLocaleLowerCase()===((S=n.data)===null||S===void 0?void 0:S.type.toLocaleLowerCase()))}else{const P=(N=(E=b?.filter)===null||E===void 0?void 0:E.event)===null||N===void 0?void 0:N.toLocaleLowerCase();return P==="*"||P===((C=n?.event)===null||C===void 0?void 0:C.toLocaleLowerCase())}else return b.type.toLocaleLowerCase()===u}).map(b=>{if(typeof x=="object"&&"ids"in x){const j=x.data,{schema:_,table:S,commit_timestamp:E,type:N,errors:C}=j;x=Object.assign(Object.assign({},{schema:_,table:S,commit_timestamp:E,eventType:N,new:{},old:{},errors:C}),this._getPayloadRecords(j))}b.callback(x,o)})}_isClosed(){return this.state===gt.closed}_isJoined(){return this.state===gt.joined}_isJoining(){return this.state===gt.joining}_isLeaving(){return this.state===gt.leaving}_replyEventName(e){return`chan_reply_${e}`}_on(e,n,o){const i=e.toLocaleLowerCase(),a={type:i,filter:n,callback:o};return this.bindings[i]?this.bindings[i].push(a):this.bindings[i]=[a],this}_off(e,n){const o=e.toLocaleLowerCase();return this.bindings[o]&&(this.bindings[o]=this.bindings[o].filter(i=>{var a;return!(((a=i.type)===null||a===void 0?void 0:a.toLocaleLowerCase())===o&&eh.isEqual(i.filter,n))})),this}static isEqual(e,n){if(Object.keys(e).length!==Object.keys(n).length)return!1;for(const o in e)if(e[o]!==n[o])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(e){this._on(Ir.close,{},e)}_onError(e){this._on(Ir.error,{},n=>e(n))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(e=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=gt.joining,this.joinPush.resend(e))}_getPayloadRecords(e){const n={new:{},old:{}};return(e.type==="INSERT"||e.type==="UPDATE")&&(n.new=ev(e.columns,e.record)),(e.type==="UPDATE"||e.type==="DELETE")&&(n.old=ev(e.columns,e.old_record)),n}}const Od=()=>{},Ol={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},u2=[1e3,2e3,5e3,1e4],d2=1e4,f2=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class h2{constructor(e,n){var o;if(this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=uf,this.transport=null,this.heartbeatIntervalMs=Ol.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=Od,this.ref=0,this.reconnectTimer=null,this.vsn=Zg,this.logger=Od,this.conn=null,this.sendBuffer=[],this.serializer=new n2,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._resolveFetch=i=>i?(...a)=>i(...a):(...a)=>fetch(...a),!(!((o=n?.params)===null||o===void 0)&&o.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=n.params.apikey,this.endPoint=`${e}/${df.websocket}`,this.httpEndpoint=F0(e),this._initializeOptions(n),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(n?.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this.accessToken&&!this._authPromise&&this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=QR.createWebSocket(this.endpointURL())}catch(e){this._setConnectionState("disconnected");const n=e.message;throw n.includes("Node.js")?new Error(`${n}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${n}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:this.vsn}))}disconnect(e,n){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const o=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(o),this._setConnectionState("disconnected")},typeof this.conn.close=="function"&&(e?this.conn.close(e,n??""):this.conn.close()),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(e){const n=await e.unsubscribe();return this.channels.length===0&&this.disconnect(),n}async removeAllChannels(){const e=await Promise.all(this.channels.map(n=>n.unsubscribe()));return this.channels=[],this.disconnect(),e}log(e,n,o){this.logger(e,n,o)}connectionState(){switch(this.conn&&this.conn.readyState){case Ps.connecting:return As.Connecting;case Ps.open:return As.Open;case Ps.closing:return As.Closing;default:return As.Closed}}isConnected(){return this.connectionState()===As.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(e,n={config:{}}){const o=`realtime:${e}`,i=this.getChannels().find(a=>a.topic===o);if(i)return i;{const a=new eh(`realtime:${e}`,n,this);return this.channels.push(a),a}}push(e){const{topic:n,event:o,payload:i,ref:a}=e,u=()=>{this.encode(e,d=>{var h;(h=this.conn)===null||h===void 0||h.send(d)})};this.log("push",`${n} ${o} (${a})`,i),this.isConnected()?u():this.sendBuffer.push(u)}async setAuth(e=null){this._authPromise=this._performAuth(e);try{await this._authPromise}finally{this._authPromise=null}}async sendHeartbeat(){var e;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(n){this.log("error","error in heartbeat callback",n)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(n){this.log("error","error in heartbeat callback",n)}this._wasManualDisconnect=!1,(e=this.conn)===null||e===void 0||e.close(t2,"heartbeat timeout"),setTimeout(()=>{var n;this.isConnected()||(n=this.reconnectTimer)===null||n===void 0||n.scheduleTimeout()},Ol.HEARTBEAT_TIMEOUT_FALLBACK);return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(n){this.log("error","error in heartbeat callback",n)}this._setAuthSafely("heartbeat")}onHeartbeat(e){this.heartbeatCallback=e}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(e=>e()),this.sendBuffer=[])}_makeRef(){let e=this.ref+1;return e===this.ref?this.ref=0:this.ref=e,this.ref.toString()}_leaveOpenTopic(e){let n=this.channels.find(o=>o.topic===e&&(o._isJoined()||o._isJoining()));n&&(this.log("transport",`leaving duplicate topic "${e}"`),n.unsubscribe())}_remove(e){this.channels=this.channels.filter(n=>n.topic!==e.topic)}_onConnMessage(e){this.decode(e.data,n=>{if(n.topic==="phoenix"&&n.event==="phx_reply")try{this.heartbeatCallback(n.payload.status==="ok"?"ok":"error")}catch(p){this.log("error","error in heartbeat callback",p)}n.ref&&n.ref===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null);const{topic:o,event:i,payload:a,ref:u}=n,d=u?`(${u})`:"",h=a.status||"";this.log("receive",`${h} ${o} ${i} ${d}`.trim(),a),this.channels.filter(p=>p._isMember(o)).forEach(p=>p._trigger(i,a,u)),this._triggerStateCallbacks("message",n)})}_clearTimer(e){var n;e==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):e==="reconnect"&&((n=this.reconnectTimer)===null||n===void 0||n.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=e=>this._onConnError(e),this.conn.onmessage=e=>this._onConnMessage(e),this.conn.onclose=e=>this._onConnClose(e))}_teardownConnection(){if(this.conn){if(this.conn.readyState===Ps.open||this.conn.readyState===Ps.connecting)try{this.conn.close()}catch(e){this.log("error","Error closing connection",e)}this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null}this._clearAllTimers(),this.channels.forEach(e=>e.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),(this._authPromise||(this.accessToken&&!this.accessTokenValue?this.setAuth():Promise.resolve())).then(()=>{this.flushSendBuffer()}).catch(n=>{this.log("error","error waiting for auth on connect",n),this.flushSendBuffer()}),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const e=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(e),this.workerRef.onerror=n=>{this.log("worker","worker error",n.message),this.workerRef.terminate()},this.workerRef.onmessage=n=>{n.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(e){var n;this._setConnectionState("disconnected"),this.log("transport","close",e),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(n=this.reconnectTimer)===null||n===void 0||n.scheduleTimeout(),this._triggerStateCallbacks("close",e)}_onConnError(e){this._setConnectionState("disconnected"),this.log("transport",`${e}`),this._triggerChanError(),this._triggerStateCallbacks("error",e)}_triggerChanError(){this.channels.forEach(e=>e._trigger(Ir.error))}_appendParams(e,n){if(Object.keys(n).length===0)return e;const o=e.match(/\?/)?"&":"?",i=new URLSearchParams(n);return`${e}${o}${i}`}_workerObjectUrl(e){let n;if(e)n=e;else{const o=new Blob([f2],{type:"application/javascript"});n=URL.createObjectURL(o)}return n}_setConnectionState(e,n=!1){this._connectionState=e,e==="connecting"?this._wasManualDisconnect=!1:e==="disconnecting"&&(this._wasManualDisconnect=n)}async _performAuth(e=null){let n;e?n=e:this.accessToken?n=await this.accessToken():n=this.accessTokenValue,this.accessTokenValue!=n&&(this.accessTokenValue=n,this.channels.forEach(o=>{const i={access_token:n,version:ZR};n&&o.updateJoinPayload(i),o.joinedOnce&&o._isJoined()&&o._push(Ir.access_token,{access_token:n})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(e="general"){this.setAuth().catch(n=>{this.log("error",`error setting auth in ${e}`,n)})}_triggerStateCallbacks(e,n){try{this.stateChangeCallbacks[e].forEach(o=>{try{o(n)}catch(i){this.log("error",`error in ${e} callback`,i)}})}catch(o){this.log("error",`error triggering ${e} callbacks`,o)}}_setupReconnectionTimer(){this.reconnectTimer=new $0(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},Ol.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(e){var n,o,i,a,u,d,h,p,g,m,x,b;switch(this.transport=(n=e?.transport)!==null&&n!==void 0?n:null,this.timeout=(o=e?.timeout)!==null&&o!==void 0?o:uf,this.heartbeatIntervalMs=(i=e?.heartbeatIntervalMs)!==null&&i!==void 0?i:Ol.HEARTBEAT_INTERVAL,this.worker=(a=e?.worker)!==null&&a!==void 0?a:!1,this.accessToken=(u=e?.accessToken)!==null&&u!==void 0?u:null,this.heartbeatCallback=(d=e?.heartbeatCallback)!==null&&d!==void 0?d:Od,this.vsn=(h=e?.vsn)!==null&&h!==void 0?h:Zg,e?.params&&(this.params=e.params),e?.logger&&(this.logger=e.logger),(e?.logLevel||e?.log_level)&&(this.logLevel=e.logLevel||e.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(p=e?.reconnectAfterMs)!==null&&p!==void 0?p:(j=>u2[j-1]||d2),this.vsn){case L0:this.encode=(g=e?.encode)!==null&&g!==void 0?g:((j,_)=>_(JSON.stringify(j))),this.decode=(m=e?.decode)!==null&&m!==void 0?m:((j,_)=>_(JSON.parse(j)));break;case e2:this.encode=(x=e?.encode)!==null&&x!==void 0?x:this.serializer.encode.bind(this.serializer),this.decode=(b=e?.decode)!==null&&b!==void 0?b:this.serializer.decode.bind(this.serializer);break;default:throw new Error(`Unsupported serializer version: ${this.vsn}`)}if(this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=e?.workerUrl}}}class th extends Error{constructor(e){super(e),this.__isStorageError=!0,this.name="StorageError"}}function et(t){return typeof t=="object"&&t!==null&&"__isStorageError"in t}class p2 extends th{constructor(e,n,o){super(e),this.name="StorageApiError",this.status=n,this.statusCode=o}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class hf extends th{constructor(e,n){super(e),this.name="StorageUnknownError",this.originalError=n}}const rh=t=>t?(...e)=>t(...e):(...e)=>fetch(...e),m2=()=>Response,pf=t=>{if(Array.isArray(t))return t.map(n=>pf(n));if(typeof t=="function"||t!==Object(t))return t;const e={};return Object.entries(t).forEach(([n,o])=>{const i=n.replace(/([-_][a-z])/gi,a=>a.toUpperCase().replace(/[-_]/g,""));e[i]=pf(o)}),e},g2=t=>{if(typeof t!="object"||t===null)return!1;const e=Object.getPrototypeOf(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)},Id=t=>{var e;return t.msg||t.message||t.error_description||(typeof t.error=="string"?t.error:(e=t.error)===null||e===void 0?void 0:e.message)||JSON.stringify(t)},v2=(t,e,n)=>we(void 0,void 0,void 0,function*(){const o=yield m2();t instanceof o&&!n?.noResolveJson?t.json().then(i=>{const a=t.status||500,u=i?.statusCode||a+"";e(new p2(Id(i),a,u))}).catch(i=>{e(new hf(Id(i),i))}):e(new hf(Id(t),t))}),y2=(t,e,n,o)=>{const i={method:t,headers:e?.headers||{}};return t==="GET"||!o?i:(g2(o)?(i.headers=Object.assign({"Content-Type":"application/json"},e?.headers),i.body=JSON.stringify(o)):i.body=o,e?.duplex&&(i.duplex=e.duplex),Object.assign(Object.assign({},i),n))};function oa(t,e,n,o,i,a){return we(this,void 0,void 0,function*(){return new Promise((u,d)=>{t(n,y2(e,o,i,a)).then(h=>{if(!h.ok)throw h;return o?.noResolveJson?h:h.json()}).then(h=>u(h)).catch(h=>v2(h,d,o))})})}function Xi(t,e,n,o){return we(this,void 0,void 0,function*(){return oa(t,"GET",e,n,o)})}function Or(t,e,n,o,i){return we(this,void 0,void 0,function*(){return oa(t,"POST",e,o,i,n)})}function mf(t,e,n,o,i){return we(this,void 0,void 0,function*(){return oa(t,"PUT",e,o,i,n)})}function w2(t,e,n,o){return we(this,void 0,void 0,function*(){return oa(t,"HEAD",e,Object.assign(Object.assign({},n),{noResolveJson:!0}),o)})}function nh(t,e,n,o,i){return we(this,void 0,void 0,function*(){return oa(t,"DELETE",e,o,i,n)})}class x2{constructor(e,n){this.downloadFn=e,this.shouldThrowOnError=n}then(e,n){return this.execute().then(e,n)}execute(){return we(this,void 0,void 0,function*(){try{return{data:(yield this.downloadFn()).body,error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(et(e))return{data:null,error:e};throw e}})}}var U0;class b2{constructor(e,n){this.downloadFn=e,this.shouldThrowOnError=n,this[U0]="BlobDownloadBuilder",this.promise=null}asStream(){return new x2(this.downloadFn,this.shouldThrowOnError)}then(e,n){return this.getPromise().then(e,n)}catch(e){return this.getPromise().catch(e)}finally(e){return this.getPromise().finally(e)}getPromise(){return this.promise||(this.promise=this.execute()),this.promise}execute(){return we(this,void 0,void 0,function*(){try{return{data:yield(yield this.downloadFn()).blob(),error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(et(e))return{data:null,error:e};throw e}})}}U0=Symbol.toStringTag;const _2={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},nv={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class S2{constructor(e,n={},o,i){this.shouldThrowOnError=!1,this.url=e,this.headers=n,this.bucketId=o,this.fetch=rh(i)}throwOnError(){return this.shouldThrowOnError=!0,this}uploadOrUpdate(e,n,o,i){return we(this,void 0,void 0,function*(){try{let a;const u=Object.assign(Object.assign({},nv),i);let d=Object.assign(Object.assign({},this.headers),e==="POST"&&{"x-upsert":String(u.upsert)});const h=u.metadata;typeof Blob<"u"&&o instanceof Blob?(a=new FormData,a.append("cacheControl",u.cacheControl),h&&a.append("metadata",this.encodeMetadata(h)),a.append("",o)):typeof FormData<"u"&&o instanceof FormData?(a=o,a.has("cacheControl")||a.append("cacheControl",u.cacheControl),h&&!a.has("metadata")&&a.append("metadata",this.encodeMetadata(h))):(a=o,d["cache-control"]=`max-age=${u.cacheControl}`,d["content-type"]=u.contentType,h&&(d["x-metadata"]=this.toBase64(this.encodeMetadata(h))),(typeof ReadableStream<"u"&&a instanceof ReadableStream||a&&typeof a=="object"&&"pipe"in a&&typeof a.pipe=="function")&&!u.duplex&&(u.duplex="half")),i?.headers&&(d=Object.assign(Object.assign({},d),i.headers));const p=this._removeEmptyFolders(n),g=this._getFinalPath(p),m=yield(e=="PUT"?mf:Or)(this.fetch,`${this.url}/object/${g}`,a,Object.assign({headers:d},u?.duplex?{duplex:u.duplex}:{}));return{data:{path:p,id:m.Id,fullPath:m.Key},error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(et(a))return{data:null,error:a};throw a}})}upload(e,n,o){return we(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",e,n,o)})}uploadToSignedUrl(e,n,o,i){return we(this,void 0,void 0,function*(){const a=this._removeEmptyFolders(e),u=this._getFinalPath(a),d=new URL(this.url+`/object/upload/sign/${u}`);d.searchParams.set("token",n);try{let h;const p=Object.assign({upsert:nv.upsert},i),g=Object.assign(Object.assign({},this.headers),{"x-upsert":String(p.upsert)});typeof Blob<"u"&&o instanceof Blob?(h=new FormData,h.append("cacheControl",p.cacheControl),h.append("",o)):typeof FormData<"u"&&o instanceof FormData?(h=o,h.append("cacheControl",p.cacheControl)):(h=o,g["cache-control"]=`max-age=${p.cacheControl}`,g["content-type"]=p.contentType);const m=yield mf(this.fetch,d.toString(),h,{headers:g});return{data:{path:a,fullPath:m.Key},error:null}}catch(h){if(this.shouldThrowOnError)throw h;if(et(h))return{data:null,error:h};throw h}})}createSignedUploadUrl(e,n){return we(this,void 0,void 0,function*(){try{let o=this._getFinalPath(e);const i=Object.assign({},this.headers);n?.upsert&&(i["x-upsert"]="true");const a=yield Or(this.fetch,`${this.url}/object/upload/sign/${o}`,{},{headers:i}),u=new URL(this.url+a.url),d=u.searchParams.get("token");if(!d)throw new th("No token returned by API");return{data:{signedUrl:u.toString(),path:e,token:d},error:null}}catch(o){if(this.shouldThrowOnError)throw o;if(et(o))return{data:null,error:o};throw o}})}update(e,n,o){return we(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",e,n,o)})}move(e,n,o){return we(this,void 0,void 0,function*(){try{return{data:yield Or(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:e,destinationKey:n,destinationBucket:o?.destinationBucket},{headers:this.headers}),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(et(i))return{data:null,error:i};throw i}})}copy(e,n,o){return we(this,void 0,void 0,function*(){try{return{data:{path:(yield Or(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:e,destinationKey:n,destinationBucket:o?.destinationBucket},{headers:this.headers})).Key},error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(et(i))return{data:null,error:i};throw i}})}createSignedUrl(e,n,o){return we(this,void 0,void 0,function*(){try{let i=this._getFinalPath(e),a=yield Or(this.fetch,`${this.url}/object/sign/${i}`,Object.assign({expiresIn:n},o?.transform?{transform:o.transform}:{}),{headers:this.headers});const u=o?.download?`&download=${o.download===!0?"":o.download}`:"";return a={signedUrl:encodeURI(`${this.url}${a.signedURL}${u}`)},{data:a,error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(et(i))return{data:null,error:i};throw i}})}createSignedUrls(e,n,o){return we(this,void 0,void 0,function*(){try{const i=yield Or(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:n,paths:e},{headers:this.headers}),a=o?.download?`&download=${o.download===!0?"":o.download}`:"";return{data:i.map(u=>Object.assign(Object.assign({},u),{signedUrl:u.signedURL?encodeURI(`${this.url}${u.signedURL}${a}`):null})),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(et(i))return{data:null,error:i};throw i}})}download(e,n){const i=typeof n?.transform<"u"?"render/image/authenticated":"object",a=this.transformOptsToQueryString(n?.transform||{}),u=a?`?${a}`:"",d=this._getFinalPath(e),h=()=>Xi(this.fetch,`${this.url}/${i}/${d}${u}`,{headers:this.headers,noResolveJson:!0});return new b2(h,this.shouldThrowOnError)}info(e){return we(this,void 0,void 0,function*(){const n=this._getFinalPath(e);try{const o=yield Xi(this.fetch,`${this.url}/object/info/${n}`,{headers:this.headers});return{data:pf(o),error:null}}catch(o){if(this.shouldThrowOnError)throw o;if(et(o))return{data:null,error:o};throw o}})}exists(e){return we(this,void 0,void 0,function*(){const n=this._getFinalPath(e);try{return yield w2(this.fetch,`${this.url}/object/${n}`,{headers:this.headers}),{data:!0,error:null}}catch(o){if(this.shouldThrowOnError)throw o;if(et(o)&&o instanceof hf){const i=o.originalError;if([400,404].includes(i?.status))return{data:!1,error:o}}throw o}})}getPublicUrl(e,n){const o=this._getFinalPath(e),i=[],a=n?.download?`download=${n.download===!0?"":n.download}`:"";a!==""&&i.push(a);const d=typeof n?.transform<"u"?"render/image":"object",h=this.transformOptsToQueryString(n?.transform||{});h!==""&&i.push(h);let p=i.join("&");return p!==""&&(p=`?${p}`),{data:{publicUrl:encodeURI(`${this.url}/${d}/public/${o}${p}`)}}}remove(e){return we(this,void 0,void 0,function*(){try{return{data:yield nh(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:e},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(et(n))return{data:null,error:n};throw n}})}list(e,n,o){return we(this,void 0,void 0,function*(){try{const i=Object.assign(Object.assign(Object.assign({},_2),n),{prefix:e||""});return{data:yield Or(this.fetch,`${this.url}/object/list/${this.bucketId}`,i,{headers:this.headers},o),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(et(i))return{data:null,error:i};throw i}})}listV2(e,n){return we(this,void 0,void 0,function*(){try{const o=Object.assign({},e);return{data:yield Or(this.fetch,`${this.url}/object/list-v2/${this.bucketId}`,o,{headers:this.headers},n),error:null}}catch(o){if(this.shouldThrowOnError)throw o;if(et(o))return{data:null,error:o};throw o}})}encodeMetadata(e){return JSON.stringify(e)}toBase64(e){return typeof Buffer<"u"?Buffer.from(e).toString("base64"):btoa(e)}_getFinalPath(e){return`${this.bucketId}/${e.replace(/^\/+/,"")}`}_removeEmptyFolders(e){return e.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(e){const n=[];return e.width&&n.push(`width=${e.width}`),e.height&&n.push(`height=${e.height}`),e.resize&&n.push(`resize=${e.resize}`),e.format&&n.push(`format=${e.format}`),e.quality&&n.push(`quality=${e.quality}`),n.join("&")}}const z0="2.84.0",B0={"X-Client-Info":`storage-js/${z0}`};class j2{constructor(e,n={},o,i){this.shouldThrowOnError=!1;const a=new URL(e);i?.useNewHostname&&/supabase\.(co|in|red)$/.test(a.hostname)&&!a.hostname.includes("storage.supabase.")&&(a.hostname=a.hostname.replace("supabase.","storage.supabase.")),this.url=a.href.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},B0),n),this.fetch=rh(o)}throwOnError(){return this.shouldThrowOnError=!0,this}listBuckets(e){return we(this,void 0,void 0,function*(){try{const n=this.listBucketOptionsToQueryString(e);return{data:yield Xi(this.fetch,`${this.url}/bucket${n}`,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(et(n))return{data:null,error:n};throw n}})}getBucket(e){return we(this,void 0,void 0,function*(){try{return{data:yield Xi(this.fetch,`${this.url}/bucket/${e}`,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(et(n))return{data:null,error:n};throw n}})}createBucket(e){return we(this,arguments,void 0,function*(n,o={public:!1}){try{return{data:yield Or(this.fetch,`${this.url}/bucket`,{id:n,name:n,type:o.type,public:o.public,file_size_limit:o.fileSizeLimit,allowed_mime_types:o.allowedMimeTypes},{headers:this.headers}),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(et(i))return{data:null,error:i};throw i}})}updateBucket(e,n){return we(this,void 0,void 0,function*(){try{return{data:yield mf(this.fetch,`${this.url}/bucket/${e}`,{id:e,name:e,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(o){if(this.shouldThrowOnError)throw o;if(et(o))return{data:null,error:o};throw o}})}emptyBucket(e){return we(this,void 0,void 0,function*(){try{return{data:yield Or(this.fetch,`${this.url}/bucket/${e}/empty`,{},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(et(n))return{data:null,error:n};throw n}})}deleteBucket(e){return we(this,void 0,void 0,function*(){try{return{data:yield nh(this.fetch,`${this.url}/bucket/${e}`,{},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(et(n))return{data:null,error:n};throw n}})}listBucketOptionsToQueryString(e){const n={};return e&&("limit"in e&&(n.limit=String(e.limit)),"offset"in e&&(n.offset=String(e.offset)),e.search&&(n.search=e.search),e.sortColumn&&(n.sortColumn=e.sortColumn),e.sortOrder&&(n.sortOrder=e.sortOrder)),Object.keys(n).length>0?"?"+new URLSearchParams(n).toString():""}}class k2{constructor(e,n={},o){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},B0),n),this.fetch=rh(o)}throwOnError(){return this.shouldThrowOnError=!0,this}createBucket(e){return we(this,void 0,void 0,function*(){try{return{data:yield Or(this.fetch,`${this.url}/bucket`,{name:e},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(et(n))return{data:null,error:n};throw n}})}listBuckets(e){return we(this,void 0,void 0,function*(){try{const n=new URLSearchParams;e?.limit!==void 0&&n.set("limit",e.limit.toString()),e?.offset!==void 0&&n.set("offset",e.offset.toString()),e?.sortColumn&&n.set("sortColumn",e.sortColumn),e?.sortOrder&&n.set("sortOrder",e.sortOrder),e?.search&&n.set("search",e.search);const o=n.toString(),i=o?`${this.url}/bucket?${o}`:`${this.url}/bucket`;return{data:yield Xi(this.fetch,i,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(et(n))return{data:null,error:n};throw n}})}deleteBucket(e){return we(this,void 0,void 0,function*(){try{return{data:yield nh(this.fetch,`${this.url}/bucket/${e}`,{},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(et(n))return{data:null,error:n};throw n}})}}const sh={"X-Client-Info":`storage-js/${z0}`,"Content-Type":"application/json"};class V0 extends Error{constructor(e){super(e),this.__isStorageVectorsError=!0,this.name="StorageVectorsError"}}function ir(t){return typeof t=="object"&&t!==null&&"__isStorageVectorsError"in t}class Dd extends V0{constructor(e,n,o){super(e),this.name="StorageVectorsApiError",this.status=n,this.statusCode=o}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class E2 extends V0{constructor(e,n){super(e),this.name="StorageVectorsUnknownError",this.originalError=n}}var sv;(function(t){t.InternalError="InternalError",t.S3VectorConflictException="S3VectorConflictException",t.S3VectorNotFoundException="S3VectorNotFoundException",t.S3VectorBucketNotEmpty="S3VectorBucketNotEmpty",t.S3VectorMaxBucketsExceeded="S3VectorMaxBucketsExceeded",t.S3VectorMaxIndexesExceeded="S3VectorMaxIndexesExceeded"})(sv||(sv={}));const oh=t=>t?(...e)=>t(...e):(...e)=>fetch(...e),N2=t=>{if(typeof t!="object"||t===null)return!1;const e=Object.getPrototypeOf(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)},ov=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),C2=(t,e,n)=>we(void 0,void 0,void 0,function*(){if(t&&typeof t=="object"&&"status"in t&&"ok"in t&&typeof t.status=="number"&&!n?.noResolveJson){const i=t.status||500,a=t;if(typeof a.json=="function")a.json().then(u=>{const d=u?.statusCode||u?.code||i+"";e(new Dd(ov(u),i,d))}).catch(()=>{const u=i+"",d=a.statusText||`HTTP ${i} error`;e(new Dd(d,i,u))});else{const u=i+"",d=a.statusText||`HTTP ${i} error`;e(new Dd(d,i,u))}}else e(new E2(ov(t),t))}),R2=(t,e,n,o)=>{const i={method:t,headers:e?.headers||{}};return o?(N2(o)?(i.headers=Object.assign({"Content-Type":"application/json"},e?.headers),i.body=JSON.stringify(o)):i.body=o,Object.assign(Object.assign({},i),n)):i};function T2(t,e,n,o,i,a){return we(this,void 0,void 0,function*(){return new Promise((u,d)=>{t(n,R2(e,o,i,a)).then(h=>{if(!h.ok)throw h;if(o?.noResolveJson)return h;const p=h.headers.get("content-type");return!p||!p.includes("application/json")?{}:h.json()}).then(h=>u(h)).catch(h=>C2(h,d,o))})})}function ar(t,e,n,o,i){return we(this,void 0,void 0,function*(){return T2(t,"POST",e,o,i,n)})}class P2{constructor(e,n={},o){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},sh),n),this.fetch=oh(o)}throwOnError(){return this.shouldThrowOnError=!0,this}createIndex(e){return we(this,void 0,void 0,function*(){try{return{data:(yield ar(this.fetch,`${this.url}/CreateIndex`,e,{headers:this.headers}))||{},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(ir(n))return{data:null,error:n};throw n}})}getIndex(e,n){return we(this,void 0,void 0,function*(){try{return{data:yield ar(this.fetch,`${this.url}/GetIndex`,{vectorBucketName:e,indexName:n},{headers:this.headers}),error:null}}catch(o){if(this.shouldThrowOnError)throw o;if(ir(o))return{data:null,error:o};throw o}})}listIndexes(e){return we(this,void 0,void 0,function*(){try{return{data:yield ar(this.fetch,`${this.url}/ListIndexes`,e,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(ir(n))return{data:null,error:n};throw n}})}deleteIndex(e,n){return we(this,void 0,void 0,function*(){try{return{data:(yield ar(this.fetch,`${this.url}/DeleteIndex`,{vectorBucketName:e,indexName:n},{headers:this.headers}))||{},error:null}}catch(o){if(this.shouldThrowOnError)throw o;if(ir(o))return{data:null,error:o};throw o}})}}class A2{constructor(e,n={},o){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},sh),n),this.fetch=oh(o)}throwOnError(){return this.shouldThrowOnError=!0,this}putVectors(e){return we(this,void 0,void 0,function*(){try{if(e.vectors.length<1||e.vectors.length>500)throw new Error("Vector batch size must be between 1 and 500 items");return{data:(yield ar(this.fetch,`${this.url}/PutVectors`,e,{headers:this.headers}))||{},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(ir(n))return{data:null,error:n};throw n}})}getVectors(e){return we(this,void 0,void 0,function*(){try{return{data:yield ar(this.fetch,`${this.url}/GetVectors`,e,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(ir(n))return{data:null,error:n};throw n}})}listVectors(e){return we(this,void 0,void 0,function*(){try{if(e.segmentCount!==void 0){if(e.segmentCount<1||e.segmentCount>16)throw new Error("segmentCount must be between 1 and 16");if(e.segmentIndex!==void 0&&(e.segmentIndex<0||e.segmentIndex>=e.segmentCount))throw new Error(`segmentIndex must be between 0 and ${e.segmentCount-1}`)}return{data:yield ar(this.fetch,`${this.url}/ListVectors`,e,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(ir(n))return{data:null,error:n};throw n}})}queryVectors(e){return we(this,void 0,void 0,function*(){try{return{data:yield ar(this.fetch,`${this.url}/QueryVectors`,e,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(ir(n))return{data:null,error:n};throw n}})}deleteVectors(e){return we(this,void 0,void 0,function*(){try{if(e.keys.length<1||e.keys.length>500)throw new Error("Keys batch size must be between 1 and 500 items");return{data:(yield ar(this.fetch,`${this.url}/DeleteVectors`,e,{headers:this.headers}))||{},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(ir(n))return{data:null,error:n};throw n}})}}class O2{constructor(e,n={},o){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},sh),n),this.fetch=oh(o)}throwOnError(){return this.shouldThrowOnError=!0,this}createBucket(e){return we(this,void 0,void 0,function*(){try{return{data:(yield ar(this.fetch,`${this.url}/CreateVectorBucket`,{vectorBucketName:e},{headers:this.headers}))||{},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(ir(n))return{data:null,error:n};throw n}})}getBucket(e){return we(this,void 0,void 0,function*(){try{return{data:yield ar(this.fetch,`${this.url}/GetVectorBucket`,{vectorBucketName:e},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(ir(n))return{data:null,error:n};throw n}})}listBuckets(){return we(this,arguments,void 0,function*(e={}){try{return{data:yield ar(this.fetch,`${this.url}/ListVectorBuckets`,e,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(ir(n))return{data:null,error:n};throw n}})}deleteBucket(e){return we(this,void 0,void 0,function*(){try{return{data:(yield ar(this.fetch,`${this.url}/DeleteVectorBucket`,{vectorBucketName:e},{headers:this.headers}))||{},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(ir(n))return{data:null,error:n};throw n}})}}class I2 extends O2{constructor(e,n={}){super(e,n.headers||{},n.fetch)}from(e){return new D2(this.url,this.headers,e,this.fetch)}}class D2 extends P2{constructor(e,n,o,i){super(e,n,i),this.vectorBucketName=o}createIndex(e){const n=Object.create(null,{createIndex:{get:()=>super.createIndex}});return we(this,void 0,void 0,function*(){return n.createIndex.call(this,Object.assign(Object.assign({},e),{vectorBucketName:this.vectorBucketName}))})}listIndexes(){const e=Object.create(null,{listIndexes:{get:()=>super.listIndexes}});return we(this,arguments,void 0,function*(n={}){return e.listIndexes.call(this,Object.assign(Object.assign({},n),{vectorBucketName:this.vectorBucketName}))})}getIndex(e){const n=Object.create(null,{getIndex:{get:()=>super.getIndex}});return we(this,void 0,void 0,function*(){return n.getIndex.call(this,this.vectorBucketName,e)})}deleteIndex(e){const n=Object.create(null,{deleteIndex:{get:()=>super.deleteIndex}});return we(this,void 0,void 0,function*(){return n.deleteIndex.call(this,this.vectorBucketName,e)})}index(e){return new L2(this.url,this.headers,this.vectorBucketName,e,this.fetch)}}class L2 extends A2{constructor(e,n,o,i,a){super(e,n,a),this.vectorBucketName=o,this.indexName=i}putVectors(e){const n=Object.create(null,{putVectors:{get:()=>super.putVectors}});return we(this,void 0,void 0,function*(){return n.putVectors.call(this,Object.assign(Object.assign({},e),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}getVectors(e){const n=Object.create(null,{getVectors:{get:()=>super.getVectors}});return we(this,void 0,void 0,function*(){return n.getVectors.call(this,Object.assign(Object.assign({},e),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}listVectors(){const e=Object.create(null,{listVectors:{get:()=>super.listVectors}});return we(this,arguments,void 0,function*(n={}){return e.listVectors.call(this,Object.assign(Object.assign({},n),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}queryVectors(e){const n=Object.create(null,{queryVectors:{get:()=>super.queryVectors}});return we(this,void 0,void 0,function*(){return n.queryVectors.call(this,Object.assign(Object.assign({},e),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}deleteVectors(e){const n=Object.create(null,{deleteVectors:{get:()=>super.deleteVectors}});return we(this,void 0,void 0,function*(){return n.deleteVectors.call(this,Object.assign(Object.assign({},e),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}}class $2 extends j2{constructor(e,n={},o,i){super(e,n,o,i)}from(e){return new S2(this.url,this.headers,e,this.fetch)}get vectors(){return new I2(this.url+"/vector",{headers:this.headers,fetch:this.fetch})}get analytics(){return new k2(this.url+"/iceberg",this.headers,this.fetch)}}const M2="2.84.0";let Vi="";typeof Deno<"u"?Vi="deno":typeof document<"u"?Vi="web":typeof navigator<"u"&&navigator.product==="ReactNative"?Vi="react-native":Vi="node";const F2={"X-Client-Info":`supabase-js-${Vi}/${M2}`},U2={headers:F2},z2={schema:"public"},B2={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},V2={},W2=t=>t?(...e)=>t(...e):(...e)=>fetch(...e),H2=()=>Headers,q2=(t,e,n)=>{const o=W2(n),i=H2();return async(a,u)=>{var d;const h=(d=await e())!==null&&d!==void 0?d:t;let p=new i(u?.headers);return p.has("apikey")||p.set("apikey",t),p.has("Authorization")||p.set("Authorization",`Bearer ${h}`),o(a,Object.assign(Object.assign({},u),{headers:p}))}};function K2(t){return t.endsWith("/")?t:t+"/"}function G2(t,e){var n,o;const{db:i,auth:a,realtime:u,global:d}=t,{db:h,auth:p,realtime:g,global:m}=e,x={db:Object.assign(Object.assign({},h),i),auth:Object.assign(Object.assign({},p),a),realtime:Object.assign(Object.assign({},g),u),storage:{},global:Object.assign(Object.assign(Object.assign({},m),d),{headers:Object.assign(Object.assign({},(n=m?.headers)!==null&&n!==void 0?n:{}),(o=d?.headers)!==null&&o!==void 0?o:{})}),accessToken:async()=>""};return t.accessToken?x.accessToken=t.accessToken:delete x.accessToken,x}function Y2(t){const e=t?.trim();if(!e)throw new Error("supabaseUrl is required.");if(!e.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(K2(e))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}const W0="2.84.0",So=30*1e3,gf=3,Ld=gf*So,J2="http://localhost:9999",Q2="supabase.auth.token",X2={"X-Client-Info":`gotrue-js/${W0}`},vf="X-Supabase-Api-Version",H0={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},Z2=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,eT=600*1e3;class Zi extends Error{constructor(e,n,o){super(e),this.__isAuthError=!0,this.name="AuthError",this.status=n,this.code=o}}function xe(t){return typeof t=="object"&&t!==null&&"__isAuthError"in t}class tT extends Zi{constructor(e,n,o){super(e,n,o),this.name="AuthApiError",this.status=n,this.code=o}}function rT(t){return xe(t)&&t.name==="AuthApiError"}class Os extends Zi{constructor(e,n){super(e),this.name="AuthUnknownError",this.originalError=n}}class ls extends Zi{constructor(e,n,o,i){super(e,o,i),this.name=n,this.status=o}}class sr extends ls{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function nT(t){return xe(t)&&t.name==="AuthSessionMissingError"}class yo extends ls{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class Il extends ls{constructor(e){super(e,"AuthInvalidCredentialsError",400,void 0)}}class Dl extends ls{constructor(e,n=null){super(e,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function sT(t){return xe(t)&&t.name==="AuthImplicitGrantRedirectError"}class iv extends ls{constructor(e,n=null){super(e,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class yf extends ls{constructor(e,n){super(e,"AuthRetryableFetchError",n,void 0)}}function $d(t){return xe(t)&&t.name==="AuthRetryableFetchError"}class av extends ls{constructor(e,n,o){super(e,"AuthWeakPasswordError",n,"weak_password"),this.reasons=o}}class wf extends ls{constructor(e){super(e,"AuthInvalidJwtError",400,"invalid_jwt")}}const Xl="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),lv=` 	
\r=`.split(""),oT=(()=>{const t=new Array(128);for(let e=0;e<t.length;e+=1)t[e]=-1;for(let e=0;e<lv.length;e+=1)t[lv[e].charCodeAt(0)]=-2;for(let e=0;e<Xl.length;e+=1)t[Xl[e].charCodeAt(0)]=e;return t})();function cv(t,e,n){if(t!==null)for(e.queue=e.queue<<8|t,e.queuedBits+=8;e.queuedBits>=6;){const o=e.queue>>e.queuedBits-6&63;n(Xl[o]),e.queuedBits-=6}else if(e.queuedBits>0)for(e.queue=e.queue<<6-e.queuedBits,e.queuedBits=6;e.queuedBits>=6;){const o=e.queue>>e.queuedBits-6&63;n(Xl[o]),e.queuedBits-=6}}function q0(t,e,n){const o=oT[t];if(o>-1)for(e.queue=e.queue<<6|o,e.queuedBits+=6;e.queuedBits>=8;)n(e.queue>>e.queuedBits-8&255),e.queuedBits-=8;else{if(o===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(t)}"`)}}function uv(t){const e=[],n=u=>{e.push(String.fromCodePoint(u))},o={utf8seq:0,codepoint:0},i={queue:0,queuedBits:0},a=u=>{lT(u,o,n)};for(let u=0;u<t.length;u+=1)q0(t.charCodeAt(u),i,a);return e.join("")}function iT(t,e){if(t<=127){e(t);return}else if(t<=2047){e(192|t>>6),e(128|t&63);return}else if(t<=65535){e(224|t>>12),e(128|t>>6&63),e(128|t&63);return}else if(t<=1114111){e(240|t>>18),e(128|t>>12&63),e(128|t>>6&63),e(128|t&63);return}throw new Error(`Unrecognized Unicode codepoint: ${t.toString(16)}`)}function aT(t,e){for(let n=0;n<t.length;n+=1){let o=t.charCodeAt(n);if(o>55295&&o<=56319){const i=(o-55296)*1024&65535;o=(t.charCodeAt(n+1)-56320&65535|i)+65536,n+=1}iT(o,e)}}function lT(t,e,n){if(e.utf8seq===0){if(t<=127){n(t);return}for(let o=1;o<6;o+=1)if((t>>7-o&1)===0){e.utf8seq=o;break}if(e.utf8seq===2)e.codepoint=t&31;else if(e.utf8seq===3)e.codepoint=t&15;else if(e.utf8seq===4)e.codepoint=t&7;else throw new Error("Invalid UTF-8 sequence");e.utf8seq-=1}else if(e.utf8seq>0){if(t<=127)throw new Error("Invalid UTF-8 sequence");e.codepoint=e.codepoint<<6|t&63,e.utf8seq-=1,e.utf8seq===0&&n(e.codepoint)}}function Ro(t){const e=[],n={queue:0,queuedBits:0},o=i=>{e.push(i)};for(let i=0;i<t.length;i+=1)q0(t.charCodeAt(i),n,o);return new Uint8Array(e)}function cT(t){const e=[];return aT(t,n=>e.push(n)),new Uint8Array(e)}function Ds(t){const e=[],n={queue:0,queuedBits:0},o=i=>{e.push(i)};return t.forEach(i=>cv(i,n,o)),cv(null,n,o),e.join("")}function uT(t){return Math.round(Date.now()/1e3)+t}function dT(){return Symbol("auth-callback")}const kt=()=>typeof window<"u"&&typeof document<"u",Ns={tested:!1,writable:!1},K0=()=>{if(!kt())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(Ns.tested)return Ns.writable;const t=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(t,t),globalThis.localStorage.removeItem(t),Ns.tested=!0,Ns.writable=!0}catch{Ns.tested=!0,Ns.writable=!1}return Ns.writable};function fT(t){const e={},n=new URL(t);if(n.hash&&n.hash[0]==="#")try{new URLSearchParams(n.hash.substring(1)).forEach((i,a)=>{e[a]=i})}catch{}return n.searchParams.forEach((o,i)=>{e[i]=o}),e}const G0=t=>t?(...e)=>t(...e):(...e)=>fetch(...e),hT=t=>typeof t=="object"&&t!==null&&"status"in t&&"ok"in t&&"json"in t&&typeof t.json=="function",jo=async(t,e,n)=>{await t.setItem(e,JSON.stringify(n))},Cs=async(t,e)=>{const n=await t.getItem(e);if(!n)return null;try{return JSON.parse(n)}catch{return n}},Gn=async(t,e)=>{await t.removeItem(e)};class bc{constructor(){this.promise=new bc.promiseConstructor((e,n)=>{this.resolve=e,this.reject=n})}}bc.promiseConstructor=Promise;function Md(t){const e=t.split(".");if(e.length!==3)throw new wf("Invalid JWT structure");for(let o=0;o<e.length;o++)if(!Z2.test(e[o]))throw new wf("JWT not in base64url format");return{header:JSON.parse(uv(e[0])),payload:JSON.parse(uv(e[1])),signature:Ro(e[2]),raw:{header:e[0],payload:e[1]}}}async function pT(t){return await new Promise(e=>{setTimeout(()=>e(null),t)})}function mT(t,e){return new Promise((o,i)=>{(async()=>{for(let a=0;a<1/0;a++)try{const u=await t(a);if(!e(a,null,u)){o(u);return}}catch(u){if(!e(a,u)){i(u);return}}})()})}function gT(t){return("0"+t.toString(16)).substr(-2)}function vT(){const e=new Uint32Array(56);if(typeof crypto>"u"){const n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",o=n.length;let i="";for(let a=0;a<56;a++)i+=n.charAt(Math.floor(Math.random()*o));return i}return crypto.getRandomValues(e),Array.from(e,gT).join("")}async function yT(t){const n=new TextEncoder().encode(t),o=await crypto.subtle.digest("SHA-256",n),i=new Uint8Array(o);return Array.from(i).map(a=>String.fromCharCode(a)).join("")}async function wT(t){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),t;const n=await yT(t);return btoa(n).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function wo(t,e,n=!1){const o=vT();let i=o;n&&(i+="/PASSWORD_RECOVERY"),await jo(t,`${e}-code-verifier`,i);const a=await wT(o);return[a,o===a?"plain":"s256"]}const xT=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function bT(t){const e=t.headers.get(vf);if(!e||!e.match(xT))return null;try{return new Date(`${e}T00:00:00.0Z`)}catch{return null}}function _T(t){if(!t)throw new Error("Missing exp claim");const e=Math.floor(Date.now()/1e3);if(t<=e)throw new Error("JWT has expired")}function ST(t){switch(t){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const jT=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function xo(t){if(!jT.test(t))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function Fd(){const t={};return new Proxy(t,{get:(e,n)=>{if(n==="__isUserNotAvailableProxy")return!0;if(typeof n=="symbol"){const o=n.toString();if(o==="Symbol(Symbol.toPrimitive)"||o==="Symbol(Symbol.toStringTag)"||o==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${n}" property of the session object is not supported. Please use getUser() instead.`)},set:(e,n)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${n}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(e,n)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${n}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function kT(t,e){return new Proxy(t,{get:(n,o,i)=>{if(o==="__isInsecureUserWarningProxy")return!0;if(typeof o=="symbol"){const a=o.toString();if(a==="Symbol(Symbol.toPrimitive)"||a==="Symbol(Symbol.toStringTag)"||a==="Symbol(util.inspect.custom)"||a==="Symbol(nodejs.util.inspect.custom)")return Reflect.get(n,o,i)}return!e.value&&typeof o=="string"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),e.value=!0),Reflect.get(n,o,i)}})}function dv(t){return JSON.parse(JSON.stringify(t))}const Rs=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),ET=[502,503,504];async function fv(t){var e;if(!hT(t))throw new yf(Rs(t),0);if(ET.includes(t.status))throw new yf(Rs(t),t.status);let n;try{n=await t.json()}catch(a){throw new Os(Rs(a),a)}let o;const i=bT(t);if(i&&i.getTime()>=H0["2024-01-01"].timestamp&&typeof n=="object"&&n&&typeof n.code=="string"?o=n.code:typeof n=="object"&&n&&typeof n.error_code=="string"&&(o=n.error_code),o){if(o==="weak_password")throw new av(Rs(n),t.status,((e=n.weak_password)===null||e===void 0?void 0:e.reasons)||[]);if(o==="session_not_found")throw new sr}else if(typeof n=="object"&&n&&typeof n.weak_password=="object"&&n.weak_password&&Array.isArray(n.weak_password.reasons)&&n.weak_password.reasons.length&&n.weak_password.reasons.reduce((a,u)=>a&&typeof u=="string",!0))throw new av(Rs(n),t.status,n.weak_password.reasons);throw new tT(Rs(n),t.status||500,o)}const NT=(t,e,n,o)=>{const i={method:t,headers:e?.headers||{}};return t==="GET"?i:(i.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},e?.headers),i.body=JSON.stringify(o),Object.assign(Object.assign({},i),n))};async function Ee(t,e,n,o){var i;const a=Object.assign({},o?.headers);a[vf]||(a[vf]=H0["2024-01-01"].name),o?.jwt&&(a.Authorization=`Bearer ${o.jwt}`);const u=(i=o?.query)!==null&&i!==void 0?i:{};o?.redirectTo&&(u.redirect_to=o.redirectTo);const d=Object.keys(u).length?"?"+new URLSearchParams(u).toString():"",h=await CT(t,e,n+d,{headers:a,noResolveJson:o?.noResolveJson},{},o?.body);return o?.xform?o?.xform(h):{data:Object.assign({},h),error:null}}async function CT(t,e,n,o,i,a){const u=NT(e,o,i,a);let d;try{d=await t(n,Object.assign({},u))}catch(h){throw console.error(h),new yf(Rs(h),0)}if(d.ok||await fv(d),o?.noResolveJson)return d;try{return await d.json()}catch(h){await fv(h)}}function Pr(t){var e;let n=null;PT(t)&&(n=Object.assign({},t),t.expires_at||(n.expires_at=uT(t.expires_in)));const o=(e=t.user)!==null&&e!==void 0?e:t;return{data:{session:n,user:o},error:null}}function hv(t){const e=Pr(t);return!e.error&&t.weak_password&&typeof t.weak_password=="object"&&Array.isArray(t.weak_password.reasons)&&t.weak_password.reasons.length&&t.weak_password.message&&typeof t.weak_password.message=="string"&&t.weak_password.reasons.reduce((n,o)=>n&&typeof o=="string",!0)&&(e.data.weak_password=t.weak_password),e}function Qn(t){var e;return{data:{user:(e=t.user)!==null&&e!==void 0?e:t},error:null}}function RT(t){return{data:t,error:null}}function TT(t){const{action_link:e,email_otp:n,hashed_token:o,redirect_to:i,verification_type:a}=t,u=os(t,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),d={action_link:e,email_otp:n,hashed_token:o,redirect_to:i,verification_type:a},h=Object.assign({},u);return{data:{properties:d,user:h},error:null}}function pv(t){return t}function PT(t){return t.access_token&&t.refresh_token&&t.expires_in}const Ud=["global","local","others"];class AT{constructor({url:e="",headers:n={},fetch:o}){this.url=e,this.headers=n,this.fetch=G0(o),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)},this.oauth={listClients:this._listOAuthClients.bind(this),createClient:this._createOAuthClient.bind(this),getClient:this._getOAuthClient.bind(this),updateClient:this._updateOAuthClient.bind(this),deleteClient:this._deleteOAuthClient.bind(this),regenerateClientSecret:this._regenerateOAuthClientSecret.bind(this)}}async signOut(e,n=Ud[0]){if(Ud.indexOf(n)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${Ud.join(", ")}`);try{return await Ee(this.fetch,"POST",`${this.url}/logout?scope=${n}`,{headers:this.headers,jwt:e,noResolveJson:!0}),{data:null,error:null}}catch(o){if(xe(o))return{data:null,error:o};throw o}}async inviteUserByEmail(e,n={}){try{return await Ee(this.fetch,"POST",`${this.url}/invite`,{body:{email:e,data:n.data},headers:this.headers,redirectTo:n.redirectTo,xform:Qn})}catch(o){if(xe(o))return{data:{user:null},error:o};throw o}}async generateLink(e){try{const{options:n}=e,o=os(e,["options"]),i=Object.assign(Object.assign({},o),n);return"newEmail"in o&&(i.new_email=o?.newEmail,delete i.newEmail),await Ee(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:i,headers:this.headers,xform:TT,redirectTo:n?.redirectTo})}catch(n){if(xe(n))return{data:{properties:null,user:null},error:n};throw n}}async createUser(e){try{return await Ee(this.fetch,"POST",`${this.url}/admin/users`,{body:e,headers:this.headers,xform:Qn})}catch(n){if(xe(n))return{data:{user:null},error:n};throw n}}async listUsers(e){var n,o,i,a,u,d,h;try{const p={nextPage:null,lastPage:0,total:0},g=await Ee(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(o=(n=e?.page)===null||n===void 0?void 0:n.toString())!==null&&o!==void 0?o:"",per_page:(a=(i=e?.perPage)===null||i===void 0?void 0:i.toString())!==null&&a!==void 0?a:""},xform:pv});if(g.error)throw g.error;const m=await g.json(),x=(u=g.headers.get("x-total-count"))!==null&&u!==void 0?u:0,b=(h=(d=g.headers.get("link"))===null||d===void 0?void 0:d.split(","))!==null&&h!==void 0?h:[];return b.length>0&&(b.forEach(j=>{const _=parseInt(j.split(";")[0].split("=")[1].substring(0,1)),S=JSON.parse(j.split(";")[1].split("=")[1]);p[`${S}Page`]=_}),p.total=parseInt(x)),{data:Object.assign(Object.assign({},m),p),error:null}}catch(p){if(xe(p))return{data:{users:[]},error:p};throw p}}async getUserById(e){xo(e);try{return await Ee(this.fetch,"GET",`${this.url}/admin/users/${e}`,{headers:this.headers,xform:Qn})}catch(n){if(xe(n))return{data:{user:null},error:n};throw n}}async updateUserById(e,n){xo(e);try{return await Ee(this.fetch,"PUT",`${this.url}/admin/users/${e}`,{body:n,headers:this.headers,xform:Qn})}catch(o){if(xe(o))return{data:{user:null},error:o};throw o}}async deleteUser(e,n=!1){xo(e);try{return await Ee(this.fetch,"DELETE",`${this.url}/admin/users/${e}`,{headers:this.headers,body:{should_soft_delete:n},xform:Qn})}catch(o){if(xe(o))return{data:{user:null},error:o};throw o}}async _listFactors(e){xo(e.userId);try{const{data:n,error:o}=await Ee(this.fetch,"GET",`${this.url}/admin/users/${e.userId}/factors`,{headers:this.headers,xform:i=>({data:{factors:i},error:null})});return{data:n,error:o}}catch(n){if(xe(n))return{data:null,error:n};throw n}}async _deleteFactor(e){xo(e.userId),xo(e.id);try{return{data:await Ee(this.fetch,"DELETE",`${this.url}/admin/users/${e.userId}/factors/${e.id}`,{headers:this.headers}),error:null}}catch(n){if(xe(n))return{data:null,error:n};throw n}}async _listOAuthClients(e){var n,o,i,a,u,d,h;try{const p={nextPage:null,lastPage:0,total:0},g=await Ee(this.fetch,"GET",`${this.url}/admin/oauth/clients`,{headers:this.headers,noResolveJson:!0,query:{page:(o=(n=e?.page)===null||n===void 0?void 0:n.toString())!==null&&o!==void 0?o:"",per_page:(a=(i=e?.perPage)===null||i===void 0?void 0:i.toString())!==null&&a!==void 0?a:""},xform:pv});if(g.error)throw g.error;const m=await g.json(),x=(u=g.headers.get("x-total-count"))!==null&&u!==void 0?u:0,b=(h=(d=g.headers.get("link"))===null||d===void 0?void 0:d.split(","))!==null&&h!==void 0?h:[];return b.length>0&&(b.forEach(j=>{const _=parseInt(j.split(";")[0].split("=")[1].substring(0,1)),S=JSON.parse(j.split(";")[1].split("=")[1]);p[`${S}Page`]=_}),p.total=parseInt(x)),{data:Object.assign(Object.assign({},m),p),error:null}}catch(p){if(xe(p))return{data:{clients:[]},error:p};throw p}}async _createOAuthClient(e){try{return await Ee(this.fetch,"POST",`${this.url}/admin/oauth/clients`,{body:e,headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(xe(n))return{data:null,error:n};throw n}}async _getOAuthClient(e){try{return await Ee(this.fetch,"GET",`${this.url}/admin/oauth/clients/${e}`,{headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(xe(n))return{data:null,error:n};throw n}}async _updateOAuthClient(e,n){try{return await Ee(this.fetch,"PUT",`${this.url}/admin/oauth/clients/${e}`,{body:n,headers:this.headers,xform:o=>({data:o,error:null})})}catch(o){if(xe(o))return{data:null,error:o};throw o}}async _deleteOAuthClient(e){try{return await Ee(this.fetch,"DELETE",`${this.url}/admin/oauth/clients/${e}`,{headers:this.headers,noResolveJson:!0}),{data:null,error:null}}catch(n){if(xe(n))return{data:null,error:n};throw n}}async _regenerateOAuthClientSecret(e){try{return await Ee(this.fetch,"POST",`${this.url}/admin/oauth/clients/${e}/regenerate_secret`,{headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(xe(n))return{data:null,error:n};throw n}}}function mv(t={}){return{getItem:e=>t[e]||null,setItem:(e,n)=>{t[e]=n},removeItem:e=>{delete t[e]}}}const bo={debug:!!(globalThis&&K0()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class Y0 extends Error{constructor(e){super(e),this.isAcquireTimeout=!0}}class OT extends Y0{}async function IT(t,e,n){bo.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",t,e);const o=new globalThis.AbortController;return e>0&&setTimeout(()=>{o.abort(),bo.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",t)},e),await Promise.resolve().then(()=>globalThis.navigator.locks.request(t,e===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:o.signal},async i=>{if(i){bo.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",t,i.name);try{return await n()}finally{bo.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",t,i.name)}}else{if(e===0)throw bo.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",t),new OT(`Acquiring an exclusive Navigator LockManager lock "${t}" immediately failed`);if(bo.debug)try{const a=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(a,null,"  "))}catch(a){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",a)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await n()}}))}function DT(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}function J0(t){if(!/^0x[a-fA-F0-9]{40}$/.test(t))throw new Error(`@supabase/auth-js: Address "${t}" is invalid.`);return t.toLowerCase()}function LT(t){return parseInt(t,16)}function $T(t){const e=new TextEncoder().encode(t);return"0x"+Array.from(e,o=>o.toString(16).padStart(2,"0")).join("")}function MT(t){var e;const{chainId:n,domain:o,expirationTime:i,issuedAt:a=new Date,nonce:u,notBefore:d,requestId:h,resources:p,scheme:g,uri:m,version:x}=t;{if(!Number.isInteger(n))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${n}`);if(!o)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(u&&u.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${u}`);if(!m)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(x!=="1")throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${x}`);if(!((e=t.statement)===null||e===void 0)&&e.includes(`
`))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${t.statement}`)}const b=J0(t.address),j=g?`${g}://${o}`:o,_=t.statement?`${t.statement}
`:"",S=`${j} wants you to sign in with your Ethereum account:
${b}

${_}`;let E=`URI: ${m}
Version: ${x}
Chain ID: ${n}${u?`
Nonce: ${u}`:""}
Issued At: ${a.toISOString()}`;if(i&&(E+=`
Expiration Time: ${i.toISOString()}`),d&&(E+=`
Not Before: ${d.toISOString()}`),h&&(E+=`
Request ID: ${h}`),p){let N=`
Resources:`;for(const C of p){if(!C||typeof C!="string")throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${C}`);N+=`
- ${C}`}E+=N}return`${S}
${E}`}class ct extends Error{constructor({message:e,code:n,cause:o,name:i}){var a;super(e,{cause:o}),this.__isWebAuthnError=!0,this.name=(a=i??(o instanceof Error?o.name:void 0))!==null&&a!==void 0?a:"Unknown Error",this.code=n}}class Zl extends ct{constructor(e,n){super({code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:n,message:e}),this.name="WebAuthnUnknownError",this.originalError=n}}function FT({error:t,options:e}){var n,o,i;const{publicKey:a}=e;if(!a)throw Error("options was missing required publicKey property");if(t.name==="AbortError"){if(e.signal instanceof AbortSignal)return new ct({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:t})}else if(t.name==="ConstraintError"){if(((n=a.authenticatorSelection)===null||n===void 0?void 0:n.requireResidentKey)===!0)return new ct({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:t});if(e.mediation==="conditional"&&((o=a.authenticatorSelection)===null||o===void 0?void 0:o.userVerification)==="required")return new ct({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:t});if(((i=a.authenticatorSelection)===null||i===void 0?void 0:i.userVerification)==="required")return new ct({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:t})}else{if(t.name==="InvalidStateError")return new ct({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:t});if(t.name==="NotAllowedError")return new ct({message:t.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t});if(t.name==="NotSupportedError")return a.pubKeyCredParams.filter(d=>d.type==="public-key").length===0?new ct({message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:t}):new ct({message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:t});if(t.name==="SecurityError"){const u=window.location.hostname;if(Q0(u)){if(a.rp.id!==u)return new ct({message:`The RP ID "${a.rp.id}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:t})}else return new ct({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:t})}else if(t.name==="TypeError"){if(a.user.id.byteLength<1||a.user.id.byteLength>64)return new ct({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:t})}else if(t.name==="UnknownError")return new ct({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:t})}return new ct({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t})}function UT({error:t,options:e}){const{publicKey:n}=e;if(!n)throw Error("options was missing required publicKey property");if(t.name==="AbortError"){if(e.signal instanceof AbortSignal)return new ct({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:t})}else{if(t.name==="NotAllowedError")return new ct({message:t.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t});if(t.name==="SecurityError"){const o=window.location.hostname;if(Q0(o)){if(n.rpId!==o)return new ct({message:`The RP ID "${n.rpId}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:t})}else return new ct({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:t})}else if(t.name==="UnknownError")return new ct({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:t})}return new ct({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t})}class zT{createNewAbortSignal(){if(this.controller){const n=new Error("Cancelling existing WebAuthn API call for new one");n.name="AbortError",this.controller.abort(n)}const e=new AbortController;return this.controller=e,e.signal}cancelCeremony(){if(this.controller){const e=new Error("Manually cancelling existing WebAuthn API call");e.name="AbortError",this.controller.abort(e),this.controller=void 0}}}const BT=new zT;function VT(t){if(!t)throw new Error("Credential creation options are required");if(typeof PublicKeyCredential<"u"&&"parseCreationOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseCreationOptionsFromJSON=="function")return PublicKeyCredential.parseCreationOptionsFromJSON(t);const{challenge:e,user:n,excludeCredentials:o}=t,i=os(t,["challenge","user","excludeCredentials"]),a=Ro(e).buffer,u=Object.assign(Object.assign({},n),{id:Ro(n.id).buffer}),d=Object.assign(Object.assign({},i),{challenge:a,user:u});if(o&&o.length>0){d.excludeCredentials=new Array(o.length);for(let h=0;h<o.length;h++){const p=o[h];d.excludeCredentials[h]=Object.assign(Object.assign({},p),{id:Ro(p.id).buffer,type:p.type||"public-key",transports:p.transports})}}return d}function WT(t){if(!t)throw new Error("Credential request options are required");if(typeof PublicKeyCredential<"u"&&"parseRequestOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseRequestOptionsFromJSON=="function")return PublicKeyCredential.parseRequestOptionsFromJSON(t);const{challenge:e,allowCredentials:n}=t,o=os(t,["challenge","allowCredentials"]),i=Ro(e).buffer,a=Object.assign(Object.assign({},o),{challenge:i});if(n&&n.length>0){a.allowCredentials=new Array(n.length);for(let u=0;u<n.length;u++){const d=n[u];a.allowCredentials[u]=Object.assign(Object.assign({},d),{id:Ro(d.id).buffer,type:d.type||"public-key",transports:d.transports})}}return a}function HT(t){var e;if("toJSON"in t&&typeof t.toJSON=="function")return t.toJSON();const n=t;return{id:t.id,rawId:t.id,response:{attestationObject:Ds(new Uint8Array(t.response.attestationObject)),clientDataJSON:Ds(new Uint8Array(t.response.clientDataJSON))},type:"public-key",clientExtensionResults:t.getClientExtensionResults(),authenticatorAttachment:(e=n.authenticatorAttachment)!==null&&e!==void 0?e:void 0}}function qT(t){var e;if("toJSON"in t&&typeof t.toJSON=="function")return t.toJSON();const n=t,o=t.getClientExtensionResults(),i=t.response;return{id:t.id,rawId:t.id,response:{authenticatorData:Ds(new Uint8Array(i.authenticatorData)),clientDataJSON:Ds(new Uint8Array(i.clientDataJSON)),signature:Ds(new Uint8Array(i.signature)),userHandle:i.userHandle?Ds(new Uint8Array(i.userHandle)):void 0},type:"public-key",clientExtensionResults:o,authenticatorAttachment:(e=n.authenticatorAttachment)!==null&&e!==void 0?e:void 0}}function Q0(t){return t==="localhost"||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(t)}function gv(){var t,e;return!!(kt()&&"PublicKeyCredential"in window&&window.PublicKeyCredential&&"credentials"in navigator&&typeof((t=navigator?.credentials)===null||t===void 0?void 0:t.create)=="function"&&typeof((e=navigator?.credentials)===null||e===void 0?void 0:e.get)=="function")}async function KT(t){try{const e=await navigator.credentials.create(t);return e?e instanceof PublicKeyCredential?{data:e,error:null}:{data:null,error:new Zl("Browser returned unexpected credential type",e)}:{data:null,error:new Zl("Empty credential response",e)}}catch(e){return{data:null,error:FT({error:e,options:t})}}}async function GT(t){try{const e=await navigator.credentials.get(t);return e?e instanceof PublicKeyCredential?{data:e,error:null}:{data:null,error:new Zl("Browser returned unexpected credential type",e)}:{data:null,error:new Zl("Empty credential response",e)}}catch(e){return{data:null,error:UT({error:e,options:t})}}}const YT={hints:["security-key"],authenticatorSelection:{authenticatorAttachment:"cross-platform",requireResidentKey:!1,userVerification:"preferred",residentKey:"discouraged"},attestation:"direct"},JT={userVerification:"preferred",hints:["security-key"],attestation:"direct"};function ec(...t){const e=i=>i!==null&&typeof i=="object"&&!Array.isArray(i),n=i=>i instanceof ArrayBuffer||ArrayBuffer.isView(i),o={};for(const i of t)if(i)for(const a in i){const u=i[a];if(u!==void 0)if(Array.isArray(u))o[a]=u;else if(n(u))o[a]=u;else if(e(u)){const d=o[a];e(d)?o[a]=ec(d,u):o[a]=ec(u)}else o[a]=u}return o}function QT(t,e){return ec(YT,t,e||{})}function XT(t,e){return ec(JT,t,e||{})}class ZT{constructor(e){this.client=e,this.enroll=this._enroll.bind(this),this.challenge=this._challenge.bind(this),this.verify=this._verify.bind(this),this.authenticate=this._authenticate.bind(this),this.register=this._register.bind(this)}async _enroll(e){return this.client.mfa.enroll(Object.assign(Object.assign({},e),{factorType:"webauthn"}))}async _challenge({factorId:e,webauthn:n,friendlyName:o,signal:i},a){try{const{data:u,error:d}=await this.client.mfa.challenge({factorId:e,webauthn:n});if(!u)return{data:null,error:d};const h=i??BT.createNewAbortSignal();if(u.webauthn.type==="create"){const{user:p}=u.webauthn.credential_options.publicKey;p.name||(p.name=`${p.id}:${o}`),p.displayName||(p.displayName=p.name)}switch(u.webauthn.type){case"create":{const p=QT(u.webauthn.credential_options.publicKey,a?.create),{data:g,error:m}=await KT({publicKey:p,signal:h});return g?{data:{factorId:e,challengeId:u.id,webauthn:{type:u.webauthn.type,credential_response:g}},error:null}:{data:null,error:m}}case"request":{const p=XT(u.webauthn.credential_options.publicKey,a?.request),{data:g,error:m}=await GT(Object.assign(Object.assign({},u.webauthn.credential_options),{publicKey:p,signal:h}));return g?{data:{factorId:e,challengeId:u.id,webauthn:{type:u.webauthn.type,credential_response:g}},error:null}:{data:null,error:m}}}}catch(u){return xe(u)?{data:null,error:u}:{data:null,error:new Os("Unexpected error in challenge",u)}}}async _verify({challengeId:e,factorId:n,webauthn:o}){return this.client.mfa.verify({factorId:n,challengeId:e,webauthn:o})}async _authenticate({factorId:e,webauthn:{rpId:n=typeof window<"u"?window.location.hostname:void 0,rpOrigins:o=typeof window<"u"?[window.location.origin]:void 0,signal:i}={}},a){if(!n)return{data:null,error:new Zi("rpId is required for WebAuthn authentication")};try{if(!gv())return{data:null,error:new Os("Browser does not support WebAuthn",null)};const{data:u,error:d}=await this.challenge({factorId:e,webauthn:{rpId:n,rpOrigins:o},signal:i},{request:a});if(!u)return{data:null,error:d};const{webauthn:h}=u;return this._verify({factorId:e,challengeId:u.challengeId,webauthn:{type:h.type,rpId:n,rpOrigins:o,credential_response:h.credential_response}})}catch(u){return xe(u)?{data:null,error:u}:{data:null,error:new Os("Unexpected error in authenticate",u)}}}async _register({friendlyName:e,webauthn:{rpId:n=typeof window<"u"?window.location.hostname:void 0,rpOrigins:o=typeof window<"u"?[window.location.origin]:void 0,signal:i}={}},a){if(!n)return{data:null,error:new Zi("rpId is required for WebAuthn registration")};try{if(!gv())return{data:null,error:new Os("Browser does not support WebAuthn",null)};const{data:u,error:d}=await this._enroll({friendlyName:e});if(!u)return await this.client.mfa.listFactors().then(g=>{var m;return(m=g.data)===null||m===void 0?void 0:m.all.find(x=>x.factor_type==="webauthn"&&x.friendly_name===e&&x.status!=="unverified")}).then(g=>g?this.client.mfa.unenroll({factorId:g?.id}):void 0),{data:null,error:d};const{data:h,error:p}=await this._challenge({factorId:u.id,friendlyName:u.friendly_name,webauthn:{rpId:n,rpOrigins:o},signal:i},{create:a});return h?this._verify({factorId:u.id,challengeId:h.challengeId,webauthn:{rpId:n,rpOrigins:o,type:h.webauthn.type,credential_response:h.webauthn.credential_response}}):{data:null,error:p}}catch(u){return xe(u)?{data:null,error:u}:{data:null,error:new Os("Unexpected error in register",u)}}}}DT();const eP={url:J2,storageKey:Q2,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:X2,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1,throwOnError:!1};async function vv(t,e,n){return await n()}const _o={};class ea{get jwks(){var e,n;return(n=(e=_o[this.storageKey])===null||e===void 0?void 0:e.jwks)!==null&&n!==void 0?n:{keys:[]}}set jwks(e){_o[this.storageKey]=Object.assign(Object.assign({},_o[this.storageKey]),{jwks:e})}get jwks_cached_at(){var e,n;return(n=(e=_o[this.storageKey])===null||e===void 0?void 0:e.cachedAt)!==null&&n!==void 0?n:Number.MIN_SAFE_INTEGER}set jwks_cached_at(e){_o[this.storageKey]=Object.assign(Object.assign({},_o[this.storageKey]),{cachedAt:e})}constructor(e){var n,o,i;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log;const a=Object.assign(Object.assign({},eP),e);if(this.storageKey=a.storageKey,this.instanceID=(n=ea.nextInstanceID[this.storageKey])!==null&&n!==void 0?n:0,ea.nextInstanceID[this.storageKey]=this.instanceID+1,this.logDebugMessages=!!a.debug,typeof a.debug=="function"&&(this.logger=a.debug),this.instanceID>0&&kt()){const u=`${this._logPrefix()} Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.`;console.warn(u),this.logDebugMessages&&console.trace(u)}if(this.persistSession=a.persistSession,this.autoRefreshToken=a.autoRefreshToken,this.admin=new AT({url:a.url,headers:a.headers,fetch:a.fetch}),this.url=a.url,this.headers=a.headers,this.fetch=G0(a.fetch),this.lock=a.lock||vv,this.detectSessionInUrl=a.detectSessionInUrl,this.flowType=a.flowType,this.hasCustomAuthorizationHeader=a.hasCustomAuthorizationHeader,this.throwOnError=a.throwOnError,a.lock?this.lock=a.lock:kt()&&(!((o=globalThis?.navigator)===null||o===void 0)&&o.locks)?this.lock=IT:this.lock=vv,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this),webauthn:new ZT(this)},this.oauth={getAuthorizationDetails:this._getAuthorizationDetails.bind(this),approveAuthorization:this._approveAuthorization.bind(this),denyAuthorization:this._denyAuthorization.bind(this),listGrants:this._listOAuthGrants.bind(this),revokeGrant:this._revokeOAuthGrant.bind(this)},this.persistSession?(a.storage?this.storage=a.storage:K0()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=mv(this.memoryStorage)),a.userStorage&&(this.userStorage=a.userStorage)):(this.memoryStorage={},this.storage=mv(this.memoryStorage)),kt()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(u){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",u)}(i=this.broadcastChannel)===null||i===void 0||i.addEventListener("message",async u=>{this._debug("received broadcast notification from other tab or client",u),await this._notifyAllSubscribers(u.data.event,u.data.session,!1)})}this.initialize()}isThrowOnErrorEnabled(){return this.throwOnError}_returnResult(e){if(this.throwOnError&&e&&e.error)throw e.error;return e}_logPrefix(){return`GoTrueClient@${this.storageKey}:${this.instanceID} (${W0}) ${new Date().toISOString()}`}_debug(...e){return this.logDebugMessages&&this.logger(this._logPrefix(),...e),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var e;try{let n={},o="none";if(kt()&&(n=fT(window.location.href),this._isImplicitGrantCallback(n)?o="implicit":await this._isPKCECallback(n)&&(o="pkce")),kt()&&this.detectSessionInUrl&&o!=="none"){const{data:i,error:a}=await this._getSessionFromURL(n,o);if(a){if(this._debug("#_initialize()","error detecting session from URL",a),sT(a)){const h=(e=a.details)===null||e===void 0?void 0:e.code;if(h==="identity_already_exists"||h==="identity_not_found"||h==="single_identity_not_deletable")return{error:a}}return await this._removeSession(),{error:a}}const{session:u,redirectType:d}=i;return this._debug("#_initialize()","detected session in URL",u,"redirect type",d),await this._saveSession(u),setTimeout(async()=>{d==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",u):await this._notifyAllSubscribers("SIGNED_IN",u)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(n){return xe(n)?this._returnResult({error:n}):this._returnResult({error:new Os("Unexpected error during initialization",n)})}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(e){var n,o,i;try{const a=await Ee(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(o=(n=e?.options)===null||n===void 0?void 0:n.data)!==null&&o!==void 0?o:{},gotrue_meta_security:{captcha_token:(i=e?.options)===null||i===void 0?void 0:i.captchaToken}},xform:Pr}),{data:u,error:d}=a;if(d||!u)return this._returnResult({data:{user:null,session:null},error:d});const h=u.session,p=u.user;return u.session&&(await this._saveSession(u.session),await this._notifyAllSubscribers("SIGNED_IN",h)),this._returnResult({data:{user:p,session:h},error:null})}catch(a){if(xe(a))return this._returnResult({data:{user:null,session:null},error:a});throw a}}async signUp(e){var n,o,i;try{let a;if("email"in e){const{email:g,password:m,options:x}=e;let b=null,j=null;this.flowType==="pkce"&&([b,j]=await wo(this.storage,this.storageKey)),a=await Ee(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:x?.emailRedirectTo,body:{email:g,password:m,data:(n=x?.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:x?.captchaToken},code_challenge:b,code_challenge_method:j},xform:Pr})}else if("phone"in e){const{phone:g,password:m,options:x}=e;a=await Ee(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:g,password:m,data:(o=x?.data)!==null&&o!==void 0?o:{},channel:(i=x?.channel)!==null&&i!==void 0?i:"sms",gotrue_meta_security:{captcha_token:x?.captchaToken}},xform:Pr})}else throw new Il("You must provide either an email or phone number and a password");const{data:u,error:d}=a;if(d||!u)return this._returnResult({data:{user:null,session:null},error:d});const h=u.session,p=u.user;return u.session&&(await this._saveSession(u.session),await this._notifyAllSubscribers("SIGNED_IN",h)),this._returnResult({data:{user:p,session:h},error:null})}catch(a){if(xe(a))return this._returnResult({data:{user:null,session:null},error:a});throw a}}async signInWithPassword(e){try{let n;if("email"in e){const{email:a,password:u,options:d}=e;n=await Ee(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:a,password:u,gotrue_meta_security:{captcha_token:d?.captchaToken}},xform:hv})}else if("phone"in e){const{phone:a,password:u,options:d}=e;n=await Ee(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:a,password:u,gotrue_meta_security:{captcha_token:d?.captchaToken}},xform:hv})}else throw new Il("You must provide either an email or phone number and a password");const{data:o,error:i}=n;if(i)return this._returnResult({data:{user:null,session:null},error:i});if(!o||!o.session||!o.user){const a=new yo;return this._returnResult({data:{user:null,session:null},error:a})}return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",o.session)),this._returnResult({data:Object.assign({user:o.user,session:o.session},o.weak_password?{weakPassword:o.weak_password}:null),error:i})}catch(n){if(xe(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}}async signInWithOAuth(e){var n,o,i,a;return await this._handleProviderSignIn(e.provider,{redirectTo:(n=e.options)===null||n===void 0?void 0:n.redirectTo,scopes:(o=e.options)===null||o===void 0?void 0:o.scopes,queryParams:(i=e.options)===null||i===void 0?void 0:i.queryParams,skipBrowserRedirect:(a=e.options)===null||a===void 0?void 0:a.skipBrowserRedirect})}async exchangeCodeForSession(e){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(e))}async signInWithWeb3(e){const{chain:n}=e;switch(n){case"ethereum":return await this.signInWithEthereum(e);case"solana":return await this.signInWithSolana(e);default:throw new Error(`@supabase/auth-js: Unsupported chain "${n}"`)}}async signInWithEthereum(e){var n,o,i,a,u,d,h,p,g,m,x;let b,j;if("message"in e)b=e.message,j=e.signature;else{const{chain:_,wallet:S,statement:E,options:N}=e;let C;if(kt())if(typeof S=="object")C=S;else{const q=window;if("ethereum"in q&&typeof q.ethereum=="object"&&"request"in q.ethereum&&typeof q.ethereum.request=="function")C=q.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof S!="object"||!N?.url)throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");C=S}const P=new URL((n=N?.url)!==null&&n!==void 0?n:window.location.href),F=await C.request({method:"eth_requestAccounts"}).then(q=>q).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!F||F.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");const V=J0(F[0]);let I=(o=N?.signInWithEthereum)===null||o===void 0?void 0:o.chainId;if(!I){const q=await C.request({method:"eth_chainId"});I=LT(q)}const z={domain:P.host,address:V,statement:E,uri:P.href,version:"1",chainId:I,nonce:(i=N?.signInWithEthereum)===null||i===void 0?void 0:i.nonce,issuedAt:(u=(a=N?.signInWithEthereum)===null||a===void 0?void 0:a.issuedAt)!==null&&u!==void 0?u:new Date,expirationTime:(d=N?.signInWithEthereum)===null||d===void 0?void 0:d.expirationTime,notBefore:(h=N?.signInWithEthereum)===null||h===void 0?void 0:h.notBefore,requestId:(p=N?.signInWithEthereum)===null||p===void 0?void 0:p.requestId,resources:(g=N?.signInWithEthereum)===null||g===void 0?void 0:g.resources};b=MT(z),j=await C.request({method:"personal_sign",params:[$T(b),V]})}try{const{data:_,error:S}=await Ee(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:b,signature:j},!((m=e.options)===null||m===void 0)&&m.captchaToken?{gotrue_meta_security:{captcha_token:(x=e.options)===null||x===void 0?void 0:x.captchaToken}}:null),xform:Pr});if(S)throw S;if(!_||!_.session||!_.user){const E=new yo;return this._returnResult({data:{user:null,session:null},error:E})}return _.session&&(await this._saveSession(_.session),await this._notifyAllSubscribers("SIGNED_IN",_.session)),this._returnResult({data:Object.assign({},_),error:S})}catch(_){if(xe(_))return this._returnResult({data:{user:null,session:null},error:_});throw _}}async signInWithSolana(e){var n,o,i,a,u,d,h,p,g,m,x,b;let j,_;if("message"in e)j=e.message,_=e.signature;else{const{chain:S,wallet:E,statement:N,options:C}=e;let P;if(kt())if(typeof E=="object")P=E;else{const V=window;if("solana"in V&&typeof V.solana=="object"&&("signIn"in V.solana&&typeof V.solana.signIn=="function"||"signMessage"in V.solana&&typeof V.solana.signMessage=="function"))P=V.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof E!="object"||!C?.url)throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");P=E}const F=new URL((n=C?.url)!==null&&n!==void 0?n:window.location.href);if("signIn"in P&&P.signIn){const V=await P.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},C?.signInWithSolana),{version:"1",domain:F.host,uri:F.href}),N?{statement:N}:null));let I;if(Array.isArray(V)&&V[0]&&typeof V[0]=="object")I=V[0];else if(V&&typeof V=="object"&&"signedMessage"in V&&"signature"in V)I=V;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in I&&"signature"in I&&(typeof I.signedMessage=="string"||I.signedMessage instanceof Uint8Array)&&I.signature instanceof Uint8Array)j=typeof I.signedMessage=="string"?I.signedMessage:new TextDecoder().decode(I.signedMessage),_=I.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in P)||typeof P.signMessage!="function"||!("publicKey"in P)||typeof P!="object"||!P.publicKey||!("toBase58"in P.publicKey)||typeof P.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");j=[`${F.host} wants you to sign in with your Solana account:`,P.publicKey.toBase58(),...N?["",N,""]:[""],"Version: 1",`URI: ${F.href}`,`Issued At: ${(i=(o=C?.signInWithSolana)===null||o===void 0?void 0:o.issuedAt)!==null&&i!==void 0?i:new Date().toISOString()}`,...!((a=C?.signInWithSolana)===null||a===void 0)&&a.notBefore?[`Not Before: ${C.signInWithSolana.notBefore}`]:[],...!((u=C?.signInWithSolana)===null||u===void 0)&&u.expirationTime?[`Expiration Time: ${C.signInWithSolana.expirationTime}`]:[],...!((d=C?.signInWithSolana)===null||d===void 0)&&d.chainId?[`Chain ID: ${C.signInWithSolana.chainId}`]:[],...!((h=C?.signInWithSolana)===null||h===void 0)&&h.nonce?[`Nonce: ${C.signInWithSolana.nonce}`]:[],...!((p=C?.signInWithSolana)===null||p===void 0)&&p.requestId?[`Request ID: ${C.signInWithSolana.requestId}`]:[],...!((m=(g=C?.signInWithSolana)===null||g===void 0?void 0:g.resources)===null||m===void 0)&&m.length?["Resources",...C.signInWithSolana.resources.map(I=>`- ${I}`)]:[]].join(`
`);const V=await P.signMessage(new TextEncoder().encode(j),"utf8");if(!V||!(V instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");_=V}}try{const{data:S,error:E}=await Ee(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:j,signature:Ds(_)},!((x=e.options)===null||x===void 0)&&x.captchaToken?{gotrue_meta_security:{captcha_token:(b=e.options)===null||b===void 0?void 0:b.captchaToken}}:null),xform:Pr});if(E)throw E;if(!S||!S.session||!S.user){const N=new yo;return this._returnResult({data:{user:null,session:null},error:N})}return S.session&&(await this._saveSession(S.session),await this._notifyAllSubscribers("SIGNED_IN",S.session)),this._returnResult({data:Object.assign({},S),error:E})}catch(S){if(xe(S))return this._returnResult({data:{user:null,session:null},error:S});throw S}}async _exchangeCodeForSession(e){const n=await Cs(this.storage,`${this.storageKey}-code-verifier`),[o,i]=(n??"").split("/");try{const{data:a,error:u}=await Ee(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:e,code_verifier:o},xform:Pr});if(await Gn(this.storage,`${this.storageKey}-code-verifier`),u)throw u;if(!a||!a.session||!a.user){const d=new yo;return this._returnResult({data:{user:null,session:null,redirectType:null},error:d})}return a.session&&(await this._saveSession(a.session),await this._notifyAllSubscribers("SIGNED_IN",a.session)),this._returnResult({data:Object.assign(Object.assign({},a),{redirectType:i??null}),error:u})}catch(a){if(xe(a))return this._returnResult({data:{user:null,session:null,redirectType:null},error:a});throw a}}async signInWithIdToken(e){try{const{options:n,provider:o,token:i,access_token:a,nonce:u}=e,d=await Ee(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:o,id_token:i,access_token:a,nonce:u,gotrue_meta_security:{captcha_token:n?.captchaToken}},xform:Pr}),{data:h,error:p}=d;if(p)return this._returnResult({data:{user:null,session:null},error:p});if(!h||!h.session||!h.user){const g=new yo;return this._returnResult({data:{user:null,session:null},error:g})}return h.session&&(await this._saveSession(h.session),await this._notifyAllSubscribers("SIGNED_IN",h.session)),this._returnResult({data:h,error:p})}catch(n){if(xe(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}}async signInWithOtp(e){var n,o,i,a,u;try{if("email"in e){const{email:d,options:h}=e;let p=null,g=null;this.flowType==="pkce"&&([p,g]=await wo(this.storage,this.storageKey));const{error:m}=await Ee(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:d,data:(n=h?.data)!==null&&n!==void 0?n:{},create_user:(o=h?.shouldCreateUser)!==null&&o!==void 0?o:!0,gotrue_meta_security:{captcha_token:h?.captchaToken},code_challenge:p,code_challenge_method:g},redirectTo:h?.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:m})}if("phone"in e){const{phone:d,options:h}=e,{data:p,error:g}=await Ee(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:d,data:(i=h?.data)!==null&&i!==void 0?i:{},create_user:(a=h?.shouldCreateUser)!==null&&a!==void 0?a:!0,gotrue_meta_security:{captcha_token:h?.captchaToken},channel:(u=h?.channel)!==null&&u!==void 0?u:"sms"}});return this._returnResult({data:{user:null,session:null,messageId:p?.message_id},error:g})}throw new Il("You must provide either an email or phone number.")}catch(d){if(xe(d))return this._returnResult({data:{user:null,session:null},error:d});throw d}}async verifyOtp(e){var n,o;try{let i,a;"options"in e&&(i=(n=e.options)===null||n===void 0?void 0:n.redirectTo,a=(o=e.options)===null||o===void 0?void 0:o.captchaToken);const{data:u,error:d}=await Ee(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},e),{gotrue_meta_security:{captcha_token:a}}),redirectTo:i,xform:Pr});if(d)throw d;if(!u)throw new Error("An error occurred on token verification.");const h=u.session,p=u.user;return h?.access_token&&(await this._saveSession(h),await this._notifyAllSubscribers(e.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",h)),this._returnResult({data:{user:p,session:h},error:null})}catch(i){if(xe(i))return this._returnResult({data:{user:null,session:null},error:i});throw i}}async signInWithSSO(e){var n,o,i,a,u;try{let d=null,h=null;this.flowType==="pkce"&&([d,h]=await wo(this.storage,this.storageKey));const p=await Ee(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in e?{provider_id:e.providerId}:null),"domain"in e?{domain:e.domain}:null),{redirect_to:(o=(n=e.options)===null||n===void 0?void 0:n.redirectTo)!==null&&o!==void 0?o:void 0}),!((i=e?.options)===null||i===void 0)&&i.captchaToken?{gotrue_meta_security:{captcha_token:e.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:d,code_challenge_method:h}),headers:this.headers,xform:RT});return!((a=p.data)===null||a===void 0)&&a.url&&kt()&&!(!((u=e.options)===null||u===void 0)&&u.skipBrowserRedirect)&&window.location.assign(p.data.url),this._returnResult(p)}catch(d){if(xe(d))return this._returnResult({data:null,error:d});throw d}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async e=>{const{data:{session:n},error:o}=e;if(o)throw o;if(!n)throw new sr;const{error:i}=await Ee(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:n.access_token});return this._returnResult({data:{user:null,session:null},error:i})})}catch(e){if(xe(e))return this._returnResult({data:{user:null,session:null},error:e});throw e}}async resend(e){try{const n=`${this.url}/resend`;if("email"in e){const{email:o,type:i,options:a}=e,{error:u}=await Ee(this.fetch,"POST",n,{headers:this.headers,body:{email:o,type:i,gotrue_meta_security:{captcha_token:a?.captchaToken}},redirectTo:a?.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:u})}else if("phone"in e){const{phone:o,type:i,options:a}=e,{data:u,error:d}=await Ee(this.fetch,"POST",n,{headers:this.headers,body:{phone:o,type:i,gotrue_meta_security:{captcha_token:a?.captchaToken}}});return this._returnResult({data:{user:null,session:null,messageId:u?.message_id},error:d})}throw new Il("You must provide either an email or phone number and a type")}catch(n){if(xe(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async n=>n))}async _acquireLock(e,n){this._debug("#_acquireLock","begin",e);try{if(this.lockAcquired){const o=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),i=(async()=>(await o,await n()))();return this.pendingInLock.push((async()=>{try{await i}catch{}})()),i}return await this.lock(`lock:${this.storageKey}`,e,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const o=n();for(this.pendingInLock.push((async()=>{try{await o}catch{}})()),await o;this.pendingInLock.length;){const i=[...this.pendingInLock];await Promise.all(i),this.pendingInLock.splice(0,i.length)}return await o}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(e){this._debug("#_useSession","begin");try{const n=await this.__loadSession();return await e(n)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let e=null;const n=await Cs(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",n),n!==null&&(this._isValidSession(n)?e=n:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!e)return{data:{session:null},error:null};const o=e.expires_at?e.expires_at*1e3-Date.now()<Ld:!1;if(this._debug("#__loadSession()",`session has${o?"":" not"} expired`,"expires_at",e.expires_at),!o){if(this.userStorage){const u=await Cs(this.userStorage,this.storageKey+"-user");u?.user?e.user=u.user:e.user=Fd()}if(this.storage.isServer&&e.user&&!e.user.__isUserNotAvailableProxy){const u={value:this.suppressGetSessionWarning};e.user=kT(e.user,u),u.value&&(this.suppressGetSessionWarning=!0)}return{data:{session:e},error:null}}const{data:i,error:a}=await this._callRefreshToken(e.refresh_token);return a?this._returnResult({data:{session:null},error:a}):this._returnResult({data:{session:i},error:null})}finally{this._debug("#__loadSession()","end")}}async getUser(e){return e?await this._getUser(e):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(e){try{return e?await Ee(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:e,xform:Qn}):await this._useSession(async n=>{var o,i,a;const{data:u,error:d}=n;if(d)throw d;return!(!((o=u.session)===null||o===void 0)&&o.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new sr}:await Ee(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(a=(i=u.session)===null||i===void 0?void 0:i.access_token)!==null&&a!==void 0?a:void 0,xform:Qn})})}catch(n){if(xe(n))return nT(n)&&(await this._removeSession(),await Gn(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({data:{user:null},error:n});throw n}}async updateUser(e,n={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(e,n))}async _updateUser(e,n={}){try{return await this._useSession(async o=>{const{data:i,error:a}=o;if(a)throw a;if(!i.session)throw new sr;const u=i.session;let d=null,h=null;this.flowType==="pkce"&&e.email!=null&&([d,h]=await wo(this.storage,this.storageKey));const{data:p,error:g}=await Ee(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:n?.emailRedirectTo,body:Object.assign(Object.assign({},e),{code_challenge:d,code_challenge_method:h}),jwt:u.access_token,xform:Qn});if(g)throw g;return u.user=p.user,await this._saveSession(u),await this._notifyAllSubscribers("USER_UPDATED",u),this._returnResult({data:{user:u.user},error:null})})}catch(o){if(xe(o))return this._returnResult({data:{user:null},error:o});throw o}}async setSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(e))}async _setSession(e){try{if(!e.access_token||!e.refresh_token)throw new sr;const n=Date.now()/1e3;let o=n,i=!0,a=null;const{payload:u}=Md(e.access_token);if(u.exp&&(o=u.exp,i=o<=n),i){const{data:d,error:h}=await this._callRefreshToken(e.refresh_token);if(h)return this._returnResult({data:{user:null,session:null},error:h});if(!d)return{data:{user:null,session:null},error:null};a=d}else{const{data:d,error:h}=await this._getUser(e.access_token);if(h)throw h;a={access_token:e.access_token,refresh_token:e.refresh_token,user:d.user,token_type:"bearer",expires_in:o-n,expires_at:o},await this._saveSession(a),await this._notifyAllSubscribers("SIGNED_IN",a)}return this._returnResult({data:{user:a.user,session:a},error:null})}catch(n){if(xe(n))return this._returnResult({data:{session:null,user:null},error:n});throw n}}async refreshSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(e))}async _refreshSession(e){try{return await this._useSession(async n=>{var o;if(!e){const{data:u,error:d}=n;if(d)throw d;e=(o=u.session)!==null&&o!==void 0?o:void 0}if(!e?.refresh_token)throw new sr;const{data:i,error:a}=await this._callRefreshToken(e.refresh_token);return a?this._returnResult({data:{user:null,session:null},error:a}):i?this._returnResult({data:{user:i.user,session:i},error:null}):this._returnResult({data:{user:null,session:null},error:null})})}catch(n){if(xe(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}}async _getSessionFromURL(e,n){try{if(!kt())throw new Dl("No browser detected.");if(e.error||e.error_description||e.error_code)throw new Dl(e.error_description||"Error in URL with unspecified error_description",{error:e.error||"unspecified_error",code:e.error_code||"unspecified_code"});switch(n){case"implicit":if(this.flowType==="pkce")throw new iv("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new Dl("Not a valid implicit grant flow url.");break;default:}if(n==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!e.code)throw new iv("No code detected.");const{data:N,error:C}=await this._exchangeCodeForSession(e.code);if(C)throw C;const P=new URL(window.location.href);return P.searchParams.delete("code"),window.history.replaceState(window.history.state,"",P.toString()),{data:{session:N.session,redirectType:null},error:null}}const{provider_token:o,provider_refresh_token:i,access_token:a,refresh_token:u,expires_in:d,expires_at:h,token_type:p}=e;if(!a||!d||!u||!p)throw new Dl("No session defined in URL");const g=Math.round(Date.now()/1e3),m=parseInt(d);let x=g+m;h&&(x=parseInt(h));const b=x-g;b*1e3<=So&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${b}s, should have been closer to ${m}s`);const j=x-m;g-j>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",j,x,g):g-j<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",j,x,g);const{data:_,error:S}=await this._getUser(a);if(S)throw S;const E={provider_token:o,provider_refresh_token:i,access_token:a,expires_in:m,expires_at:x,refresh_token:u,token_type:p,user:_.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),this._returnResult({data:{session:E,redirectType:e.type},error:null})}catch(o){if(xe(o))return this._returnResult({data:{session:null,redirectType:null},error:o});throw o}}_isImplicitGrantCallback(e){return!!(e.access_token||e.error_description)}async _isPKCECallback(e){const n=await Cs(this.storage,`${this.storageKey}-code-verifier`);return!!(e.code&&n)}async signOut(e={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(e))}async _signOut({scope:e}={scope:"global"}){return await this._useSession(async n=>{var o;const{data:i,error:a}=n;if(a)return this._returnResult({error:a});const u=(o=i.session)===null||o===void 0?void 0:o.access_token;if(u){const{error:d}=await this.admin.signOut(u,e);if(d&&!(rT(d)&&(d.status===404||d.status===401||d.status===403)))return this._returnResult({error:d})}return e!=="others"&&(await this._removeSession(),await Gn(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({error:null})})}onAuthStateChange(e){const n=dT(),o={id:n,callback:e,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",n),this.stateChangeEmitters.delete(n)}};return this._debug("#onAuthStateChange()","registered callback with id",n),this.stateChangeEmitters.set(n,o),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(n)})))(),{data:{subscription:o}}}async _emitInitialSession(e){return await this._useSession(async n=>{var o,i;try{const{data:{session:a},error:u}=n;if(u)throw u;await((o=this.stateChangeEmitters.get(e))===null||o===void 0?void 0:o.callback("INITIAL_SESSION",a)),this._debug("INITIAL_SESSION","callback id",e,"session",a)}catch(a){await((i=this.stateChangeEmitters.get(e))===null||i===void 0?void 0:i.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",e,"error",a),console.error(a)}})}async resetPasswordForEmail(e,n={}){let o=null,i=null;this.flowType==="pkce"&&([o,i]=await wo(this.storage,this.storageKey,!0));try{return await Ee(this.fetch,"POST",`${this.url}/recover`,{body:{email:e,code_challenge:o,code_challenge_method:i,gotrue_meta_security:{captcha_token:n.captchaToken}},headers:this.headers,redirectTo:n.redirectTo})}catch(a){if(xe(a))return this._returnResult({data:null,error:a});throw a}}async getUserIdentities(){var e;try{const{data:n,error:o}=await this.getUser();if(o)throw o;return this._returnResult({data:{identities:(e=n.user.identities)!==null&&e!==void 0?e:[]},error:null})}catch(n){if(xe(n))return this._returnResult({data:null,error:n});throw n}}async linkIdentity(e){return"token"in e?this.linkIdentityIdToken(e):this.linkIdentityOAuth(e)}async linkIdentityOAuth(e){var n;try{const{data:o,error:i}=await this._useSession(async a=>{var u,d,h,p,g;const{data:m,error:x}=a;if(x)throw x;const b=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,e.provider,{redirectTo:(u=e.options)===null||u===void 0?void 0:u.redirectTo,scopes:(d=e.options)===null||d===void 0?void 0:d.scopes,queryParams:(h=e.options)===null||h===void 0?void 0:h.queryParams,skipBrowserRedirect:!0});return await Ee(this.fetch,"GET",b,{headers:this.headers,jwt:(g=(p=m.session)===null||p===void 0?void 0:p.access_token)!==null&&g!==void 0?g:void 0})});if(i)throw i;return kt()&&!(!((n=e.options)===null||n===void 0)&&n.skipBrowserRedirect)&&window.location.assign(o?.url),this._returnResult({data:{provider:e.provider,url:o?.url},error:null})}catch(o){if(xe(o))return this._returnResult({data:{provider:e.provider,url:null},error:o});throw o}}async linkIdentityIdToken(e){return await this._useSession(async n=>{var o;try{const{error:i,data:{session:a}}=n;if(i)throw i;const{options:u,provider:d,token:h,access_token:p,nonce:g}=e,m=await Ee(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,jwt:(o=a?.access_token)!==null&&o!==void 0?o:void 0,body:{provider:d,id_token:h,access_token:p,nonce:g,link_identity:!0,gotrue_meta_security:{captcha_token:u?.captchaToken}},xform:Pr}),{data:x,error:b}=m;return b?this._returnResult({data:{user:null,session:null},error:b}):!x||!x.session||!x.user?this._returnResult({data:{user:null,session:null},error:new yo}):(x.session&&(await this._saveSession(x.session),await this._notifyAllSubscribers("USER_UPDATED",x.session)),this._returnResult({data:x,error:b}))}catch(i){if(xe(i))return this._returnResult({data:{user:null,session:null},error:i});throw i}})}async unlinkIdentity(e){try{return await this._useSession(async n=>{var o,i;const{data:a,error:u}=n;if(u)throw u;return await Ee(this.fetch,"DELETE",`${this.url}/user/identities/${e.identity_id}`,{headers:this.headers,jwt:(i=(o=a.session)===null||o===void 0?void 0:o.access_token)!==null&&i!==void 0?i:void 0})})}catch(n){if(xe(n))return this._returnResult({data:null,error:n});throw n}}async _refreshAccessToken(e){const n=`#_refreshAccessToken(${e.substring(0,5)}...)`;this._debug(n,"begin");try{const o=Date.now();return await mT(async i=>(i>0&&await pT(200*Math.pow(2,i-1)),this._debug(n,"refreshing attempt",i),await Ee(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:e},headers:this.headers,xform:Pr})),(i,a)=>{const u=200*Math.pow(2,i);return a&&$d(a)&&Date.now()+u-o<So})}catch(o){if(this._debug(n,"error",o),xe(o))return this._returnResult({data:{session:null,user:null},error:o});throw o}finally{this._debug(n,"end")}}_isValidSession(e){return typeof e=="object"&&e!==null&&"access_token"in e&&"refresh_token"in e&&"expires_at"in e}async _handleProviderSignIn(e,n){const o=await this._getUrlForProvider(`${this.url}/authorize`,e,{redirectTo:n.redirectTo,scopes:n.scopes,queryParams:n.queryParams});return this._debug("#_handleProviderSignIn()","provider",e,"options",n,"url",o),kt()&&!n.skipBrowserRedirect&&window.location.assign(o),{data:{provider:e,url:o},error:null}}async _recoverAndRefresh(){var e,n;const o="#_recoverAndRefresh()";this._debug(o,"begin");try{const i=await Cs(this.storage,this.storageKey);if(i&&this.userStorage){let u=await Cs(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!u&&(u={user:i.user},await jo(this.userStorage,this.storageKey+"-user",u)),i.user=(e=u?.user)!==null&&e!==void 0?e:Fd()}else if(i&&!i.user&&!i.user){const u=await Cs(this.storage,this.storageKey+"-user");u&&u?.user?(i.user=u.user,await Gn(this.storage,this.storageKey+"-user"),await jo(this.storage,this.storageKey,i)):i.user=Fd()}if(this._debug(o,"session from storage",i),!this._isValidSession(i)){this._debug(o,"session is not valid"),i!==null&&await this._removeSession();return}const a=((n=i.expires_at)!==null&&n!==void 0?n:1/0)*1e3-Date.now()<Ld;if(this._debug(o,`session has${a?"":" not"} expired with margin of ${Ld}s`),a){if(this.autoRefreshToken&&i.refresh_token){const{error:u}=await this._callRefreshToken(i.refresh_token);u&&(console.error(u),$d(u)||(this._debug(o,"refresh failed with a non-retryable error, removing the session",u),await this._removeSession()))}}else if(i.user&&i.user.__isUserNotAvailableProxy===!0)try{const{data:u,error:d}=await this._getUser(i.access_token);!d&&u?.user?(i.user=u.user,await this._saveSession(i),await this._notifyAllSubscribers("SIGNED_IN",i)):this._debug(o,"could not get user data, skipping SIGNED_IN notification")}catch(u){console.error("Error getting user data:",u),this._debug(o,"error getting user data, skipping SIGNED_IN notification",u)}else await this._notifyAllSubscribers("SIGNED_IN",i)}catch(i){this._debug(o,"error",i),console.error(i);return}finally{this._debug(o,"end")}}async _callRefreshToken(e){var n,o;if(!e)throw new sr;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const i=`#_callRefreshToken(${e.substring(0,5)}...)`;this._debug(i,"begin");try{this.refreshingDeferred=new bc;const{data:a,error:u}=await this._refreshAccessToken(e);if(u)throw u;if(!a.session)throw new sr;await this._saveSession(a.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",a.session);const d={data:a.session,error:null};return this.refreshingDeferred.resolve(d),d}catch(a){if(this._debug(i,"error",a),xe(a)){const u={data:null,error:a};return $d(a)||await this._removeSession(),(n=this.refreshingDeferred)===null||n===void 0||n.resolve(u),u}throw(o=this.refreshingDeferred)===null||o===void 0||o.reject(a),a}finally{this.refreshingDeferred=null,this._debug(i,"end")}}async _notifyAllSubscribers(e,n,o=!0){const i=`#_notifyAllSubscribers(${e})`;this._debug(i,"begin",n,`broadcast = ${o}`);try{this.broadcastChannel&&o&&this.broadcastChannel.postMessage({event:e,session:n});const a=[],u=Array.from(this.stateChangeEmitters.values()).map(async d=>{try{await d.callback(e,n)}catch(h){a.push(h)}});if(await Promise.all(u),a.length>0){for(let d=0;d<a.length;d+=1)console.error(a[d]);throw a[0]}}finally{this._debug(i,"end")}}async _saveSession(e){this._debug("#_saveSession()",e),this.suppressGetSessionWarning=!0;const n=Object.assign({},e),o=n.user&&n.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!o&&n.user&&await jo(this.userStorage,this.storageKey+"-user",{user:n.user});const i=Object.assign({},n);delete i.user;const a=dv(i);await jo(this.storage,this.storageKey,a)}else{const i=dv(n);await jo(this.storage,this.storageKey,i)}}async _removeSession(){this._debug("#_removeSession()"),await Gn(this.storage,this.storageKey),await Gn(this.storage,this.storageKey+"-code-verifier"),await Gn(this.storage,this.storageKey+"-user"),this.userStorage&&await Gn(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const e=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{e&&kt()&&window?.removeEventListener&&window.removeEventListener("visibilitychange",e)}catch(n){console.error("removing visibilitychange callback failed",n)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const e=setInterval(()=>this._autoRefreshTokenTick(),So);this.autoRefreshTicker=e,e&&typeof e=="object"&&typeof e.unref=="function"?e.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(e),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const e=this.autoRefreshTicker;this.autoRefreshTicker=null,e&&clearInterval(e)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const e=Date.now();try{return await this._useSession(async n=>{const{data:{session:o}}=n;if(!o||!o.refresh_token||!o.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const i=Math.floor((o.expires_at*1e3-e)/So);this._debug("#_autoRefreshTokenTick()",`access token expires in ${i} ticks, a tick lasts ${So}ms, refresh threshold is ${gf} ticks`),i<=gf&&await this._callRefreshToken(o.refresh_token)})}catch(n){console.error("Auto refresh tick failed with error. This is likely a transient error.",n)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(e){if(e.isAcquireTimeout||e instanceof Y0)this._debug("auto refresh token tick lock not available");else throw e}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!kt()||!window?.addEventListener)return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window?.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(e){console.error("_handleVisibilityChange",e)}}async _onVisibilityChanged(e){const n=`#_onVisibilityChanged(${e})`;this._debug(n,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),e||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(n,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(e,n,o){const i=[`provider=${encodeURIComponent(n)}`];if(o?.redirectTo&&i.push(`redirect_to=${encodeURIComponent(o.redirectTo)}`),o?.scopes&&i.push(`scopes=${encodeURIComponent(o.scopes)}`),this.flowType==="pkce"){const[a,u]=await wo(this.storage,this.storageKey),d=new URLSearchParams({code_challenge:`${encodeURIComponent(a)}`,code_challenge_method:`${encodeURIComponent(u)}`});i.push(d.toString())}if(o?.queryParams){const a=new URLSearchParams(o.queryParams);i.push(a.toString())}return o?.skipBrowserRedirect&&i.push(`skip_http_redirect=${o.skipBrowserRedirect}`),`${e}?${i.join("&")}`}async _unenroll(e){try{return await this._useSession(async n=>{var o;const{data:i,error:a}=n;return a?this._returnResult({data:null,error:a}):await Ee(this.fetch,"DELETE",`${this.url}/factors/${e.factorId}`,{headers:this.headers,jwt:(o=i?.session)===null||o===void 0?void 0:o.access_token})})}catch(n){if(xe(n))return this._returnResult({data:null,error:n});throw n}}async _enroll(e){try{return await this._useSession(async n=>{var o,i;const{data:a,error:u}=n;if(u)return this._returnResult({data:null,error:u});const d=Object.assign({friendly_name:e.friendlyName,factor_type:e.factorType},e.factorType==="phone"?{phone:e.phone}:e.factorType==="totp"?{issuer:e.issuer}:{}),{data:h,error:p}=await Ee(this.fetch,"POST",`${this.url}/factors`,{body:d,headers:this.headers,jwt:(o=a?.session)===null||o===void 0?void 0:o.access_token});return p?this._returnResult({data:null,error:p}):(e.factorType==="totp"&&h.type==="totp"&&(!((i=h?.totp)===null||i===void 0)&&i.qr_code)&&(h.totp.qr_code=`data:image/svg+xml;utf-8,${h.totp.qr_code}`),this._returnResult({data:h,error:null}))})}catch(n){if(xe(n))return this._returnResult({data:null,error:n});throw n}}async _verify(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var o;const{data:i,error:a}=n;if(a)return this._returnResult({data:null,error:a});const u=Object.assign({challenge_id:e.challengeId},"webauthn"in e?{webauthn:Object.assign(Object.assign({},e.webauthn),{credential_response:e.webauthn.type==="create"?HT(e.webauthn.credential_response):qT(e.webauthn.credential_response)})}:{code:e.code}),{data:d,error:h}=await Ee(this.fetch,"POST",`${this.url}/factors/${e.factorId}/verify`,{body:u,headers:this.headers,jwt:(o=i?.session)===null||o===void 0?void 0:o.access_token});return h?this._returnResult({data:null,error:h}):(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+d.expires_in},d)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",d),this._returnResult({data:d,error:h}))})}catch(n){if(xe(n))return this._returnResult({data:null,error:n});throw n}})}async _challenge(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var o;const{data:i,error:a}=n;if(a)return this._returnResult({data:null,error:a});const u=await Ee(this.fetch,"POST",`${this.url}/factors/${e.factorId}/challenge`,{body:e,headers:this.headers,jwt:(o=i?.session)===null||o===void 0?void 0:o.access_token});if(u.error)return u;const{data:d}=u;if(d.type!=="webauthn")return{data:d,error:null};switch(d.webauthn.type){case"create":return{data:Object.assign(Object.assign({},d),{webauthn:Object.assign(Object.assign({},d.webauthn),{credential_options:Object.assign(Object.assign({},d.webauthn.credential_options),{publicKey:VT(d.webauthn.credential_options.publicKey)})})}),error:null};case"request":return{data:Object.assign(Object.assign({},d),{webauthn:Object.assign(Object.assign({},d.webauthn),{credential_options:Object.assign(Object.assign({},d.webauthn.credential_options),{publicKey:WT(d.webauthn.credential_options.publicKey)})})}),error:null}}})}catch(n){if(xe(n))return this._returnResult({data:null,error:n});throw n}})}async _challengeAndVerify(e){const{data:n,error:o}=await this._challenge({factorId:e.factorId});return o?this._returnResult({data:null,error:o}):await this._verify({factorId:e.factorId,challengeId:n.id,code:e.code})}async _listFactors(){var e;const{data:{user:n},error:o}=await this.getUser();if(o)return{data:null,error:o};const i={all:[],phone:[],totp:[],webauthn:[]};for(const a of(e=n?.factors)!==null&&e!==void 0?e:[])i.all.push(a),a.status==="verified"&&i[a.factor_type].push(a);return{data:i,error:null}}async _getAuthenticatorAssuranceLevel(){var e,n;const{data:{session:o},error:i}=await this.getSession();if(i)return this._returnResult({data:null,error:i});if(!o)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:a}=Md(o.access_token);let u=null;a.aal&&(u=a.aal);let d=u;((n=(e=o.user.factors)===null||e===void 0?void 0:e.filter(g=>g.status==="verified"))!==null&&n!==void 0?n:[]).length>0&&(d="aal2");const p=a.amr||[];return{data:{currentLevel:u,nextLevel:d,currentAuthenticationMethods:p},error:null}}async _getAuthorizationDetails(e){try{return await this._useSession(async n=>{const{data:{session:o},error:i}=n;return i?this._returnResult({data:null,error:i}):o?await Ee(this.fetch,"GET",`${this.url}/oauth/authorizations/${e}`,{headers:this.headers,jwt:o.access_token,xform:a=>({data:a,error:null})}):this._returnResult({data:null,error:new sr})})}catch(n){if(xe(n))return this._returnResult({data:null,error:n});throw n}}async _approveAuthorization(e,n){try{return await this._useSession(async o=>{const{data:{session:i},error:a}=o;if(a)return this._returnResult({data:null,error:a});if(!i)return this._returnResult({data:null,error:new sr});const u=await Ee(this.fetch,"POST",`${this.url}/oauth/authorizations/${e}/consent`,{headers:this.headers,jwt:i.access_token,body:{action:"approve"},xform:d=>({data:d,error:null})});return u.data&&u.data.redirect_url&&kt()&&!n?.skipBrowserRedirect&&window.location.assign(u.data.redirect_url),u})}catch(o){if(xe(o))return this._returnResult({data:null,error:o});throw o}}async _denyAuthorization(e,n){try{return await this._useSession(async o=>{const{data:{session:i},error:a}=o;if(a)return this._returnResult({data:null,error:a});if(!i)return this._returnResult({data:null,error:new sr});const u=await Ee(this.fetch,"POST",`${this.url}/oauth/authorizations/${e}/consent`,{headers:this.headers,jwt:i.access_token,body:{action:"deny"},xform:d=>({data:d,error:null})});return u.data&&u.data.redirect_url&&kt()&&!n?.skipBrowserRedirect&&window.location.assign(u.data.redirect_url),u})}catch(o){if(xe(o))return this._returnResult({data:null,error:o});throw o}}async _listOAuthGrants(){try{return await this._useSession(async e=>{const{data:{session:n},error:o}=e;return o?this._returnResult({data:null,error:o}):n?await Ee(this.fetch,"GET",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:n.access_token,xform:i=>({data:i,error:null})}):this._returnResult({data:null,error:new sr})})}catch(e){if(xe(e))return this._returnResult({data:null,error:e});throw e}}async _revokeOAuthGrant(e){try{return await this._useSession(async n=>{const{data:{session:o},error:i}=n;return i?this._returnResult({data:null,error:i}):o?await Ee(this.fetch,"DELETE",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:o.access_token,query:{client_id:e.clientId},xform:()=>({data:{},error:null})}):this._returnResult({data:null,error:new sr})})}catch(n){if(xe(n))return this._returnResult({data:null,error:n});throw n}}async fetchJwk(e,n={keys:[]}){let o=n.keys.find(d=>d.kid===e);if(o)return o;const i=Date.now();if(o=this.jwks.keys.find(d=>d.kid===e),o&&this.jwks_cached_at+eT>i)return o;const{data:a,error:u}=await Ee(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(u)throw u;return!a.keys||a.keys.length===0||(this.jwks=a,this.jwks_cached_at=i,o=a.keys.find(d=>d.kid===e),!o)?null:o}async getClaims(e,n={}){try{let o=e;if(!o){const{data:b,error:j}=await this.getSession();if(j||!b.session)return this._returnResult({data:null,error:j});o=b.session.access_token}const{header:i,payload:a,signature:u,raw:{header:d,payload:h}}=Md(o);n?.allowExpired||_T(a.exp);const p=!i.alg||i.alg.startsWith("HS")||!i.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(i.kid,n?.keys?{keys:n.keys}:n?.jwks);if(!p){const{error:b}=await this.getUser(o);if(b)throw b;return{data:{claims:a,header:i,signature:u},error:null}}const g=ST(i.alg),m=await crypto.subtle.importKey("jwk",p,g,!0,["verify"]);if(!await crypto.subtle.verify(g,m,u,cT(`${d}.${h}`)))throw new wf("Invalid JWT signature");return{data:{claims:a,header:i,signature:u},error:null}}catch(o){if(xe(o))return this._returnResult({data:null,error:o});throw o}}}ea.nextInstanceID={};const tP=ea;class rP extends tP{constructor(e){super(e)}}class nP{constructor(e,n,o){var i,a,u;this.supabaseUrl=e,this.supabaseKey=n;const d=Y2(e);if(!n)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",d),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",d),this.storageUrl=new URL("storage/v1",d),this.functionsUrl=new URL("functions/v1",d);const h=`sb-${d.hostname.split(".")[0]}-auth-token`,p={db:z2,realtime:V2,auth:Object.assign(Object.assign({},B2),{storageKey:h}),global:U2},g=G2(o??{},p);this.storageKey=(i=g.auth.storageKey)!==null&&i!==void 0?i:"",this.headers=(a=g.global.headers)!==null&&a!==void 0?a:{},g.accessToken?(this.accessToken=g.accessToken,this.auth=new Proxy({},{get:(m,x)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(x)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((u=g.auth)!==null&&u!==void 0?u:{},this.headers,g.global.fetch),this.fetch=q2(n,this._getAccessToken.bind(this),g.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},g.realtime)),this.accessToken&&this.accessToken().then(m=>this.realtime.setAuth(m)).catch(m=>console.warn("Failed to set initial Realtime auth token:",m)),this.rest=new JR(new URL("rest/v1",d).href,{headers:this.headers,schema:g.db.schema,fetch:this.fetch}),this.storage=new $2(this.storageUrl.href,this.headers,this.fetch,o?.storage),g.accessToken||this._listenForAuthEvents()}get functions(){return new qR(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(e){return this.rest.from(e)}schema(e){return this.rest.schema(e)}rpc(e,n={},o={head:!1,get:!1,count:void 0}){return this.rest.rpc(e,n,o)}channel(e,n={config:{}}){return this.realtime.channel(e,n)}getChannels(){return this.realtime.getChannels()}removeChannel(e){return this.realtime.removeChannel(e)}removeAllChannels(){return this.realtime.removeAllChannels()}async _getAccessToken(){var e,n;if(this.accessToken)return await this.accessToken();const{data:o}=await this.auth.getSession();return(n=(e=o.session)===null||e===void 0?void 0:e.access_token)!==null&&n!==void 0?n:this.supabaseKey}_initSupabaseAuthClient({autoRefreshToken:e,persistSession:n,detectSessionInUrl:o,storage:i,userStorage:a,storageKey:u,flowType:d,lock:h,debug:p,throwOnError:g},m,x){const b={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new rP({url:this.authUrl.href,headers:Object.assign(Object.assign({},b),m),storageKey:u,autoRefreshToken:e,persistSession:n,detectSessionInUrl:o,storage:i,userStorage:a,flowType:d,lock:h,debug:p,throwOnError:g,fetch:x,hasCustomAuthorizationHeader:Object.keys(this.headers).some(j=>j.toLowerCase()==="authorization")})}_initRealtimeClient(e){return new h2(this.realtimeUrl.href,Object.assign(Object.assign({},e),{params:Object.assign({apikey:this.supabaseKey},e?.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((n,o)=>{this._handleTokenChanged(n,"CLIENT",o?.access_token)})}_handleTokenChanged(e,n,o){(e==="TOKEN_REFRESHED"||e==="SIGNED_IN")&&this.changedAccessToken!==o?(this.changedAccessToken=o,this.realtime.setAuth(o)):e==="SIGNED_OUT"&&(this.realtime.setAuth(),n=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const sP=(t,e,n)=>new nP(t,e,n);function oP(){if(typeof window<"u"||typeof process>"u")return!1;const t=process.version;if(t==null)return!1;const e=t.match(/^v(\d+)\./);return e?parseInt(e[1],10)<=18:!1}oP()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");console.error("Missing Supabase environment variables:",{VITE_SUPABASE_URL:!1,VITE_SUPABASE_PUBLISHABLE_KEY:!1});const ie=sP("","");class iP{async login(e,n){const{data:o,error:i}=await ie.auth.signInWithPassword({email:e,password:n});if(i)throw new Error(i.message);if(!o.user)throw new Error("Login failed");const{data:a,error:u}=await ie.from("profiles").select("*").eq("id",o.user.id).single();if(u||!a)throw new Error("Profile not found");return{user:{id:o.user.id,email:o.user.email,name:a.full_name||a.username,username:a.username,role:a.role,avatar:a.avatar_url||void 0,joinDate:new Date(a.join_date).toISOString().split("T")[0]},token:o.session?.access_token||""}}async signup(e){const{data:n,error:o}=await ie.auth.signUp({email:e.email,password:e.password});if(o)throw new Error(o.message);if(!n.user)throw new Error("Signup failed");const{data:i,error:a}=await ie.from("profiles").insert({id:n.user.id,username:e.username,full_name:e.name,role:"student",join_date:new Date().toISOString(),reputation:0}).select().single();if(a)throw new Error(a.message);return{user:{id:n.user.id,email:n.user.email,name:e.name,username:e.username,role:"student",joinDate:new Date().toISOString().split("T")[0]},token:n.session?.access_token||""}}async signInWithOAuth(e){const{error:n}=await ie.auth.signInWithOAuth({provider:e,options:{redirectTo:`${window.location.origin}/auth/callback`}});if(n)throw new Error(n.message)}async linkOAuthProvider(e){const{error:n}=await ie.auth.linkIdentity({provider:e,options:{redirectTo:`${window.location.origin}/auth/callback`}});if(n)throw new Error(n.message)}async unlinkOAuthProvider(e){const{error:n}=await ie.auth.unlinkIdentity({provider:e});if(n)throw new Error(n.message)}async getCurrentUser(){const{data:{user:e},error:n}=await ie.auth.getUser();if(n||!e)return null;const{data:o,error:i}=await ie.from("profiles").select("*").eq("id",e.id).single();return i||!o?null:{id:e.id,email:e.email,name:o.full_name||o.username,username:o.username,role:o.role,avatar:o.avatar_url||void 0,joinDate:new Date(o.join_date).toISOString().split("T")[0]}}async logout(){const{error:e}=await ie.auth.signOut();if(e)throw new Error(e.message)}async isAuthenticated(){const{data:{session:e}}=await ie.auth.getSession();return!!e}getDemoCredentials(){return{student:{email:"student@school.edu",password:"password"},teacher:{email:"teacher@school.edu",password:"password"},principal:{email:"principal@school.edu",password:"password"}}}}const Zn=new iP,X0=y.createContext(void 0);function aP({children:t}){const[e,n]=y.useState(null),[o,i]=y.useState(!0);y.useEffect(()=>{(async()=>{try{const g=await Zn.getCurrentUser();n(g)}catch(g){console.error("Auth check failed:",g)}finally{i(!1)}})()},[]);const h={user:e,loading:o,login:async(p,g)=>{try{const{user:m}=await Zn.login(p,g);n(m)}catch(m){throw m}},signup:async p=>{try{const{user:g}=await Zn.signup(p);n(g)}catch(g){throw g}},logout:async()=>{try{await Zn.logout(),n(null)}catch(p){console.error("Logout failed:",p)}},isAuthenticated:!!e};return l.jsx(X0.Provider,{value:h,children:t})}function Mr(){const t=y.useContext(X0);if(t===void 0)throw new Error("useAuth must be used within an AuthProvider");return t}function Z0(t){const[e,n]=y.useState([]),[o,i]=y.useState([]),[a,u]=y.useState(!1),[d,h]=y.useState(null),p=async()=>{if(t)try{const{data:S,error:E}=await ie.from("friends").select(`
          *,
          profile:friend_id (username, full_name, avatar_url)
        `).eq("user_id",t).eq("status","accepted");if(E)throw E;n(S||[])}catch(S){h(S.message)}},g=async()=>{if(t)try{const{data:S,error:E}=await ie.from("friends").select(`
          *,
          profile:user_id (username, full_name, avatar_url)
        `).eq("friend_id",t).eq("status","pending");if(E)throw E;i(S||[])}catch(S){h(S.message)}},m=async S=>{if(!t)return!1;u(!0);try{const{error:E}=await ie.from("friends").insert({user_id:t,friend_id:S,status:"pending"});if(E)throw E;return u(!1),!0}catch(E){return h(E.message),u(!1),!1}},x=async S=>{if(!t)return!1;u(!0);try{const{error:E}=await ie.from("friends").update({status:"accepted"}).eq("id",S).eq("friend_id",t);if(E)throw E;const{data:N}=await ie.from("friends").select("user_id").eq("id",S).single();return N&&await ie.from("friends").insert({user_id:t,friend_id:N.user_id,status:"accepted"}).single(),await g(),await p(),u(!1),!0}catch(E){return h(E.message),u(!1),!1}},b=async S=>{if(!t)return!1;u(!0);try{const{error:E}=await ie.from("friends").delete().eq("id",S);if(E)throw E;return await g(),u(!1),!0}catch(E){return h(E.message),u(!1),!1}},j=async S=>{if(!t)return!1;u(!0);try{return await ie.from("friends").delete().match({user_id:t,friend_id:S}),await ie.from("friends").delete().match({user_id:S,friend_id:t}),await p(),u(!1),!0}catch(E){return h(E.message),u(!1),!1}},_=async S=>{if(!t)return!1;try{const{data:E}=await ie.from("friends").select("*").match({user_id:t,friend_id:S,status:"accepted"}).single();return!!E}catch{return!1}};return y.useEffect(()=>{t&&(p(),g())},[t]),{friends:e,pendingRequests:o,sendFriendRequest:m,acceptFriendRequest:x,rejectFriendRequest:b,removeFriend:j,areFriends:_,loading:a,error:d,refetch:()=>{p(),g()}}}function lP(t){if(typeof document>"u")return;let e=document.head||document.getElementsByTagName("head")[0],n=document.createElement("style");n.type="text/css",e.appendChild(n),n.styleSheet?n.styleSheet.cssText=t:n.appendChild(document.createTextNode(t))}const cP=t=>{switch(t){case"success":return fP;case"info":return pP;case"warning":return hP;case"error":return mP;default:return null}},uP=Array(12).fill(0),dP=({visible:t,className:e})=>te.createElement("div",{className:["sonner-loading-wrapper",e].filter(Boolean).join(" "),"data-visible":t},te.createElement("div",{className:"sonner-spinner"},uP.map((n,o)=>te.createElement("div",{className:"sonner-loading-bar",key:`spinner-bar-${o}`})))),fP=te.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},te.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.857-9.809a.75.75 0 00-1.214-.882l-3.483 4.79-1.88-1.88a.75.75 0 10-1.06 1.061l2.5 2.5a.75.75 0 001.137-.089l4-5.5z",clipRule:"evenodd"})),hP=te.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",height:"20",width:"20"},te.createElement("path",{fillRule:"evenodd",d:"M9.401 3.003c1.155-2 4.043-2 5.197 0l7.355 12.748c1.154 2-.29 4.5-2.599 4.5H4.645c-2.309 0-3.752-2.5-2.598-4.5L9.4 3.003zM12 8.25a.75.75 0 01.75.75v3.75a.75.75 0 01-1.5 0V9a.75.75 0 01.75-.75zm0 8.25a.75.75 0 100-1.5.75.75 0 000 1.5z",clipRule:"evenodd"})),pP=te.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},te.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a.75.75 0 000 1.5h.253a.25.25 0 01.244.304l-.459 2.066A1.75 1.75 0 0010.747 15H11a.75.75 0 000-1.5h-.253a.25.25 0 01-.244-.304l.459-2.066A1.75 1.75 0 009.253 9H9z",clipRule:"evenodd"})),mP=te.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},te.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-5a.75.75 0 01.75.75v4.5a.75.75 0 01-1.5 0v-4.5A.75.75 0 0110 5zm0 10a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"})),gP=te.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"},te.createElement("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),te.createElement("line",{x1:"6",y1:"6",x2:"18",y2:"18"})),vP=()=>{const[t,e]=te.useState(document.hidden);return te.useEffect(()=>{const n=()=>{e(document.hidden)};return document.addEventListener("visibilitychange",n),()=>window.removeEventListener("visibilitychange",n)},[]),t};let xf=1;class yP{constructor(){this.subscribe=e=>(this.subscribers.push(e),()=>{const n=this.subscribers.indexOf(e);this.subscribers.splice(n,1)}),this.publish=e=>{this.subscribers.forEach(n=>n(e))},this.addToast=e=>{this.publish(e),this.toasts=[...this.toasts,e]},this.create=e=>{var n;const{message:o,...i}=e,a=typeof e?.id=="number"||((n=e.id)==null?void 0:n.length)>0?e.id:xf++,u=this.toasts.find(h=>h.id===a),d=e.dismissible===void 0?!0:e.dismissible;return this.dismissedToasts.has(a)&&this.dismissedToasts.delete(a),u?this.toasts=this.toasts.map(h=>h.id===a?(this.publish({...h,...e,id:a,title:o}),{...h,...e,id:a,dismissible:d,title:o}):h):this.addToast({title:o,...i,dismissible:d,id:a}),a},this.dismiss=e=>(e?(this.dismissedToasts.add(e),requestAnimationFrame(()=>this.subscribers.forEach(n=>n({id:e,dismiss:!0})))):this.toasts.forEach(n=>{this.subscribers.forEach(o=>o({id:n.id,dismiss:!0}))}),e),this.message=(e,n)=>this.create({...n,message:e}),this.error=(e,n)=>this.create({...n,message:e,type:"error"}),this.success=(e,n)=>this.create({...n,type:"success",message:e}),this.info=(e,n)=>this.create({...n,type:"info",message:e}),this.warning=(e,n)=>this.create({...n,type:"warning",message:e}),this.loading=(e,n)=>this.create({...n,type:"loading",message:e}),this.promise=(e,n)=>{if(!n)return;let o;n.loading!==void 0&&(o=this.create({...n,promise:e,type:"loading",message:n.loading,description:typeof n.description!="function"?n.description:void 0}));const i=Promise.resolve(e instanceof Function?e():e);let a=o!==void 0,u;const d=i.then(async p=>{if(u=["resolve",p],te.isValidElement(p))a=!1,this.create({id:o,type:"default",message:p});else if(xP(p)&&!p.ok){a=!1;const m=typeof n.error=="function"?await n.error(`HTTP error! status: ${p.status}`):n.error,x=typeof n.description=="function"?await n.description(`HTTP error! status: ${p.status}`):n.description,j=typeof m=="object"&&!te.isValidElement(m)?m:{message:m};this.create({id:o,type:"error",description:x,...j})}else if(p instanceof Error){a=!1;const m=typeof n.error=="function"?await n.error(p):n.error,x=typeof n.description=="function"?await n.description(p):n.description,j=typeof m=="object"&&!te.isValidElement(m)?m:{message:m};this.create({id:o,type:"error",description:x,...j})}else if(n.success!==void 0){a=!1;const m=typeof n.success=="function"?await n.success(p):n.success,x=typeof n.description=="function"?await n.description(p):n.description,j=typeof m=="object"&&!te.isValidElement(m)?m:{message:m};this.create({id:o,type:"success",description:x,...j})}}).catch(async p=>{if(u=["reject",p],n.error!==void 0){a=!1;const g=typeof n.error=="function"?await n.error(p):n.error,m=typeof n.description=="function"?await n.description(p):n.description,b=typeof g=="object"&&!te.isValidElement(g)?g:{message:g};this.create({id:o,type:"error",description:m,...b})}}).finally(()=>{a&&(this.dismiss(o),o=void 0),n.finally==null||n.finally.call(n)}),h=()=>new Promise((p,g)=>d.then(()=>u[0]==="reject"?g(u[1]):p(u[1])).catch(g));return typeof o!="string"&&typeof o!="number"?{unwrap:h}:Object.assign(o,{unwrap:h})},this.custom=(e,n)=>{const o=n?.id||xf++;return this.create({jsx:e(o),id:o,...n}),o},this.getActiveToasts=()=>this.toasts.filter(e=>!this.dismissedToasts.has(e.id)),this.subscribers=[],this.toasts=[],this.dismissedToasts=new Set}}const Gt=new yP,wP=(t,e)=>{const n=e?.id||xf++;return Gt.addToast({title:t,...e,id:n}),n},xP=t=>t&&typeof t=="object"&&"ok"in t&&typeof t.ok=="boolean"&&"status"in t&&typeof t.status=="number",bP=wP,_P=()=>Gt.toasts,SP=()=>Gt.getActiveToasts(),Re=Object.assign(bP,{success:Gt.success,info:Gt.info,warning:Gt.warning,error:Gt.error,custom:Gt.custom,message:Gt.message,promise:Gt.promise,dismiss:Gt.dismiss,loading:Gt.loading},{getHistory:_P,getToasts:SP});lP("[data-sonner-toaster][dir=ltr],html[dir=ltr]{--toast-icon-margin-start:-3px;--toast-icon-margin-end:4px;--toast-svg-margin-start:-1px;--toast-svg-margin-end:0px;--toast-button-margin-start:auto;--toast-button-margin-end:0;--toast-close-button-start:0;--toast-close-button-end:unset;--toast-close-button-transform:translate(-35%, -35%)}[data-sonner-toaster][dir=rtl],html[dir=rtl]{--toast-icon-margin-start:4px;--toast-icon-margin-end:-3px;--toast-svg-margin-start:0px;--toast-svg-margin-end:-1px;--toast-button-margin-start:0;--toast-button-margin-end:auto;--toast-close-button-start:unset;--toast-close-button-end:0;--toast-close-button-transform:translate(35%, -35%)}[data-sonner-toaster]{position:fixed;width:var(--width);font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;--gray1:hsl(0, 0%, 99%);--gray2:hsl(0, 0%, 97.3%);--gray3:hsl(0, 0%, 95.1%);--gray4:hsl(0, 0%, 93%);--gray5:hsl(0, 0%, 90.9%);--gray6:hsl(0, 0%, 88.7%);--gray7:hsl(0, 0%, 85.8%);--gray8:hsl(0, 0%, 78%);--gray9:hsl(0, 0%, 56.1%);--gray10:hsl(0, 0%, 52.3%);--gray11:hsl(0, 0%, 43.5%);--gray12:hsl(0, 0%, 9%);--border-radius:8px;box-sizing:border-box;padding:0;margin:0;list-style:none;outline:0;z-index:999999999;transition:transform .4s ease}@media (hover:none) and (pointer:coarse){[data-sonner-toaster][data-lifted=true]{transform:none}}[data-sonner-toaster][data-x-position=right]{right:var(--offset-right)}[data-sonner-toaster][data-x-position=left]{left:var(--offset-left)}[data-sonner-toaster][data-x-position=center]{left:50%;transform:translateX(-50%)}[data-sonner-toaster][data-y-position=top]{top:var(--offset-top)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--offset-bottom)}[data-sonner-toast]{--y:translateY(100%);--lift-amount:calc(var(--lift) * var(--gap));z-index:var(--z-index);position:absolute;opacity:0;transform:var(--y);touch-action:none;transition:transform .4s,opacity .4s,height .4s,box-shadow .2s;box-sizing:border-box;outline:0;overflow-wrap:anywhere}[data-sonner-toast][data-styled=true]{padding:16px;background:var(--normal-bg);border:1px solid var(--normal-border);color:var(--normal-text);border-radius:var(--border-radius);box-shadow:0 4px 12px rgba(0,0,0,.1);width:var(--width);font-size:13px;display:flex;align-items:center;gap:6px}[data-sonner-toast]:focus-visible{box-shadow:0 4px 12px rgba(0,0,0,.1),0 0 0 2px rgba(0,0,0,.2)}[data-sonner-toast][data-y-position=top]{top:0;--y:translateY(-100%);--lift:1;--lift-amount:calc(1 * var(--gap))}[data-sonner-toast][data-y-position=bottom]{bottom:0;--y:translateY(100%);--lift:-1;--lift-amount:calc(var(--lift) * var(--gap))}[data-sonner-toast][data-styled=true] [data-description]{font-weight:400;line-height:1.4;color:#3f3f3f}[data-rich-colors=true][data-sonner-toast][data-styled=true] [data-description]{color:inherit}[data-sonner-toaster][data-sonner-theme=dark] [data-description]{color:#e8e8e8}[data-sonner-toast][data-styled=true] [data-title]{font-weight:500;line-height:1.5;color:inherit}[data-sonner-toast][data-styled=true] [data-icon]{display:flex;height:16px;width:16px;position:relative;justify-content:flex-start;align-items:center;flex-shrink:0;margin-left:var(--toast-icon-margin-start);margin-right:var(--toast-icon-margin-end)}[data-sonner-toast][data-promise=true] [data-icon]>svg{opacity:0;transform:scale(.8);transform-origin:center;animation:sonner-fade-in .3s ease forwards}[data-sonner-toast][data-styled=true] [data-icon]>*{flex-shrink:0}[data-sonner-toast][data-styled=true] [data-icon] svg{margin-left:var(--toast-svg-margin-start);margin-right:var(--toast-svg-margin-end)}[data-sonner-toast][data-styled=true] [data-content]{display:flex;flex-direction:column;gap:2px}[data-sonner-toast][data-styled=true] [data-button]{border-radius:4px;padding-left:8px;padding-right:8px;height:24px;font-size:12px;color:var(--normal-bg);background:var(--normal-text);margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end);border:none;font-weight:500;cursor:pointer;outline:0;display:flex;align-items:center;flex-shrink:0;transition:opacity .4s,box-shadow .2s}[data-sonner-toast][data-styled=true] [data-button]:focus-visible{box-shadow:0 0 0 2px rgba(0,0,0,.4)}[data-sonner-toast][data-styled=true] [data-button]:first-of-type{margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end)}[data-sonner-toast][data-styled=true] [data-cancel]{color:var(--normal-text);background:rgba(0,0,0,.08)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast][data-styled=true] [data-cancel]{background:rgba(255,255,255,.3)}[data-sonner-toast][data-styled=true] [data-close-button]{position:absolute;left:var(--toast-close-button-start);right:var(--toast-close-button-end);top:0;height:20px;width:20px;display:flex;justify-content:center;align-items:center;padding:0;color:var(--gray12);background:var(--normal-bg);border:1px solid var(--gray4);transform:var(--toast-close-button-transform);border-radius:50%;cursor:pointer;z-index:1;transition:opacity .1s,background .2s,border-color .2s}[data-sonner-toast][data-styled=true] [data-close-button]:focus-visible{box-shadow:0 4px 12px rgba(0,0,0,.1),0 0 0 2px rgba(0,0,0,.2)}[data-sonner-toast][data-styled=true] [data-disabled=true]{cursor:not-allowed}[data-sonner-toast][data-styled=true]:hover [data-close-button]:hover{background:var(--gray2);border-color:var(--gray5)}[data-sonner-toast][data-swiping=true]::before{content:'';position:absolute;left:-100%;right:-100%;height:100%;z-index:-1}[data-sonner-toast][data-y-position=top][data-swiping=true]::before{bottom:50%;transform:scaleY(3) translateY(50%)}[data-sonner-toast][data-y-position=bottom][data-swiping=true]::before{top:50%;transform:scaleY(3) translateY(-50%)}[data-sonner-toast][data-swiping=false][data-removed=true]::before{content:'';position:absolute;inset:0;transform:scaleY(2)}[data-sonner-toast][data-expanded=true]::after{content:'';position:absolute;left:0;height:calc(var(--gap) + 1px);bottom:100%;width:100%}[data-sonner-toast][data-mounted=true]{--y:translateY(0);opacity:1}[data-sonner-toast][data-expanded=false][data-front=false]{--scale:var(--toasts-before) * 0.05 + 1;--y:translateY(calc(var(--lift-amount) * var(--toasts-before))) scale(calc(-1 * var(--scale)));height:var(--front-toast-height)}[data-sonner-toast]>*{transition:opacity .4s}[data-sonner-toast][data-x-position=right]{right:0}[data-sonner-toast][data-x-position=left]{left:0}[data-sonner-toast][data-expanded=false][data-front=false][data-styled=true]>*{opacity:0}[data-sonner-toast][data-visible=false]{opacity:0;pointer-events:none}[data-sonner-toast][data-mounted=true][data-expanded=true]{--y:translateY(calc(var(--lift) * var(--offset)));height:var(--initial-height)}[data-sonner-toast][data-removed=true][data-front=true][data-swipe-out=false]{--y:translateY(calc(var(--lift) * -100%));opacity:0}[data-sonner-toast][data-removed=true][data-front=false][data-swipe-out=false][data-expanded=true]{--y:translateY(calc(var(--lift) * var(--offset) + var(--lift) * -100%));opacity:0}[data-sonner-toast][data-removed=true][data-front=false][data-swipe-out=false][data-expanded=false]{--y:translateY(40%);opacity:0;transition:transform .5s,opacity .2s}[data-sonner-toast][data-removed=true][data-front=false]::before{height:calc(var(--initial-height) + 20%)}[data-sonner-toast][data-swiping=true]{transform:var(--y) translateY(var(--swipe-amount-y,0)) translateX(var(--swipe-amount-x,0));transition:none}[data-sonner-toast][data-swiped=true]{user-select:none}[data-sonner-toast][data-swipe-out=true][data-y-position=bottom],[data-sonner-toast][data-swipe-out=true][data-y-position=top]{animation-duration:.2s;animation-timing-function:ease-out;animation-fill-mode:forwards}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=left]{animation-name:swipe-out-left}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=right]{animation-name:swipe-out-right}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=up]{animation-name:swipe-out-up}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=down]{animation-name:swipe-out-down}@keyframes swipe-out-left{from{transform:var(--y) translateX(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translateX(calc(var(--swipe-amount-x) - 100%));opacity:0}}@keyframes swipe-out-right{from{transform:var(--y) translateX(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translateX(calc(var(--swipe-amount-x) + 100%));opacity:0}}@keyframes swipe-out-up{from{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) - 100%));opacity:0}}@keyframes swipe-out-down{from{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) + 100%));opacity:0}}@media (max-width:600px){[data-sonner-toaster]{position:fixed;right:var(--mobile-offset-right);left:var(--mobile-offset-left);width:100%}[data-sonner-toaster][dir=rtl]{left:calc(var(--mobile-offset-left) * -1)}[data-sonner-toaster] [data-sonner-toast]{left:0;right:0;width:calc(100% - var(--mobile-offset-left) * 2)}[data-sonner-toaster][data-x-position=left]{left:var(--mobile-offset-left)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--mobile-offset-bottom)}[data-sonner-toaster][data-y-position=top]{top:var(--mobile-offset-top)}[data-sonner-toaster][data-x-position=center]{left:var(--mobile-offset-left);right:var(--mobile-offset-right);transform:none}}[data-sonner-toaster][data-sonner-theme=light]{--normal-bg:#fff;--normal-border:var(--gray4);--normal-text:var(--gray12);--success-bg:hsl(143, 85%, 96%);--success-border:hsl(145, 92%, 87%);--success-text:hsl(140, 100%, 27%);--info-bg:hsl(208, 100%, 97%);--info-border:hsl(221, 91%, 93%);--info-text:hsl(210, 92%, 45%);--warning-bg:hsl(49, 100%, 97%);--warning-border:hsl(49, 91%, 84%);--warning-text:hsl(31, 92%, 45%);--error-bg:hsl(359, 100%, 97%);--error-border:hsl(359, 100%, 94%);--error-text:hsl(360, 100%, 45%)}[data-sonner-toaster][data-sonner-theme=light] [data-sonner-toast][data-invert=true]{--normal-bg:#000;--normal-border:hsl(0, 0%, 20%);--normal-text:var(--gray1)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast][data-invert=true]{--normal-bg:#fff;--normal-border:var(--gray3);--normal-text:var(--gray12)}[data-sonner-toaster][data-sonner-theme=dark]{--normal-bg:#000;--normal-bg-hover:hsl(0, 0%, 12%);--normal-border:hsl(0, 0%, 20%);--normal-border-hover:hsl(0, 0%, 25%);--normal-text:var(--gray1);--success-bg:hsl(150, 100%, 6%);--success-border:hsl(147, 100%, 12%);--success-text:hsl(150, 86%, 65%);--info-bg:hsl(215, 100%, 6%);--info-border:hsl(223, 43%, 17%);--info-text:hsl(216, 87%, 65%);--warning-bg:hsl(64, 100%, 6%);--warning-border:hsl(60, 100%, 9%);--warning-text:hsl(46, 87%, 65%);--error-bg:hsl(358, 76%, 10%);--error-border:hsl(357, 89%, 16%);--error-text:hsl(358, 100%, 81%)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast] [data-close-button]{background:var(--normal-bg);border-color:var(--normal-border);color:var(--normal-text)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast] [data-close-button]:hover{background:var(--normal-bg-hover);border-color:var(--normal-border-hover)}[data-rich-colors=true][data-sonner-toast][data-type=success]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=success] [data-close-button]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=info]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=info] [data-close-button]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning] [data-close-button]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=error]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}[data-rich-colors=true][data-sonner-toast][data-type=error] [data-close-button]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}.sonner-loading-wrapper{--size:16px;height:var(--size);width:var(--size);position:absolute;inset:0;z-index:10}.sonner-loading-wrapper[data-visible=false]{transform-origin:center;animation:sonner-fade-out .2s ease forwards}.sonner-spinner{position:relative;top:50%;left:50%;height:var(--size);width:var(--size)}.sonner-loading-bar{animation:sonner-spin 1.2s linear infinite;background:var(--gray11);border-radius:6px;height:8%;left:-10%;position:absolute;top:-3.9%;width:24%}.sonner-loading-bar:first-child{animation-delay:-1.2s;transform:rotate(.0001deg) translate(146%)}.sonner-loading-bar:nth-child(2){animation-delay:-1.1s;transform:rotate(30deg) translate(146%)}.sonner-loading-bar:nth-child(3){animation-delay:-1s;transform:rotate(60deg) translate(146%)}.sonner-loading-bar:nth-child(4){animation-delay:-.9s;transform:rotate(90deg) translate(146%)}.sonner-loading-bar:nth-child(5){animation-delay:-.8s;transform:rotate(120deg) translate(146%)}.sonner-loading-bar:nth-child(6){animation-delay:-.7s;transform:rotate(150deg) translate(146%)}.sonner-loading-bar:nth-child(7){animation-delay:-.6s;transform:rotate(180deg) translate(146%)}.sonner-loading-bar:nth-child(8){animation-delay:-.5s;transform:rotate(210deg) translate(146%)}.sonner-loading-bar:nth-child(9){animation-delay:-.4s;transform:rotate(240deg) translate(146%)}.sonner-loading-bar:nth-child(10){animation-delay:-.3s;transform:rotate(270deg) translate(146%)}.sonner-loading-bar:nth-child(11){animation-delay:-.2s;transform:rotate(300deg) translate(146%)}.sonner-loading-bar:nth-child(12){animation-delay:-.1s;transform:rotate(330deg) translate(146%)}@keyframes sonner-fade-in{0%{opacity:0;transform:scale(.8)}100%{opacity:1;transform:scale(1)}}@keyframes sonner-fade-out{0%{opacity:1;transform:scale(1)}100%{opacity:0;transform:scale(.8)}}@keyframes sonner-spin{0%{opacity:1}100%{opacity:.15}}@media (prefers-reduced-motion){.sonner-loading-bar,[data-sonner-toast],[data-sonner-toast]>*{transition:none!important;animation:none!important}}.sonner-loader{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);transform-origin:center;transition:opacity .2s,transform .2s}.sonner-loader[data-visible=false]{opacity:0;transform:scale(.8) translate(-50%,-50%)}");function Ll(t){return t.label!==void 0}const jP=3,kP="24px",EP="16px",yv=4e3,NP=356,CP=14,RP=45,TP=200;function Wr(...t){return t.filter(Boolean).join(" ")}function PP(t){const[e,n]=t.split("-"),o=[];return e&&o.push(e),n&&o.push(n),o}const AP=t=>{var e,n,o,i,a,u,d,h,p;const{invert:g,toast:m,unstyled:x,interacting:b,setHeights:j,visibleToasts:_,heights:S,index:E,toasts:N,expanded:C,removeToast:P,defaultRichColors:F,closeButton:V,style:I,cancelButtonStyle:z,actionButtonStyle:q,className:ne="",descriptionClassName:ce="",duration:de,position:le,gap:me,expandByDefault:be,classNames:B,icons:$,closeButtonAriaLabel:O="Close toast"}=t,[Z,K]=te.useState(null),[D,H]=te.useState(null),[Q,W]=te.useState(!1),[oe,_e]=te.useState(!1),[J,se]=te.useState(!1),[Se,Ce]=te.useState(!1),[De,Fe]=te.useState(!1),[dt,$t]=te.useState(0),[xn,tn]=te.useState(0),Qt=te.useRef(m.duration||de||yv),ei=te.useRef(null),Xt=te.useRef(null),cs=E===0,bn=E+1<=_,bt=m.type,rn=m.dismissible!==!1,aa=m.className||"",la=m.descriptionClassName||"",us=te.useMemo(()=>S.findIndex(Pe=>Pe.toastId===m.id)||0,[S,m.id]),ti=te.useMemo(()=>{var Pe;return(Pe=m.closeButton)!=null?Pe:V},[m.closeButton,V]),ds=te.useMemo(()=>m.duration||de||yv,[m.duration,de]),Vs=te.useRef(0),dr=te.useRef(0),_n=te.useRef(0),Sn=te.useRef(null),[ca,ua]=le.split("-"),da=te.useMemo(()=>S.reduce((Pe,nt,ft)=>ft>=us?Pe:Pe+nt.height,0),[S,us]),Ws=vP(),ri=m.invert||g,fs=bt==="loading";dr.current=te.useMemo(()=>us*me+da,[us,da]),te.useEffect(()=>{Qt.current=ds},[ds]),te.useEffect(()=>{W(!0)},[]),te.useEffect(()=>{const Pe=Xt.current;if(Pe){const nt=Pe.getBoundingClientRect().height;return tn(nt),j(ft=>[{toastId:m.id,height:nt,position:m.position},...ft]),()=>j(ft=>ft.filter(Nt=>Nt.toastId!==m.id))}},[j,m.id]),te.useLayoutEffect(()=>{if(!Q)return;const Pe=Xt.current,nt=Pe.style.height;Pe.style.height="auto";const ft=Pe.getBoundingClientRect().height;Pe.style.height=nt,tn(ft),j(Nt=>Nt.find(at=>at.toastId===m.id)?Nt.map(at=>at.toastId===m.id?{...at,height:ft}:at):[{toastId:m.id,height:ft,position:m.position},...Nt])},[Q,m.title,m.description,j,m.id,m.jsx,m.action,m.cancel]);const fr=te.useCallback(()=>{_e(!0),$t(dr.current),j(Pe=>Pe.filter(nt=>nt.toastId!==m.id)),setTimeout(()=>{P(m)},TP)},[m,P,j,dr]);te.useEffect(()=>{if(m.promise&&bt==="loading"||m.duration===1/0||m.type==="loading")return;let Pe;return C||b||Ws?(()=>{if(_n.current<Vs.current){const Nt=new Date().getTime()-Vs.current;Qt.current=Qt.current-Nt}_n.current=new Date().getTime()})():(()=>{Qt.current!==1/0&&(Vs.current=new Date().getTime(),Pe=setTimeout(()=>{m.onAutoClose==null||m.onAutoClose.call(m,m),fr()},Qt.current))})(),()=>clearTimeout(Pe)},[C,b,m,bt,Ws,fr]),te.useEffect(()=>{m.delete&&(fr(),m.onDismiss==null||m.onDismiss.call(m,m))},[fr,m.delete]);function ni(){var Pe;if($?.loading){var nt;return te.createElement("div",{className:Wr(B?.loader,m==null||(nt=m.classNames)==null?void 0:nt.loader,"sonner-loader"),"data-visible":bt==="loading"},$.loading)}return te.createElement(dP,{className:Wr(B?.loader,m==null||(Pe=m.classNames)==null?void 0:Pe.loader),visible:bt==="loading"})}const jn=m.icon||$?.[bt]||cP(bt);var nn,si;return te.createElement("li",{tabIndex:0,ref:Xt,className:Wr(ne,aa,B?.toast,m==null||(e=m.classNames)==null?void 0:e.toast,B?.default,B?.[bt],m==null||(n=m.classNames)==null?void 0:n[bt]),"data-sonner-toast":"","data-rich-colors":(nn=m.richColors)!=null?nn:F,"data-styled":!(m.jsx||m.unstyled||x),"data-mounted":Q,"data-promise":!!m.promise,"data-swiped":De,"data-removed":oe,"data-visible":bn,"data-y-position":ca,"data-x-position":ua,"data-index":E,"data-front":cs,"data-swiping":J,"data-dismissible":rn,"data-type":bt,"data-invert":ri,"data-swipe-out":Se,"data-swipe-direction":D,"data-expanded":!!(C||be&&Q),"data-testid":m.testId,style:{"--index":E,"--toasts-before":E,"--z-index":N.length-E,"--offset":`${oe?dt:dr.current}px`,"--initial-height":be?"auto":`${xn}px`,...I,...m.style},onDragEnd:()=>{se(!1),K(null),Sn.current=null},onPointerDown:Pe=>{Pe.button!==2&&(fs||!rn||(ei.current=new Date,$t(dr.current),Pe.target.setPointerCapture(Pe.pointerId),Pe.target.tagName!=="BUTTON"&&(se(!0),Sn.current={x:Pe.clientX,y:Pe.clientY})))},onPointerUp:()=>{var Pe,nt,ft;if(Se||!rn)return;Sn.current=null;const Nt=Number(((Pe=Xt.current)==null?void 0:Pe.style.getPropertyValue("--swipe-amount-x").replace("px",""))||0),kn=Number(((nt=Xt.current)==null?void 0:nt.style.getPropertyValue("--swipe-amount-y").replace("px",""))||0),at=new Date().getTime()-((ft=ei.current)==null?void 0:ft.getTime()),vt=Z==="x"?Nt:kn,En=Math.abs(vt)/at;if(Math.abs(vt)>=RP||En>.11){$t(dr.current),m.onDismiss==null||m.onDismiss.call(m,m),H(Z==="x"?Nt>0?"right":"left":kn>0?"down":"up"),fr(),Ce(!0);return}else{var _t,Zt;(_t=Xt.current)==null||_t.style.setProperty("--swipe-amount-x","0px"),(Zt=Xt.current)==null||Zt.style.setProperty("--swipe-amount-y","0px")}Fe(!1),se(!1),K(null)},onPointerMove:Pe=>{var nt,ft,Nt;if(!Sn.current||!rn||((nt=window.getSelection())==null?void 0:nt.toString().length)>0)return;const at=Pe.clientY-Sn.current.y,vt=Pe.clientX-Sn.current.x;var En;const _t=(En=t.swipeDirections)!=null?En:PP(le);!Z&&(Math.abs(vt)>1||Math.abs(at)>1)&&K(Math.abs(vt)>Math.abs(at)?"x":"y");let Zt={x:0,y:0};const Nn=hr=>1/(1.5+Math.abs(hr)/20);if(Z==="y"){if(_t.includes("top")||_t.includes("bottom"))if(_t.includes("top")&&at<0||_t.includes("bottom")&&at>0)Zt.y=at;else{const hr=at*Nn(at);Zt.y=Math.abs(hr)<Math.abs(at)?hr:at}}else if(Z==="x"&&(_t.includes("left")||_t.includes("right")))if(_t.includes("left")&&vt<0||_t.includes("right")&&vt>0)Zt.x=vt;else{const hr=vt*Nn(vt);Zt.x=Math.abs(hr)<Math.abs(vt)?hr:vt}(Math.abs(Zt.x)>0||Math.abs(Zt.y)>0)&&Fe(!0),(ft=Xt.current)==null||ft.style.setProperty("--swipe-amount-x",`${Zt.x}px`),(Nt=Xt.current)==null||Nt.style.setProperty("--swipe-amount-y",`${Zt.y}px`)}},ti&&!m.jsx&&bt!=="loading"?te.createElement("button",{"aria-label":O,"data-disabled":fs,"data-close-button":!0,onClick:fs||!rn?()=>{}:()=>{fr(),m.onDismiss==null||m.onDismiss.call(m,m)},className:Wr(B?.closeButton,m==null||(o=m.classNames)==null?void 0:o.closeButton)},(si=$?.close)!=null?si:gP):null,(bt||m.icon||m.promise)&&m.icon!==null&&($?.[bt]!==null||m.icon)?te.createElement("div",{"data-icon":"",className:Wr(B?.icon,m==null||(i=m.classNames)==null?void 0:i.icon)},m.promise||m.type==="loading"&&!m.icon?m.icon||ni():null,m.type!=="loading"?jn:null):null,te.createElement("div",{"data-content":"",className:Wr(B?.content,m==null||(a=m.classNames)==null?void 0:a.content)},te.createElement("div",{"data-title":"",className:Wr(B?.title,m==null||(u=m.classNames)==null?void 0:u.title)},m.jsx?m.jsx:typeof m.title=="function"?m.title():m.title),m.description?te.createElement("div",{"data-description":"",className:Wr(ce,la,B?.description,m==null||(d=m.classNames)==null?void 0:d.description)},typeof m.description=="function"?m.description():m.description):null),te.isValidElement(m.cancel)?m.cancel:m.cancel&&Ll(m.cancel)?te.createElement("button",{"data-button":!0,"data-cancel":!0,style:m.cancelButtonStyle||z,onClick:Pe=>{Ll(m.cancel)&&rn&&(m.cancel.onClick==null||m.cancel.onClick.call(m.cancel,Pe),fr())},className:Wr(B?.cancelButton,m==null||(h=m.classNames)==null?void 0:h.cancelButton)},m.cancel.label):null,te.isValidElement(m.action)?m.action:m.action&&Ll(m.action)?te.createElement("button",{"data-button":!0,"data-action":!0,style:m.actionButtonStyle||q,onClick:Pe=>{Ll(m.action)&&(m.action.onClick==null||m.action.onClick.call(m.action,Pe),!Pe.defaultPrevented&&fr())},className:Wr(B?.actionButton,m==null||(p=m.classNames)==null?void 0:p.actionButton)},m.action.label):null)};function wv(){if(typeof window>"u"||typeof document>"u")return"ltr";const t=document.documentElement.getAttribute("dir");return t==="auto"||!t?window.getComputedStyle(document.documentElement).direction:t}function OP(t,e){const n={};return[t,e].forEach((o,i)=>{const a=i===1,u=a?"--mobile-offset":"--offset",d=a?EP:kP;function h(p){["top","right","bottom","left"].forEach(g=>{n[`${u}-${g}`]=typeof p=="number"?`${p}px`:p})}typeof o=="number"||typeof o=="string"?h(o):typeof o=="object"?["top","right","bottom","left"].forEach(p=>{o[p]===void 0?n[`${u}-${p}`]=d:n[`${u}-${p}`]=typeof o[p]=="number"?`${o[p]}px`:o[p]}):h(d)}),n}const IP=te.forwardRef(function(e,n){const{id:o,invert:i,position:a="bottom-right",hotkey:u=["altKey","KeyT"],expand:d,closeButton:h,className:p,offset:g,mobileOffset:m,theme:x="light",richColors:b,duration:j,style:_,visibleToasts:S=jP,toastOptions:E,dir:N=wv(),gap:C=CP,icons:P,containerAriaLabel:F="Notifications"}=e,[V,I]=te.useState([]),z=te.useMemo(()=>o?V.filter(Q=>Q.toasterId===o):V.filter(Q=>!Q.toasterId),[V,o]),q=te.useMemo(()=>Array.from(new Set([a].concat(z.filter(Q=>Q.position).map(Q=>Q.position)))),[z,a]),[ne,ce]=te.useState([]),[de,le]=te.useState(!1),[me,be]=te.useState(!1),[B,$]=te.useState(x!=="system"?x:typeof window<"u"&&window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"),O=te.useRef(null),Z=u.join("+").replace(/Key/g,"").replace(/Digit/g,""),K=te.useRef(null),D=te.useRef(!1),H=te.useCallback(Q=>{I(W=>{var oe;return(oe=W.find(_e=>_e.id===Q.id))!=null&&oe.delete||Gt.dismiss(Q.id),W.filter(({id:_e})=>_e!==Q.id)})},[]);return te.useEffect(()=>Gt.subscribe(Q=>{if(Q.dismiss){requestAnimationFrame(()=>{I(W=>W.map(oe=>oe.id===Q.id?{...oe,delete:!0}:oe))});return}setTimeout(()=>{jv.flushSync(()=>{I(W=>{const oe=W.findIndex(_e=>_e.id===Q.id);return oe!==-1?[...W.slice(0,oe),{...W[oe],...Q},...W.slice(oe+1)]:[Q,...W]})})})}),[V]),te.useEffect(()=>{if(x!=="system"){$(x);return}if(x==="system"&&(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?$("dark"):$("light")),typeof window>"u")return;const Q=window.matchMedia("(prefers-color-scheme: dark)");try{Q.addEventListener("change",({matches:W})=>{$(W?"dark":"light")})}catch{Q.addListener(({matches:oe})=>{try{$(oe?"dark":"light")}catch(_e){console.error(_e)}})}},[x]),te.useEffect(()=>{V.length<=1&&le(!1)},[V]),te.useEffect(()=>{const Q=W=>{var oe;if(u.every(se=>W[se]||W.code===se)){var J;le(!0),(J=O.current)==null||J.focus()}W.code==="Escape"&&(document.activeElement===O.current||(oe=O.current)!=null&&oe.contains(document.activeElement))&&le(!1)};return document.addEventListener("keydown",Q),()=>document.removeEventListener("keydown",Q)},[u]),te.useEffect(()=>{if(O.current)return()=>{K.current&&(K.current.focus({preventScroll:!0}),K.current=null,D.current=!1)}},[O.current]),te.createElement("section",{ref:n,"aria-label":`${F} ${Z}`,tabIndex:-1,"aria-live":"polite","aria-relevant":"additions text","aria-atomic":"false",suppressHydrationWarning:!0},q.map((Q,W)=>{var oe;const[_e,J]=Q.split("-");return z.length?te.createElement("ol",{key:Q,dir:N==="auto"?wv():N,tabIndex:-1,ref:O,className:p,"data-sonner-toaster":!0,"data-sonner-theme":B,"data-y-position":_e,"data-x-position":J,style:{"--front-toast-height":`${((oe=ne[0])==null?void 0:oe.height)||0}px`,"--width":`${NP}px`,"--gap":`${C}px`,..._,...OP(g,m)},onBlur:se=>{D.current&&!se.currentTarget.contains(se.relatedTarget)&&(D.current=!1,K.current&&(K.current.focus({preventScroll:!0}),K.current=null))},onFocus:se=>{se.target instanceof HTMLElement&&se.target.dataset.dismissible==="false"||D.current||(D.current=!0,K.current=se.relatedTarget)},onMouseEnter:()=>le(!0),onMouseMove:()=>le(!0),onMouseLeave:()=>{me||le(!1)},onDragEnd:()=>le(!1),onPointerDown:se=>{se.target instanceof HTMLElement&&se.target.dataset.dismissible==="false"||be(!0)},onPointerUp:()=>be(!1)},z.filter(se=>!se.position&&W===0||se.position===Q).map((se,Se)=>{var Ce,De;return te.createElement(AP,{key:se.id,icons:P,index:Se,toast:se,defaultRichColors:b,duration:(Ce=E?.duration)!=null?Ce:j,className:E?.className,descriptionClassName:E?.descriptionClassName,invert:i,visibleToasts:S,closeButton:(De=E?.closeButton)!=null?De:h,interacting:me,position:Q,style:E?.style,unstyled:E?.unstyled,classNames:E?.classNames,cancelButtonStyle:E?.cancelButtonStyle,actionButtonStyle:E?.actionButtonStyle,closeButtonAriaLabel:E?.closeButtonAriaLabel,removeToast:H,toasts:z.filter(Fe=>Fe.position==se.position),heights:ne.filter(Fe=>Fe.position==se.position),setHeights:ce,expandByDefault:d,gap:C,expanded:de,swipeDirections:e.swipeDirections})})):null}))});function DP({isOpen:t,onClose:e,profile:n}){const{user:o}=Mr(),{sendFriendRequest:i,friends:a}=Z0(o?.id),[u,d]=y.useState(!1),[h,p]=y.useState(!1);y.useEffect(()=>{if(n.userId&&o?.id!==n.userId){const m=a.some(x=>x.friend_id===n.userId);d(m)}},[n.userId,a,o?.id]);const g=async()=>{if(!n.userId)return;p(!0),await i(n.userId)?(Re.success("Friend request sent!"),d(!0)):Re.error("Failed to send friend request"),p(!1)};return l.jsx(Vo,{open:t,onOpenChange:e,children:l.jsxs(Bs,{className:"sm:max-w-[600px] max-h-[80vh] flex flex-col",children:[l.jsxs(Wo,{children:[l.jsx(Ho,{children:"Profile"}),l.jsx(qo,{children:"View profile information, stats, and activity."})]}),l.jsxs("div",{className:"flex-1 overflow-y-auto space-y-6",children:[l.jsxs("div",{className:"flex items-start justify-between",children:[l.jsxs("div",{className:"flex items-start gap-4",children:[l.jsx(Ut,{className:"h-16 w-16",children:l.jsx(zt,{children:l.jsx(cr,{className:"h-8 w-8"})})}),l.jsxs("div",{className:"flex-1",children:[l.jsx("h3",{className:"text-lg font-semibold",children:n.name}),l.jsxs("p",{className:"text-muted-foreground",children:["@",n.username]}),l.jsxs("div",{className:"flex items-center gap-2 mt-2",children:[l.jsx(Kj,{className:"h-4 w-4 text-muted-foreground"}),l.jsxs("span",{className:"text-sm text-muted-foreground",children:["Joined ",n.joinDate]})]})]})]}),o?.id!==n.userId&&l.jsx(re,{size:"sm",onClick:g,disabled:h||u,className:"shrink-0",children:u?l.jsxs(l.Fragment,{children:[l.jsx(G1,{className:"h-4 w-4 mr-2"}),"Friends"]}):l.jsxs(l.Fragment,{children:[l.jsx(J1,{className:"h-4 w-4 mr-2"}),"Add Friend"]})})]}),(n.instagram||n.tiktok)&&l.jsxs(l.Fragment,{children:[l.jsx(Qi,{}),l.jsxs("div",{className:"space-y-2",children:[l.jsx("p",{className:"text-sm font-semibold",children:"Social Links"}),l.jsxs("div",{className:"flex gap-3",children:[n.instagram&&l.jsx(re,{variant:"outline",size:"sm",asChild:!0,children:l.jsxs("a",{href:`https://instagram.com/${n.instagram}`,target:"_blank",rel:"noopener noreferrer",children:[l.jsx(w1,{className:"h-4 w-4 mr-2"}),"Instagram"]})}),n.tiktok&&l.jsx(re,{variant:"outline",size:"sm",asChild:!0,children:l.jsxs("a",{href:`https://tiktok.com/@${n.tiktok}`,target:"_blank",rel:"noopener noreferrer",children:[l.jsx(Pf,{className:"h-4 w-4 mr-2"}),"TikTok"]})})]})]})]}),l.jsx(Qi,{}),l.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[l.jsx(Ae,{children:l.jsxs($e,{className:"p-4 text-center",children:[l.jsx("div",{className:"text-2xl font-bold",children:n.totalIdeas}),l.jsx("div",{className:"text-sm text-muted-foreground",children:"Ideas"})]})}),l.jsx(Ae,{children:l.jsxs($e,{className:"p-4 text-center",children:[l.jsx("div",{className:"text-2xl font-bold text-green-600",children:n.totalVotes}),l.jsx("div",{className:"text-sm text-muted-foreground",children:"Votes"})]})}),l.jsx(Ae,{children:l.jsxs($e,{className:"p-4 text-center",children:[l.jsx("div",{className:"text-2xl font-bold",children:n.totalComments}),l.jsx("div",{className:"text-sm text-muted-foreground",children:"Comments"})]})}),l.jsx(Ae,{children:l.jsxs($e,{className:"p-4 text-center",children:[l.jsxs("div",{className:"flex items-center justify-center gap-1",children:[l.jsx(q1,{className:"h-5 w-5 text-yellow-500"}),l.jsx("div",{className:"text-2xl font-bold",children:n.reputation})]}),l.jsx("div",{className:"text-sm text-muted-foreground",children:"Reputation"})]})})]}),l.jsxs(Qo,{defaultValue:"ideas",className:"w-full",children:[l.jsxs(Xo,{className:"grid w-full grid-cols-2",children:[l.jsx(Yt,{value:"ideas",children:"Recent Ideas"}),l.jsx(Yt,{value:"comments",children:"Recent Comments"})]}),l.jsx(Jt,{value:"ideas",className:"space-y-3",children:n.recentIdeas.map(m=>l.jsxs(Ae,{children:[l.jsx(Dt,{className:"pb-2",children:l.jsxs("div",{className:"flex items-start justify-between",children:[l.jsx("h4",{className:"font-medium",children:m.title}),l.jsx(Lt,{variant:"secondary",children:m.category})]})}),l.jsx($e,{className:"pt-0",children:l.jsxs("div",{className:"flex items-center justify-between text-sm text-muted-foreground",children:[l.jsxs("div",{className:"flex items-center gap-1",children:[l.jsx(B1,{className:"h-4 w-4"}),m.votes," votes"]}),l.jsx("span",{children:m.timeAgo})]})})]},m.id))}),l.jsx(Jt,{value:"comments",className:"space-y-3",children:n.recentComments.map(m=>l.jsxs(Ae,{children:[l.jsx(Dt,{className:"pb-2",children:l.jsxs("h4",{className:"font-medium text-sm",children:["Re: ",m.ideaTitle]})}),l.jsxs($e,{className:"pt-0",children:[l.jsx("p",{className:"text-sm mb-2",children:m.content}),l.jsxs("div",{className:"flex items-center gap-1 text-xs text-muted-foreground",children:[l.jsx(N1,{className:"h-3 w-3"}),m.timeAgo]})]})]},m.id))})]})]}),l.jsx("div",{className:"flex justify-end",children:l.jsx(re,{variant:"outline",onClick:e,children:"Close"})})]})})}function LP(t,e){return y.useReducer((n,o)=>e[n][o]??n,t)}var ih="ScrollArea",[ex]=zs(ih),[$P,Sr]=ex(ih),tx=y.forwardRef((t,e)=>{const{__scopeScrollArea:n,type:o="hover",dir:i,scrollHideDelay:a=600,...u}=t,[d,h]=y.useState(null),[p,g]=y.useState(null),[m,x]=y.useState(null),[b,j]=y.useState(null),[_,S]=y.useState(null),[E,N]=y.useState(0),[C,P]=y.useState(0),[F,V]=y.useState(!1),[I,z]=y.useState(!1),q=qe(e,ce=>h(ce)),ne=fc(i);return l.jsx($P,{scope:n,type:o,dir:ne,scrollHideDelay:a,scrollArea:d,viewport:p,onViewportChange:g,content:m,onContentChange:x,scrollbarX:b,onScrollbarXChange:j,scrollbarXEnabled:F,onScrollbarXEnabledChange:V,scrollbarY:_,onScrollbarYChange:S,scrollbarYEnabled:I,onScrollbarYEnabledChange:z,onCornerWidthChange:N,onCornerHeightChange:P,children:l.jsx(Me.div,{dir:ne,...u,ref:q,style:{position:"relative","--radix-scroll-area-corner-width":E+"px","--radix-scroll-area-corner-height":C+"px",...t.style}})})});tx.displayName=ih;var rx="ScrollAreaViewport",nx=y.forwardRef((t,e)=>{const{__scopeScrollArea:n,children:o,nonce:i,...a}=t,u=Sr(rx,n),d=y.useRef(null),h=qe(e,d,u.onViewportChange);return l.jsxs(l.Fragment,{children:[l.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-scroll-area-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-scroll-area-viewport]::-webkit-scrollbar{display:none}"},nonce:i}),l.jsx(Me.div,{"data-radix-scroll-area-viewport":"",...a,ref:h,style:{overflowX:u.scrollbarXEnabled?"scroll":"hidden",overflowY:u.scrollbarYEnabled?"scroll":"hidden",...t.style},children:l.jsx("div",{ref:u.onContentChange,style:{minWidth:"100%",display:"table"},children:o})})]})});nx.displayName=rx;var en="ScrollAreaScrollbar",sx=y.forwardRef((t,e)=>{const{forceMount:n,...o}=t,i=Sr(en,t.__scopeScrollArea),{onScrollbarXEnabledChange:a,onScrollbarYEnabledChange:u}=i,d=t.orientation==="horizontal";return y.useEffect(()=>(d?a(!0):u(!0),()=>{d?a(!1):u(!1)}),[d,a,u]),i.type==="hover"?l.jsx(MP,{...o,ref:e,forceMount:n}):i.type==="scroll"?l.jsx(FP,{...o,ref:e,forceMount:n}):i.type==="auto"?l.jsx(ox,{...o,ref:e,forceMount:n}):i.type==="always"?l.jsx(ah,{...o,ref:e}):null});sx.displayName=en;var MP=y.forwardRef((t,e)=>{const{forceMount:n,...o}=t,i=Sr(en,t.__scopeScrollArea),[a,u]=y.useState(!1);return y.useEffect(()=>{const d=i.scrollArea;let h=0;if(d){const p=()=>{window.clearTimeout(h),u(!0)},g=()=>{h=window.setTimeout(()=>u(!1),i.scrollHideDelay)};return d.addEventListener("pointerenter",p),d.addEventListener("pointerleave",g),()=>{window.clearTimeout(h),d.removeEventListener("pointerenter",p),d.removeEventListener("pointerleave",g)}}},[i.scrollArea,i.scrollHideDelay]),l.jsx(wn,{present:n||a,children:l.jsx(ox,{"data-state":a?"visible":"hidden",...o,ref:e})})}),FP=y.forwardRef((t,e)=>{const{forceMount:n,...o}=t,i=Sr(en,t.__scopeScrollArea),a=t.orientation==="horizontal",u=Sc(()=>h("SCROLL_END"),100),[d,h]=LP("hidden",{hidden:{SCROLL:"scrolling"},scrolling:{SCROLL_END:"idle",POINTER_ENTER:"interacting"},interacting:{SCROLL:"interacting",POINTER_LEAVE:"idle"},idle:{HIDE:"hidden",SCROLL:"scrolling",POINTER_ENTER:"interacting"}});return y.useEffect(()=>{if(d==="idle"){const p=window.setTimeout(()=>h("HIDE"),i.scrollHideDelay);return()=>window.clearTimeout(p)}},[d,i.scrollHideDelay,h]),y.useEffect(()=>{const p=i.viewport,g=a?"scrollLeft":"scrollTop";if(p){let m=p[g];const x=()=>{const b=p[g];m!==b&&(h("SCROLL"),u()),m=b};return p.addEventListener("scroll",x),()=>p.removeEventListener("scroll",x)}},[i.viewport,a,h,u]),l.jsx(wn,{present:n||d!=="hidden",children:l.jsx(ah,{"data-state":d==="hidden"?"hidden":"visible",...o,ref:e,onPointerEnter:Oe(t.onPointerEnter,()=>h("POINTER_ENTER")),onPointerLeave:Oe(t.onPointerLeave,()=>h("POINTER_LEAVE"))})})}),ox=y.forwardRef((t,e)=>{const n=Sr(en,t.__scopeScrollArea),{forceMount:o,...i}=t,[a,u]=y.useState(!1),d=t.orientation==="horizontal",h=Sc(()=>{if(n.viewport){const p=n.viewport.offsetWidth<n.viewport.scrollWidth,g=n.viewport.offsetHeight<n.viewport.scrollHeight;u(d?p:g)}},10);return Do(n.viewport,h),Do(n.content,h),l.jsx(wn,{present:o||a,children:l.jsx(ah,{"data-state":a?"visible":"hidden",...i,ref:e})})}),ah=y.forwardRef((t,e)=>{const{orientation:n="vertical",...o}=t,i=Sr(en,t.__scopeScrollArea),a=y.useRef(null),u=y.useRef(0),[d,h]=y.useState({content:0,viewport:0,scrollbar:{size:0,paddingStart:0,paddingEnd:0}}),p=ux(d.viewport,d.content),g={...o,sizes:d,onSizesChange:h,hasThumb:p>0&&p<1,onThumbChange:x=>a.current=x,onThumbPointerUp:()=>u.current=0,onThumbPointerDown:x=>u.current=x};function m(x,b){return HP(x,u.current,d,b)}return n==="horizontal"?l.jsx(UP,{...g,ref:e,onThumbPositionChange:()=>{if(i.viewport&&a.current){const x=i.viewport.scrollLeft,b=xv(x,d,i.dir);a.current.style.transform=`translate3d(${b}px, 0, 0)`}},onWheelScroll:x=>{i.viewport&&(i.viewport.scrollLeft=x)},onDragScroll:x=>{i.viewport&&(i.viewport.scrollLeft=m(x,i.dir))}}):n==="vertical"?l.jsx(zP,{...g,ref:e,onThumbPositionChange:()=>{if(i.viewport&&a.current){const x=i.viewport.scrollTop,b=xv(x,d);a.current.style.transform=`translate3d(0, ${b}px, 0)`}},onWheelScroll:x=>{i.viewport&&(i.viewport.scrollTop=x)},onDragScroll:x=>{i.viewport&&(i.viewport.scrollTop=m(x))}}):null}),UP=y.forwardRef((t,e)=>{const{sizes:n,onSizesChange:o,...i}=t,a=Sr(en,t.__scopeScrollArea),[u,d]=y.useState(),h=y.useRef(null),p=qe(e,h,a.onScrollbarXChange);return y.useEffect(()=>{h.current&&d(getComputedStyle(h.current))},[h]),l.jsx(ax,{"data-orientation":"horizontal",...i,ref:p,sizes:n,style:{bottom:0,left:a.dir==="rtl"?"var(--radix-scroll-area-corner-width)":0,right:a.dir==="ltr"?"var(--radix-scroll-area-corner-width)":0,"--radix-scroll-area-thumb-width":_c(n)+"px",...t.style},onThumbPointerDown:g=>t.onThumbPointerDown(g.x),onDragScroll:g=>t.onDragScroll(g.x),onWheelScroll:(g,m)=>{if(a.viewport){const x=a.viewport.scrollLeft+g.deltaX;t.onWheelScroll(x),fx(x,m)&&g.preventDefault()}},onResize:()=>{h.current&&a.viewport&&u&&o({content:a.viewport.scrollWidth,viewport:a.viewport.offsetWidth,scrollbar:{size:h.current.clientWidth,paddingStart:rc(u.paddingLeft),paddingEnd:rc(u.paddingRight)}})}})}),zP=y.forwardRef((t,e)=>{const{sizes:n,onSizesChange:o,...i}=t,a=Sr(en,t.__scopeScrollArea),[u,d]=y.useState(),h=y.useRef(null),p=qe(e,h,a.onScrollbarYChange);return y.useEffect(()=>{h.current&&d(getComputedStyle(h.current))},[h]),l.jsx(ax,{"data-orientation":"vertical",...i,ref:p,sizes:n,style:{top:0,right:a.dir==="ltr"?0:void 0,left:a.dir==="rtl"?0:void 0,bottom:"var(--radix-scroll-area-corner-height)","--radix-scroll-area-thumb-height":_c(n)+"px",...t.style},onThumbPointerDown:g=>t.onThumbPointerDown(g.y),onDragScroll:g=>t.onDragScroll(g.y),onWheelScroll:(g,m)=>{if(a.viewport){const x=a.viewport.scrollTop+g.deltaY;t.onWheelScroll(x),fx(x,m)&&g.preventDefault()}},onResize:()=>{h.current&&a.viewport&&u&&o({content:a.viewport.scrollHeight,viewport:a.viewport.offsetHeight,scrollbar:{size:h.current.clientHeight,paddingStart:rc(u.paddingTop),paddingEnd:rc(u.paddingBottom)}})}})}),[BP,ix]=ex(en),ax=y.forwardRef((t,e)=>{const{__scopeScrollArea:n,sizes:o,hasThumb:i,onThumbChange:a,onThumbPointerUp:u,onThumbPointerDown:d,onThumbPositionChange:h,onDragScroll:p,onWheelScroll:g,onResize:m,...x}=t,b=Sr(en,n),[j,_]=y.useState(null),S=qe(e,q=>_(q)),E=y.useRef(null),N=y.useRef(""),C=b.viewport,P=o.content-o.viewport,F=It(g),V=It(h),I=Sc(m,10);function z(q){if(E.current){const ne=q.clientX-E.current.left,ce=q.clientY-E.current.top;p({x:ne,y:ce})}}return y.useEffect(()=>{const q=ne=>{const ce=ne.target;j?.contains(ce)&&F(ne,P)};return document.addEventListener("wheel",q,{passive:!1}),()=>document.removeEventListener("wheel",q,{passive:!1})},[C,j,P,F]),y.useEffect(V,[o,V]),Do(j,I),Do(b.content,I),l.jsx(BP,{scope:n,scrollbar:j,hasThumb:i,onThumbChange:It(a),onThumbPointerUp:It(u),onThumbPositionChange:V,onThumbPointerDown:It(d),children:l.jsx(Me.div,{...x,ref:S,style:{position:"absolute",...x.style},onPointerDown:Oe(t.onPointerDown,q=>{q.button===0&&(q.target.setPointerCapture(q.pointerId),E.current=j.getBoundingClientRect(),N.current=document.body.style.webkitUserSelect,document.body.style.webkitUserSelect="none",b.viewport&&(b.viewport.style.scrollBehavior="auto"),z(q))}),onPointerMove:Oe(t.onPointerMove,z),onPointerUp:Oe(t.onPointerUp,q=>{const ne=q.target;ne.hasPointerCapture(q.pointerId)&&ne.releasePointerCapture(q.pointerId),document.body.style.webkitUserSelect=N.current,b.viewport&&(b.viewport.style.scrollBehavior=""),E.current=null})})})}),tc="ScrollAreaThumb",lx=y.forwardRef((t,e)=>{const{forceMount:n,...o}=t,i=ix(tc,t.__scopeScrollArea);return l.jsx(wn,{present:n||i.hasThumb,children:l.jsx(VP,{ref:e,...o})})}),VP=y.forwardRef((t,e)=>{const{__scopeScrollArea:n,style:o,...i}=t,a=Sr(tc,n),u=ix(tc,n),{onThumbPositionChange:d}=u,h=qe(e,m=>u.onThumbChange(m)),p=y.useRef(void 0),g=Sc(()=>{p.current&&(p.current(),p.current=void 0)},100);return y.useEffect(()=>{const m=a.viewport;if(m){const x=()=>{if(g(),!p.current){const b=qP(m,d);p.current=b,d()}};return d(),m.addEventListener("scroll",x),()=>m.removeEventListener("scroll",x)}},[a.viewport,g,d]),l.jsx(Me.div,{"data-state":u.hasThumb?"visible":"hidden",...i,ref:h,style:{width:"var(--radix-scroll-area-thumb-width)",height:"var(--radix-scroll-area-thumb-height)",...o},onPointerDownCapture:Oe(t.onPointerDownCapture,m=>{const b=m.target.getBoundingClientRect(),j=m.clientX-b.left,_=m.clientY-b.top;u.onThumbPointerDown({x:j,y:_})}),onPointerUp:Oe(t.onPointerUp,u.onThumbPointerUp)})});lx.displayName=tc;var lh="ScrollAreaCorner",cx=y.forwardRef((t,e)=>{const n=Sr(lh,t.__scopeScrollArea),o=!!(n.scrollbarX&&n.scrollbarY);return n.type!=="scroll"&&o?l.jsx(WP,{...t,ref:e}):null});cx.displayName=lh;var WP=y.forwardRef((t,e)=>{const{__scopeScrollArea:n,...o}=t,i=Sr(lh,n),[a,u]=y.useState(0),[d,h]=y.useState(0),p=!!(a&&d);return Do(i.scrollbarX,()=>{const g=i.scrollbarX?.offsetHeight||0;i.onCornerHeightChange(g),h(g)}),Do(i.scrollbarY,()=>{const g=i.scrollbarY?.offsetWidth||0;i.onCornerWidthChange(g),u(g)}),p?l.jsx(Me.div,{...o,ref:e,style:{width:a,height:d,position:"absolute",right:i.dir==="ltr"?0:void 0,left:i.dir==="rtl"?0:void 0,bottom:0,...t.style}}):null});function rc(t){return t?parseInt(t,10):0}function ux(t,e){const n=t/e;return isNaN(n)?0:n}function _c(t){const e=ux(t.viewport,t.content),n=t.scrollbar.paddingStart+t.scrollbar.paddingEnd,o=(t.scrollbar.size-n)*e;return Math.max(o,18)}function HP(t,e,n,o="ltr"){const i=_c(n),a=i/2,u=e||a,d=i-u,h=n.scrollbar.paddingStart+u,p=n.scrollbar.size-n.scrollbar.paddingEnd-d,g=n.content-n.viewport,m=o==="ltr"?[0,g]:[g*-1,0];return dx([h,p],m)(t)}function xv(t,e,n="ltr"){const o=_c(e),i=e.scrollbar.paddingStart+e.scrollbar.paddingEnd,a=e.scrollbar.size-i,u=e.content-e.viewport,d=a-o,h=n==="ltr"?[0,u]:[u*-1,0],p=Xd(t,h);return dx([0,u],[0,d])(p)}function dx(t,e){return n=>{if(t[0]===t[1]||e[0]===e[1])return e[0];const o=(e[1]-e[0])/(t[1]-t[0]);return e[0]+o*(n-t[0])}}function fx(t,e){return t>0&&t<e}var qP=(t,e=()=>{})=>{let n={left:t.scrollLeft,top:t.scrollTop},o=0;return(function i(){const a={left:t.scrollLeft,top:t.scrollTop},u=n.left!==a.left,d=n.top!==a.top;(u||d)&&e(),n=a,o=window.requestAnimationFrame(i)})(),()=>window.cancelAnimationFrame(o)};function Sc(t,e){const n=It(t),o=y.useRef(0);return y.useEffect(()=>()=>window.clearTimeout(o.current),[]),y.useCallback(()=>{window.clearTimeout(o.current),o.current=window.setTimeout(n,e)},[n,e])}function Do(t,e){const n=It(e);ut(()=>{let o=0;if(t){const i=new ResizeObserver(()=>{cancelAnimationFrame(o),o=window.requestAnimationFrame(n)});return i.observe(t),()=>{window.cancelAnimationFrame(o),i.unobserve(t)}}},[t,n])}var KP=tx,GP=nx,YP=cx;function bv({className:t,children:e,...n}){return l.jsxs(KP,{"data-slot":"scroll-area",className:ge("relative",t),...n,children:[l.jsx(GP,{"data-slot":"scroll-area-viewport",className:"focus-visible:ring-ring/50 size-full rounded-[inherit] transition-[color,box-shadow] outline-none focus-visible:ring-[3px] focus-visible:outline-1",children:e}),l.jsx(JP,{}),l.jsx(YP,{})]})}function JP({className:t,orientation:e="vertical",...n}){return l.jsx(sx,{"data-slot":"scroll-area-scrollbar",orientation:e,className:ge("flex touch-none p-px transition-colors select-none",e==="vertical"&&"h-full w-2.5 border-l border-l-transparent",e==="horizontal"&&"h-2.5 flex-col border-t border-t-transparent",t),...n,children:l.jsx(lx,{"data-slot":"scroll-area-thumb",className:"bg-border relative flex-1 rounded-full"})})}function QP(t){return new Date(t).toLocaleTimeString("en-US",{hour:"2-digit",minute:"2-digit"})}function XP(t,e){const[n,o]=y.useState([]),[i,a]=y.useState(!0),[u,d]=y.useState(null);y.useEffect(()=>{if(e){h();const g=ie.channel(`messages_${t}_${e}`).on("postgres_changes",{event:"INSERT",schema:"public",table:"messages",filter:`sender_id=eq.${e},recipient_id=eq.${t}`},()=>h()).subscribe();return()=>{g.unsubscribe()}}},[t,e]);async function h(){if(e)try{const{data:g,error:m}=await ie.from("messages").select(`
          *,
          sender:profiles!messages_sender_id_fkey(username, full_name)
        `).or(`and(sender_id.eq.${t},recipient_id.eq.${e}),and(sender_id.eq.${e},recipient_id.eq.${t})`).order("created_at",{ascending:!0});if(m)throw m;const x=(g||[]).map(b=>({id:b.id,sender:b.sender?.full_name||b.sender?.username||"Unknown",senderId:b.sender_id,content:b.content,timestamp:QP(b.created_at),isCurrentUser:b.sender_id===t}));o(x),d(null),g&&g.length>0&&await ie.from("messages").update({read:!0}).eq("recipient_id",t).eq("sender_id",e).eq("read",!1)}catch(g){console.error("Error fetching messages:",g),d(g instanceof Error?g.message:"Failed to fetch messages")}finally{a(!1)}}async function p(g){if(!e)throw new Error("No recipient selected");try{const{error:m}=await ie.from("messages").insert({sender_id:t,recipient_id:e,content:g,read:!1});if(m)throw m;await h()}catch(m){throw console.error("Error sending message:",m),m}}return{messages:n,loading:i,error:u,sendMessage:p,refetch:h}}function hx(t){const[e,n]=y.useState([]),[o,i]=y.useState(!0),[a,u]=y.useState(null);y.useEffect(()=>{d()},[t]);async function d(){try{const{data:m,error:x}=await ie.from("profiles").select("*").neq("id",t);if(x)throw x;const b=await Promise.all((m||[]).map(async j=>{const{data:_}=await ie.from("messages").select("content, created_at").or(`and(sender_id.eq.${t},recipient_id.eq.${j.id}),and(sender_id.eq.${j.id},recipient_id.eq.${t})`).order("created_at",{ascending:!1}).limit(1).maybeSingle();return{id:j.id,name:j.full_name||j.username,isOnline:!1,lastMessage:_?.content}}));n(b),u(null)}catch(m){console.error("Error fetching users:",m),u(m instanceof Error?m.message:"Failed to fetch users")}finally{i(!1)}}return{users:e,loading:o,error:a,refetch:d,fetchConversations:async()=>{if(!t)return[];try{const{data:m}=await ie.from("messages").select("sender_id, recipient_id, content, created_at, read").or(`sender_id.eq.${t},recipient_id.eq.${t}`).order("created_at",{ascending:!1}),x=new Map;for(const b of m||[]){const j=b.sender_id===t?b.recipient_id:b.sender_id;if(x.has(j)){const _=x.get(j);b.recipient_id===t&&!b.read&&(_.unreadCount=(_.unreadCount||0)+1)}else{const{data:_}=await ie.from("profiles").select("username, full_name, avatar_url").eq("id",j).single();x.set(j,{id:j,username:_?.username||"Unknown",full_name:_?.full_name||"Unknown",avatar_url:_?.avatar_url,lastMessage:b.content,lastMessageTime:b.created_at,unreadCount:b.recipient_id===t&&!b.read?1:0})}}return Array.from(x.values())}catch(m){return console.error("Error fetching conversations:",m),[]}},sendMessage:async(m,x)=>{if(!t||!x.trim())return!1;try{const{error:b}=await ie.from("messages").insert({sender_id:t,recipient_id:m,content:x.trim()});return!b}catch(b){return console.error("Error sending message:",b),!1}},markAsRead:async m=>{if(!t||m.length===0)return!1;try{const{error:x}=await ie.from("messages").update({read:!0}).in("id",m);return!x}catch(x){return console.error("Error marking as read:",x),!1}}}}function ZP({isOpen:t,onClose:e}){const{user:n}=Mr(),[o,i]=y.useState(null),[a,u]=y.useState(""),[d,h]=y.useState(""),{users:p}=hx(n?.id||""),{messages:g,sendMessage:m}=XP(n?.id||"",o||void 0),x=p.filter(_=>_.name.toLowerCase().includes(d.toLowerCase())),b=async _=>{if(_.preventDefault(),a.trim()&&n)try{await m(a),u("")}catch(S){console.error("Error sending message:",S),alert("Failed to send message")}},j=p.find(_=>_.id===o);return l.jsx(Vo,{open:t,onOpenChange:e,children:l.jsxs(Bs,{className:"sm:max-w-[800px] h-[600px] flex flex-col p-0",children:[l.jsxs(Wo,{className:"p-6 pb-0",children:[l.jsx(Ho,{children:"Messages"}),l.jsx(qo,{children:"Chat with other students about ideas and proposals. Select a user to start or continue a conversation."})]}),l.jsxs("div",{className:"flex flex-1 overflow-hidden",children:[l.jsxs("div",{className:"w-1/3 border-r bg-muted/20",children:[l.jsx("div",{className:"p-4 border-b",children:l.jsxs("div",{className:"relative",children:[l.jsx(lc,{className:"absolute left-3 top-1/2 h-4 w-4 -translate-y-1/2 text-muted-foreground"}),l.jsx(rt,{placeholder:"Search users...",value:d,onChange:_=>h(_.target.value),className:"pl-10"})]})}),l.jsx(bv,{className:"h-[calc(600px-120px)]",children:l.jsx("div",{className:"p-2 space-y-1",children:x.map(_=>l.jsx(Ae,{className:ge("cursor-pointer transition-colors hover:bg-accent",o===_.id&&"bg-accent"),onClick:()=>i(_.id),children:l.jsx($e,{className:"p-3",children:l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsxs("div",{className:"relative",children:[l.jsx(Ut,{className:"h-10 w-10",children:l.jsx(zt,{children:l.jsx(cr,{className:"h-5 w-5"})})}),_.isOnline&&l.jsx("div",{className:"absolute -bottom-1 -right-1 h-3 w-3 bg-green-500 rounded-full border-2 border-background"})]}),l.jsxs("div",{className:"flex-1 min-w-0",children:[l.jsx("p",{className:"font-medium truncate",children:_.name}),_.lastMessage&&l.jsx("p",{className:"text-xs text-muted-foreground truncate",children:_.lastMessage})]})]})})},_.id))})})]}),l.jsx("div",{className:"flex-1 flex flex-col",children:o?l.jsxs(l.Fragment,{children:[l.jsx("div",{className:"p-4 border-b",children:l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx(Ut,{className:"h-10 w-10",children:l.jsx(zt,{children:l.jsx(cr,{className:"h-5 w-5"})})}),l.jsxs("div",{children:[l.jsx("h3",{className:"font-medium",children:j?.name}),l.jsx("p",{className:"text-xs text-muted-foreground",children:j?.isOnline?"Online":"Offline"})]})]})}),l.jsx(bv,{className:"flex-1 p-4",children:l.jsx("div",{className:"space-y-4",children:g.map(_=>l.jsxs("div",{className:ge("flex gap-3",_.isCurrentUser&&"flex-row-reverse"),children:[l.jsx(Ut,{className:"h-8 w-8",children:l.jsx(zt,{children:l.jsx(cr,{className:"h-4 w-4"})})}),l.jsxs("div",{className:ge("max-w-[70%] space-y-1",_.isCurrentUser&&"items-end"),children:[l.jsx("div",{className:ge("rounded-lg p-3",_.isCurrentUser?"bg-primary text-primary-foreground":"bg-muted"),children:l.jsx("p",{className:"text-sm",children:_.content})}),l.jsx("p",{className:"text-xs text-muted-foreground",children:_.timestamp})]})]},_.id))})}),l.jsx("form",{onSubmit:b,className:"p-4 border-t",children:l.jsxs("div",{className:"flex gap-2",children:[l.jsx(rt,{placeholder:"Type a message...",value:a,onChange:_=>u(_.target.value),className:"flex-1"}),l.jsx(re,{type:"submit",size:"icon",disabled:!a.trim(),children:l.jsx(ko,{className:"h-4 w-4"})})]})})]}):l.jsx("div",{className:"flex-1 flex items-center justify-center",children:l.jsx("p",{className:"text-muted-foreground",children:"Select a user to start chatting"})})})]})]})})}function eA(){const[t,e]=y.useState(null),[n,o]=y.useState(!1),[i,a]=y.useState(!1);return y.useEffect(()=>{const d=window.location.hostname==="localhost"||window.location.hostname==="127.0.0.1",h=window.location.protocol==="https:";if(window!==window.parent){console.log("PWA features disabled in iframe environment");return}window.matchMedia("(display-mode: standalone)").matches&&a(!0);const g=m=>{m.preventDefault(),e(m),o(!0)};return window.addEventListener("beforeinstallprompt",g),window.addEventListener("appinstalled",()=>{a(!0),o(!1),e(null)}),"serviceWorker"in navigator&&(h||d)&&navigator.serviceWorker.register("/service-worker.js").then(m=>{console.log("Service Worker registered successfully:",m)}).catch(m=>{console.warn("Service Worker registration failed (this is normal in preview environments):",m.message)}),()=>{window.removeEventListener("beforeinstallprompt",g)}},[]),{isInstallable:n,isInstalled:i,installApp:async()=>{if(!t)return;t.prompt();const{outcome:d}=await t.userChoice;console.log(d==="accepted"?"User accepted the install prompt":"User dismissed the install prompt"),e(null),o(!1)}}}function tA(){const{isInstallable:t,isInstalled:e,installApp:n}=eA(),[o,i]=y.useState(!1);return typeof window<"u"&&window!==window.parent||e||!t||o?null:l.jsx("div",{className:"fixed bottom-4 left-4 right-4 z-50 md:left-auto md:right-4 md:max-w-sm",children:l.jsx(Ae,{className:"border-2 shadow-lg",children:l.jsx($e,{className:"p-4",children:l.jsxs("div",{className:"flex items-start gap-3",children:[l.jsx("div",{className:"flex-shrink-0 mt-1",children:l.jsx(U1,{className:"h-6 w-6 text-primary"})}),l.jsxs("div",{className:"flex-1 min-w-0",children:[l.jsx("h4",{className:"mb-1",children:"Install School Ideas"}),l.jsx("p",{className:"text-sm text-muted-foreground mb-3",children:"Add to your home screen for quick access and offline support"}),l.jsxs("div",{className:"flex gap-2",children:[l.jsxs(re,{onClick:n,size:"sm",className:"gap-2",children:[l.jsx(c1,{className:"h-4 w-4"}),"Install"]}),l.jsx(re,{onClick:()=>i(!0),size:"sm",variant:"ghost",children:"Later"})]})]}),l.jsx(re,{variant:"ghost",size:"sm",onClick:()=>i(!0),className:"flex-shrink-0 h-8 w-8 p-0",children:l.jsx(Af,{className:"h-4 w-4"})})]})})})})}function ta(t){const e=new Date(t),o=new Date().getTime()-e.getTime(),i=Math.floor(o/6e4),a=Math.floor(o/36e5),u=Math.floor(o/864e5);return i<1?"just now":i<60?`${i} minute${i>1?"s":""} ago`:a<24?`${a} hour${a>1?"s":""} ago`:u<7?`${u} day${u>1?"s":""} ago`:e.toLocaleDateString()}function jc(t){const[e,n]=y.useState([]),[o,i]=y.useState(!0),[a,u]=y.useState(null);y.useEffect(()=>{d();const h=ie.channel("ideas_changes").on("postgres_changes",{event:"*",schema:"public",table:"ideas"},()=>d()).subscribe();return()=>{h.unsubscribe()}},[t]);async function d(){try{const{data:h,error:p}=await ie.from("ideas").select(`
          *,
          author:profiles!ideas_author_id_fkey(username, full_name)
        `).order("created_at",{ascending:!1});if(p)throw p;let g=[];if(t){const{data:x,error:b}=await ie.from("votes").select("idea_id, vote_type").eq("user_id",t);!b&&x&&(g=x)}const m=(h||[]).map(x=>{const b=g.find(j=>j.idea_id===x.id);return{id:x.id,title:x.title,description:x.description,author:x.author?.full_name||x.author?.username||"Unknown",category:x.category,votes:x.votes,userVote:b?b.vote_type:null,commentCount:x.comment_count,timeAgo:ta(x.created_at)}});n(m),u(null)}catch(h){console.error("Error fetching ideas:",h),u(h instanceof Error?h.message:"Failed to fetch ideas")}finally{i(!1)}}return{ideas:e,loading:o,error:a,refetch:d}}function px(t){const[e,n]=y.useState([]),[o,i]=y.useState(!0),[a,u]=y.useState(null);y.useEffect(()=>{d();const h=ie.channel("teacher_ideas_changes").on("postgres_changes",{event:"*",schema:"public",table:"ideas"},()=>d()).subscribe();return()=>{h.unsubscribe()}},[t]);async function d(){try{const{data:h,error:p}=await ie.from("ideas").select(`
          *,
          author:profiles!ideas_author_id_fkey(username, full_name),
          reviewer:profiles!ideas_reviewed_by_fkey(username, full_name)
        `).order("created_at",{ascending:!1});if(p)throw p;let g=[];if(t){const{data:x,error:b}=await ie.from("votes").select("idea_id, vote_type").eq("user_id",t);!b&&x&&(g=x)}const m=(h||[]).map(x=>{const b=g.find(j=>j.idea_id===x.id);return{id:x.id,title:x.title,description:x.description,author:x.author?.full_name||x.author?.username||"Unknown",category:x.category,votes:x.votes,userVote:b?b.vote_type:null,commentCount:x.comment_count,timeAgo:ta(x.created_at),status:x.status,teacherNotes:x.teacher_notes||void 0,forwardedDate:x.forwarded_date?ta(x.forwarded_date):void 0,reviewedBy:x.reviewer?.full_name||x.reviewer?.username||void 0}});n(m),u(null)}catch(h){console.error("Error fetching teacher ideas:",h),u(h instanceof Error?h.message:"Failed to fetch ideas")}finally{i(!1)}}return{ideas:e,loading:o,error:a,refetch:d}}function rA(t){const[e,n]=y.useState([]),[o,i]=y.useState(!0),[a,u]=y.useState(null);y.useEffect(()=>{d();const h=ie.channel("principal_ideas_changes").on("postgres_changes",{event:"*",schema:"public",table:"ideas"},()=>d()).subscribe();return()=>{h.unsubscribe()}},[t]);async function d(){try{const{data:h,error:p}=await ie.from("ideas").select(`
          *,
          author:profiles!ideas_author_id_fkey(username, full_name),
          reviewer:profiles!ideas_reviewed_by_fkey(username, full_name)
        `).order("created_at",{ascending:!1});if(p)throw p;let g=[];if(t){const{data:x,error:b}=await ie.from("votes").select("idea_id, vote_type").eq("user_id",t);!b&&x&&(g=x)}const m=(h||[]).map(x=>{const b=g.find(j=>j.idea_id===x.id);return{id:x.id,title:x.title,description:x.description,author:x.author?.full_name||x.author?.username||"Unknown",category:x.category,votes:x.votes,userVote:b?b.vote_type:null,commentCount:x.comment_count,timeAgo:ta(x.created_at),status:x.status,teacherNotes:x.teacher_notes||void 0,forwardedDate:x.forwarded_date?ta(x.forwarded_date):void 0,reviewedBy:x.reviewer?.full_name||x.reviewer?.username||void 0,principalStatus:x.principal_status||void 0,principalNotes:x.principal_notes||void 0,budget:x.budget||void 0,priority:x.priority||void 0,implementationDate:x.implementation_date||void 0}});n(m),u(null)}catch(h){console.error("Error fetching principal ideas:",h),u(h instanceof Error?h.message:"Failed to fetch ideas")}finally{i(!1)}}return{ideas:e,loading:o,error:a,refetch:d}}function mx(){async function t(e,n,o){if(!n)throw new Error("User must be authenticated to vote");try{const{data:i,error:a}=await ie.from("votes").select("*").eq("user_id",n).eq("idea_id",e).maybeSingle();if(a)throw a;if(i)if(i.vote_type===o){const{error:u}=await ie.from("votes").delete().eq("id",i.id);if(u)throw u}else{const{error:u}=await ie.from("votes").update({vote_type:o}).eq("id",i.id);if(u)throw u}else{const{error:u}=await ie.from("votes").insert({user_id:n,idea_id:e,vote_type:o});if(u)throw u}}catch(i){throw console.error("Error voting:",i),i}}return{vote:t}}function kc(){async function t(i){const{data:a,error:u}=await ie.from("ideas").insert({title:i.title,description:i.description,category:i.category,author_id:i.authorId,status:"new"}).select().single();if(u)throw u;return a}async function e(i,a,u,d){const h={status:a};u!==void 0&&(h.teacher_notes=u),d!==void 0&&(h.reviewed_by=d),a==="forwarded"&&(h.forwarded_date=new Date().toISOString());const{error:p}=await ie.from("ideas").update(h).eq("id",i);if(p)throw p}async function n(i,a,u,d,h,p){const g={principal_status:a};u!==void 0&&(g.principal_notes=u),d!==void 0&&(g.budget=d),h!==void 0&&(g.priority=h),p!==void 0&&(g.implementation_date=p);const{error:m}=await ie.from("ideas").update(g).eq("id",i);if(m)throw m}async function o(i){const{error:a}=await ie.from("ideas").delete().eq("id",i);if(a)throw a}return{createIdea:t,updateIdeaStatus:e,updatePrincipalStatus:n,deleteIdea:o}}function nA(t){const e=new Date(t),o=new Date().getTime()-e.getTime(),i=Math.floor(o/6e4),a=Math.floor(o/36e5),u=Math.floor(o/864e5);return i<1?"just now":i<60?`${i} minute${i>1?"s":""} ago`:a<24?`${a} hour${a>1?"s":""} ago`:u<7?`${u} day${u>1?"s":""} ago`:e.toLocaleDateString()}function gx(t,e){const[n,o]=y.useState([]),[i,a]=y.useState(!0),[u,d]=y.useState(null);y.useEffect(()=>{if(t){h();const m=ie.channel(`comments_${t}`).on("postgres_changes",{event:"*",schema:"public",table:"comments",filter:`idea_id=eq.${t}`},()=>h()).subscribe();return()=>{m.unsubscribe()}}},[t,e]);async function h(){try{const{data:m,error:x}=await ie.from("comments").select(`
          *,
          author:profiles!comments_author_id_fkey(username, full_name)
        `).eq("idea_id",t).order("created_at",{ascending:!0});if(x)throw x;let b=[];if(e){const{data:S,error:E}=await ie.from("comment_votes").select("comment_id, vote_type").eq("user_id",e);!E&&S&&(b=S)}const j=new Map,_=[];(m||[]).forEach(S=>{const E=b.find(C=>C.comment_id===S.id),N={id:S.id,author:S.author?.full_name||S.author?.username||"Unknown",content:S.content,votes:S.votes,userVote:E?E.vote_type:null,timeAgo:nA(S.created_at),replies:[]};if(j.set(S.id,N),S.parent_id){const C=j.get(S.parent_id);C&&C.replies.push(N)}else _.push(N)}),o(_),d(null)}catch(m){console.error("Error fetching comments:",m),d(m instanceof Error?m.message:"Failed to fetch comments")}finally{a(!1)}}async function p(m,x,b){try{const{error:j}=await ie.from("comments").insert({idea_id:t,author_id:x,content:m,parent_id:b||null});if(j)throw j;await h()}catch(j){throw console.error("Error adding comment:",j),j}}async function g(m,x,b){try{const{data:j,error:_}=await ie.from("comment_votes").select("*").eq("user_id",x).eq("comment_id",m).maybeSingle();if(_)throw _;if(j)if(j.vote_type===b){const{error:S}=await ie.from("comment_votes").delete().eq("id",j.id);if(S)throw S}else{const{error:S}=await ie.from("comment_votes").update({vote_type:b}).eq("id",j.id);if(S)throw S}else{const{error:S}=await ie.from("comment_votes").insert({user_id:x,comment_id:m,vote_type:b});if(S)throw S}}catch(j){throw console.error("Error voting on comment:",j),j}}return{comments:n,loading:i,error:u,addComment:p,voteComment:g,refetch:h}}function ia({onNewIdea:t,onChat:e,onProfile:n}){const o=Xr();return l.jsx("header",{className:"sticky top-0 z-50 w-full border-b bg-background/95 backdrop-blur supports-[backdrop-filter]:bg-background/60",children:l.jsxs("div",{className:"container flex h-16 items-center justify-between px-4",children:[l.jsxs("div",{className:"flex items-center gap-4",children:[l.jsx("h1",{className:"text-xl font-semibold",children:"SchoolIdeas"}),l.jsxs("div",{className:"relative hidden md:block",children:[l.jsx(lc,{className:"absolute left-3 top-1/2 h-4 w-4 -translate-y-1/2 text-muted-foreground"}),l.jsx(rt,{placeholder:"Search ideas...",className:"w-64 pl-10"})]})]}),l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsxs(re,{onClick:t,className:"gap-2",children:[l.jsx(uy,{className:"h-4 w-4"}),"New Idea"]}),l.jsx(re,{variant:"ghost",size:"icon",onClick:()=>o("/discovery"),children:l.jsx(Kd,{className:"h-4 w-4"})}),l.jsx(re,{variant:"ghost",size:"icon",onClick:()=>o("/messages"),children:l.jsx(Ao,{className:"h-4 w-4"})}),l.jsx(re,{variant:"ghost",size:"icon",onClick:()=>o("/settings"),children:l.jsx(D1,{className:"h-4 w-4"})}),l.jsx(re,{variant:"ghost",size:"icon",onClick:n,children:l.jsx(Ut,{className:"h-8 w-8",children:l.jsx(zt,{children:l.jsx(cr,{className:"h-4 w-4"})})})})]})]})})}function sA(){const{user:t}=Mr(),e=Xr(),[n,o]=y.useState(!1),[i,a]=y.useState(!1),[u,d]=y.useState(!1),[h,p]=y.useState(!1),[g,m]=y.useState(null),[x,b]=y.useState("popular"),[j,_]=y.useState("all"),{ideas:S,refetch:E}=jc(t?.id),{comments:N,addComment:C,voteComment:P}=gx(g||"",t?.id),{vote:F}=mx(),{createIdea:V}=kc(),I=["all","Academic","Facilities","Technology","Events","Sports","Clubs","Food Service","Transportation","Environment","Other"],z=async B=>{if(!t){alert("You must be logged in to submit an idea");return}try{await V({...B,authorId:t.id}),o(!1),E()}catch($){console.error("Error creating idea:",$),alert("Failed to create idea")}},q=async(B,$)=>{if(!t){alert("You must be logged in to vote");return}try{await F(B,t.id,$)}catch(O){console.error("Error voting:",O)}},ne=B=>{m(B),a(!0)},ce=B=>{e(`/idea/${B}`)},de=async B=>{if(!t){alert("You must be logged in to comment");return}if(g)try{await C(B,t.id)}catch($){console.error("Error adding comment:",$),alert("Failed to add comment")}},le=async(B,$)=>{if(!t){alert("You must be logged in to vote");return}try{await P(B,t.id,$)}catch(O){console.error("Error voting on comment:",O)}},me=S.find(B=>B.id===g),be=S.filter(B=>j==="all"||B.category===j).sort((B,$)=>{switch(x){case"popular":return $.votes-B.votes;case"recent":return new Date($.timeAgo).getTime()-new Date(B.timeAgo).getTime();case"comments":return $.commentCount-B.commentCount;default:return 0}});return l.jsxs("div",{className:"min-h-screen bg-background",children:[l.jsx(ia,{onNewIdea:()=>o(!0),onChat:()=>p(!0),onProfile:()=>d(!0)}),l.jsx("main",{className:"container max-w-4xl mx-auto px-4 py-6",children:l.jsxs("div",{className:"space-y-6",children:[l.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 items-start sm:items-center justify-between",children:[l.jsx("h2",{className:"text-2xl font-semibold",children:"School Ideas"}),l.jsxs("div",{className:"flex gap-2",children:[l.jsxs(qr,{value:x,onValueChange:b,children:[l.jsx(Gr,{className:"w-32",children:l.jsx(Kr,{})}),l.jsxs(Yr,{children:[l.jsx(Ve,{value:"popular",children:"Popular"}),l.jsx(Ve,{value:"recent",children:"Recent"}),l.jsx(Ve,{value:"comments",children:"Most Discussed"})]})]}),l.jsxs(qr,{value:j,onValueChange:_,children:[l.jsx(Gr,{className:"w-40",children:l.jsx(Kr,{})}),l.jsx(Yr,{children:I.map(B=>l.jsx(Ve,{value:B,children:B==="all"?"All Categories":B},B))})]})]})]}),l.jsx("div",{className:"space-y-4",children:be.map(B=>l.jsx(tk,{idea:B,onVote:q,onComment:ne,onClick:ce},B.id))}),be.length===0&&l.jsx("div",{className:"text-center py-12",children:l.jsx("p",{className:"text-muted-foreground",children:"No ideas found matching your filters."})})]})}),l.jsx(yR,{isOpen:n,onClose:()=>o(!1),onSubmit:z}),l.jsx(wR,{isOpen:i,onClose:()=>a(!1),ideaTitle:me?.title||"",comments:N,onAddComment:de,onVoteComment:le}),l.jsx(DP,{isOpen:u,onClose:()=>d(!1),profile:t?{name:t.name,username:t.username,joinDate:t.joinDate,totalIdeas:S.length,totalVotes:0,totalComments:0,reputation:0,recentIdeas:S.slice(0,2).map(B=>({id:B.id,title:B.title,votes:B.votes||0,category:B.category,timeAgo:"recently"})),recentComments:[]}:{name:"",username:"",joinDate:"",totalIdeas:0,totalVotes:0,totalComments:0,reputation:0,recentIdeas:[],recentComments:[]}}),l.jsx(ZP,{isOpen:h,onClose:()=>p(!1)}),l.jsx(tA,{})]})}function Ec({className:t,...e}){return l.jsx("div",{"data-slot":"table-container",className:"relative w-full overflow-x-auto",children:l.jsx("table",{"data-slot":"table",className:ge("w-full caption-bottom text-sm",t),...e})})}function Nc({className:t,...e}){return l.jsx("thead",{"data-slot":"table-header",className:ge("[&_tr]:border-b",t),...e})}function Cc({className:t,...e}){return l.jsx("tbody",{"data-slot":"table-body",className:ge("[&_tr:last-child]:border-0",t),...e})}function _r({className:t,...e}){return l.jsx("tr",{"data-slot":"table-row",className:ge("hover:bg-muted/50 data-[state=selected]:bg-muted border-b transition-colors",t),...e})}function He({className:t,...e}){return l.jsx("th",{"data-slot":"table-head",className:ge("text-foreground h-10 px-2 text-left align-middle font-medium whitespace-nowrap [&:has([role=checkbox])]:pr-0 [&>[role=checkbox]]:translate-y-[2px]",t),...e})}function ze({className:t,...e}){return l.jsx("td",{"data-slot":"table-cell",className:ge("p-2 align-middle whitespace-nowrap [&:has([role=checkbox])]:pr-0 [&>[role=checkbox]]:translate-y-[2px]",t),...e})}function vx({ideas:t,onForwardToPrincipal:e,onReject:n,onApprove:o,onMarkReviewed:i}){const[a,u]=y.useState("all"),[d,h]=y.useState("all"),[p,g]=y.useState(null),[m,x]=y.useState(!1),[b,j]=y.useState("forward"),[_,S]=y.useState(""),E=["all","Academic","Facilities","Technology","Events","Sports","Clubs","Food Service","Transportation","Environment","Other"],N=t.filter(I=>{const z=a==="all"||I.status===a,q=d==="all"||I.category===d;return z&&q}),C={total:t.length,new:t.filter(I=>I.status==="new").length,underReview:t.filter(I=>I.status==="under-review").length,forwarded:t.filter(I=>I.status==="forwarded").length,approved:t.filter(I=>I.status==="approved").length,rejected:t.filter(I=>I.status==="rejected").length},P=(I,z)=>{g(I),j(z),S(I.teacherNotes||""),x(!0)},F=()=>{if(p){switch(b){case"forward":e(p.id,_);break;case"approve":o(p.id,_);break;case"reject":n(p.id,_);break}x(!1),S(""),g(null)}},V=I=>{const q={new:{variant:"default",className:"bg-blue-500 hover:bg-blue-600"},"under-review":{variant:"secondary",className:"bg-yellow-500 hover:bg-yellow-600 text-white"},forwarded:{variant:"default",className:"bg-purple-500 hover:bg-purple-600"},approved:{variant:"default",className:"bg-green-500 hover:bg-green-600"},rejected:{variant:"destructive",className:""}}[I],ne={new:"New","under-review":"Under Review",forwarded:"Forwarded",approved:"Approved",rejected:"Rejected"};return l.jsx(Lt,{variant:q.variant,className:q.className,children:ne[I]})};return l.jsxs("div",{className:"space-y-6",children:[l.jsxs("div",{children:[l.jsx("h1",{className:"mb-2",children:"Teacher Dashboard"}),l.jsx("p",{className:"text-muted-foreground",children:"Review and manage student ideas"})]}),l.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-6 gap-4",children:[l.jsx(Ae,{children:l.jsxs($e,{className:"p-4",children:[l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(oy,{className:"h-4 w-4 text-muted-foreground"}),l.jsx("p",{className:"text-xs text-muted-foreground",children:"Total Ideas"})]}),l.jsx("p",{className:"text-2xl font-semibold mt-2",children:C.total})]})}),l.jsx(Ae,{children:l.jsxs($e,{className:"p-4",children:[l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(hy,{className:"h-4 w-4 text-blue-500"}),l.jsx("p",{className:"text-xs text-muted-foreground",children:"New"})]}),l.jsx("p",{className:"text-2xl font-semibold mt-2",children:C.new})]})}),l.jsx(Ae,{children:l.jsxs($e,{className:"p-4",children:[l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(xd,{className:"h-4 w-4 text-yellow-500"}),l.jsx("p",{className:"text-xs text-muted-foreground",children:"Under Review"})]}),l.jsx("p",{className:"text-2xl font-semibold mt-2",children:C.underReview})]})}),l.jsx(Ae,{children:l.jsxs($e,{className:"p-4",children:[l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(ko,{className:"h-4 w-4 text-purple-500"}),l.jsx("p",{className:"text-xs text-muted-foreground",children:"Forwarded"})]}),l.jsx("p",{className:"text-2xl font-semibold mt-2",children:C.forwarded})]})}),l.jsx(Ae,{children:l.jsxs($e,{className:"p-4",children:[l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(Eo,{className:"h-4 w-4 text-green-500"}),l.jsx("p",{className:"text-xs text-muted-foreground",children:"Approved"})]}),l.jsx("p",{className:"text-2xl font-semibold mt-2",children:C.approved})]})}),l.jsx(Ae,{children:l.jsxs($e,{className:"p-4",children:[l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(Ls,{className:"h-4 w-4 text-red-500"}),l.jsx("p",{className:"text-xs text-muted-foreground",children:"Rejected"})]}),l.jsx("p",{className:"text-2xl font-semibold mt-2",children:C.rejected})]})})]}),l.jsx(Ae,{children:l.jsx(Dt,{children:l.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 items-start sm:items-center justify-between",children:[l.jsxs(lr,{className:"flex items-center gap-2",children:[l.jsx(ay,{className:"h-5 w-5"}),"Filter Ideas"]}),l.jsxs("div",{className:"flex gap-2 flex-wrap",children:[l.jsxs(qr,{value:a,onValueChange:u,children:[l.jsx(Gr,{className:"w-40",children:l.jsx(Kr,{placeholder:"All Statuses"})}),l.jsxs(Yr,{children:[l.jsx(Ve,{value:"all",children:"All Statuses"}),l.jsx(Ve,{value:"new",children:"New"}),l.jsx(Ve,{value:"under-review",children:"Under Review"}),l.jsx(Ve,{value:"forwarded",children:"Forwarded"}),l.jsx(Ve,{value:"approved",children:"Approved"}),l.jsx(Ve,{value:"rejected",children:"Rejected"})]})]}),l.jsxs(qr,{value:d,onValueChange:h,children:[l.jsx(Gr,{className:"w-40",children:l.jsx(Kr,{placeholder:"All Categories"})}),l.jsx(Yr,{children:E.map(I=>l.jsx(Ve,{value:I,children:I==="all"?"All Categories":I},I))})]})]})]})})}),l.jsxs(Ae,{children:[l.jsx(Dt,{children:l.jsxs(lr,{children:["Student Ideas (",N.length,")"]})}),l.jsx($e,{children:l.jsx("div",{className:"overflow-x-auto",children:l.jsxs(Ec,{children:[l.jsx(Nc,{children:l.jsxs(_r,{children:[l.jsx(He,{children:"Idea"}),l.jsx(He,{children:"Author"}),l.jsx(He,{children:"Category"}),l.jsx(He,{className:"text-center",children:"Votes"}),l.jsx(He,{className:"text-center",children:"Comments"}),l.jsx(He,{children:"Status"}),l.jsx(He,{children:"Time"}),l.jsx(He,{className:"text-right",children:"Actions"})]})}),l.jsx(Cc,{children:N.length===0?l.jsx(_r,{children:l.jsx(ze,{colSpan:8,className:"text-center py-8 text-muted-foreground",children:"No ideas found matching your filters."})}):N.map(I=>l.jsxs(_r,{children:[l.jsx(ze,{className:"max-w-xs",children:l.jsxs("div",{children:[l.jsx("p",{className:"font-medium truncate",children:I.title}),l.jsx("p",{className:"text-sm text-muted-foreground truncate",children:I.description})]})}),l.jsx(ze,{children:l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(Ut,{className:"h-6 w-6",children:l.jsx(zt,{children:l.jsx(cr,{className:"h-3 w-3"})})}),l.jsx("span",{className:"text-sm",children:I.author})]})}),l.jsx(ze,{children:l.jsx(Lt,{variant:"secondary",children:I.category})}),l.jsx(ze,{className:"text-center",children:l.jsxs("div",{className:"flex items-center justify-center gap-1",children:[l.jsx(mn,{className:ge("h-4 w-4",I.votes>0&&"text-green-600")}),l.jsx("span",{className:ge("font-medium",I.votes>0&&"text-green-600",I.votes<0&&"text-red-600"),children:I.votes})]})}),l.jsx(ze,{className:"text-center",children:l.jsxs("div",{className:"flex items-center justify-center gap-1",children:[l.jsx(Ao,{className:"h-4 w-4 text-muted-foreground"}),l.jsx("span",{children:I.commentCount})]})}),l.jsx(ze,{children:V(I.status)}),l.jsx(ze,{className:"text-sm text-muted-foreground",children:I.timeAgo}),l.jsx(ze,{className:"text-right",children:l.jsxs("div",{className:"flex gap-1 justify-end",children:[I.status==="new"&&l.jsxs(l.Fragment,{children:[l.jsxs(re,{size:"sm",variant:"outline",onClick:()=>i(I.id),className:"h-8 text-xs",children:[l.jsx(xd,{className:"h-3 w-3 mr-1"}),"Review"]}),l.jsxs(re,{size:"sm",onClick:()=>P(I,"forward"),className:"h-8 text-xs",children:[l.jsx(ko,{className:"h-3 w-3 mr-1"}),"Forward"]})]}),I.status==="under-review"&&l.jsxs(l.Fragment,{children:[l.jsxs(re,{size:"sm",variant:"outline",onClick:()=>P(I,"approve"),className:"h-8 text-xs text-green-600 hover:text-green-700",children:[l.jsx(Eo,{className:"h-3 w-3 mr-1"}),"Approve"]}),l.jsxs(re,{size:"sm",onClick:()=>P(I,"forward"),className:"h-8 text-xs",children:[l.jsx(ko,{className:"h-3 w-3 mr-1"}),"Forward"]}),l.jsxs(re,{size:"sm",variant:"outline",onClick:()=>P(I,"reject"),className:"h-8 text-xs text-red-600 hover:text-red-700",children:[l.jsx(Ls,{className:"h-3 w-3 mr-1"}),"Reject"]})]}),(I.status==="forwarded"||I.status==="approved"||I.status==="rejected")&&l.jsxs(re,{size:"sm",variant:"ghost",onClick:()=>{g(I),x(!0)},className:"h-8 text-xs",children:[l.jsx(xd,{className:"h-3 w-3 mr-1"}),"View"]})]})})]},I.id))})]})})})]}),l.jsx(Vo,{open:m,onOpenChange:x,children:l.jsxs(Bs,{className:"max-w-2xl",children:[l.jsxs(Wo,{children:[l.jsxs(Ho,{children:[b==="forward"&&"Forward to Principal",b==="approve"&&"Approve Idea",b==="reject"&&"Reject Idea"]}),l.jsx(qo,{children:p&&l.jsxs(l.Fragment,{children:['Review and add notes for "',p.title,'"']})})]}),p&&l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{className:"p-4 border rounded-lg bg-muted/50",children:[l.jsxs("div",{className:"flex items-start justify-between mb-2",children:[l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(Ut,{className:"h-6 w-6",children:l.jsx(zt,{children:l.jsx(cr,{className:"h-3 w-3"})})}),l.jsx("span",{className:"text-sm font-medium",children:p.author})]}),l.jsx(Lt,{variant:"secondary",children:p.category})]}),l.jsx("h4",{className:"mb-2",children:p.title}),l.jsx("p",{className:"text-sm text-muted-foreground mb-3",children:p.description}),l.jsxs("div",{className:"flex items-center gap-4 text-sm text-muted-foreground",children:[l.jsxs("span",{className:"flex items-center gap-1",children:[l.jsx(mn,{className:"h-4 w-4"}),p.votes," votes"]}),l.jsxs("span",{className:"flex items-center gap-1",children:[l.jsx(Ao,{className:"h-4 w-4"}),p.commentCount," comments"]}),l.jsx("span",{children:p.timeAgo})]})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsxs("label",{htmlFor:"teacher-notes",children:["Teacher Notes ",b==="forward"&&"(Required)"]}),l.jsx(Ko,{id:"teacher-notes",placeholder:b==="forward"?"Add a note to the principal explaining why this idea should be considered...":b==="approve"?"Add notes about why this idea was approved...":"Add notes about why this idea was rejected...",value:_,onChange:I=>S(I.target.value),rows:4,disabled:p.status!=="new"&&p.status!=="under-review"}),p.teacherNotes&&p.status!=="new"&&p.status!=="under-review"&&l.jsxs("p",{className:"text-sm text-muted-foreground",children:["Previous notes: ",p.teacherNotes]})]}),p.forwardedDate&&l.jsxs("p",{className:"text-sm text-muted-foreground",children:["Forwarded on ",p.forwardedDate,p.reviewedBy&&` by ${p.reviewedBy}`]})]}),l.jsxs(pw,{children:[l.jsx(re,{variant:"outline",onClick:()=>x(!1),children:"Cancel"}),p&&(p.status==="new"||p.status==="under-review")&&l.jsxs(re,{onClick:F,disabled:b==="forward"&&!_.trim(),children:[b==="forward"&&l.jsxs(l.Fragment,{children:[l.jsx(ko,{className:"h-4 w-4 mr-2"}),"Forward to Principal"]}),b==="approve"&&l.jsxs(l.Fragment,{children:[l.jsx(Eo,{className:"h-4 w-4 mr-2"}),"Approve Idea"]}),b==="reject"&&l.jsxs(l.Fragment,{children:[l.jsx(Ls,{className:"h-4 w-4 mr-2"}),"Reject Idea"]})]})]})]})})]})}function oA(){const{user:t}=Mr(),{ideas:e,refetch:n}=px(t?.id),{updateIdeaStatus:o}=kc(),i=async(h,p)=>{if(t)try{await o(h,"forwarded",p,t.id),n()}catch(g){console.error("Error forwarding idea:",g),alert("Failed to forward idea")}},a=async(h,p)=>{if(t)try{await o(h,"rejected",p,t.id),n()}catch(g){console.error("Error rejecting idea:",g),alert("Failed to reject idea")}},u=async(h,p)=>{if(t)try{await o(h,"approved",p,t.id),n()}catch(g){console.error("Error approving idea:",g),alert("Failed to approve idea")}},d=async h=>{if(t)try{await o(h,"under-review",void 0,t.id),n()}catch(p){console.error("Error marking as reviewed:",p)}};return l.jsxs("div",{className:"min-h-screen bg-background",children:[l.jsx(ia,{onNewIdea:()=>{},onChat:()=>{},onProfile:()=>{},hideActions:!0}),l.jsx("main",{className:"container max-w-4xl mx-auto px-4 py-6",children:l.jsx(vx,{ideas:e,onForwardToPrincipal:i,onReject:a,onApprove:u,onMarkReviewed:d})})]})}function iA({ideas:t,onApprove:e,onReject:n,onRequestMoreInfo:o}){const[i,a]=y.useState("all"),[u,d]=y.useState("all"),[h,p]=y.useState("all"),[g,m]=y.useState(null),[x,b]=y.useState(!1),[j,_]=y.useState("approve"),[S,E]=y.useState(""),[N,C]=y.useState(""),[P,F]=y.useState(""),[V,I]=y.useState("medium"),z=["all","Academic","Facilities","Technology","Events","Sports","Clubs","Food Service","Transportation","Environment","Other"],q=t.filter($=>$.status==="forwarded"||$.principalStatus),ne=q.filter($=>{const O=i==="all"||($.principalStatus||"pending")===i,Z=u==="all"||$.category===u,K=h==="all"||($.priority||"medium")===h;return O&&Z&&K}),ce={total:q.length,pending:q.filter($=>!$.principalStatus||$.principalStatus==="pending").length,inProgress:q.filter($=>$.principalStatus==="in-progress").length,approved:q.filter($=>$.principalStatus==="approved").length,rejected:q.filter($=>$.principalStatus==="rejected").length,implemented:q.filter($=>$.principalStatus==="implemented").length,totalBudget:q.filter($=>$.principalStatus==="approved"||$.principalStatus==="implemented").reduce(($,O)=>$+(O.budget||0),0)},de=($,O)=>{m($),_(O),E($.principalNotes||""),C($.budget?.toString()||""),I($.priority||"medium"),F($.implementationDate||""),b(!0)},le=()=>{if(g){switch(j){case"approve":e(g.id,S,parseFloat(N)||0,V,P);break;case"reject":n(g.id,S);break;case"request-info":o(g.id,S);break}b(!1),me()}},me=()=>{E(""),C(""),F(""),I("medium"),m(null)},be=$=>{const K={pending:{variant:"default",className:"bg-yellow-500 hover:bg-yellow-600 text-white",label:"Pending Review"},"in-progress":{variant:"default",className:"bg-blue-500 hover:bg-blue-600",label:"In Progress"},approved:{variant:"default",className:"bg-green-500 hover:bg-green-600",label:"Approved"},rejected:{variant:"destructive",className:"",label:"Rejected"},implemented:{variant:"default",className:"bg-purple-500 hover:bg-purple-600",label:"Implemented"}}[$||"pending"];return l.jsx(Lt,{variant:K.variant,className:K.className,children:K.label})},B=$=>{const O=$||"medium",Z={low:{className:"bg-gray-500 hover:bg-gray-600 text-white"},medium:{className:"bg-blue-500 hover:bg-blue-600 text-white"},high:{className:"bg-orange-500 hover:bg-orange-600 text-white"},urgent:{className:"bg-red-500 hover:bg-red-600 text-white"}};return l.jsx(Lt,{className:Z[O].className,children:O.charAt(0).toUpperCase()+O.slice(1)})};return l.jsxs("div",{className:"space-y-6",children:[l.jsxs("div",{children:[l.jsx("h1",{className:"mb-2",children:"Principal Dashboard"}),l.jsx("p",{className:"text-muted-foreground",children:"Executive overview and final approval authority"})]}),l.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 lg:grid-cols-7 gap-4",children:[l.jsx(Ae,{children:l.jsxs($e,{className:"p-4",children:[l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(p1,{className:"h-4 w-4 text-muted-foreground"}),l.jsx("p",{className:"text-xs text-muted-foreground",children:"Total Submitted"})]}),l.jsx("p",{className:"text-2xl font-semibold mt-2",children:ce.total})]})}),l.jsx(Ae,{children:l.jsxs($e,{className:"p-4",children:[l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(o1,{className:"h-4 w-4 text-yellow-500"}),l.jsx("p",{className:"text-xs text-muted-foreground",children:"Pending"})]}),l.jsx("p",{className:"text-2xl font-semibold mt-2",children:ce.pending})]})}),l.jsx(Ae,{children:l.jsxs($e,{className:"p-4",children:[l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(hy,{className:"h-4 w-4 text-blue-500"}),l.jsx("p",{className:"text-xs text-muted-foreground",children:"In Progress"})]}),l.jsx("p",{className:"text-2xl font-semibold mt-2",children:ce.inProgress})]})}),l.jsx(Ae,{children:l.jsxs($e,{className:"p-4",children:[l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(Eo,{className:"h-4 w-4 text-green-500"}),l.jsx("p",{className:"text-xs text-muted-foreground",children:"Approved"})]}),l.jsx("p",{className:"text-2xl font-semibold mt-2",children:ce.approved})]})}),l.jsx(Ae,{children:l.jsxs($e,{className:"p-4",children:[l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(Ls,{className:"h-4 w-4 text-red-500"}),l.jsx("p",{className:"text-xs text-muted-foreground",children:"Rejected"})]}),l.jsx("p",{className:"text-2xl font-semibold mt-2",children:ce.rejected})]})}),l.jsx(Ae,{children:l.jsxs($e,{className:"p-4",children:[l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(oy,{className:"h-4 w-4 text-purple-500"}),l.jsx("p",{className:"text-xs text-muted-foreground",children:"Implemented"})]}),l.jsx("p",{className:"text-2xl font-semibold mt-2",children:ce.implemented})]})}),l.jsx(Ae,{children:l.jsxs($e,{className:"p-4",children:[l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(a1,{className:"h-4 w-4 text-green-600"}),l.jsx("p",{className:"text-xs text-muted-foreground",children:"Total Budget"})]}),l.jsxs("p",{className:"text-2xl font-semibold mt-2",children:["$",ce.totalBudget.toLocaleString()]})]})})]}),l.jsx(Ae,{children:l.jsx(Dt,{children:l.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 items-start sm:items-center justify-between",children:[l.jsxs(lr,{className:"flex items-center gap-2",children:[l.jsx(ay,{className:"h-5 w-5"}),"Filter Ideas"]}),l.jsxs("div",{className:"flex gap-2 flex-wrap",children:[l.jsxs(qr,{value:i,onValueChange:a,children:[l.jsx(Gr,{className:"w-40",children:l.jsx(Kr,{placeholder:"All Statuses"})}),l.jsxs(Yr,{children:[l.jsx(Ve,{value:"all",children:"All Statuses"}),l.jsx(Ve,{value:"pending",children:"Pending"}),l.jsx(Ve,{value:"in-progress",children:"In Progress"}),l.jsx(Ve,{value:"approved",children:"Approved"}),l.jsx(Ve,{value:"rejected",children:"Rejected"}),l.jsx(Ve,{value:"implemented",children:"Implemented"})]})]}),l.jsxs(qr,{value:h,onValueChange:p,children:[l.jsx(Gr,{className:"w-32",children:l.jsx(Kr,{placeholder:"Priority"})}),l.jsxs(Yr,{children:[l.jsx(Ve,{value:"all",children:"All Priority"}),l.jsx(Ve,{value:"urgent",children:"Urgent"}),l.jsx(Ve,{value:"high",children:"High"}),l.jsx(Ve,{value:"medium",children:"Medium"}),l.jsx(Ve,{value:"low",children:"Low"})]})]}),l.jsxs(qr,{value:u,onValueChange:d,children:[l.jsx(Gr,{className:"w-40",children:l.jsx(Kr,{placeholder:"All Categories"})}),l.jsx(Yr,{children:z.map($=>l.jsx(Ve,{value:$,children:$==="all"?"All Categories":$},$))})]})]})]})})}),l.jsxs(Ae,{children:[l.jsx(Dt,{children:l.jsxs(lr,{children:["Forwarded Ideas (",ne.length,")"]})}),l.jsx($e,{children:l.jsx("div",{className:"overflow-x-auto",children:l.jsxs(Ec,{children:[l.jsx(Nc,{children:l.jsxs(_r,{children:[l.jsx(He,{children:"Idea"}),l.jsx(He,{children:"Author"}),l.jsx(He,{children:"Teacher"}),l.jsx(He,{children:"Category"}),l.jsx(He,{className:"text-center",children:"Votes"}),l.jsx(He,{children:"Priority"}),l.jsx(He,{children:"Status"}),l.jsx(He,{children:"Budget"}),l.jsx(He,{className:"text-right",children:"Actions"})]})}),l.jsx(Cc,{children:ne.length===0?l.jsx(_r,{children:l.jsx(ze,{colSpan:9,className:"text-center py-8 text-muted-foreground",children:"No ideas forwarded for principal review yet."})}):ne.map($=>l.jsxs(_r,{children:[l.jsx(ze,{className:"max-w-xs",children:l.jsxs("div",{children:[l.jsx("p",{className:"font-medium truncate",children:$.title}),l.jsx("p",{className:"text-sm text-muted-foreground truncate",children:$.description})]})}),l.jsx(ze,{children:l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(Ut,{className:"h-6 w-6",children:l.jsx(zt,{children:l.jsx(cr,{className:"h-3 w-3"})})}),l.jsx("span",{className:"text-sm",children:$.author})]})}),l.jsx(ze,{children:l.jsx("span",{className:"text-sm",children:$.reviewedBy||"N/A"})}),l.jsx(ze,{children:l.jsx(Lt,{variant:"secondary",children:$.category})}),l.jsx(ze,{className:"text-center",children:l.jsxs("div",{className:"flex items-center justify-center gap-1",children:[l.jsx(mn,{className:ge("h-4 w-4",$.votes>0&&"text-green-600")}),l.jsx("span",{className:ge("font-medium",$.votes>0&&"text-green-600",$.votes<0&&"text-red-600"),children:$.votes})]})}),l.jsx(ze,{children:B($.priority)}),l.jsx(ze,{children:be($.principalStatus)}),l.jsx(ze,{children:$.budget?`$${$.budget.toLocaleString()}`:"-"}),l.jsx(ze,{className:"text-right",children:l.jsxs("div",{className:"flex gap-1 justify-end",children:[(!$.principalStatus||$.principalStatus==="pending")&&l.jsxs(l.Fragment,{children:[l.jsxs(re,{size:"sm",onClick:()=>de($,"approve"),className:"h-8 text-xs bg-green-600 hover:bg-green-700",children:[l.jsx(Eo,{className:"h-3 w-3 mr-1"}),"Approve"]}),l.jsxs(re,{size:"sm",variant:"outline",onClick:()=>de($,"reject"),className:"h-8 text-xs text-red-600 hover:text-red-700",children:[l.jsx(Ls,{className:"h-3 w-3 mr-1"}),"Reject"]})]}),$.principalStatus&&l.jsx(re,{size:"sm",variant:"ghost",onClick:()=>{m($),b(!0)},className:"h-8 text-xs",children:"View Details"})]})})]},$.id))})]})})})]}),l.jsx(Vo,{open:x,onOpenChange:b,children:l.jsxs(Bs,{className:"max-w-3xl max-h-[90vh] overflow-y-auto",children:[l.jsxs(Wo,{children:[l.jsxs(Ho,{children:[j==="approve"&&"Approve Idea",j==="reject"&&"Reject Idea",j==="request-info"&&"Request More Information",!j&&g?.principalStatus&&"Idea Details"]}),l.jsx(qo,{children:g&&l.jsxs(l.Fragment,{children:['Principal review for "',g.title,'"']})})]}),g&&l.jsx("div",{className:"space-y-4",children:l.jsxs(Qo,{defaultValue:"details",className:"w-full",children:[l.jsxs(Xo,{className:"grid w-full grid-cols-2",children:[l.jsx(Yt,{value:"details",children:"Idea Details"}),l.jsx(Yt,{value:"review",children:"Review & Decision"})]}),l.jsxs(Jt,{value:"details",className:"space-y-4 mt-4",children:[l.jsxs("div",{className:"p-4 border rounded-lg bg-muted/50",children:[l.jsxs("div",{className:"flex items-start justify-between mb-3",children:[l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(Ut,{className:"h-6 w-6",children:l.jsx(zt,{children:l.jsx(cr,{className:"h-3 w-3"})})}),l.jsxs("div",{children:[l.jsx("span",{className:"text-sm font-medium",children:g.author}),l.jsx("p",{className:"text-xs text-muted-foreground",children:g.timeAgo})]})]}),l.jsx(Lt,{variant:"secondary",children:g.category})]}),l.jsx("h4",{className:"mb-2",children:g.title}),l.jsx("p",{className:"text-sm text-muted-foreground mb-3",children:g.description}),l.jsxs("div",{className:"flex items-center gap-4 text-sm text-muted-foreground",children:[l.jsxs("span",{className:"flex items-center gap-1",children:[l.jsx(mn,{className:"h-4 w-4"}),g.votes," votes"]}),l.jsxs("span",{className:"flex items-center gap-1",children:[l.jsx(Ao,{className:"h-4 w-4"}),g.commentCount," comments"]})]})]}),g.teacherNotes&&l.jsxs("div",{className:"p-4 border rounded-lg",children:[l.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[l.jsx(Wl,{className:"h-4 w-4 text-muted-foreground"}),l.jsx("p",{className:"font-medium",children:"Teacher Recommendation"})]}),l.jsx("p",{className:"text-sm text-muted-foreground mb-2",children:g.teacherNotes}),l.jsxs("p",{className:"text-xs text-muted-foreground",children:[" ",g.reviewedBy," ",g.forwardedDate&&`(${g.forwardedDate})`]})]})]}),l.jsxs(Jt,{value:"review",className:"space-y-4 mt-4",children:[j==="approve"&&l.jsxs(l.Fragment,{children:[l.jsxs("div",{className:"space-y-2",children:[l.jsx("label",{htmlFor:"priority",children:"Priority Level"}),l.jsxs(qr,{value:V,onValueChange:$=>I($),children:[l.jsx(Gr,{children:l.jsx(Kr,{})}),l.jsxs(Yr,{children:[l.jsx(Ve,{value:"low",children:"Low Priority"}),l.jsx(Ve,{value:"medium",children:"Medium Priority"}),l.jsx(Ve,{value:"high",children:"High Priority"}),l.jsx(Ve,{value:"urgent",children:"Urgent"})]})]})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx("label",{htmlFor:"budget",children:"Budget Allocation ($)"}),l.jsx(rt,{id:"budget",type:"number",placeholder:"0",value:N,onChange:$=>C($.target.value)})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx("label",{htmlFor:"implementation-date",children:"Target Implementation Date"}),l.jsx(rt,{id:"implementation-date",type:"date",value:P,onChange:$=>F($.target.value)})]})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsxs("label",{htmlFor:"principal-notes",children:["Principal Notes",j==="reject"&&" (Required)"]}),l.jsx(Ko,{id:"principal-notes",placeholder:j==="approve"?"Add notes about approval decision, implementation plans, etc...":j==="reject"?"Please provide a detailed explanation for rejection...":"Add your notes...",value:S,onChange:$=>E($.target.value),rows:4,disabled:g.principalStatus!==void 0&&!j})]}),g.principalNotes&&!j&&l.jsxs("div",{className:"p-3 bg-muted rounded-lg",children:[l.jsx("p",{className:"text-sm font-medium mb-1",children:"Previous Decision Notes:"}),l.jsx("p",{className:"text-sm text-muted-foreground",children:g.principalNotes})]})]})]})}),l.jsxs(pw,{children:[l.jsx(re,{variant:"outline",onClick:()=>{b(!1),me()},children:j?"Cancel":"Close"}),j&&l.jsxs(re,{onClick:le,disabled:j==="reject"&&!S.trim(),children:[j==="approve"&&l.jsxs(l.Fragment,{children:[l.jsx(Eo,{className:"h-4 w-4 mr-2"}),"Approve Idea"]}),j==="reject"&&l.jsxs(l.Fragment,{children:[l.jsx(Ls,{className:"h-4 w-4 mr-2"}),"Reject Idea"]}),j==="request-info"&&"Request Information"]})]})]})})]})}function aA(){const{user:t}=Mr(),{ideas:e,refetch:n}=rA(t?.id),{ideas:o,refetch:i}=px(t?.id),{updatePrincipalStatus:a,updateIdeaStatus:u}=kc(),d=async(j,_,S,E,N)=>{try{await a(j,"approved",_,S,E,N),n()}catch(C){console.error("Error approving idea:",C),alert("Failed to approve idea")}},h=async(j,_)=>{try{await a(j,"rejected",_),n()}catch(S){console.error("Error rejecting idea:",S),alert("Failed to reject idea")}},p=async(j,_)=>{try{await a(j,"in-progress",_),n()}catch(S){console.error("Error requesting more info:",S),alert("Failed to request more info")}},g=async(j,_)=>{if(t)try{await u(j,"forwarded",_,t.id),i(),n()}catch(S){console.error("Error forwarding idea:",S),alert("Failed to forward idea")}},m=async(j,_)=>{if(t)try{await u(j,"rejected",_,t.id),i()}catch(S){console.error("Error rejecting idea:",S),alert("Failed to reject idea")}},x=async(j,_)=>{if(t)try{await u(j,"approved",_,t.id),i()}catch(S){console.error("Error approving idea:",S),alert("Failed to approve idea")}},b=async j=>{if(t)try{await u(j,"under-review",void 0,t.id),i()}catch(_){console.error("Error marking as reviewed:",_)}};return l.jsxs("div",{className:"min-h-screen bg-background",children:[l.jsx(ia,{onNewIdea:()=>{},onChat:()=>{},onProfile:()=>{},hideActions:!0}),l.jsxs("main",{className:"container max-w-4xl mx-auto px-4 py-6",children:[l.jsxs("div",{className:"mb-6",children:[l.jsx("h1",{className:"text-3xl font-bold tracking-tight",children:"Principal Dashboard"}),l.jsx("p",{className:"text-muted-foreground",children:"Manage school-wide ideas and review teacher submissions."})]}),l.jsxs(Qo,{defaultValue:"principal",className:"space-y-4",children:[l.jsxs(Xo,{children:[l.jsx(Yt,{value:"principal",children:"Principal Review"}),l.jsx(Yt,{value:"teacher",children:"Teacher View"})]}),l.jsx(Jt,{value:"principal",className:"space-y-4",children:l.jsx(iA,{ideas:e,onApprove:d,onReject:h,onRequestMoreInfo:p})}),l.jsxs(Jt,{value:"teacher",className:"space-y-4",children:[l.jsx("div",{className:"bg-muted/50 p-4 rounded-lg mb-4 border border-dashed",children:l.jsx("p",{className:"text-sm text-muted-foreground",children:"You are viewing the Teacher Dashboard as a Principal. You can perform teacher-level actions here."})}),l.jsx(vx,{ideas:o,onForwardToPrincipal:g,onReject:m,onApprove:x,onMarkReviewed:b})]})]})]})]})}function yx(){const[t,e]=y.useState([]),[n,o]=y.useState(!0),[i,a]=y.useState(null);y.useEffect(()=>{u();const p=ie.channel("public:profiles").on("postgres_changes",{event:"*",schema:"public",table:"profiles"},u).subscribe();return()=>{p.unsubscribe()}},[]);async function u(){try{const{data:p,error:g}=await ie.from("profiles").select("*").order("created_at",{ascending:!1});if(g)throw g;const m=(p||[]).map(x=>({id:x.id,username:x.username,full_name:x.full_name,role:x.role,status:"active",join_date:new Date(x.join_date||x.created_at).toISOString().split("T")[0],email:`${x.username}@school.edu`}));e(m)}catch(p){console.error("Error fetching users:",p),a(p.message)}finally{o(!1)}}async function d(p,g){try{const{error:m}=await ie.from("profiles").update({role:g}).eq("id",p);if(m)throw m}catch(m){throw console.error("Error updating user role:",m),m}}async function h(p){try{const{error:g}=await ie.from("profiles").delete().eq("id",p);if(g)throw g}catch(g){throw console.error("Error deleting user:",g),g}}return{users:t,loading:n,error:i,updateUserRole:d,deleteUser:h,refetch:u}}function lA(){const[t,e]=y.useState(""),{users:n,loading:o,updateUserRole:i,deleteUser:a}=yx(),[u,d]=y.useState(null),h=async m=>{if(confirm("Are you sure you want to delete this user? This action cannot be undone.")){d(m);try{await a(m),Re.success("User deleted successfully")}catch{Re.error("Failed to delete user")}finally{d(null)}}},p=async(m,x)=>{d(m);try{await i(m,x),Re.success(`User role updated to ${x}`)}catch{Re.error("Failed to update user role")}finally{d(null)}},g=n.filter(m=>m.full_name.toLowerCase().includes(t.toLowerCase())||m.email&&m.email.toLowerCase().includes(t.toLowerCase())||m.username.toLowerCase().includes(t.toLowerCase()));return o?l.jsx("div",{className:"flex justify-center p-8",children:l.jsx(Et,{className:"h-8 w-8 animate-spin text-muted-foreground"})}):l.jsxs("div",{className:"space-y-4",children:[l.jsx("div",{className:"flex items-center gap-2",children:l.jsxs("div",{className:"relative flex-1 max-w-sm",children:[l.jsx(lc,{className:"absolute left-2.5 top-2.5 h-4 w-4 text-muted-foreground"}),l.jsx(rt,{placeholder:"Search users...",className:"pl-8",value:t,onChange:m=>e(m.target.value)})]})}),l.jsx("div",{className:"rounded-md border",children:l.jsxs(Ec,{children:[l.jsx(Nc,{children:l.jsxs(_r,{children:[l.jsx(He,{children:"Name"}),l.jsx(He,{children:"Email"}),l.jsx(He,{children:"Role"}),l.jsx(He,{children:"Status"}),l.jsx(He,{children:"Joined"}),l.jsx(He,{className:"text-right",children:"Actions"})]})}),l.jsx(Cc,{children:g.length===0?l.jsx(_r,{children:l.jsx(ze,{colSpan:6,className:"text-center py-8 text-muted-foreground",children:"No users found."})}):g.map(m=>l.jsxs(_r,{children:[l.jsx(ze,{className:"font-medium",children:l.jsxs("div",{children:[l.jsx("p",{children:m.full_name}),l.jsxs("p",{className:"text-xs text-muted-foreground",children:["@",m.username]})]})}),l.jsx(ze,{children:m.email}),l.jsx(ze,{children:l.jsxs(qr,{defaultValue:m.role,onValueChange:x=>p(m.id,x),disabled:u===m.id,children:[l.jsx(Gr,{className:"w-[110px] h-8",children:l.jsx(Kr,{})}),l.jsxs(Yr,{children:[l.jsx(Ve,{value:"student",children:"Student"}),l.jsx(Ve,{value:"teacher",children:"Teacher"}),l.jsx(Ve,{value:"principal",children:"Principal"}),l.jsx(Ve,{value:"admin",children:"Admin"})]})]})}),l.jsx(ze,{children:l.jsx(Lt,{variant:m.status==="active"?"outline":"destructive",children:m.status})}),l.jsx(ze,{children:m.join_date}),l.jsx(ze,{className:"text-right",children:l.jsx("div",{className:"flex justify-end gap-2",children:l.jsx(re,{variant:"ghost",size:"icon",className:"text-destructive",onClick:()=>h(m.id),title:"Delete User",disabled:u===m.id,children:u===m.id?l.jsx(Et,{className:"h-4 w-4 animate-spin"}):l.jsx(Ts,{className:"h-4 w-4"})})})})]},m.id))})]})})]})}function cA(){const[t,e]=y.useState(""),{ideas:n,loading:o,refetch:i}=jc(),{deleteIdea:a}=kc(),[u,d]=y.useState(null),h=async g=>{if(confirm("Are you sure you want to delete this idea? This cannot be undone.")){d(g);try{await a(g),Re.success("Idea deleted successfully"),i()}catch(m){console.error(m),Re.error("Failed to delete idea")}finally{d(null)}}},p=n.filter(g=>g.title.toLowerCase().includes(t.toLowerCase())||g.author.toLowerCase().includes(t.toLowerCase()));return o?l.jsx("div",{className:"flex justify-center p-8",children:l.jsx(Et,{className:"h-8 w-8 animate-spin text-muted-foreground"})}):l.jsxs("div",{className:"space-y-4",children:[l.jsx("div",{className:"flex items-center gap-2",children:l.jsxs("div",{className:"relative flex-1 max-w-sm",children:[l.jsx(lc,{className:"absolute left-2.5 top-2.5 h-4 w-4 text-muted-foreground"}),l.jsx(rt,{placeholder:"Search ideas...",className:"pl-8",value:t,onChange:g=>e(g.target.value)})]})}),l.jsx("div",{className:"rounded-md border",children:l.jsxs(Ec,{children:[l.jsx(Nc,{children:l.jsxs(_r,{children:[l.jsx(He,{children:"Title"}),l.jsx(He,{children:"Author"}),l.jsx(He,{children:"Category"}),l.jsx(He,{children:"Votes"}),l.jsx(He,{children:"Posted"}),l.jsx(He,{className:"text-right",children:"Actions"})]})}),l.jsx(Cc,{children:p.length===0?l.jsx(_r,{children:l.jsx(ze,{colSpan:6,className:"text-center py-8 text-muted-foreground",children:"No ideas found."})}):p.map(g=>l.jsxs(_r,{children:[l.jsx(ze,{className:"font-medium",children:l.jsxs("div",{className:"flex items-center gap-2",children:[g.title,l.jsx(jS,{to:`/idea/${g.id}`,target:"_blank",children:l.jsx(d1,{className:"h-3 w-3 text-muted-foreground"})})]})}),l.jsx(ze,{children:g.author}),l.jsx(ze,{children:l.jsx(Lt,{variant:"outline",children:g.category})}),l.jsx(ze,{children:g.votes}),l.jsx(ze,{children:g.timeAgo}),l.jsx(ze,{className:"text-right",children:l.jsx(re,{variant:"ghost",size:"icon",className:"text-destructive",onClick:()=>h(g.id),title:"Delete Idea",disabled:u===g.id,children:u===g.id?l.jsx(Et,{className:"h-4 w-4 animate-spin"}):l.jsx(Ts,{className:"h-4 w-4"})})})]},g.id))})]})})]})}function uA(){const{users:t,loading:e}=yx(),{ideas:n,loading:o}=jc(),i=t.length,a=n.length,u=t.filter(p=>p.status==="active").length,d=i>0?Math.round(u/i*100):0,h=[{title:"Total Users",value:e?"...":i.toLocaleString(),icon:Wl,description:"Registered accounts"},{title:"Total Ideas",value:o?"...":a.toLocaleString(),icon:b1,description:"Submitted ideas"},{title:"Active Users",value:e?"...":`${d}%`,icon:Bj,description:"Account status active"}];return l.jsxs("div",{className:"min-h-screen bg-background",children:[l.jsx(ia,{onNewIdea:()=>{},onChat:()=>{},onProfile:()=>{},hideActions:!0}),l.jsxs("main",{className:"container mx-auto px-4 py-6 space-y-8",children:[l.jsxs("div",{children:[l.jsx("h1",{className:"text-3xl font-bold tracking-tight",children:"Admin Dashboard"}),l.jsx("p",{className:"text-muted-foreground",children:"Manage users, content, and view system statistics."})]}),l.jsx("div",{className:"grid gap-4 md:grid-cols-3",children:h.map(p=>l.jsxs(Ae,{children:[l.jsxs(Dt,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[l.jsx(lr,{className:"text-sm font-medium",children:p.title}),l.jsx(p.icon,{className:"h-4 w-4 text-muted-foreground"})]}),l.jsxs($e,{children:[l.jsx("div",{className:"text-2xl font-bold",children:p.value}),l.jsx("p",{className:"text-xs text-muted-foreground",children:p.description})]})]},p.title))}),l.jsxs(Qo,{defaultValue:"users",className:"space-y-4",children:[l.jsxs(Xo,{children:[l.jsx(Yt,{value:"users",children:"User Management"}),l.jsx(Yt,{value:"ideas",children:"Content Moderation"})]}),l.jsx(Jt,{value:"users",className:"space-y-4",children:l.jsx(lA,{})}),l.jsx(Jt,{value:"ideas",className:"space-y-4",children:l.jsx(cA,{})})]})]})]})}function wx({comment:t,onVote:e,level:n=0}){const[o,i]=y.useState(t.userVote),[a,u]=y.useState(t.votes),[d,h]=y.useState(!1),p=g=>{let m=a,x=g;o==="up"&&(m-=1),o==="down"&&(m+=1),g===o?x=null:(g==="up"&&(m+=1),g==="down"&&(m-=1)),i(x),u(m),e(t.id,g)};return l.jsxs("div",{className:ge("flex gap-2",n>0&&"ml-8 border-l-2 border-muted pl-4"),children:[l.jsxs("div",{className:"flex flex-col items-center gap-1 pt-2",children:[l.jsx(re,{variant:"ghost",size:"sm",onClick:()=>p("up"),className:ge("h-6 w-6 p-0",o==="up"&&"text-green-600"),children:l.jsx(mn,{className:"h-4 w-4"})}),l.jsx("span",{className:ge("text-xs font-medium",a>0&&"text-green-600",a<0&&"text-red-600"),children:a}),l.jsx(re,{variant:"ghost",size:"sm",onClick:()=>p("down"),className:ge("h-6 w-6 p-0",o==="down"&&"text-red-600"),children:l.jsx(Bo,{className:"h-4 w-4"})})]}),l.jsxs("div",{className:"flex-1 pb-4",children:[l.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[l.jsx(Ut,{className:"h-6 w-6",children:l.jsx(zt,{children:l.jsx(cr,{className:"h-3 w-3"})})}),l.jsx("span",{className:"font-medium text-sm",children:t.author}),l.jsx("span",{className:"text-xs text-muted-foreground",children:t.timeAgo})]}),l.jsx("p",{className:"text-sm mb-2",children:t.content}),l.jsxs(re,{variant:"ghost",size:"sm",onClick:()=>h(!d),className:"h-7 gap-1 px-2 text-xs",children:[l.jsx(dy,{className:"h-3 w-3"}),"Reply"]}),d&&l.jsxs("div",{className:"mt-2",children:[l.jsx(Ko,{placeholder:"Write a reply...",rows:2,className:"mb-2"}),l.jsxs("div",{className:"flex gap-2",children:[l.jsx(re,{size:"sm",className:"h-7 text-xs",children:"Post"}),l.jsx(re,{size:"sm",variant:"outline",className:"h-7 text-xs",onClick:()=>h(!1),children:"Cancel"})]})]}),t.replies&&t.replies.length>0&&l.jsx("div",{className:"mt-4 space-y-0",children:t.replies.map(g=>l.jsx(wx,{comment:g,onVote:e,level:n+1},g.id))})]})]})}function dA({idea:t,comments:e,onBack:n,onVote:o,onAddComment:i,onVoteComment:a}){const[u,d]=y.useState(t.userVote),[h,p]=y.useState(t.votes),[g,m]=y.useState(""),x=j=>{let _=h,S=j;u==="up"&&(_-=1),u==="down"&&(_+=1),j===u?S=null:(j==="up"&&(_+=1),j==="down"&&(_-=1)),d(S),p(_),o(t.id,j)},b=j=>{j.preventDefault(),g.trim()&&(i(g.trim()),m(""))};return l.jsxs("div",{className:"space-y-4",children:[l.jsxs(re,{variant:"ghost",onClick:n,className:"gap-2",children:[l.jsx(ac,{className:"h-4 w-4"}),"Back to ideas"]}),l.jsx(Ae,{children:l.jsx($e,{className:"p-0",children:l.jsxs("div",{className:"flex gap-4 p-6",children:[l.jsxs("div",{className:"flex flex-col items-center gap-2",children:[l.jsx(re,{variant:"ghost",size:"sm",onClick:()=>x("up"),className:ge("h-8 w-8 p-0",u==="up"&&"text-green-600 bg-green-50 hover:bg-green-100"),children:l.jsx(mn,{className:"h-5 w-5"})}),l.jsx("span",{className:ge("font-medium",h>0&&"text-green-600",h<0&&"text-red-600"),children:h}),l.jsx(re,{variant:"ghost",size:"sm",onClick:()=>x("down"),className:ge("h-8 w-8 p-0",u==="down"&&"text-red-600 bg-red-50 hover:bg-red-100"),children:l.jsx(Bo,{className:"h-5 w-5"})})]}),l.jsxs("div",{className:"flex-1",children:[l.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[l.jsx(Ut,{className:"h-8 w-8",children:l.jsx(zt,{children:l.jsx(cr,{className:"h-4 w-4"})})}),l.jsxs("div",{children:[l.jsx("p",{className:"font-medium",children:t.author}),l.jsx("p",{className:"text-xs text-muted-foreground",children:t.timeAgo})]}),l.jsx(Lt,{variant:"secondary",className:"ml-auto",children:t.category})]}),l.jsx("h1",{className:"mb-4",children:t.title}),l.jsx("p",{className:"text-muted-foreground mb-4",children:t.description}),l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsxs(re,{variant:"ghost",size:"sm",className:"gap-1",children:[l.jsx(Ao,{className:"h-4 w-4"}),t.commentCount," ",t.commentCount===1?"comment":"comments"]}),l.jsxs(re,{variant:"ghost",size:"sm",className:"gap-1",children:[l.jsx(fy,{className:"h-4 w-4"}),"Share"]})]})]})]})})}),l.jsx(Ae,{children:l.jsx($e,{className:"p-4",children:l.jsxs("form",{onSubmit:b,className:"space-y-3",children:[l.jsx("p",{className:"text-sm font-medium",children:"Comment as John Student"}),l.jsx(Ko,{placeholder:"What are your thoughts?",value:g,onChange:j=>m(j.target.value),rows:4}),l.jsx("div",{className:"flex justify-end",children:l.jsx(re,{type:"submit",disabled:!g.trim(),children:"Comment"})})]})})}),l.jsxs("div",{className:"space-y-1",children:[l.jsx("div",{className:"flex items-center gap-2 mb-4",children:l.jsxs("h3",{children:["Comments (",e.length,")"]})}),e.length===0?l.jsx(Ae,{children:l.jsx($e,{className:"p-8 text-center",children:l.jsx("p",{className:"text-muted-foreground",children:"No comments yet. Be the first to share your thoughts!"})})}):l.jsx("div",{className:"space-y-0",children:e.map(j=>l.jsxs("div",{children:[l.jsx(wx,{comment:j,onVote:a}),l.jsx(Qi,{})]},j.id))})]})]})}function fA(){const{id:t}=X_(),e=Xr(),{user:n}=Mr(),{ideas:o}=jc(n?.id),i=o.find(b=>b.id===t),{comments:a,addComment:u,voteComment:d}=gx(t||"",n?.id),{vote:h}=mx(),p=()=>{e("/")},g=async(b,j)=>{if(!n){alert("You must be logged in to vote");return}try{await h(b,n.id,j)}catch(_){console.error("Error voting:",_)}},m=async b=>{if(!n){alert("You must be logged in to comment");return}if(t)try{await u(b,n.id)}catch(j){console.error("Error adding comment:",j),alert("Failed to add comment")}},x=async(b,j)=>{if(!n){alert("You must be logged in to vote");return}try{await d(b,n.id,j)}catch(_){console.error("Error voting on comment:",_)}};return i?l.jsxs("div",{className:"min-h-screen bg-background",children:[l.jsx(ia,{onNewIdea:()=>{},onChat:()=>{},onProfile:()=>{},hideActions:!0}),l.jsx("main",{className:"container max-w-4xl mx-auto px-4 py-6",children:l.jsx(dA,{idea:i,comments:a,onBack:p,onVote:g,onAddComment:m,onVoteComment:x})})]}):l.jsx("div",{children:"Loading..."})}function hA(){const t=Xr(),[e,n]=y.useState(!1),[o,i]=y.useState(""),[a,u]=y.useState(""),[d,h]=y.useState(""),[p,g]=y.useState(""),m=async _=>{_.preventDefault(),n(!0);try{const{user:S}=await Zn.login(o,a);Re.success(`Welcome back, ${S.name}!`),S.role==="admin"?t("/admin"):S.role==="principal"?t("/principal"):S.role==="teacher"?t("/teacher"):t("/")}catch(S){console.error(S),Re.error("Login failed. Please check your credentials.")}finally{n(!1)}},x=async _=>{_.preventDefault(),n(!0);try{const{user:S}=await Zn.signup({email:o,password:a,name:d,username:p});Re.success("Account created successfully!"),t("/")}catch(S){console.error(S),Re.error("Signup failed. Please try again.")}finally{n(!1)}},b=async _=>{n(!0);try{await Zn.signInWithOAuth(_)}catch(S){console.error(S),Re.error(`${_} login failed. Please try again.`),n(!1)}},j=async()=>{n(!0);try{try{await Zn.signup({email:"joris@school.edu",password:"admin123",name:"Joris Admin",username:"joris"}),Re.success("Admin user 'joris' created! You can now login.")}catch(_){if(_.message.includes("already registered"))Re.info("User 'joris' already exists. Try logging in.");else throw _}}catch(_){console.error(_),Re.error(`Failed to seed admin: ${_.message}`)}finally{n(!1)}};return l.jsx("div",{className:"min-h-screen flex items-center justify-center bg-muted/40 p-4",children:l.jsxs(Ae,{className:"w-full max-w-md",children:[l.jsxs(Dt,{className:"text-center",children:[l.jsx(lr,{className:"text-2xl",children:"Welcome to OMED"}),l.jsx(Is,{children:"Sign in to your account or create a new one"})]}),l.jsxs($e,{children:[l.jsxs(Qo,{defaultValue:"login",className:"w-full",children:[l.jsxs(Xo,{className:"grid w-full grid-cols-2 mb-4",children:[l.jsx(Yt,{value:"login",children:"Login"}),l.jsx(Yt,{value:"signup",children:"Sign Up"})]}),l.jsx(Jt,{value:"login",children:l.jsxs("form",{onSubmit:m,className:"space-y-4",children:[l.jsxs("div",{className:"space-y-2",children:[l.jsx(Ot,{htmlFor:"email",children:"Email"}),l.jsx(rt,{id:"email",type:"email",placeholder:"name@example.com",value:o,onChange:_=>i(_.target.value),required:!0})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx(Ot,{htmlFor:"password",children:"Password"}),l.jsx(rt,{id:"password",type:"password",value:a,onChange:_=>u(_.target.value),required:!0})]}),l.jsxs(re,{type:"submit",className:"w-full",disabled:e,children:[e?l.jsx(Et,{className:"mr-2 h-4 w-4 animate-spin"}):null,"Sign In"]})]})}),l.jsx(Jt,{value:"signup",children:l.jsxs("form",{onSubmit:x,className:"space-y-4",children:[l.jsxs("div",{className:"space-y-2",children:[l.jsx(Ot,{htmlFor:"signup-name",children:"Full Name"}),l.jsx(rt,{id:"signup-name",placeholder:"John Doe",value:d,onChange:_=>h(_.target.value),required:!0})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx(Ot,{htmlFor:"signup-username",children:"Username"}),l.jsx(rt,{id:"signup-username",placeholder:"johndoe",value:p,onChange:_=>g(_.target.value),required:!0})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx(Ot,{htmlFor:"signup-email",children:"Email"}),l.jsx(rt,{id:"signup-email",type:"email",placeholder:"name@example.com",value:o,onChange:_=>i(_.target.value),required:!0})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx(Ot,{htmlFor:"signup-password",children:"Password"}),l.jsx(rt,{id:"signup-password",type:"password",value:a,onChange:_=>u(_.target.value),required:!0})]}),l.jsxs(re,{type:"submit",className:"w-full",disabled:e,children:[e?l.jsx(Et,{className:"mr-2 h-4 w-4 animate-spin"}):null,"Create Account"]})]})})]}),l.jsx(Qi,{className:"my-4"}),l.jsxs("div",{className:"space-y-2",children:[l.jsx("p",{className:"text-sm text-center text-muted-foreground",children:"Or continue with:"}),l.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[l.jsxs(re,{variant:"outline",onClick:()=>b("github"),disabled:e,className:"w-full",children:[l.jsx(cy,{className:"mr-2 h-4 w-4"}),"GitHub"]}),l.jsxs(re,{variant:"outline",onClick:()=>b("spotify"),disabled:e,className:"w-full",children:[l.jsx(Pf,{className:"mr-2 h-4 w-4"}),"Spotify"]}),l.jsxs(re,{variant:"outline",onClick:()=>b("google"),disabled:e,className:"w-full",children:[l.jsx(iy,{className:"mr-2 h-4 w-4"}),"Google"]}),l.jsxs(re,{variant:"outline",onClick:()=>b("discord"),disabled:e,className:"w-full",children:[l.jsx(ly,{className:"mr-2 h-4 w-4"}),"Discord"]}),l.jsxs(re,{variant:"outline",onClick:()=>b("apple"),disabled:e,className:"w-full",children:[l.jsx(sy,{className:"mr-2 h-4 w-4"}),"Apple"]})]})]})]}),l.jsxs(Gv,{className:"flex flex-col gap-4 border-t pt-6",children:[l.jsxs("div",{className:"text-xs text-center text-muted-foreground",children:[l.jsx("p",{children:"Demo Credentials:"}),l.jsx("p",{children:"student@school.edu / password"}),l.jsx("p",{children:"teacher@school.edu / password"}),l.jsx("p",{children:"principal@school.edu / password"})]}),l.jsxs(re,{variant:"destructive",size:"sm",className:"w-full",onClick:j,disabled:e,children:[l.jsx(M1,{className:"mr-2 h-4 w-4"}),"Seed Admin User (Dev Only)"]})]})]})})}function pA(){const t=Xr(),{user:e}=Mr();return y.useEffect(()=>{const n=setTimeout(()=>{e?e.role==="admin"?t("/admin"):e.role==="principal"?t("/principal"):e.role==="teacher"?t("/teacher"):t("/"):t("/login")},1500);return()=>clearTimeout(n)},[e,t]),l.jsx("div",{className:"min-h-screen flex items-center justify-center bg-muted/40 p-4",children:l.jsxs(Ae,{className:"w-full max-w-md",children:[l.jsx(Dt,{className:"text-center",children:l.jsx(lr,{className:"text-2xl",children:"Authentication"})}),l.jsxs($e,{className:"flex flex-col items-center gap-4",children:[l.jsx(Et,{className:"h-8 w-8 animate-spin text-primary"}),l.jsx("p",{className:"text-muted-foreground",children:"Processing login..."})]})]})})}function mA(t){const[e,n]=y.useState(!1),[o,i]=y.useState(null),a=async p=>{if(!p.match(/^[a-zA-Z0-9._]{1,30}$/))return i("Invalid Instagram handle format"),!1;try{return await fetch(`https://www.instagram.com/${p}/?__a=1`,{method:"HEAD",mode:"no-cors"}),!0}catch{return!0}},u=async p=>{if(!p.match(/^[a-zA-Z0-9._]{1,24}$/))return i("Invalid TikTok handle format"),!1;try{return await fetch(`https://www.tiktok.com/@${p}`,{method:"HEAD",mode:"no-cors"}),!0}catch{return!0}};return{saveSocialLink:async(p,g)=>{if(!t)return!1;n(!0),i(null);try{let m=!1;if(p==="instagram"?m=await a(g):p==="tiktok"&&(m=await u(g)),!m)return n(!1),!1;const{error:x}=await ie.from("profiles").update({[p]:g}).eq("id",t);return x?(i(x.message),n(!1),!1):(n(!1),!0)}catch(m){return i(m.message),n(!1),!1}},removeSocialLink:async p=>{if(!t)return!1;n(!0),i(null);try{const{error:g}=await ie.from("profiles").update({[p]:null}).eq("id",t);return g?(i(g.message),n(!1),!1):(n(!1),!0)}catch(g){return i(g.message),n(!1),!1}},loading:e,error:o}}function gA(t){const[e,n]=y.useState(!1),[o,i]=y.useState(null);return{updateProfile:async(u,d)=>{if(!t)return!1;n(!0),i(null);try{if(d.trim()){const{data:p}=await ie.from("profiles").select("id").eq("username",d.trim()).neq("id",t).single();if(p)return i("Username is already taken"),n(!1),!1}const{error:h}=await ie.from("profiles").update({full_name:u.trim(),username:d.trim()}).eq("id",t);return h?(i(h.message),n(!1),!1):(n(!1),!0)}catch(h){return i(h.message),n(!1),!1}},loading:e,error:o}}function vA(){const[t,e]=y.useState(!1),[n,o]=y.useState(null),[i,a]=y.useState(!1);return{changeEmail:async h=>{if(!h.trim())return o("Email cannot be empty"),!1;if(!h.match(/^[^\s@]+@[^\s@]+\.[^\s@]+$/))return o("Invalid email format"),!1;e(!0),o(null);try{const{error:p}=await ie.auth.updateUser({email:h});return p?(o(p.message),e(!1),!1):(a(!0),e(!1),!0)}catch(p){return o(p.message),e(!1),!1}},loading:t,error:n,verificationSent:i,resetState:()=>{o(null),a(!1)}}}function yA(t){const[e,n]=y.useState([]),[o,i]=y.useState(!1),[a,u]=y.useState(null),d=y.useCallback(async()=>{if(t){i(!0),u(null);try{const{data:{user:m},error:x}=await ie.auth.getUser();if(x||!m)throw new Error("Failed to fetch user");const j=(m.identities||[]).map(_=>({id:_.id||_.provider,provider:_.provider,email:_.email,createdAt:_.created_at}));n(j)}catch(m){const x=m instanceof Error?m.message:"Failed to fetch linked identities";u(x),console.error("Error fetching linked identities:",m)}finally{i(!1)}}},[t]),h=y.useCallback(async m=>{i(!0),u(null);try{const{error:x}=await ie.auth.linkIdentity({provider:m,options:{redirectTo:`${window.location.origin}/auth/callback`}});if(x)throw new Error(x.message);return await d(),!0}catch(x){const b=x instanceof Error?x.message:`Failed to link ${m}`;return u(b),console.error(`Error linking ${m}:`,x),!1}finally{i(!1)}},[d]),p=y.useCallback(async m=>{i(!0),u(null);try{const{data:{user:x},error:b}=await ie.auth.getUser();if(b||!x)throw new Error("Failed to fetch user");const j=x.identities?.find(E=>E.provider===m);if(!j)throw new Error(`Provider ${m} is not linked`);const _=!0;x.identities?.length;const{error:S}=await ie.auth.unlinkIdentity(j);if(S)throw new Error(S.message);return n(E=>E.filter(N=>N.provider!==m)),!0}catch(x){const b=x instanceof Error?x.message:`Failed to unlink ${m}`;return u(b),console.error(`Error unlinking ${m}:`,x),Re.error(b),!1}finally{i(!1)}},[]),g=y.useCallback(m=>e.some(x=>x.provider===m),[e]);return y.useEffect(()=>{d()},[d]),{linkedIdentities:e,loading:o,error:a,linkProvider:h,unlinkProvider:p,isProviderLinked:g,fetchLinkedIdentities:d}}const wA=Cf("relative w-full rounded-lg border px-4 py-3 text-sm grid has-[>svg]:grid-cols-[calc(var(--spacing)*4)_1fr] grid-cols-[0_1fr] has-[>svg]:gap-x-3 gap-y-0.5 items-start [&>svg]:size-4 [&>svg]:translate-y-0.5 [&>svg]:text-current",{variants:{variant:{default:"bg-card text-card-foreground",destructive:"text-destructive bg-card [&>svg]:text-current *:data-[slot=alert-description]:text-destructive/90"}},defaultVariants:{variant:"default"}});function To({className:t,variant:e,...n}){return l.jsx("div",{"data-slot":"alert",role:"alert",className:ge(wA({variant:e}),t),...n})}function Po({className:t,...e}){return l.jsx("div",{"data-slot":"alert-description",className:ge("text-muted-foreground col-start-2 grid justify-items-start gap-1 text-sm [&_p]:leading-relaxed",t),...e})}function xA(){const{user:t}=Mr(),e=Xr(),{saveSocialLink:n,removeSocialLink:o,error:i}=mA(t?.id),{pendingRequests:a,acceptFriendRequest:u,rejectFriendRequest:d}=Z0(t?.id),{updateProfile:h,loading:p,error:g}=gA(t?.id),{changeEmail:m,loading:x,error:b,verificationSent:j,resetState:_}=vA(),{loading:S,isProviderLinked:E,linkProvider:N,unlinkProvider:C}=yA(t?.id),[P,F]=y.useState(""),[V,I]=y.useState(""),[z,q]=y.useState(""),[ne,ce]=y.useState(""),[de,le]=y.useState(""),[me,be]=y.useState(!1),[B,$]=y.useState(!1);y.useEffect(()=>{t&&(async()=>{const{data:oe}=await ie.from("profiles").select("instagram, tiktok, full_name, username").eq("id",t.id).single();oe&&(ce(oe.instagram||""),le(oe.tiktok||""),F(oe.full_name||""),I(oe.username||""))})()},[t]);const O=async()=>{be(!0),await n("instagram",ne)?Re.success("Instagram link saved!"):Re.error(i||"Failed to save Instagram link"),be(!1)},Z=async()=>{$(!0),await n("tiktok",de)?Re.success("TikTok link saved!"):Re.error(i||"Failed to save TikTok link"),$(!1)},K=async()=>{await o("instagram")?(ce(""),Re.success("Instagram link removed")):Re.error("Failed to remove Instagram link")},D=async()=>{await o("tiktok")?(le(""),Re.success("TikTok link removed")):Re.error("Failed to remove TikTok link")},H=async W=>{await u(W)?Re.success("Friend request accepted!"):Re.error("Failed to accept friend request")},Q=async W=>{await d(W)?Re.success("Friend request declined"):Re.error("Failed to decline friend request")};return t?l.jsx("div",{className:"min-h-screen bg-muted/40 p-4",children:l.jsxs("div",{className:"max-w-2xl mx-auto space-y-6",children:[l.jsxs("div",{className:"flex items-center gap-4 mb-6",children:[l.jsx(re,{variant:"ghost",size:"icon",onClick:()=>e("/"),children:l.jsx(ac,{className:"h-5 w-5"})}),l.jsx("h1",{className:"text-3xl font-bold",children:"Settings"})]}),l.jsxs(Qo,{defaultValue:"profile",className:"w-full",children:[l.jsxs(Xo,{className:"grid w-full grid-cols-4",children:[l.jsx(Yt,{value:"profile",children:"Profile"}),l.jsx(Yt,{value:"connected",children:"Connected"}),l.jsx(Yt,{value:"social",children:"Social Links"}),l.jsxs(Yt,{value:"friends",children:["Friends (",a.length,")"]})]}),l.jsx(Jt,{value:"profile",children:l.jsxs(Ae,{children:[l.jsxs(Dt,{children:[l.jsx(lr,{children:"Account Settings"}),l.jsx(Is,{children:"Manage your account information"})]}),l.jsxs($e,{className:"space-y-6",children:[l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{className:"space-y-2",children:[l.jsx(Ot,{htmlFor:"fullname",children:"Full Name"}),l.jsx(rt,{id:"fullname",value:P,onChange:W=>F(W.target.value),placeholder:"Your full name",disabled:p})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx(Ot,{htmlFor:"username",children:"Username"}),l.jsx(rt,{id:"username",value:V,onChange:W=>I(W.target.value),placeholder:"your_username",disabled:p}),l.jsx("p",{className:"text-xs text-muted-foreground",children:"Usernames must be unique and can contain letters, numbers, and underscores."})]}),g&&l.jsxs("div",{className:"text-sm text-red-600 flex items-center gap-2",children:[l.jsx(Ls,{className:"h-4 w-4"}),g]}),l.jsxs(re,{onClick:async()=>{await h(P,V)?Re.success("Profile updated successfully!"):Re.error(g||"Failed to update profile")},disabled:p||!P.trim()||!V.trim(),children:[p?l.jsx(Et,{className:"h-4 w-4 mr-2 animate-spin"}):null,"Save Changes"]})]}),l.jsxs("div",{className:"border-t pt-6 space-y-4",children:[l.jsx("h4",{className:"font-semibold",children:"Account Information"}),l.jsxs("div",{className:"space-y-2",children:[l.jsx(Ot,{children:"Current Email"}),l.jsx(rt,{value:t?.email||"",disabled:!0,className:"bg-muted"})]}),l.jsxs("div",{className:"space-y-3 p-4 bg-muted rounded-lg",children:[l.jsxs("div",{className:"space-y-2",children:[l.jsx(Ot,{htmlFor:"newemail",children:"Change Email Address"}),l.jsx(rt,{id:"newemail",type:"email",placeholder:"new@example.com",value:z,onChange:W=>q(W.target.value),disabled:x||j}),l.jsx("p",{className:"text-xs text-muted-foreground",children:"A verification link will be sent to your new email address."})]}),j&&l.jsxs(To,{className:"border-green-200 bg-green-50",children:[l.jsx(yg,{className:"h-4 w-4 text-green-600"}),l.jsx(Po,{className:"text-green-800",children:"Verification email sent! Please check your inbox and click the confirmation link."})]}),b&&l.jsxs(To,{className:"border-red-200 bg-red-50",children:[l.jsx(Vl,{className:"h-4 w-4 text-red-600"}),l.jsx(Po,{className:"text-red-800",children:b})]}),l.jsxs(re,{onClick:async()=>{await m(z)&&(Re.success("Verification email sent! Please confirm your new email."),q(""))},disabled:x||!z.trim()||j,className:"w-full",children:[x?l.jsx(Et,{className:"h-4 w-4 mr-2 animate-spin"}):l.jsx(yg,{className:"h-4 w-4 mr-2"}),"Send Verification Email"]}),j&&l.jsx(re,{variant:"outline",onClick:()=>{_(),q("")},className:"w-full",children:"Change Email Again"})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx(Ot,{children:"Role"}),l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(rt,{value:t?.role||"",disabled:!0,className:"bg-muted"}),l.jsx(Lt,{className:"shrink-0",children:t?.role?.toUpperCase()})]})]})]})]})]})}),l.jsx(Jt,{value:"connected",children:l.jsxs(Ae,{children:[l.jsxs(Dt,{children:[l.jsx(lr,{children:"Connected Accounts"}),l.jsx(Is,{children:"Link or unlink authentication providers to your account"})]}),l.jsxs($e,{className:"space-y-4",children:[S?l.jsx("div",{className:"flex justify-center py-8",children:l.jsx(Et,{className:"h-6 w-6 animate-spin"})}):l.jsxs("div",{className:"space-y-3",children:[l.jsxs("div",{className:"flex items-center justify-between p-4 border rounded-lg",children:[l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx(cy,{className:"h-5 w-5"}),l.jsxs("div",{children:[l.jsx("p",{className:"font-medium",children:"GitHub"}),l.jsx("p",{className:"text-sm text-muted-foreground",children:"Sign in with your GitHub account"})]})]}),E("github")?l.jsxs(re,{variant:"destructive",size:"sm",onClick:async()=>{await C("github")&&Re.success("GitHub disconnected")},children:[l.jsx(Ts,{className:"h-4 w-4 mr-2"}),"Disconnect"]}):l.jsxs(re,{size:"sm",onClick:async()=>{await N("github")&&Re.success("GitHub connected")},children:[l.jsx(zi,{className:"h-4 w-4 mr-2"}),"Connect"]})]}),l.jsxs("div",{className:"flex items-center justify-between p-4 border rounded-lg",children:[l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx(Pf,{className:"h-5 w-5 text-green-600"}),l.jsxs("div",{children:[l.jsx("p",{className:"font-medium",children:"Spotify"}),l.jsx("p",{className:"text-sm text-muted-foreground",children:"Sign in with your Spotify account"})]})]}),E("spotify")?l.jsxs(re,{variant:"destructive",size:"sm",onClick:async()=>{await C("spotify")&&Re.success("Spotify disconnected")},children:[l.jsx(Ts,{className:"h-4 w-4 mr-2"}),"Disconnect"]}):l.jsxs(re,{size:"sm",onClick:async()=>{await N("spotify")&&Re.success("Spotify connected")},children:[l.jsx(zi,{className:"h-4 w-4 mr-2"}),"Connect"]})]}),l.jsxs("div",{className:"flex items-center justify-between p-4 border rounded-lg",children:[l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx(iy,{className:"h-5 w-5 text-red-600"}),l.jsxs("div",{children:[l.jsx("p",{className:"font-medium",children:"Google"}),l.jsx("p",{className:"text-sm text-muted-foreground",children:"Sign in with your Google account"})]})]}),E("google")?l.jsxs(re,{variant:"destructive",size:"sm",onClick:async()=>{await C("google")&&Re.success("Google disconnected")},children:[l.jsx(Ts,{className:"h-4 w-4 mr-2"}),"Disconnect"]}):l.jsxs(re,{size:"sm",onClick:async()=>{await N("google")&&Re.success("Google connected")},children:[l.jsx(zi,{className:"h-4 w-4 mr-2"}),"Connect"]})]}),l.jsxs("div",{className:"flex items-center justify-between p-4 border rounded-lg",children:[l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx(ly,{className:"h-5 w-5 text-indigo-600"}),l.jsxs("div",{children:[l.jsx("p",{className:"font-medium",children:"Discord"}),l.jsx("p",{className:"text-sm text-muted-foreground",children:"Sign in with your Discord account"})]})]}),E("discord")?l.jsxs(re,{variant:"destructive",size:"sm",onClick:async()=>{await C("discord")&&Re.success("Discord disconnected")},children:[l.jsx(Ts,{className:"h-4 w-4 mr-2"}),"Disconnect"]}):l.jsxs(re,{size:"sm",onClick:async()=>{await N("discord")&&Re.success("Discord connected")},children:[l.jsx(zi,{className:"h-4 w-4 mr-2"}),"Connect"]})]}),l.jsxs("div",{className:"flex items-center justify-between p-4 border rounded-lg",children:[l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx(sy,{className:"h-5 w-5"}),l.jsxs("div",{children:[l.jsx("p",{className:"font-medium",children:"Apple"}),l.jsx("p",{className:"text-sm text-muted-foreground",children:"Sign in with your Apple account"})]})]}),E("apple")?l.jsxs(re,{variant:"destructive",size:"sm",onClick:async()=>{await C("apple")&&Re.success("Apple disconnected")},children:[l.jsx(Ts,{className:"h-4 w-4 mr-2"}),"Disconnect"]}):l.jsxs(re,{size:"sm",onClick:async()=>{await N("apple")&&Re.success("Apple connected")},children:[l.jsx(zi,{className:"h-4 w-4 mr-2"}),"Connect"]})]})]}),l.jsxs(To,{className:"mt-4",children:[l.jsx(Vl,{className:"h-4 w-4"}),l.jsx(Po,{children:"Connecting multiple authentication providers allows you to sign in with any of them. You can link up to 5 different providers to your account."})]})]})]})}),l.jsx(Jt,{value:"social",children:l.jsxs(Ae,{children:[l.jsxs(Dt,{children:[l.jsx(lr,{children:"Social Links"}),l.jsx(Is,{children:"Connect your Instagram and TikTok profiles"})]}),l.jsxs($e,{className:"space-y-6",children:[l.jsxs("div",{className:"space-y-3",children:[l.jsx(Ot,{className:"flex items-center gap-2",children:" Instagram Handle"}),l.jsxs("div",{className:"flex gap-2",children:[l.jsx(rt,{placeholder:"your_handle (without @)",value:ne,onChange:W=>ce(W.target.value),disabled:me}),l.jsx(re,{onClick:O,disabled:me||!ne,children:me?l.jsx(Et,{className:"h-4 w-4 animate-spin"}):"Save"}),ne&&l.jsx(re,{variant:"outline",onClick:K,disabled:me,children:"Remove"})]}),ne&&l.jsxs("p",{className:"text-sm text-green-600 flex items-center gap-2",children:[l.jsx(vg,{className:"h-4 w-4"}),"instagram.com/",ne]})]}),l.jsxs("div",{className:"space-y-3",children:[l.jsx(Ot,{className:"flex items-center gap-2",children:" TikTok Handle"}),l.jsxs("div",{className:"flex gap-2",children:[l.jsx(rt,{placeholder:"your_handle (without @)",value:de,onChange:W=>le(W.target.value),disabled:B}),l.jsx(re,{onClick:Z,disabled:B||!de,children:B?l.jsx(Et,{className:"h-4 w-4 animate-spin"}):"Save"}),de&&l.jsx(re,{variant:"outline",onClick:D,disabled:B,children:"Remove"})]}),de&&l.jsxs("p",{className:"text-sm text-green-600 flex items-center gap-2",children:[l.jsx(vg,{className:"h-4 w-4"}),"tiktok.com/@",de]})]}),l.jsx("div",{className:"text-sm text-muted-foreground bg-muted p-3 rounded",children:"Your social links will appear on your profile and can be shared with friends."})]})]})}),l.jsx(Jt,{value:"friends",children:l.jsxs(Ae,{children:[l.jsxs(Dt,{children:[l.jsx(lr,{children:"Friend Requests"}),l.jsx(Is,{children:"Manage your incoming friend requests"})]}),l.jsx($e,{children:a.length===0?l.jsx("p",{className:"text-muted-foreground",children:"No pending friend requests"}):l.jsx("div",{className:"space-y-3",children:a.map(W=>l.jsxs("div",{className:"flex items-center justify-between p-3 border rounded-lg",children:[l.jsxs("div",{children:[l.jsx("p",{className:"font-semibold",children:W.profile?.full_name}),l.jsxs("p",{className:"text-sm text-muted-foreground",children:["@",W.profile?.username]})]}),l.jsxs("div",{className:"flex gap-2",children:[l.jsx(re,{size:"sm",onClick:()=>H(W.id),children:"Accept"}),l.jsx(re,{size:"sm",variant:"outline",onClick:()=>Q(W.id),children:"Decline"})]})]},W.id))})})]})})]})]})}):null}function bA(){const{user:t}=Mr(),e=Xr(),{fetchConversations:n,sendMessage:o,markAsRead:i}=hx(t?.id||""),[a,u]=y.useState([]),[d,h]=y.useState(null),[p,g]=y.useState([]),[m,x]=y.useState(""),[b,j]=y.useState(!1),[_,S]=y.useState(!0);y.useEffect(()=>{const N=async()=>{S(!0);const C=await n();u(C),S(!1)};if(t){N();const C=setInterval(N,3e3);return()=>clearInterval(C)}},[t,n]),y.useEffect(()=>{if(!d||!t)return;const N=async()=>{const{data:P,error:F}=await ie.from("messages").select("*").or(`and(sender_id.eq.${t.id},recipient_id.eq.${d}),and(sender_id.eq.${d},recipient_id.eq.${t.id})`).order("created_at",{ascending:!0});if(!F&&P){g(P);const V=P.filter(I=>I.recipient_id===t.id&&!I.read).map(I=>I.id);V.length>0&&await i(V)}};N();const C=setInterval(N,2e3);return()=>clearInterval(C)},[d,t,i]);const E=async N=>{if(N.preventDefault(),!m.trim()||!d||!t)return;if(j(!0),await o(d,m)){x("");const{data:P}=await ie.from("messages").select("*").or(`and(sender_id.eq.${t.id},recipient_id.eq.${d}),and(sender_id.eq.${d},recipient_id.eq.${t.id})`).order("created_at",{ascending:!0});P&&g(P)}else Re.error("Failed to send message");j(!1)};return t?l.jsxs("div",{className:"min-h-screen bg-muted/40 flex flex-col",children:[l.jsxs("div",{className:"border-b bg-background p-4 flex items-center gap-4",children:[l.jsx(re,{variant:"ghost",size:"icon",onClick:()=>e("/"),children:l.jsx(ac,{className:"h-5 w-5"})}),l.jsx("h1",{className:"text-2xl font-bold",children:"Messages"})]}),l.jsxs("div",{className:"flex-1 flex gap-4 p-4 max-w-6xl mx-auto w-full",children:[l.jsx("div",{className:"w-full md:w-80 border rounded-lg bg-background overflow-y-auto max-h-[calc(100vh-120px)]",children:_?l.jsx("div",{className:"p-4 text-center text-muted-foreground flex items-center justify-center h-20",children:l.jsx(Et,{className:"h-4 w-4 animate-spin"})}):a.length===0?l.jsx("div",{className:"p-4 text-center text-muted-foreground",children:"No conversations yet"}):a.map(N=>l.jsx("button",{onClick:()=>h(N.id),className:`w-full p-3 border-b text-left hover:bg-muted transition ${d===N.id?"bg-muted":""}`,children:l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsxs(Ut,{className:"h-10 w-10",children:[l.jsx(mg,{src:N.avatar_url}),l.jsx(zt,{children:N.full_name.charAt(0)})]}),l.jsxs("div",{className:"flex-1 min-w-0",children:[l.jsxs("div",{className:"flex justify-between items-center",children:[l.jsx("p",{className:"font-semibold",children:N.full_name}),N.unreadCount>0&&l.jsx("span",{className:"inline-flex items-center justify-center px-2 py-1 text-xs font-bold leading-none text-white transform translate-x-1/2 -translate-y-1/2 bg-red-600 rounded-full",children:N.unreadCount})]}),l.jsx("p",{className:"text-sm text-muted-foreground truncate",children:N.lastMessage})]})]})},N.id))}),l.jsx("div",{className:"flex-1 border rounded-lg bg-background flex flex-col max-h-[calc(100vh-120px)]",children:d?l.jsxs(l.Fragment,{children:[l.jsx("div",{className:"border-b p-4",children:a.filter(N=>N.id===d).map(N=>l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsxs(Ut,{className:"h-10 w-10",children:[l.jsx(mg,{src:N.avatar_url}),l.jsx(zt,{children:N.full_name.charAt(0)})]}),l.jsxs("div",{children:[l.jsx("p",{className:"font-semibold",children:N.full_name}),l.jsxs("p",{className:"text-sm text-muted-foreground",children:["@",N.username]})]})]},N.id))}),l.jsx("div",{className:"flex-1 overflow-y-auto p-4 space-y-3",children:p.map(N=>l.jsx("div",{className:`flex ${N.sender_id===t.id?"justify-end":"justify-start"}`,children:l.jsxs("div",{className:`max-w-xs px-4 py-2 rounded-lg ${N.sender_id===t.id?"bg-primary text-primary-foreground":"bg-muted"}`,children:[l.jsx("p",{className:"break-words",children:N.content}),l.jsx("p",{className:"text-xs opacity-70 mt-1",children:new Date(N.created_at).toLocaleTimeString("de-DE",{hour:"2-digit",minute:"2-digit"})})]})},N.id))}),l.jsxs("form",{onSubmit:E,className:"border-t p-4 flex gap-2",children:[l.jsx(rt,{placeholder:"Type a message...",value:m,onChange:N=>x(N.target.value),disabled:b}),l.jsx(re,{type:"submit",disabled:b||!m.trim(),children:b?l.jsx(Et,{className:"h-4 w-4 animate-spin"}):l.jsx(ko,{className:"h-4 w-4"})})]})]}):l.jsx("div",{className:"flex items-center justify-center h-full text-muted-foreground",children:"Select a conversation to start messaging"})})]})]}):null}const zd="0000181a-0000-1000-8000-00805f9b34fb",_A="00002a58-0000-1000-8000-00805f9b34fb";function SA(t){const[e,n]=y.useState(!1),[o,i]=y.useState([]),[a,u]=y.useState(!1),[d,h]=y.useState(null),p=y.useRef(new Map),g=y.useRef(null),m=y.useRef(null),x=y.useCallback(async()=>{if(!t)return h("User not authenticated"),!1;h(null);try{if(!navigator.bluetooth)throw new Error("Bluetooth Web API nicht verfgbar. Bitte nutze Chrome/Edge auf Android.");n(!0),p.current.clear();const N=await navigator.bluetooth.requestDevice({filters:[{services:[zd]}],optionalServices:[zd]});if(!N)return n(!1),!1;const F=await(await(await N.gatt?.connect())?.getPrimaryService(zd))?.getCharacteristic(_A);if(!F)throw new Error("Charakteristik nicht gefunden");m.current=F;const V=await F.readValue(),z=new TextDecoder().decode(V),[q,ne,ce]=z.split("|"),de=N.id.charCodeAt(0)-48,le={id:q,username:ne,name:ce,signal_strength:de,timestamp:Date.now()};return p.current.set(N.id,le),i(Array.from(p.current.values())),Re.success(`${ne} in der Nhe erkannt!`),!0}catch(N){const C=N instanceof Error?N.message:"Fehler beim Scannen";return h(C),console.error("Scan error:",N),n(!1),!1}},[t]),b=y.useCallback(async()=>{if(!t)return h("User not authenticated"),!1;h(null);try{const{data:{user:N}}=await ie.auth.getUser(),{data:C}=await ie.from("profiles").select("full_name, username").eq("id",t).single();if(!N?.id||!C)throw new Error("Benutzerprofil nicht gefunden");return u(!0),Re.success("Discovery Modus aktiviert. Anderen knnen dich finden!"),!0}catch(N){const C=N instanceof Error?N.message:"Fehler beim Bewerben";return h(C),console.error("Advertising error:",N),!1}},[t]),j=y.useCallback(()=>{n(!1),g.current&&(clearInterval(g.current),g.current=null),m.current&&(m.current=null),i([]),p.current.clear()},[]),_=y.useCallback(()=>{u(!1),Re.info("Discovery Modus deaktiviert")},[]),S=y.useCallback(async N=>{try{const{error:C}=await ie.from("friends").insert({user_id:t,friend_id:N,status:"accepted",created_at:new Date().toISOString()}).select().single();if(C){if(C.message.includes("duplicate"))return Re.info("Ihr seid bereits Freunde!"),!1;throw C}return Re.success("Neue Freundschaft erstellt! "),!0}catch(C){const P=C instanceof Error?C.message:"Fehler beim Hinzufgen";return Re.error(P),console.error("Add friend error:",C),!1}},[t]),E=y.useCallback(()=>{const N=Date.now(),C=3e4;p.current.forEach((P,F)=>{N-P.timestamp>C&&p.current.delete(F)}),i(Array.from(p.current.values()))},[]);return y.useEffect(()=>()=>{j(),_()},[j,_]),{isScanning:e,nearbyUsers:o,isAdvertising:a,error:d,startScanning:x,startAdvertising:b,stopScanning:j,stopAdvertising:_,quickAddFriend:S,refreshNearbyUsers:E}}function jA(){const{user:t}=Mr(),{isScanning:e,nearbyUsers:n,isAdvertising:o,error:i,startScanning:a,startAdvertising:u,stopScanning:d,stopAdvertising:h,quickAddFriend:p,refreshNearbyUsers:g}=SA(t?.id),[m,x]=y.useState("scan"),[b,j]=y.useState(null);y.useEffect(()=>{let S;return e&&(S=setInterval(g,5e3)),()=>clearInterval(S)},[e,g]);const _=async S=>{j(S),await p(S)&&setTimeout(()=>{g()},500),j(null)};return l.jsxs("div",{className:"w-full max-w-2xl mx-auto space-y-4",children:[l.jsx("div",{className:"space-y-2",children:l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx("div",{className:"p-2 bg-blue-100 rounded-lg",children:l.jsx(Kd,{className:"h-6 w-6 text-blue-600"})}),l.jsxs("div",{children:[l.jsx("h2",{className:"text-2xl font-bold",children:"Nearby Discovery"}),l.jsx("p",{className:"text-sm text-muted-foreground",children:"Finde Freunde in deiner Nhe wie AirDrop"})]})]})}),l.jsxs("div",{className:"flex gap-2 border-b",children:[l.jsx("button",{onClick:()=>x("scan"),className:`px-4 py-2 font-medium transition-colors ${m==="scan"?"text-blue-600 border-b-2 border-blue-600":"text-muted-foreground hover:text-foreground"}`,children:l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(bd,{className:"h-4 w-4"}),"Scan"]})}),l.jsx("button",{onClick:()=>x("advertise"),className:`px-4 py-2 font-medium transition-colors ${m==="advertise"?"text-blue-600 border-b-2 border-blue-600":"text-muted-foreground hover:text-foreground"}`,children:l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(xl,{className:"h-4 w-4"}),"Bewerben"]})})]}),i&&l.jsxs(To,{className:"border-red-200 bg-red-50",children:[l.jsx(Vl,{className:"h-4 w-4 text-red-600"}),l.jsx(Po,{className:"text-red-800",children:i})]}),m==="scan"&&l.jsxs(Ae,{children:[l.jsxs(Dt,{children:[l.jsxs(lr,{className:"flex items-center gap-2",children:[l.jsx(bd,{className:"h-5 w-5"}),"Nach Freunden scannen"]}),l.jsx(Is,{children:"Suche nach anderen Benutzern die in der Nhe sind"})]}),l.jsxs($e,{className:"space-y-4",children:[l.jsxs("div",{className:"flex gap-2",children:[l.jsx(re,{onClick:()=>a(),disabled:e,className:"flex-1",children:e?l.jsxs(l.Fragment,{children:[l.jsx(Et,{className:"h-4 w-4 mr-2 animate-spin"}),"Scanne..."]}):l.jsxs(l.Fragment,{children:[l.jsx(bd,{className:"h-4 w-4 mr-2"}),"Scan starten"]})}),e&&l.jsxs(re,{onClick:d,variant:"destructive",className:"flex-1",children:[l.jsx(Af,{className:"h-4 w-4 mr-2"}),"Stoppen"]})]}),l.jsx("div",{className:"space-y-2",children:n.length===0?l.jsx("div",{className:"text-center py-8 text-muted-foreground",children:e?l.jsxs("div",{className:"space-y-2",children:[l.jsx(Et,{className:"h-8 w-8 animate-spin mx-auto"}),l.jsx("p",{children:"Suche nach Freunden..."})]}):l.jsxs("div",{className:"space-y-2",children:[l.jsx(Wl,{className:"h-8 w-8 mx-auto opacity-50"}),l.jsx("p",{children:"Keine Freunde in der Nhe"}),l.jsx("p",{className:"text-xs",children:'Klicke auf "Scan starten" um zu beginnen'})]})}):l.jsxs("div",{className:"space-y-2",children:[l.jsxs("p",{className:"text-sm font-medium flex items-center gap-2",children:[l.jsx(Wl,{className:"h-4 w-4"}),n.length," in der Nhe"]}),n.map(S=>l.jsx(Ae,{className:"bg-muted/50",children:l.jsxs("div",{className:"p-4 flex items-center justify-between",children:[l.jsxs("div",{className:"space-y-1",children:[l.jsx("p",{className:"font-medium",children:S.name}),l.jsxs("p",{className:"text-sm text-muted-foreground",children:["@",S.username]}),l.jsx("div",{className:"flex items-center gap-2 mt-1",children:l.jsxs(Lt,{variant:"outline",className:"text-xs",children:["Signal: ",S.signal_strength,"%"]})})]}),l.jsx(re,{onClick:()=>_(S.id),disabled:b===S.id,size:"sm",className:"bg-green-600 hover:bg-green-700",children:b===S.id?l.jsx(Et,{className:"h-4 w-4 animate-spin"}):l.jsxs(l.Fragment,{children:[l.jsx(uy,{className:"h-4 w-4 mr-1"}),"Hinzufgen"]})})]})},S.id))]})}),l.jsxs(To,{children:[l.jsx(Kd,{className:"h-4 w-4"}),l.jsx(Po,{children:"Funktioniert beste auf Android mit Chrome/Edge. iOS braucht native Implementierung."})]})]})]}),m==="advertise"&&l.jsxs(Ae,{children:[l.jsxs(Dt,{children:[l.jsxs(lr,{className:"flex items-center gap-2",children:[l.jsx(xl,{className:"h-5 w-5"}),"Dich bewerben"]}),l.jsx(Is,{children:"Lass andere dich in ihrer Nhe entdecken"})]}),l.jsxs($e,{className:"space-y-4",children:[l.jsx(re,{onClick:()=>o?h():u(),className:`w-full ${o?"bg-red-600 hover:bg-red-700":"bg-green-600 hover:bg-green-700"}`,children:o?l.jsxs(l.Fragment,{children:[l.jsx(xl,{className:"h-4 w-4 mr-2 animate-pulse"}),"Du wirst gefunden..."]}):l.jsxs(l.Fragment,{children:[l.jsx(xl,{className:"h-4 w-4 mr-2"}),"Freigeben aktivieren"]})}),l.jsx(Qi,{}),l.jsxs("div",{className:"space-y-3",children:[l.jsxs("p",{className:"font-medium flex items-center gap-2",children:[l.jsx("div",{className:`h-3 w-3 rounded-full ${o?"bg-green-500 animate-pulse":"bg-gray-300"}`}),"Status"]}),l.jsx(Ae,{className:"bg-muted/50",children:l.jsxs("div",{className:"p-4 space-y-2",children:[l.jsxs("p",{className:"text-sm",children:[l.jsx("span",{className:"font-medium",children:"Sichtbarkeit:"})," ",o?l.jsx(Lt,{className:"bg-green-600",children:"Aktiv"}):l.jsx(Lt,{variant:"outline",children:"Inaktiv"})]}),l.jsx("p",{className:"text-xs text-muted-foreground",children:o?"Andere Benutzer knnen dich in ihrer Nhe finden":"Aktiviere die Freigabe damit andere dich finden knnen"})]})})]}),l.jsxs(To,{children:[l.jsx(Vl,{className:"h-4 w-4"}),l.jsx(Po,{children:"Die native Implementierung fr Hintergrund-Broadcasting wird in der Android/iOS Konfiguration durchgefhrt."})]})]})]})]})}function kA(){const t=Xr();return l.jsx("div",{className:"min-h-screen bg-muted/40 p-4",children:l.jsxs("div",{className:"max-w-2xl mx-auto space-y-6",children:[l.jsxs("div",{className:"flex items-center gap-4",children:[l.jsx(re,{variant:"ghost",size:"icon",onClick:()=>t("/"),children:l.jsx(ac,{className:"h-5 w-5"})}),l.jsx("h1",{className:"text-3xl font-bold",children:"Discovery"})]}),l.jsx(jA,{})]})})}var EA=(t,e,n,o,i,a,u,d)=>{let h=document.documentElement,p=["light","dark"];function g(b){(Array.isArray(t)?t:[t]).forEach(j=>{let _=j==="class",S=_&&a?i.map(E=>a[E]||E):i;_?(h.classList.remove(...S),h.classList.add(a&&a[b]?a[b]:b)):h.setAttribute(j,b)}),m(b)}function m(b){d&&p.includes(b)&&(h.style.colorScheme=b)}function x(){return window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"}if(o)g(o);else try{let b=localStorage.getItem(e)||n,j=u&&b==="system"?x():b;g(j)}catch{}},NA=y.createContext(void 0),CA={setTheme:t=>{},themes:[]},RA=()=>{var t;return(t=y.useContext(NA))!=null?t:CA};y.memo(({forcedTheme:t,storageKey:e,attribute:n,enableSystem:o,enableColorScheme:i,defaultTheme:a,value:u,themes:d,nonce:h,scriptProps:p})=>{let g=JSON.stringify([n,e,a,t,d,u,o,i]).slice(1,-1);return y.createElement("script",{...p,suppressHydrationWarning:!0,nonce:typeof window>"u"?h:"",dangerouslySetInnerHTML:{__html:`(${EA.toString()})(${g})`}})});const TA=({...t})=>{const{theme:e="system"}=RA();return l.jsx(IP,{theme:e,className:"toaster group",style:{"--normal-bg":"var(--popover)","--normal-text":"var(--popover-foreground)","--normal-border":"var(--border)"},...t})};function Yn({children:t,allowedRoles:e}){const{user:n,loading:o}=Mr(),i=Mo();return o?l.jsx("div",{className:"flex h-screen items-center justify-center",children:"Loading..."}):n?e&&!e.includes(n.role)?l.jsx(Vd,{to:"/login",replace:!0}):l.jsx(l.Fragment,{children:t}):l.jsx(Vd,{to:"/login",state:{from:i},replace:!0})}function PA(){return l.jsx(bS,{basename:"/Omedfrontendfigma",children:l.jsxs(aP,{children:[l.jsxs(pS,{children:[l.jsx(xr,{path:"/login",element:l.jsx(hA,{})}),l.jsx(xr,{path:"/auth/callback",element:l.jsx(pA,{})}),l.jsx(xr,{path:"/",element:l.jsx(Yn,{children:l.jsx(sA,{})})}),l.jsx(xr,{path:"/settings",element:l.jsx(Yn,{children:l.jsx(xA,{})})}),l.jsx(xr,{path:"/messages",element:l.jsx(Yn,{children:l.jsx(bA,{})})}),l.jsx(xr,{path:"/discovery",element:l.jsx(Yn,{children:l.jsx(kA,{})})}),l.jsx(xr,{path:"/teacher",element:l.jsx(Yn,{allowedRoles:["teacher","admin"],children:l.jsx(oA,{})})}),l.jsx(xr,{path:"/principal",element:l.jsx(Yn,{allowedRoles:["principal","admin"],children:l.jsx(aA,{})})}),l.jsx(xr,{path:"/admin",element:l.jsx(Yn,{allowedRoles:["admin"],children:l.jsx(uA,{})})}),l.jsx(xr,{path:"/idea/:id",element:l.jsx(Yn,{children:l.jsx(fA,{})})}),l.jsx(xr,{path:"*",element:l.jsx(Vd,{to:"/",replace:!0})})]}),l.jsx(TA,{})]})})}b_.createRoot(document.getElementById("root")).render(l.jsx(PA,{}));
