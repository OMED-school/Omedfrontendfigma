function gv(t,e){for(var n=0;n<e.length;n++){const o=e[n];if(typeof o!="string"&&!Array.isArray(o)){for(const i in o)if(i!=="default"&&!(i in t)){const a=Object.getOwnPropertyDescriptor(o,i);a&&Object.defineProperty(t,i,a.get?a:{enumerable:!0,get:()=>o[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))o(i);new MutationObserver(i=>{for(const a of i)if(a.type==="childList")for(const u of a.addedNodes)u.tagName==="LINK"&&u.rel==="modulepreload"&&o(u)}).observe(document,{childList:!0,subtree:!0});function n(i){const a={};return i.integrity&&(a.integrity=i.integrity),i.referrerPolicy&&(a.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?a.credentials="include":i.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function o(i){if(i.ep)return;i.ep=!0;const a=n(i);fetch(i.href,a)}})();function pf(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function l_(t){if(Object.prototype.hasOwnProperty.call(t,"__esModule"))return t;var e=t.default;if(typeof e=="function"){var n=function o(){return this instanceof o?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};n.prototype=e.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(t).forEach(function(o){var i=Object.getOwnPropertyDescriptor(t,o);Object.defineProperty(n,o,i.get?i:{enumerable:!0,get:function(){return t[o]}})}),n}var sd={exports:{}},Li={},od={exports:{}},De={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Om;function c_(){if(Om)return De;Om=1;var t=Symbol.for("react.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),o=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),a=Symbol.for("react.provider"),u=Symbol.for("react.context"),d=Symbol.for("react.forward_ref"),h=Symbol.for("react.suspense"),p=Symbol.for("react.memo"),g=Symbol.for("react.lazy"),m=Symbol.iterator;function x(I){return I===null||typeof I!="object"?null:(I=m&&I[m]||I["@@iterator"],typeof I=="function"?I:null)}var b={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},j=Object.assign,_={};function S(I,H,Q){this.props=I,this.context=H,this.refs=_,this.updater=Q||b}S.prototype.isReactComponent={},S.prototype.setState=function(I,H){if(typeof I!="object"&&typeof I!="function"&&I!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,I,H,"setState")},S.prototype.forceUpdate=function(I){this.updater.enqueueForceUpdate(this,I,"forceUpdate")};function k(){}k.prototype=S.prototype;function C(I,H,Q){this.props=I,this.context=H,this.refs=_,this.updater=Q||b}var N=C.prototype=new k;N.constructor=C,j(N,S.prototype),N.isPureReactComponent=!0;var P=Array.isArray,F=Object.prototype.hasOwnProperty,V={current:null},D={key:!0,ref:!0,__self:!0,__source:!0};function z(I,H,Q){var W,oe={},_e=null,J=null;if(H!=null)for(W in H.ref!==void 0&&(J=H.ref),H.key!==void 0&&(_e=""+H.key),H)F.call(H,W)&&!D.hasOwnProperty(W)&&(oe[W]=H[W]);var re=arguments.length-2;if(re===1)oe.children=Q;else if(1<re){for(var Se=Array(re),Ce=0;Ce<re;Ce++)Se[Ce]=arguments[Ce+2];oe.children=Se}if(I&&I.defaultProps)for(W in re=I.defaultProps,re)oe[W]===void 0&&(oe[W]=re[W]);return{$$typeof:t,type:I,key:_e,ref:J,props:oe,_owner:V.current}}function q(I,H){return{$$typeof:t,type:I.type,key:H,ref:I.ref,props:I.props,_owner:I._owner}}function ne(I){return typeof I=="object"&&I!==null&&I.$$typeof===t}function ue(I){var H={"=":"=0",":":"=2"};return"$"+I.replace(/[=:]/g,function(Q){return H[Q]})}var ge=/\/+/g;function le(I,H){return typeof I=="object"&&I!==null&&I.key!=null?ue(""+I.key):H.toString(36)}function pe(I,H,Q,W,oe){var _e=typeof I;(_e==="undefined"||_e==="boolean")&&(I=null);var J=!1;if(I===null)J=!0;else switch(_e){case"string":case"number":J=!0;break;case"object":switch(I.$$typeof){case t:case e:J=!0}}if(J)return J=I,oe=oe(J),I=W===""?"."+le(J,0):W,P(oe)?(Q="",I!=null&&(Q=I.replace(ge,"$&/")+"/"),pe(oe,H,Q,"",function(Ce){return Ce})):oe!=null&&(ne(oe)&&(oe=q(oe,Q+(!oe.key||J&&J.key===oe.key?"":(""+oe.key).replace(ge,"$&/")+"/")+I)),H.push(oe)),1;if(J=0,W=W===""?".":W+":",P(I))for(var re=0;re<I.length;re++){_e=I[re];var Se=W+le(_e,re);J+=pe(_e,H,Q,Se,oe)}else if(Se=x(I),typeof Se=="function")for(I=Se.call(I),re=0;!(_e=I.next()).done;)_e=_e.value,Se=W+le(_e,re++),J+=pe(_e,H,Q,Se,oe);else if(_e==="object")throw H=String(I),Error("Objects are not valid as a React child (found: "+(H==="[object Object]"?"object with keys {"+Object.keys(I).join(", ")+"}":H)+"). If you meant to render a collection of children, use an array instead.");return J}function be(I,H,Q){if(I==null)return I;var W=[],oe=0;return pe(I,W,"","",function(_e){return H.call(Q,_e,oe++)}),W}function B(I){if(I._status===-1){var H=I._result;H=H(),H.then(function(Q){(I._status===0||I._status===-1)&&(I._status=1,I._result=Q)},function(Q){(I._status===0||I._status===-1)&&(I._status=2,I._result=Q)}),I._status===-1&&(I._status=0,I._result=H)}if(I._status===1)return I._result.default;throw I._result}var $={current:null},O={transition:null},Z={ReactCurrentDispatcher:$,ReactCurrentBatchConfig:O,ReactCurrentOwner:V};function K(){throw Error("act(...) is not supported in production builds of React.")}return De.Children={map:be,forEach:function(I,H,Q){be(I,function(){H.apply(this,arguments)},Q)},count:function(I){var H=0;return be(I,function(){H++}),H},toArray:function(I){return be(I,function(H){return H})||[]},only:function(I){if(!ne(I))throw Error("React.Children.only expected to receive a single React element child.");return I}},De.Component=S,De.Fragment=n,De.Profiler=i,De.PureComponent=C,De.StrictMode=o,De.Suspense=h,De.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Z,De.act=K,De.cloneElement=function(I,H,Q){if(I==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+I+".");var W=j({},I.props),oe=I.key,_e=I.ref,J=I._owner;if(H!=null){if(H.ref!==void 0&&(_e=H.ref,J=V.current),H.key!==void 0&&(oe=""+H.key),I.type&&I.type.defaultProps)var re=I.type.defaultProps;for(Se in H)F.call(H,Se)&&!D.hasOwnProperty(Se)&&(W[Se]=H[Se]===void 0&&re!==void 0?re[Se]:H[Se])}var Se=arguments.length-2;if(Se===1)W.children=Q;else if(1<Se){re=Array(Se);for(var Ce=0;Ce<Se;Ce++)re[Ce]=arguments[Ce+2];W.children=re}return{$$typeof:t,type:I.type,key:oe,ref:_e,props:W,_owner:J}},De.createContext=function(I){return I={$$typeof:u,_currentValue:I,_currentValue2:I,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},I.Provider={$$typeof:a,_context:I},I.Consumer=I},De.createElement=z,De.createFactory=function(I){var H=z.bind(null,I);return H.type=I,H},De.createRef=function(){return{current:null}},De.forwardRef=function(I){return{$$typeof:d,render:I}},De.isValidElement=ne,De.lazy=function(I){return{$$typeof:g,_payload:{_status:-1,_result:I},_init:B}},De.memo=function(I,H){return{$$typeof:p,type:I,compare:H===void 0?null:H}},De.startTransition=function(I){var H=O.transition;O.transition={};try{I()}finally{O.transition=H}},De.unstable_act=K,De.useCallback=function(I,H){return $.current.useCallback(I,H)},De.useContext=function(I){return $.current.useContext(I)},De.useDebugValue=function(){},De.useDeferredValue=function(I){return $.current.useDeferredValue(I)},De.useEffect=function(I,H){return $.current.useEffect(I,H)},De.useId=function(){return $.current.useId()},De.useImperativeHandle=function(I,H,Q){return $.current.useImperativeHandle(I,H,Q)},De.useInsertionEffect=function(I,H){return $.current.useInsertionEffect(I,H)},De.useLayoutEffect=function(I,H){return $.current.useLayoutEffect(I,H)},De.useMemo=function(I,H){return $.current.useMemo(I,H)},De.useReducer=function(I,H,Q){return $.current.useReducer(I,H,Q)},De.useRef=function(I){return $.current.useRef(I)},De.useState=function(I){return $.current.useState(I)},De.useSyncExternalStore=function(I,H,Q){return $.current.useSyncExternalStore(I,H,Q)},De.useTransition=function(){return $.current.useTransition()},De.version="18.3.1",De}var Im;function Xl(){return Im||(Im=1,od.exports=c_()),od.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Dm;function u_(){if(Dm)return Li;Dm=1;var t=Xl(),e=Symbol.for("react.element"),n=Symbol.for("react.fragment"),o=Object.prototype.hasOwnProperty,i=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,a={key:!0,ref:!0,__self:!0,__source:!0};function u(d,h,p){var g,m={},x=null,b=null;p!==void 0&&(x=""+p),h.key!==void 0&&(x=""+h.key),h.ref!==void 0&&(b=h.ref);for(g in h)o.call(h,g)&&!a.hasOwnProperty(g)&&(m[g]=h[g]);if(d&&d.defaultProps)for(g in h=d.defaultProps,h)m[g]===void 0&&(m[g]=h[g]);return{$$typeof:e,type:d,key:x,ref:b,props:m,_owner:i.current}}return Li.Fragment=n,Li.jsx=u,Li.jsxs=u,Li}var Lm;function d_(){return Lm||(Lm=1,sd.exports=u_()),sd.exports}var c=d_(),pl={},id={exports:{}},Wt={},ad={exports:{}},ld={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var $m;function f_(){return $m||($m=1,(function(t){function e(O,Z){var K=O.length;O.push(Z);e:for(;0<K;){var I=K-1>>>1,H=O[I];if(0<i(H,Z))O[I]=Z,O[K]=H,K=I;else break e}}function n(O){return O.length===0?null:O[0]}function o(O){if(O.length===0)return null;var Z=O[0],K=O.pop();if(K!==Z){O[0]=K;e:for(var I=0,H=O.length,Q=H>>>1;I<Q;){var W=2*(I+1)-1,oe=O[W],_e=W+1,J=O[_e];if(0>i(oe,K))_e<H&&0>i(J,oe)?(O[I]=J,O[_e]=K,I=_e):(O[I]=oe,O[W]=K,I=W);else if(_e<H&&0>i(J,K))O[I]=J,O[_e]=K,I=_e;else break e}}return Z}function i(O,Z){var K=O.sortIndex-Z.sortIndex;return K!==0?K:O.id-Z.id}if(typeof performance=="object"&&typeof performance.now=="function"){var a=performance;t.unstable_now=function(){return a.now()}}else{var u=Date,d=u.now();t.unstable_now=function(){return u.now()-d}}var h=[],p=[],g=1,m=null,x=3,b=!1,j=!1,_=!1,S=typeof setTimeout=="function"?setTimeout:null,k=typeof clearTimeout=="function"?clearTimeout:null,C=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function N(O){for(var Z=n(p);Z!==null;){if(Z.callback===null)o(p);else if(Z.startTime<=O)o(p),Z.sortIndex=Z.expirationTime,e(h,Z);else break;Z=n(p)}}function P(O){if(_=!1,N(O),!j)if(n(h)!==null)j=!0,B(F);else{var Z=n(p);Z!==null&&$(P,Z.startTime-O)}}function F(O,Z){j=!1,_&&(_=!1,k(z),z=-1),b=!0;var K=x;try{for(N(Z),m=n(h);m!==null&&(!(m.expirationTime>Z)||O&&!ue());){var I=m.callback;if(typeof I=="function"){m.callback=null,x=m.priorityLevel;var H=I(m.expirationTime<=Z);Z=t.unstable_now(),typeof H=="function"?m.callback=H:m===n(h)&&o(h),N(Z)}else o(h);m=n(h)}if(m!==null)var Q=!0;else{var W=n(p);W!==null&&$(P,W.startTime-Z),Q=!1}return Q}finally{m=null,x=K,b=!1}}var V=!1,D=null,z=-1,q=5,ne=-1;function ue(){return!(t.unstable_now()-ne<q)}function ge(){if(D!==null){var O=t.unstable_now();ne=O;var Z=!0;try{Z=D(!0,O)}finally{Z?le():(V=!1,D=null)}}else V=!1}var le;if(typeof C=="function")le=function(){C(ge)};else if(typeof MessageChannel<"u"){var pe=new MessageChannel,be=pe.port2;pe.port1.onmessage=ge,le=function(){be.postMessage(null)}}else le=function(){S(ge,0)};function B(O){D=O,V||(V=!0,le())}function $(O,Z){z=S(function(){O(t.unstable_now())},Z)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(O){O.callback=null},t.unstable_continueExecution=function(){j||b||(j=!0,B(F))},t.unstable_forceFrameRate=function(O){0>O||125<O?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):q=0<O?Math.floor(1e3/O):5},t.unstable_getCurrentPriorityLevel=function(){return x},t.unstable_getFirstCallbackNode=function(){return n(h)},t.unstable_next=function(O){switch(x){case 1:case 2:case 3:var Z=3;break;default:Z=x}var K=x;x=Z;try{return O()}finally{x=K}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(O,Z){switch(O){case 1:case 2:case 3:case 4:case 5:break;default:O=3}var K=x;x=O;try{return Z()}finally{x=K}},t.unstable_scheduleCallback=function(O,Z,K){var I=t.unstable_now();switch(typeof K=="object"&&K!==null?(K=K.delay,K=typeof K=="number"&&0<K?I+K:I):K=I,O){case 1:var H=-1;break;case 2:H=250;break;case 5:H=1073741823;break;case 4:H=1e4;break;default:H=5e3}return H=K+H,O={id:g++,callback:Z,priorityLevel:O,startTime:K,expirationTime:H,sortIndex:-1},K>I?(O.sortIndex=K,e(p,O),n(h)===null&&O===n(p)&&(_?(k(z),z=-1):_=!0,$(P,K-I))):(O.sortIndex=H,e(h,O),j||b||(j=!0,B(F))),O},t.unstable_shouldYield=ue,t.unstable_wrapCallback=function(O){var Z=x;return function(){var K=x;x=Z;try{return O.apply(this,arguments)}finally{x=K}}}})(ld)),ld}var Mm;function h_(){return Mm||(Mm=1,ad.exports=f_()),ad.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Fm;function p_(){if(Fm)return Wt;Fm=1;var t=Xl(),e=h_();function n(r){for(var s="https://reactjs.org/docs/error-decoder.html?invariant="+r,l=1;l<arguments.length;l++)s+="&args[]="+encodeURIComponent(arguments[l]);return"Minified React error #"+r+"; visit "+s+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var o=new Set,i={};function a(r,s){u(r,s),u(r+"Capture",s)}function u(r,s){for(i[r]=s,r=0;r<s.length;r++)o.add(s[r])}var d=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),h=Object.prototype.hasOwnProperty,p=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,g={},m={};function x(r){return h.call(m,r)?!0:h.call(g,r)?!1:p.test(r)?m[r]=!0:(g[r]=!0,!1)}function b(r,s,l,f){if(l!==null&&l.type===0)return!1;switch(typeof s){case"function":case"symbol":return!0;case"boolean":return f?!1:l!==null?!l.acceptsBooleans:(r=r.toLowerCase().slice(0,5),r!=="data-"&&r!=="aria-");default:return!1}}function j(r,s,l,f){if(s===null||typeof s>"u"||b(r,s,l,f))return!0;if(f)return!1;if(l!==null)switch(l.type){case 3:return!s;case 4:return s===!1;case 5:return isNaN(s);case 6:return isNaN(s)||1>s}return!1}function _(r,s,l,f,v,y,E){this.acceptsBooleans=s===2||s===3||s===4,this.attributeName=f,this.attributeNamespace=v,this.mustUseProperty=l,this.propertyName=r,this.type=s,this.sanitizeURL=y,this.removeEmptyString=E}var S={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(r){S[r]=new _(r,0,!1,r,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(r){var s=r[0];S[s]=new _(s,1,!1,r[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(r){S[r]=new _(r,2,!1,r.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(r){S[r]=new _(r,2,!1,r,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(r){S[r]=new _(r,3,!1,r.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(r){S[r]=new _(r,3,!0,r,null,!1,!1)}),["capture","download"].forEach(function(r){S[r]=new _(r,4,!1,r,null,!1,!1)}),["cols","rows","size","span"].forEach(function(r){S[r]=new _(r,6,!1,r,null,!1,!1)}),["rowSpan","start"].forEach(function(r){S[r]=new _(r,5,!1,r.toLowerCase(),null,!1,!1)});var k=/[\-:]([a-z])/g;function C(r){return r[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(r){var s=r.replace(k,C);S[s]=new _(s,1,!1,r,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(r){var s=r.replace(k,C);S[s]=new _(s,1,!1,r,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(r){var s=r.replace(k,C);S[s]=new _(s,1,!1,r,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(r){S[r]=new _(r,1,!1,r.toLowerCase(),null,!1,!1)}),S.xlinkHref=new _("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(r){S[r]=new _(r,1,!1,r.toLowerCase(),null,!0,!0)});function N(r,s,l,f){var v=S.hasOwnProperty(s)?S[s]:null;(v!==null?v.type!==0:f||!(2<s.length)||s[0]!=="o"&&s[0]!=="O"||s[1]!=="n"&&s[1]!=="N")&&(j(s,l,v,f)&&(l=null),f||v===null?x(s)&&(l===null?r.removeAttribute(s):r.setAttribute(s,""+l)):v.mustUseProperty?r[v.propertyName]=l===null?v.type===3?!1:"":l:(s=v.attributeName,f=v.attributeNamespace,l===null?r.removeAttribute(s):(v=v.type,l=v===3||v===4&&l===!0?"":""+l,f?r.setAttributeNS(f,s,l):r.setAttribute(s,l))))}var P=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,F=Symbol.for("react.element"),V=Symbol.for("react.portal"),D=Symbol.for("react.fragment"),z=Symbol.for("react.strict_mode"),q=Symbol.for("react.profiler"),ne=Symbol.for("react.provider"),ue=Symbol.for("react.context"),ge=Symbol.for("react.forward_ref"),le=Symbol.for("react.suspense"),pe=Symbol.for("react.suspense_list"),be=Symbol.for("react.memo"),B=Symbol.for("react.lazy"),$=Symbol.for("react.offscreen"),O=Symbol.iterator;function Z(r){return r===null||typeof r!="object"?null:(r=O&&r[O]||r["@@iterator"],typeof r=="function"?r:null)}var K=Object.assign,I;function H(r){if(I===void 0)try{throw Error()}catch(l){var s=l.stack.trim().match(/\n( *(at )?)/);I=s&&s[1]||""}return`
`+I+r}var Q=!1;function W(r,s){if(!r||Q)return"";Q=!0;var l=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(s)if(s=function(){throw Error()},Object.defineProperty(s.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(s,[])}catch(U){var f=U}Reflect.construct(r,[],s)}else{try{s.call()}catch(U){f=U}r.call(s.prototype)}else{try{throw Error()}catch(U){f=U}r()}}catch(U){if(U&&f&&typeof U.stack=="string"){for(var v=U.stack.split(`
`),y=f.stack.split(`
`),E=v.length-1,R=y.length-1;1<=E&&0<=R&&v[E]!==y[R];)R--;for(;1<=E&&0<=R;E--,R--)if(v[E]!==y[R]){if(E!==1||R!==1)do if(E--,R--,0>R||v[E]!==y[R]){var T=`
`+v[E].replace(" at new "," at ");return r.displayName&&T.includes("<anonymous>")&&(T=T.replace("<anonymous>",r.displayName)),T}while(1<=E&&0<=R);break}}}finally{Q=!1,Error.prepareStackTrace=l}return(r=r?r.displayName||r.name:"")?H(r):""}function oe(r){switch(r.tag){case 5:return H(r.type);case 16:return H("Lazy");case 13:return H("Suspense");case 19:return H("SuspenseList");case 0:case 2:case 15:return r=W(r.type,!1),r;case 11:return r=W(r.type.render,!1),r;case 1:return r=W(r.type,!0),r;default:return""}}function _e(r){if(r==null)return null;if(typeof r=="function")return r.displayName||r.name||null;if(typeof r=="string")return r;switch(r){case D:return"Fragment";case V:return"Portal";case q:return"Profiler";case z:return"StrictMode";case le:return"Suspense";case pe:return"SuspenseList"}if(typeof r=="object")switch(r.$$typeof){case ue:return(r.displayName||"Context")+".Consumer";case ne:return(r._context.displayName||"Context")+".Provider";case ge:var s=r.render;return r=r.displayName,r||(r=s.displayName||s.name||"",r=r!==""?"ForwardRef("+r+")":"ForwardRef"),r;case be:return s=r.displayName||null,s!==null?s:_e(r.type)||"Memo";case B:s=r._payload,r=r._init;try{return _e(r(s))}catch{}}return null}function J(r){var s=r.type;switch(r.tag){case 24:return"Cache";case 9:return(s.displayName||"Context")+".Consumer";case 10:return(s._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return r=s.render,r=r.displayName||r.name||"",s.displayName||(r!==""?"ForwardRef("+r+")":"ForwardRef");case 7:return"Fragment";case 5:return s;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return _e(s);case 8:return s===z?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof s=="function")return s.displayName||s.name||null;if(typeof s=="string")return s}return null}function re(r){switch(typeof r){case"boolean":case"number":case"string":case"undefined":return r;case"object":return r;default:return""}}function Se(r){var s=r.type;return(r=r.nodeName)&&r.toLowerCase()==="input"&&(s==="checkbox"||s==="radio")}function Ce(r){var s=Se(r)?"checked":"value",l=Object.getOwnPropertyDescriptor(r.constructor.prototype,s),f=""+r[s];if(!r.hasOwnProperty(s)&&typeof l<"u"&&typeof l.get=="function"&&typeof l.set=="function"){var v=l.get,y=l.set;return Object.defineProperty(r,s,{configurable:!0,get:function(){return v.call(this)},set:function(E){f=""+E,y.call(this,E)}}),Object.defineProperty(r,s,{enumerable:l.enumerable}),{getValue:function(){return f},setValue:function(E){f=""+E},stopTracking:function(){r._valueTracker=null,delete r[s]}}}}function Ie(r){r._valueTracker||(r._valueTracker=Ce(r))}function Me(r){if(!r)return!1;var s=r._valueTracker;if(!s)return!0;var l=s.getValue(),f="";return r&&(f=Se(r)?r.checked?"true":"false":r.value),r=f,r!==l?(s.setValue(r),!0):!1}function dt(r){if(r=r||(typeof document<"u"?document:void 0),typeof r>"u")return null;try{return r.activeElement||r.body}catch{return r.body}}function It(r,s){var l=s.checked;return K({},s,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:l??r._wrapperState.initialChecked})}function xn(r,s){var l=s.defaultValue==null?"":s.defaultValue,f=s.checked!=null?s.checked:s.defaultChecked;l=re(s.value!=null?s.value:l),r._wrapperState={initialChecked:f,initialValue:l,controlled:s.type==="checkbox"||s.type==="radio"?s.checked!=null:s.value!=null}}function en(r,s){s=s.checked,s!=null&&N(r,"checked",s,!1)}function Jt(r,s){en(r,s);var l=re(s.value),f=s.type;if(l!=null)f==="number"?(l===0&&r.value===""||r.value!=l)&&(r.value=""+l):r.value!==""+l&&(r.value=""+l);else if(f==="submit"||f==="reset"){r.removeAttribute("value");return}s.hasOwnProperty("value")?Qt(r,s.type,l):s.hasOwnProperty("defaultValue")&&Qt(r,s.type,re(s.defaultValue)),s.checked==null&&s.defaultChecked!=null&&(r.defaultChecked=!!s.defaultChecked)}function Qo(r,s,l){if(s.hasOwnProperty("value")||s.hasOwnProperty("defaultValue")){var f=s.type;if(!(f!=="submit"&&f!=="reset"||s.value!==void 0&&s.value!==null))return;s=""+r._wrapperState.initialValue,l||s===r.value||(r.value=s),r.defaultValue=s}l=r.name,l!==""&&(r.name=""),r.defaultChecked=!!r._wrapperState.initialChecked,l!==""&&(r.name=l)}function Qt(r,s,l){(s!=="number"||dt(r.ownerDocument)!==r)&&(l==null?r.defaultValue=""+r._wrapperState.initialValue:r.defaultValue!==""+l&&(r.defaultValue=""+l))}var ls=Array.isArray;function bn(r,s,l,f){if(r=r.options,s){s={};for(var v=0;v<l.length;v++)s["$"+l[v]]=!0;for(l=0;l<r.length;l++)v=s.hasOwnProperty("$"+r[l].value),r[l].selected!==v&&(r[l].selected=v),v&&f&&(r[l].defaultSelected=!0)}else{for(l=""+re(l),s=null,v=0;v<r.length;v++){if(r[v].value===l){r[v].selected=!0,f&&(r[v].defaultSelected=!0);return}s!==null||r[v].disabled||(s=r[v])}s!==null&&(s.selected=!0)}}function bt(r,s){if(s.dangerouslySetInnerHTML!=null)throw Error(n(91));return K({},s,{value:void 0,defaultValue:void 0,children:""+r._wrapperState.initialValue})}function tn(r,s){var l=s.value;if(l==null){if(l=s.children,s=s.defaultValue,l!=null){if(s!=null)throw Error(n(92));if(ls(l)){if(1<l.length)throw Error(n(93));l=l[0]}s=l}s==null&&(s=""),l=s}r._wrapperState={initialValue:re(l)}}function sa(r,s){var l=re(s.value),f=re(s.defaultValue);l!=null&&(l=""+l,l!==r.value&&(r.value=l),s.defaultValue==null&&r.defaultValue!==l&&(r.defaultValue=l)),f!=null&&(r.defaultValue=""+f)}function oa(r){var s=r.textContent;s===r._wrapperState.initialValue&&s!==""&&s!==null&&(r.value=s)}function cs(r){switch(r){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Xo(r,s){return r==null||r==="http://www.w3.org/1999/xhtml"?cs(s):r==="http://www.w3.org/2000/svg"&&s==="foreignObject"?"http://www.w3.org/1999/xhtml":r}var us,Bs=(function(r){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(s,l,f,v){MSApp.execUnsafeLocalFunction(function(){return r(s,l,f,v)})}:r})(function(r,s){if(r.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in r)r.innerHTML=s;else{for(us=us||document.createElement("div"),us.innerHTML="<svg>"+s.valueOf().toString()+"</svg>",s=us.firstChild;r.firstChild;)r.removeChild(r.firstChild);for(;s.firstChild;)r.appendChild(s.firstChild)}});function ur(r,s){if(s){var l=r.firstChild;if(l&&l===r.lastChild&&l.nodeType===3){l.nodeValue=s;return}}r.textContent=s}var _n={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Sn=["Webkit","ms","Moz","O"];Object.keys(_n).forEach(function(r){Sn.forEach(function(s){s=s+r.charAt(0).toUpperCase()+r.substring(1),_n[s]=_n[r]})});function ia(r,s,l){return s==null||typeof s=="boolean"||s===""?"":l||typeof s!="number"||s===0||_n.hasOwnProperty(r)&&_n[r]?(""+s).trim():s+"px"}function aa(r,s){r=r.style;for(var l in s)if(s.hasOwnProperty(l)){var f=l.indexOf("--")===0,v=ia(l,s[l],f);l==="float"&&(l="cssFloat"),f?r.setProperty(l,v):r[l]=v}}var la=K({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Vs(r,s){if(s){if(la[r]&&(s.children!=null||s.dangerouslySetInnerHTML!=null))throw Error(n(137,r));if(s.dangerouslySetInnerHTML!=null){if(s.children!=null)throw Error(n(60));if(typeof s.dangerouslySetInnerHTML!="object"||!("__html"in s.dangerouslySetInnerHTML))throw Error(n(61))}if(s.style!=null&&typeof s.style!="object")throw Error(n(62))}}function Zo(r,s){if(r.indexOf("-")===-1)return typeof s.is=="string";switch(r){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var ds=null;function dr(r){return r=r.target||r.srcElement||window,r.correspondingUseElement&&(r=r.correspondingUseElement),r.nodeType===3?r.parentNode:r}var ei=null,jn=null,rn=null;function ti(r){if(r=bi(r)){if(typeof ei!="function")throw Error(n(280));var s=r.stateNode;s&&(s=Ra(s),ei(r.stateNode,r.type,s))}}function Te(r){jn?rn?rn.push(r):rn=[r]:jn=r}function nt(){if(jn){var r=jn,s=rn;if(rn=jn=null,ti(r),s)for(r=0;r<s.length;r++)ti(s[r])}}function ft(r,s){return r(s)}function kt(){}var En=!1;function at(r,s,l){if(En)return r(s,l);En=!0;try{return ft(r,s,l)}finally{En=!1,(jn!==null||rn!==null)&&(kt(),nt())}}function vt(r,s){var l=r.stateNode;if(l===null)return null;var f=Ra(l);if(f===null)return null;l=f[s];e:switch(s){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(f=!f.disabled)||(r=r.type,f=!(r==="button"||r==="input"||r==="select"||r==="textarea")),r=!f;break e;default:r=!1}if(r)return null;if(l&&typeof l!="function")throw Error(n(231,s,typeof l));return l}var kn=!1;if(d)try{var _t={};Object.defineProperty(_t,"passive",{get:function(){kn=!0}}),window.addEventListener("test",_t,_t),window.removeEventListener("test",_t,_t)}catch{kn=!1}function Xt(r,s,l,f,v,y,E,R,T){var U=Array.prototype.slice.call(arguments,3);try{s.apply(l,U)}catch(Y){this.onError(Y)}}var Cn=!1,fr=null,ri=!1,Sc=null,mx={onError:function(r){Cn=!0,fr=r}};function gx(r,s,l,f,v,y,E,R,T){Cn=!1,fr=null,Xt.apply(mx,arguments)}function vx(r,s,l,f,v,y,E,R,T){if(gx.apply(this,arguments),Cn){if(Cn){var U=fr;Cn=!1,fr=null}else throw Error(n(198));ri||(ri=!0,Sc=U)}}function fs(r){var s=r,l=r;if(r.alternate)for(;s.return;)s=s.return;else{r=s;do s=r,(s.flags&4098)!==0&&(l=s.return),r=s.return;while(r)}return s.tag===3?l:null}function rh(r){if(r.tag===13){var s=r.memoizedState;if(s===null&&(r=r.alternate,r!==null&&(s=r.memoizedState)),s!==null)return s.dehydrated}return null}function nh(r){if(fs(r)!==r)throw Error(n(188))}function yx(r){var s=r.alternate;if(!s){if(s=fs(r),s===null)throw Error(n(188));return s!==r?null:r}for(var l=r,f=s;;){var v=l.return;if(v===null)break;var y=v.alternate;if(y===null){if(f=v.return,f!==null){l=f;continue}break}if(v.child===y.child){for(y=v.child;y;){if(y===l)return nh(v),r;if(y===f)return nh(v),s;y=y.sibling}throw Error(n(188))}if(l.return!==f.return)l=v,f=y;else{for(var E=!1,R=v.child;R;){if(R===l){E=!0,l=v,f=y;break}if(R===f){E=!0,f=v,l=y;break}R=R.sibling}if(!E){for(R=y.child;R;){if(R===l){E=!0,l=y,f=v;break}if(R===f){E=!0,f=y,l=v;break}R=R.sibling}if(!E)throw Error(n(189))}}if(l.alternate!==f)throw Error(n(190))}if(l.tag!==3)throw Error(n(188));return l.stateNode.current===l?r:s}function sh(r){return r=yx(r),r!==null?oh(r):null}function oh(r){if(r.tag===5||r.tag===6)return r;for(r=r.child;r!==null;){var s=oh(r);if(s!==null)return s;r=r.sibling}return null}var ih=e.unstable_scheduleCallback,ah=e.unstable_cancelCallback,wx=e.unstable_shouldYield,xx=e.unstable_requestPaint,st=e.unstable_now,bx=e.unstable_getCurrentPriorityLevel,jc=e.unstable_ImmediatePriority,lh=e.unstable_UserBlockingPriority,ca=e.unstable_NormalPriority,_x=e.unstable_LowPriority,ch=e.unstable_IdlePriority,ua=null,Mr=null;function Sx(r){if(Mr&&typeof Mr.onCommitFiberRoot=="function")try{Mr.onCommitFiberRoot(ua,r,void 0,(r.current.flags&128)===128)}catch{}}var _r=Math.clz32?Math.clz32:kx,jx=Math.log,Ex=Math.LN2;function kx(r){return r>>>=0,r===0?32:31-(jx(r)/Ex|0)|0}var da=64,fa=4194304;function ni(r){switch(r&-r){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return r&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return r&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return r}}function ha(r,s){var l=r.pendingLanes;if(l===0)return 0;var f=0,v=r.suspendedLanes,y=r.pingedLanes,E=l&268435455;if(E!==0){var R=E&~v;R!==0?f=ni(R):(y&=E,y!==0&&(f=ni(y)))}else E=l&~v,E!==0?f=ni(E):y!==0&&(f=ni(y));if(f===0)return 0;if(s!==0&&s!==f&&(s&v)===0&&(v=f&-f,y=s&-s,v>=y||v===16&&(y&4194240)!==0))return s;if((f&4)!==0&&(f|=l&16),s=r.entangledLanes,s!==0)for(r=r.entanglements,s&=f;0<s;)l=31-_r(s),v=1<<l,f|=r[l],s&=~v;return f}function Cx(r,s){switch(r){case 1:case 2:case 4:return s+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Nx(r,s){for(var l=r.suspendedLanes,f=r.pingedLanes,v=r.expirationTimes,y=r.pendingLanes;0<y;){var E=31-_r(y),R=1<<E,T=v[E];T===-1?((R&l)===0||(R&f)!==0)&&(v[E]=Cx(R,s)):T<=s&&(r.expiredLanes|=R),y&=~R}}function Ec(r){return r=r.pendingLanes&-1073741825,r!==0?r:r&1073741824?1073741824:0}function uh(){var r=da;return da<<=1,(da&4194240)===0&&(da=64),r}function kc(r){for(var s=[],l=0;31>l;l++)s.push(r);return s}function si(r,s,l){r.pendingLanes|=s,s!==536870912&&(r.suspendedLanes=0,r.pingedLanes=0),r=r.eventTimes,s=31-_r(s),r[s]=l}function Rx(r,s){var l=r.pendingLanes&~s;r.pendingLanes=s,r.suspendedLanes=0,r.pingedLanes=0,r.expiredLanes&=s,r.mutableReadLanes&=s,r.entangledLanes&=s,s=r.entanglements;var f=r.eventTimes;for(r=r.expirationTimes;0<l;){var v=31-_r(l),y=1<<v;s[v]=0,f[v]=-1,r[v]=-1,l&=~y}}function Cc(r,s){var l=r.entangledLanes|=s;for(r=r.entanglements;l;){var f=31-_r(l),v=1<<f;v&s|r[f]&s&&(r[f]|=s),l&=~v}}var We=0;function dh(r){return r&=-r,1<r?4<r?(r&268435455)!==0?16:536870912:4:1}var fh,Nc,hh,ph,mh,Rc=!1,pa=[],Nn=null,Rn=null,Tn=null,oi=new Map,ii=new Map,Pn=[],Tx="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function gh(r,s){switch(r){case"focusin":case"focusout":Nn=null;break;case"dragenter":case"dragleave":Rn=null;break;case"mouseover":case"mouseout":Tn=null;break;case"pointerover":case"pointerout":oi.delete(s.pointerId);break;case"gotpointercapture":case"lostpointercapture":ii.delete(s.pointerId)}}function ai(r,s,l,f,v,y){return r===null||r.nativeEvent!==y?(r={blockedOn:s,domEventName:l,eventSystemFlags:f,nativeEvent:y,targetContainers:[v]},s!==null&&(s=bi(s),s!==null&&Nc(s)),r):(r.eventSystemFlags|=f,s=r.targetContainers,v!==null&&s.indexOf(v)===-1&&s.push(v),r)}function Px(r,s,l,f,v){switch(s){case"focusin":return Nn=ai(Nn,r,s,l,f,v),!0;case"dragenter":return Rn=ai(Rn,r,s,l,f,v),!0;case"mouseover":return Tn=ai(Tn,r,s,l,f,v),!0;case"pointerover":var y=v.pointerId;return oi.set(y,ai(oi.get(y)||null,r,s,l,f,v)),!0;case"gotpointercapture":return y=v.pointerId,ii.set(y,ai(ii.get(y)||null,r,s,l,f,v)),!0}return!1}function vh(r){var s=hs(r.target);if(s!==null){var l=fs(s);if(l!==null){if(s=l.tag,s===13){if(s=rh(l),s!==null){r.blockedOn=s,mh(r.priority,function(){hh(l)});return}}else if(s===3&&l.stateNode.current.memoizedState.isDehydrated){r.blockedOn=l.tag===3?l.stateNode.containerInfo:null;return}}}r.blockedOn=null}function ma(r){if(r.blockedOn!==null)return!1;for(var s=r.targetContainers;0<s.length;){var l=Pc(r.domEventName,r.eventSystemFlags,s[0],r.nativeEvent);if(l===null){l=r.nativeEvent;var f=new l.constructor(l.type,l);ds=f,l.target.dispatchEvent(f),ds=null}else return s=bi(l),s!==null&&Nc(s),r.blockedOn=l,!1;s.shift()}return!0}function yh(r,s,l){ma(r)&&l.delete(s)}function Ax(){Rc=!1,Nn!==null&&ma(Nn)&&(Nn=null),Rn!==null&&ma(Rn)&&(Rn=null),Tn!==null&&ma(Tn)&&(Tn=null),oi.forEach(yh),ii.forEach(yh)}function li(r,s){r.blockedOn===s&&(r.blockedOn=null,Rc||(Rc=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,Ax)))}function ci(r){function s(v){return li(v,r)}if(0<pa.length){li(pa[0],r);for(var l=1;l<pa.length;l++){var f=pa[l];f.blockedOn===r&&(f.blockedOn=null)}}for(Nn!==null&&li(Nn,r),Rn!==null&&li(Rn,r),Tn!==null&&li(Tn,r),oi.forEach(s),ii.forEach(s),l=0;l<Pn.length;l++)f=Pn[l],f.blockedOn===r&&(f.blockedOn=null);for(;0<Pn.length&&(l=Pn[0],l.blockedOn===null);)vh(l),l.blockedOn===null&&Pn.shift()}var Ws=P.ReactCurrentBatchConfig,ga=!0;function Ox(r,s,l,f){var v=We,y=Ws.transition;Ws.transition=null;try{We=1,Tc(r,s,l,f)}finally{We=v,Ws.transition=y}}function Ix(r,s,l,f){var v=We,y=Ws.transition;Ws.transition=null;try{We=4,Tc(r,s,l,f)}finally{We=v,Ws.transition=y}}function Tc(r,s,l,f){if(ga){var v=Pc(r,s,l,f);if(v===null)Gc(r,s,f,va,l),gh(r,f);else if(Px(v,r,s,l,f))f.stopPropagation();else if(gh(r,f),s&4&&-1<Tx.indexOf(r)){for(;v!==null;){var y=bi(v);if(y!==null&&fh(y),y=Pc(r,s,l,f),y===null&&Gc(r,s,f,va,l),y===v)break;v=y}v!==null&&f.stopPropagation()}else Gc(r,s,f,null,l)}}var va=null;function Pc(r,s,l,f){if(va=null,r=dr(f),r=hs(r),r!==null)if(s=fs(r),s===null)r=null;else if(l=s.tag,l===13){if(r=rh(s),r!==null)return r;r=null}else if(l===3){if(s.stateNode.current.memoizedState.isDehydrated)return s.tag===3?s.stateNode.containerInfo:null;r=null}else s!==r&&(r=null);return va=r,null}function wh(r){switch(r){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(bx()){case jc:return 1;case lh:return 4;case ca:case _x:return 16;case ch:return 536870912;default:return 16}default:return 16}}var An=null,Ac=null,ya=null;function xh(){if(ya)return ya;var r,s=Ac,l=s.length,f,v="value"in An?An.value:An.textContent,y=v.length;for(r=0;r<l&&s[r]===v[r];r++);var E=l-r;for(f=1;f<=E&&s[l-f]===v[y-f];f++);return ya=v.slice(r,1<f?1-f:void 0)}function wa(r){var s=r.keyCode;return"charCode"in r?(r=r.charCode,r===0&&s===13&&(r=13)):r=s,r===10&&(r=13),32<=r||r===13?r:0}function xa(){return!0}function bh(){return!1}function Zt(r){function s(l,f,v,y,E){this._reactName=l,this._targetInst=v,this.type=f,this.nativeEvent=y,this.target=E,this.currentTarget=null;for(var R in r)r.hasOwnProperty(R)&&(l=r[R],this[R]=l?l(y):y[R]);return this.isDefaultPrevented=(y.defaultPrevented!=null?y.defaultPrevented:y.returnValue===!1)?xa:bh,this.isPropagationStopped=bh,this}return K(s.prototype,{preventDefault:function(){this.defaultPrevented=!0;var l=this.nativeEvent;l&&(l.preventDefault?l.preventDefault():typeof l.returnValue!="unknown"&&(l.returnValue=!1),this.isDefaultPrevented=xa)},stopPropagation:function(){var l=this.nativeEvent;l&&(l.stopPropagation?l.stopPropagation():typeof l.cancelBubble!="unknown"&&(l.cancelBubble=!0),this.isPropagationStopped=xa)},persist:function(){},isPersistent:xa}),s}var Hs={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(r){return r.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Oc=Zt(Hs),ui=K({},Hs,{view:0,detail:0}),Dx=Zt(ui),Ic,Dc,di,ba=K({},ui,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:$c,button:0,buttons:0,relatedTarget:function(r){return r.relatedTarget===void 0?r.fromElement===r.srcElement?r.toElement:r.fromElement:r.relatedTarget},movementX:function(r){return"movementX"in r?r.movementX:(r!==di&&(di&&r.type==="mousemove"?(Ic=r.screenX-di.screenX,Dc=r.screenY-di.screenY):Dc=Ic=0,di=r),Ic)},movementY:function(r){return"movementY"in r?r.movementY:Dc}}),_h=Zt(ba),Lx=K({},ba,{dataTransfer:0}),$x=Zt(Lx),Mx=K({},ui,{relatedTarget:0}),Lc=Zt(Mx),Fx=K({},Hs,{animationName:0,elapsedTime:0,pseudoElement:0}),Ux=Zt(Fx),zx=K({},Hs,{clipboardData:function(r){return"clipboardData"in r?r.clipboardData:window.clipboardData}}),Bx=Zt(zx),Vx=K({},Hs,{data:0}),Sh=Zt(Vx),Wx={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Hx={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},qx={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Kx(r){var s=this.nativeEvent;return s.getModifierState?s.getModifierState(r):(r=qx[r])?!!s[r]:!1}function $c(){return Kx}var Gx=K({},ui,{key:function(r){if(r.key){var s=Wx[r.key]||r.key;if(s!=="Unidentified")return s}return r.type==="keypress"?(r=wa(r),r===13?"Enter":String.fromCharCode(r)):r.type==="keydown"||r.type==="keyup"?Hx[r.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:$c,charCode:function(r){return r.type==="keypress"?wa(r):0},keyCode:function(r){return r.type==="keydown"||r.type==="keyup"?r.keyCode:0},which:function(r){return r.type==="keypress"?wa(r):r.type==="keydown"||r.type==="keyup"?r.keyCode:0}}),Yx=Zt(Gx),Jx=K({},ba,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),jh=Zt(Jx),Qx=K({},ui,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:$c}),Xx=Zt(Qx),Zx=K({},Hs,{propertyName:0,elapsedTime:0,pseudoElement:0}),eb=Zt(Zx),tb=K({},ba,{deltaX:function(r){return"deltaX"in r?r.deltaX:"wheelDeltaX"in r?-r.wheelDeltaX:0},deltaY:function(r){return"deltaY"in r?r.deltaY:"wheelDeltaY"in r?-r.wheelDeltaY:"wheelDelta"in r?-r.wheelDelta:0},deltaZ:0,deltaMode:0}),rb=Zt(tb),nb=[9,13,27,32],Mc=d&&"CompositionEvent"in window,fi=null;d&&"documentMode"in document&&(fi=document.documentMode);var sb=d&&"TextEvent"in window&&!fi,Eh=d&&(!Mc||fi&&8<fi&&11>=fi),kh=" ",Ch=!1;function Nh(r,s){switch(r){case"keyup":return nb.indexOf(s.keyCode)!==-1;case"keydown":return s.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Rh(r){return r=r.detail,typeof r=="object"&&"data"in r?r.data:null}var qs=!1;function ob(r,s){switch(r){case"compositionend":return Rh(s);case"keypress":return s.which!==32?null:(Ch=!0,kh);case"textInput":return r=s.data,r===kh&&Ch?null:r;default:return null}}function ib(r,s){if(qs)return r==="compositionend"||!Mc&&Nh(r,s)?(r=xh(),ya=Ac=An=null,qs=!1,r):null;switch(r){case"paste":return null;case"keypress":if(!(s.ctrlKey||s.altKey||s.metaKey)||s.ctrlKey&&s.altKey){if(s.char&&1<s.char.length)return s.char;if(s.which)return String.fromCharCode(s.which)}return null;case"compositionend":return Eh&&s.locale!=="ko"?null:s.data;default:return null}}var ab={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Th(r){var s=r&&r.nodeName&&r.nodeName.toLowerCase();return s==="input"?!!ab[r.type]:s==="textarea"}function Ph(r,s,l,f){Te(f),s=ka(s,"onChange"),0<s.length&&(l=new Oc("onChange","change",null,l,f),r.push({event:l,listeners:s}))}var hi=null,pi=null;function lb(r){Yh(r,0)}function _a(r){var s=Qs(r);if(Me(s))return r}function cb(r,s){if(r==="change")return s}var Ah=!1;if(d){var Fc;if(d){var Uc="oninput"in document;if(!Uc){var Oh=document.createElement("div");Oh.setAttribute("oninput","return;"),Uc=typeof Oh.oninput=="function"}Fc=Uc}else Fc=!1;Ah=Fc&&(!document.documentMode||9<document.documentMode)}function Ih(){hi&&(hi.detachEvent("onpropertychange",Dh),pi=hi=null)}function Dh(r){if(r.propertyName==="value"&&_a(pi)){var s=[];Ph(s,pi,r,dr(r)),at(lb,s)}}function ub(r,s,l){r==="focusin"?(Ih(),hi=s,pi=l,hi.attachEvent("onpropertychange",Dh)):r==="focusout"&&Ih()}function db(r){if(r==="selectionchange"||r==="keyup"||r==="keydown")return _a(pi)}function fb(r,s){if(r==="click")return _a(s)}function hb(r,s){if(r==="input"||r==="change")return _a(s)}function pb(r,s){return r===s&&(r!==0||1/r===1/s)||r!==r&&s!==s}var Sr=typeof Object.is=="function"?Object.is:pb;function mi(r,s){if(Sr(r,s))return!0;if(typeof r!="object"||r===null||typeof s!="object"||s===null)return!1;var l=Object.keys(r),f=Object.keys(s);if(l.length!==f.length)return!1;for(f=0;f<l.length;f++){var v=l[f];if(!h.call(s,v)||!Sr(r[v],s[v]))return!1}return!0}function Lh(r){for(;r&&r.firstChild;)r=r.firstChild;return r}function $h(r,s){var l=Lh(r);r=0;for(var f;l;){if(l.nodeType===3){if(f=r+l.textContent.length,r<=s&&f>=s)return{node:l,offset:s-r};r=f}e:{for(;l;){if(l.nextSibling){l=l.nextSibling;break e}l=l.parentNode}l=void 0}l=Lh(l)}}function Mh(r,s){return r&&s?r===s?!0:r&&r.nodeType===3?!1:s&&s.nodeType===3?Mh(r,s.parentNode):"contains"in r?r.contains(s):r.compareDocumentPosition?!!(r.compareDocumentPosition(s)&16):!1:!1}function Fh(){for(var r=window,s=dt();s instanceof r.HTMLIFrameElement;){try{var l=typeof s.contentWindow.location.href=="string"}catch{l=!1}if(l)r=s.contentWindow;else break;s=dt(r.document)}return s}function zc(r){var s=r&&r.nodeName&&r.nodeName.toLowerCase();return s&&(s==="input"&&(r.type==="text"||r.type==="search"||r.type==="tel"||r.type==="url"||r.type==="password")||s==="textarea"||r.contentEditable==="true")}function mb(r){var s=Fh(),l=r.focusedElem,f=r.selectionRange;if(s!==l&&l&&l.ownerDocument&&Mh(l.ownerDocument.documentElement,l)){if(f!==null&&zc(l)){if(s=f.start,r=f.end,r===void 0&&(r=s),"selectionStart"in l)l.selectionStart=s,l.selectionEnd=Math.min(r,l.value.length);else if(r=(s=l.ownerDocument||document)&&s.defaultView||window,r.getSelection){r=r.getSelection();var v=l.textContent.length,y=Math.min(f.start,v);f=f.end===void 0?y:Math.min(f.end,v),!r.extend&&y>f&&(v=f,f=y,y=v),v=$h(l,y);var E=$h(l,f);v&&E&&(r.rangeCount!==1||r.anchorNode!==v.node||r.anchorOffset!==v.offset||r.focusNode!==E.node||r.focusOffset!==E.offset)&&(s=s.createRange(),s.setStart(v.node,v.offset),r.removeAllRanges(),y>f?(r.addRange(s),r.extend(E.node,E.offset)):(s.setEnd(E.node,E.offset),r.addRange(s)))}}for(s=[],r=l;r=r.parentNode;)r.nodeType===1&&s.push({element:r,left:r.scrollLeft,top:r.scrollTop});for(typeof l.focus=="function"&&l.focus(),l=0;l<s.length;l++)r=s[l],r.element.scrollLeft=r.left,r.element.scrollTop=r.top}}var gb=d&&"documentMode"in document&&11>=document.documentMode,Ks=null,Bc=null,gi=null,Vc=!1;function Uh(r,s,l){var f=l.window===l?l.document:l.nodeType===9?l:l.ownerDocument;Vc||Ks==null||Ks!==dt(f)||(f=Ks,"selectionStart"in f&&zc(f)?f={start:f.selectionStart,end:f.selectionEnd}:(f=(f.ownerDocument&&f.ownerDocument.defaultView||window).getSelection(),f={anchorNode:f.anchorNode,anchorOffset:f.anchorOffset,focusNode:f.focusNode,focusOffset:f.focusOffset}),gi&&mi(gi,f)||(gi=f,f=ka(Bc,"onSelect"),0<f.length&&(s=new Oc("onSelect","select",null,s,l),r.push({event:s,listeners:f}),s.target=Ks)))}function Sa(r,s){var l={};return l[r.toLowerCase()]=s.toLowerCase(),l["Webkit"+r]="webkit"+s,l["Moz"+r]="moz"+s,l}var Gs={animationend:Sa("Animation","AnimationEnd"),animationiteration:Sa("Animation","AnimationIteration"),animationstart:Sa("Animation","AnimationStart"),transitionend:Sa("Transition","TransitionEnd")},Wc={},zh={};d&&(zh=document.createElement("div").style,"AnimationEvent"in window||(delete Gs.animationend.animation,delete Gs.animationiteration.animation,delete Gs.animationstart.animation),"TransitionEvent"in window||delete Gs.transitionend.transition);function ja(r){if(Wc[r])return Wc[r];if(!Gs[r])return r;var s=Gs[r],l;for(l in s)if(s.hasOwnProperty(l)&&l in zh)return Wc[r]=s[l];return r}var Bh=ja("animationend"),Vh=ja("animationiteration"),Wh=ja("animationstart"),Hh=ja("transitionend"),qh=new Map,Kh="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function On(r,s){qh.set(r,s),a(s,[r])}for(var Hc=0;Hc<Kh.length;Hc++){var qc=Kh[Hc],vb=qc.toLowerCase(),yb=qc[0].toUpperCase()+qc.slice(1);On(vb,"on"+yb)}On(Bh,"onAnimationEnd"),On(Vh,"onAnimationIteration"),On(Wh,"onAnimationStart"),On("dblclick","onDoubleClick"),On("focusin","onFocus"),On("focusout","onBlur"),On(Hh,"onTransitionEnd"),u("onMouseEnter",["mouseout","mouseover"]),u("onMouseLeave",["mouseout","mouseover"]),u("onPointerEnter",["pointerout","pointerover"]),u("onPointerLeave",["pointerout","pointerover"]),a("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),a("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),a("onBeforeInput",["compositionend","keypress","textInput","paste"]),a("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),a("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),a("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var vi="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),wb=new Set("cancel close invalid load scroll toggle".split(" ").concat(vi));function Gh(r,s,l){var f=r.type||"unknown-event";r.currentTarget=l,vx(f,s,void 0,r),r.currentTarget=null}function Yh(r,s){s=(s&4)!==0;for(var l=0;l<r.length;l++){var f=r[l],v=f.event;f=f.listeners;e:{var y=void 0;if(s)for(var E=f.length-1;0<=E;E--){var R=f[E],T=R.instance,U=R.currentTarget;if(R=R.listener,T!==y&&v.isPropagationStopped())break e;Gh(v,R,U),y=T}else for(E=0;E<f.length;E++){if(R=f[E],T=R.instance,U=R.currentTarget,R=R.listener,T!==y&&v.isPropagationStopped())break e;Gh(v,R,U),y=T}}}if(ri)throw r=Sc,ri=!1,Sc=null,r}function Ye(r,s){var l=s[eu];l===void 0&&(l=s[eu]=new Set);var f=r+"__bubble";l.has(f)||(Jh(s,r,2,!1),l.add(f))}function Kc(r,s,l){var f=0;s&&(f|=4),Jh(l,r,f,s)}var Ea="_reactListening"+Math.random().toString(36).slice(2);function yi(r){if(!r[Ea]){r[Ea]=!0,o.forEach(function(l){l!=="selectionchange"&&(wb.has(l)||Kc(l,!1,r),Kc(l,!0,r))});var s=r.nodeType===9?r:r.ownerDocument;s===null||s[Ea]||(s[Ea]=!0,Kc("selectionchange",!1,s))}}function Jh(r,s,l,f){switch(wh(s)){case 1:var v=Ox;break;case 4:v=Ix;break;default:v=Tc}l=v.bind(null,s,l,r),v=void 0,!kn||s!=="touchstart"&&s!=="touchmove"&&s!=="wheel"||(v=!0),f?v!==void 0?r.addEventListener(s,l,{capture:!0,passive:v}):r.addEventListener(s,l,!0):v!==void 0?r.addEventListener(s,l,{passive:v}):r.addEventListener(s,l,!1)}function Gc(r,s,l,f,v){var y=f;if((s&1)===0&&(s&2)===0&&f!==null)e:for(;;){if(f===null)return;var E=f.tag;if(E===3||E===4){var R=f.stateNode.containerInfo;if(R===v||R.nodeType===8&&R.parentNode===v)break;if(E===4)for(E=f.return;E!==null;){var T=E.tag;if((T===3||T===4)&&(T=E.stateNode.containerInfo,T===v||T.nodeType===8&&T.parentNode===v))return;E=E.return}for(;R!==null;){if(E=hs(R),E===null)return;if(T=E.tag,T===5||T===6){f=y=E;continue e}R=R.parentNode}}f=f.return}at(function(){var U=y,Y=dr(l),X=[];e:{var G=qh.get(r);if(G!==void 0){var ae=Oc,de=r;switch(r){case"keypress":if(wa(l)===0)break e;case"keydown":case"keyup":ae=Yx;break;case"focusin":de="focus",ae=Lc;break;case"focusout":de="blur",ae=Lc;break;case"beforeblur":case"afterblur":ae=Lc;break;case"click":if(l.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":ae=_h;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":ae=$x;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":ae=Xx;break;case Bh:case Vh:case Wh:ae=Ux;break;case Hh:ae=eb;break;case"scroll":ae=Dx;break;case"wheel":ae=rb;break;case"copy":case"cut":case"paste":ae=Bx;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":ae=jh}var ve=(s&4)!==0,ot=!ve&&r==="scroll",L=ve?G!==null?G+"Capture":null:G;ve=[];for(var A=U,M;A!==null;){M=A;var ee=M.stateNode;if(M.tag===5&&ee!==null&&(M=ee,L!==null&&(ee=vt(A,L),ee!=null&&ve.push(wi(A,ee,M)))),ot)break;A=A.return}0<ve.length&&(G=new ae(G,de,null,l,Y),X.push({event:G,listeners:ve}))}}if((s&7)===0){e:{if(G=r==="mouseover"||r==="pointerover",ae=r==="mouseout"||r==="pointerout",G&&l!==ds&&(de=l.relatedTarget||l.fromElement)&&(hs(de)||de[nn]))break e;if((ae||G)&&(G=Y.window===Y?Y:(G=Y.ownerDocument)?G.defaultView||G.parentWindow:window,ae?(de=l.relatedTarget||l.toElement,ae=U,de=de?hs(de):null,de!==null&&(ot=fs(de),de!==ot||de.tag!==5&&de.tag!==6)&&(de=null)):(ae=null,de=U),ae!==de)){if(ve=_h,ee="onMouseLeave",L="onMouseEnter",A="mouse",(r==="pointerout"||r==="pointerover")&&(ve=jh,ee="onPointerLeave",L="onPointerEnter",A="pointer"),ot=ae==null?G:Qs(ae),M=de==null?G:Qs(de),G=new ve(ee,A+"leave",ae,l,Y),G.target=ot,G.relatedTarget=M,ee=null,hs(Y)===U&&(ve=new ve(L,A+"enter",de,l,Y),ve.target=M,ve.relatedTarget=ot,ee=ve),ot=ee,ae&&de)t:{for(ve=ae,L=de,A=0,M=ve;M;M=Ys(M))A++;for(M=0,ee=L;ee;ee=Ys(ee))M++;for(;0<A-M;)ve=Ys(ve),A--;for(;0<M-A;)L=Ys(L),M--;for(;A--;){if(ve===L||L!==null&&ve===L.alternate)break t;ve=Ys(ve),L=Ys(L)}ve=null}else ve=null;ae!==null&&Qh(X,G,ae,ve,!1),de!==null&&ot!==null&&Qh(X,ot,de,ve,!0)}}e:{if(G=U?Qs(U):window,ae=G.nodeName&&G.nodeName.toLowerCase(),ae==="select"||ae==="input"&&G.type==="file")var ye=cb;else if(Th(G))if(Ah)ye=hb;else{ye=db;var je=ub}else(ae=G.nodeName)&&ae.toLowerCase()==="input"&&(G.type==="checkbox"||G.type==="radio")&&(ye=fb);if(ye&&(ye=ye(r,U))){Ph(X,ye,l,Y);break e}je&&je(r,G,U),r==="focusout"&&(je=G._wrapperState)&&je.controlled&&G.type==="number"&&Qt(G,"number",G.value)}switch(je=U?Qs(U):window,r){case"focusin":(Th(je)||je.contentEditable==="true")&&(Ks=je,Bc=U,gi=null);break;case"focusout":gi=Bc=Ks=null;break;case"mousedown":Vc=!0;break;case"contextmenu":case"mouseup":case"dragend":Vc=!1,Uh(X,l,Y);break;case"selectionchange":if(gb)break;case"keydown":case"keyup":Uh(X,l,Y)}var Ee;if(Mc)e:{switch(r){case"compositionstart":var Ne="onCompositionStart";break e;case"compositionend":Ne="onCompositionEnd";break e;case"compositionupdate":Ne="onCompositionUpdate";break e}Ne=void 0}else qs?Nh(r,l)&&(Ne="onCompositionEnd"):r==="keydown"&&l.keyCode===229&&(Ne="onCompositionStart");Ne&&(Eh&&l.locale!=="ko"&&(qs||Ne!=="onCompositionStart"?Ne==="onCompositionEnd"&&qs&&(Ee=xh()):(An=Y,Ac="value"in An?An.value:An.textContent,qs=!0)),je=ka(U,Ne),0<je.length&&(Ne=new Sh(Ne,r,null,l,Y),X.push({event:Ne,listeners:je}),Ee?Ne.data=Ee:(Ee=Rh(l),Ee!==null&&(Ne.data=Ee)))),(Ee=sb?ob(r,l):ib(r,l))&&(U=ka(U,"onBeforeInput"),0<U.length&&(Y=new Sh("onBeforeInput","beforeinput",null,l,Y),X.push({event:Y,listeners:U}),Y.data=Ee))}Yh(X,s)})}function wi(r,s,l){return{instance:r,listener:s,currentTarget:l}}function ka(r,s){for(var l=s+"Capture",f=[];r!==null;){var v=r,y=v.stateNode;v.tag===5&&y!==null&&(v=y,y=vt(r,l),y!=null&&f.unshift(wi(r,y,v)),y=vt(r,s),y!=null&&f.push(wi(r,y,v))),r=r.return}return f}function Ys(r){if(r===null)return null;do r=r.return;while(r&&r.tag!==5);return r||null}function Qh(r,s,l,f,v){for(var y=s._reactName,E=[];l!==null&&l!==f;){var R=l,T=R.alternate,U=R.stateNode;if(T!==null&&T===f)break;R.tag===5&&U!==null&&(R=U,v?(T=vt(l,y),T!=null&&E.unshift(wi(l,T,R))):v||(T=vt(l,y),T!=null&&E.push(wi(l,T,R)))),l=l.return}E.length!==0&&r.push({event:s,listeners:E})}var xb=/\r\n?/g,bb=/\u0000|\uFFFD/g;function Xh(r){return(typeof r=="string"?r:""+r).replace(xb,`
`).replace(bb,"")}function Ca(r,s,l){if(s=Xh(s),Xh(r)!==s&&l)throw Error(n(425))}function Na(){}var Yc=null,Jc=null;function Qc(r,s){return r==="textarea"||r==="noscript"||typeof s.children=="string"||typeof s.children=="number"||typeof s.dangerouslySetInnerHTML=="object"&&s.dangerouslySetInnerHTML!==null&&s.dangerouslySetInnerHTML.__html!=null}var Xc=typeof setTimeout=="function"?setTimeout:void 0,_b=typeof clearTimeout=="function"?clearTimeout:void 0,Zh=typeof Promise=="function"?Promise:void 0,Sb=typeof queueMicrotask=="function"?queueMicrotask:typeof Zh<"u"?function(r){return Zh.resolve(null).then(r).catch(jb)}:Xc;function jb(r){setTimeout(function(){throw r})}function Zc(r,s){var l=s,f=0;do{var v=l.nextSibling;if(r.removeChild(l),v&&v.nodeType===8)if(l=v.data,l==="/$"){if(f===0){r.removeChild(v),ci(s);return}f--}else l!=="$"&&l!=="$?"&&l!=="$!"||f++;l=v}while(l);ci(s)}function In(r){for(;r!=null;r=r.nextSibling){var s=r.nodeType;if(s===1||s===3)break;if(s===8){if(s=r.data,s==="$"||s==="$!"||s==="$?")break;if(s==="/$")return null}}return r}function ep(r){r=r.previousSibling;for(var s=0;r;){if(r.nodeType===8){var l=r.data;if(l==="$"||l==="$!"||l==="$?"){if(s===0)return r;s--}else l==="/$"&&s++}r=r.previousSibling}return null}var Js=Math.random().toString(36).slice(2),Fr="__reactFiber$"+Js,xi="__reactProps$"+Js,nn="__reactContainer$"+Js,eu="__reactEvents$"+Js,Eb="__reactListeners$"+Js,kb="__reactHandles$"+Js;function hs(r){var s=r[Fr];if(s)return s;for(var l=r.parentNode;l;){if(s=l[nn]||l[Fr]){if(l=s.alternate,s.child!==null||l!==null&&l.child!==null)for(r=ep(r);r!==null;){if(l=r[Fr])return l;r=ep(r)}return s}r=l,l=r.parentNode}return null}function bi(r){return r=r[Fr]||r[nn],!r||r.tag!==5&&r.tag!==6&&r.tag!==13&&r.tag!==3?null:r}function Qs(r){if(r.tag===5||r.tag===6)return r.stateNode;throw Error(n(33))}function Ra(r){return r[xi]||null}var tu=[],Xs=-1;function Dn(r){return{current:r}}function Je(r){0>Xs||(r.current=tu[Xs],tu[Xs]=null,Xs--)}function Ke(r,s){Xs++,tu[Xs]=r.current,r.current=s}var Ln={},Ct=Dn(Ln),Ft=Dn(!1),ps=Ln;function Zs(r,s){var l=r.type.contextTypes;if(!l)return Ln;var f=r.stateNode;if(f&&f.__reactInternalMemoizedUnmaskedChildContext===s)return f.__reactInternalMemoizedMaskedChildContext;var v={},y;for(y in l)v[y]=s[y];return f&&(r=r.stateNode,r.__reactInternalMemoizedUnmaskedChildContext=s,r.__reactInternalMemoizedMaskedChildContext=v),v}function Ut(r){return r=r.childContextTypes,r!=null}function Ta(){Je(Ft),Je(Ct)}function tp(r,s,l){if(Ct.current!==Ln)throw Error(n(168));Ke(Ct,s),Ke(Ft,l)}function rp(r,s,l){var f=r.stateNode;if(s=s.childContextTypes,typeof f.getChildContext!="function")return l;f=f.getChildContext();for(var v in f)if(!(v in s))throw Error(n(108,J(r)||"Unknown",v));return K({},l,f)}function Pa(r){return r=(r=r.stateNode)&&r.__reactInternalMemoizedMergedChildContext||Ln,ps=Ct.current,Ke(Ct,r),Ke(Ft,Ft.current),!0}function np(r,s,l){var f=r.stateNode;if(!f)throw Error(n(169));l?(r=rp(r,s,ps),f.__reactInternalMemoizedMergedChildContext=r,Je(Ft),Je(Ct),Ke(Ct,r)):Je(Ft),Ke(Ft,l)}var sn=null,Aa=!1,ru=!1;function sp(r){sn===null?sn=[r]:sn.push(r)}function Cb(r){Aa=!0,sp(r)}function $n(){if(!ru&&sn!==null){ru=!0;var r=0,s=We;try{var l=sn;for(We=1;r<l.length;r++){var f=l[r];do f=f(!0);while(f!==null)}sn=null,Aa=!1}catch(v){throw sn!==null&&(sn=sn.slice(r+1)),ih(jc,$n),v}finally{We=s,ru=!1}}return null}var eo=[],to=0,Oa=null,Ia=0,hr=[],pr=0,ms=null,on=1,an="";function gs(r,s){eo[to++]=Ia,eo[to++]=Oa,Oa=r,Ia=s}function op(r,s,l){hr[pr++]=on,hr[pr++]=an,hr[pr++]=ms,ms=r;var f=on;r=an;var v=32-_r(f)-1;f&=~(1<<v),l+=1;var y=32-_r(s)+v;if(30<y){var E=v-v%5;y=(f&(1<<E)-1).toString(32),f>>=E,v-=E,on=1<<32-_r(s)+v|l<<v|f,an=y+r}else on=1<<y|l<<v|f,an=r}function nu(r){r.return!==null&&(gs(r,1),op(r,1,0))}function su(r){for(;r===Oa;)Oa=eo[--to],eo[to]=null,Ia=eo[--to],eo[to]=null;for(;r===ms;)ms=hr[--pr],hr[pr]=null,an=hr[--pr],hr[pr]=null,on=hr[--pr],hr[pr]=null}var er=null,tr=null,Qe=!1,jr=null;function ip(r,s){var l=yr(5,null,null,0);l.elementType="DELETED",l.stateNode=s,l.return=r,s=r.deletions,s===null?(r.deletions=[l],r.flags|=16):s.push(l)}function ap(r,s){switch(r.tag){case 5:var l=r.type;return s=s.nodeType!==1||l.toLowerCase()!==s.nodeName.toLowerCase()?null:s,s!==null?(r.stateNode=s,er=r,tr=In(s.firstChild),!0):!1;case 6:return s=r.pendingProps===""||s.nodeType!==3?null:s,s!==null?(r.stateNode=s,er=r,tr=null,!0):!1;case 13:return s=s.nodeType!==8?null:s,s!==null?(l=ms!==null?{id:on,overflow:an}:null,r.memoizedState={dehydrated:s,treeContext:l,retryLane:1073741824},l=yr(18,null,null,0),l.stateNode=s,l.return=r,r.child=l,er=r,tr=null,!0):!1;default:return!1}}function ou(r){return(r.mode&1)!==0&&(r.flags&128)===0}function iu(r){if(Qe){var s=tr;if(s){var l=s;if(!ap(r,s)){if(ou(r))throw Error(n(418));s=In(l.nextSibling);var f=er;s&&ap(r,s)?ip(f,l):(r.flags=r.flags&-4097|2,Qe=!1,er=r)}}else{if(ou(r))throw Error(n(418));r.flags=r.flags&-4097|2,Qe=!1,er=r}}}function lp(r){for(r=r.return;r!==null&&r.tag!==5&&r.tag!==3&&r.tag!==13;)r=r.return;er=r}function Da(r){if(r!==er)return!1;if(!Qe)return lp(r),Qe=!0,!1;var s;if((s=r.tag!==3)&&!(s=r.tag!==5)&&(s=r.type,s=s!=="head"&&s!=="body"&&!Qc(r.type,r.memoizedProps)),s&&(s=tr)){if(ou(r))throw cp(),Error(n(418));for(;s;)ip(r,s),s=In(s.nextSibling)}if(lp(r),r.tag===13){if(r=r.memoizedState,r=r!==null?r.dehydrated:null,!r)throw Error(n(317));e:{for(r=r.nextSibling,s=0;r;){if(r.nodeType===8){var l=r.data;if(l==="/$"){if(s===0){tr=In(r.nextSibling);break e}s--}else l!=="$"&&l!=="$!"&&l!=="$?"||s++}r=r.nextSibling}tr=null}}else tr=er?In(r.stateNode.nextSibling):null;return!0}function cp(){for(var r=tr;r;)r=In(r.nextSibling)}function ro(){tr=er=null,Qe=!1}function au(r){jr===null?jr=[r]:jr.push(r)}var Nb=P.ReactCurrentBatchConfig;function _i(r,s,l){if(r=l.ref,r!==null&&typeof r!="function"&&typeof r!="object"){if(l._owner){if(l=l._owner,l){if(l.tag!==1)throw Error(n(309));var f=l.stateNode}if(!f)throw Error(n(147,r));var v=f,y=""+r;return s!==null&&s.ref!==null&&typeof s.ref=="function"&&s.ref._stringRef===y?s.ref:(s=function(E){var R=v.refs;E===null?delete R[y]:R[y]=E},s._stringRef=y,s)}if(typeof r!="string")throw Error(n(284));if(!l._owner)throw Error(n(290,r))}return r}function La(r,s){throw r=Object.prototype.toString.call(s),Error(n(31,r==="[object Object]"?"object with keys {"+Object.keys(s).join(", ")+"}":r))}function up(r){var s=r._init;return s(r._payload)}function dp(r){function s(L,A){if(r){var M=L.deletions;M===null?(L.deletions=[A],L.flags|=16):M.push(A)}}function l(L,A){if(!r)return null;for(;A!==null;)s(L,A),A=A.sibling;return null}function f(L,A){for(L=new Map;A!==null;)A.key!==null?L.set(A.key,A):L.set(A.index,A),A=A.sibling;return L}function v(L,A){return L=Hn(L,A),L.index=0,L.sibling=null,L}function y(L,A,M){return L.index=M,r?(M=L.alternate,M!==null?(M=M.index,M<A?(L.flags|=2,A):M):(L.flags|=2,A)):(L.flags|=1048576,A)}function E(L){return r&&L.alternate===null&&(L.flags|=2),L}function R(L,A,M,ee){return A===null||A.tag!==6?(A=Xu(M,L.mode,ee),A.return=L,A):(A=v(A,M),A.return=L,A)}function T(L,A,M,ee){var ye=M.type;return ye===D?Y(L,A,M.props.children,ee,M.key):A!==null&&(A.elementType===ye||typeof ye=="object"&&ye!==null&&ye.$$typeof===B&&up(ye)===A.type)?(ee=v(A,M.props),ee.ref=_i(L,A,M),ee.return=L,ee):(ee=il(M.type,M.key,M.props,null,L.mode,ee),ee.ref=_i(L,A,M),ee.return=L,ee)}function U(L,A,M,ee){return A===null||A.tag!==4||A.stateNode.containerInfo!==M.containerInfo||A.stateNode.implementation!==M.implementation?(A=Zu(M,L.mode,ee),A.return=L,A):(A=v(A,M.children||[]),A.return=L,A)}function Y(L,A,M,ee,ye){return A===null||A.tag!==7?(A=js(M,L.mode,ee,ye),A.return=L,A):(A=v(A,M),A.return=L,A)}function X(L,A,M){if(typeof A=="string"&&A!==""||typeof A=="number")return A=Xu(""+A,L.mode,M),A.return=L,A;if(typeof A=="object"&&A!==null){switch(A.$$typeof){case F:return M=il(A.type,A.key,A.props,null,L.mode,M),M.ref=_i(L,null,A),M.return=L,M;case V:return A=Zu(A,L.mode,M),A.return=L,A;case B:var ee=A._init;return X(L,ee(A._payload),M)}if(ls(A)||Z(A))return A=js(A,L.mode,M,null),A.return=L,A;La(L,A)}return null}function G(L,A,M,ee){var ye=A!==null?A.key:null;if(typeof M=="string"&&M!==""||typeof M=="number")return ye!==null?null:R(L,A,""+M,ee);if(typeof M=="object"&&M!==null){switch(M.$$typeof){case F:return M.key===ye?T(L,A,M,ee):null;case V:return M.key===ye?U(L,A,M,ee):null;case B:return ye=M._init,G(L,A,ye(M._payload),ee)}if(ls(M)||Z(M))return ye!==null?null:Y(L,A,M,ee,null);La(L,M)}return null}function ae(L,A,M,ee,ye){if(typeof ee=="string"&&ee!==""||typeof ee=="number")return L=L.get(M)||null,R(A,L,""+ee,ye);if(typeof ee=="object"&&ee!==null){switch(ee.$$typeof){case F:return L=L.get(ee.key===null?M:ee.key)||null,T(A,L,ee,ye);case V:return L=L.get(ee.key===null?M:ee.key)||null,U(A,L,ee,ye);case B:var je=ee._init;return ae(L,A,M,je(ee._payload),ye)}if(ls(ee)||Z(ee))return L=L.get(M)||null,Y(A,L,ee,ye,null);La(A,ee)}return null}function de(L,A,M,ee){for(var ye=null,je=null,Ee=A,Ne=A=0,xt=null;Ee!==null&&Ne<M.length;Ne++){Ee.index>Ne?(xt=Ee,Ee=null):xt=Ee.sibling;var Be=G(L,Ee,M[Ne],ee);if(Be===null){Ee===null&&(Ee=xt);break}r&&Ee&&Be.alternate===null&&s(L,Ee),A=y(Be,A,Ne),je===null?ye=Be:je.sibling=Be,je=Be,Ee=xt}if(Ne===M.length)return l(L,Ee),Qe&&gs(L,Ne),ye;if(Ee===null){for(;Ne<M.length;Ne++)Ee=X(L,M[Ne],ee),Ee!==null&&(A=y(Ee,A,Ne),je===null?ye=Ee:je.sibling=Ee,je=Ee);return Qe&&gs(L,Ne),ye}for(Ee=f(L,Ee);Ne<M.length;Ne++)xt=ae(Ee,L,Ne,M[Ne],ee),xt!==null&&(r&&xt.alternate!==null&&Ee.delete(xt.key===null?Ne:xt.key),A=y(xt,A,Ne),je===null?ye=xt:je.sibling=xt,je=xt);return r&&Ee.forEach(function(qn){return s(L,qn)}),Qe&&gs(L,Ne),ye}function ve(L,A,M,ee){var ye=Z(M);if(typeof ye!="function")throw Error(n(150));if(M=ye.call(M),M==null)throw Error(n(151));for(var je=ye=null,Ee=A,Ne=A=0,xt=null,Be=M.next();Ee!==null&&!Be.done;Ne++,Be=M.next()){Ee.index>Ne?(xt=Ee,Ee=null):xt=Ee.sibling;var qn=G(L,Ee,Be.value,ee);if(qn===null){Ee===null&&(Ee=xt);break}r&&Ee&&qn.alternate===null&&s(L,Ee),A=y(qn,A,Ne),je===null?ye=qn:je.sibling=qn,je=qn,Ee=xt}if(Be.done)return l(L,Ee),Qe&&gs(L,Ne),ye;if(Ee===null){for(;!Be.done;Ne++,Be=M.next())Be=X(L,Be.value,ee),Be!==null&&(A=y(Be,A,Ne),je===null?ye=Be:je.sibling=Be,je=Be);return Qe&&gs(L,Ne),ye}for(Ee=f(L,Ee);!Be.done;Ne++,Be=M.next())Be=ae(Ee,L,Ne,Be.value,ee),Be!==null&&(r&&Be.alternate!==null&&Ee.delete(Be.key===null?Ne:Be.key),A=y(Be,A,Ne),je===null?ye=Be:je.sibling=Be,je=Be);return r&&Ee.forEach(function(a_){return s(L,a_)}),Qe&&gs(L,Ne),ye}function ot(L,A,M,ee){if(typeof M=="object"&&M!==null&&M.type===D&&M.key===null&&(M=M.props.children),typeof M=="object"&&M!==null){switch(M.$$typeof){case F:e:{for(var ye=M.key,je=A;je!==null;){if(je.key===ye){if(ye=M.type,ye===D){if(je.tag===7){l(L,je.sibling),A=v(je,M.props.children),A.return=L,L=A;break e}}else if(je.elementType===ye||typeof ye=="object"&&ye!==null&&ye.$$typeof===B&&up(ye)===je.type){l(L,je.sibling),A=v(je,M.props),A.ref=_i(L,je,M),A.return=L,L=A;break e}l(L,je);break}else s(L,je);je=je.sibling}M.type===D?(A=js(M.props.children,L.mode,ee,M.key),A.return=L,L=A):(ee=il(M.type,M.key,M.props,null,L.mode,ee),ee.ref=_i(L,A,M),ee.return=L,L=ee)}return E(L);case V:e:{for(je=M.key;A!==null;){if(A.key===je)if(A.tag===4&&A.stateNode.containerInfo===M.containerInfo&&A.stateNode.implementation===M.implementation){l(L,A.sibling),A=v(A,M.children||[]),A.return=L,L=A;break e}else{l(L,A);break}else s(L,A);A=A.sibling}A=Zu(M,L.mode,ee),A.return=L,L=A}return E(L);case B:return je=M._init,ot(L,A,je(M._payload),ee)}if(ls(M))return de(L,A,M,ee);if(Z(M))return ve(L,A,M,ee);La(L,M)}return typeof M=="string"&&M!==""||typeof M=="number"?(M=""+M,A!==null&&A.tag===6?(l(L,A.sibling),A=v(A,M),A.return=L,L=A):(l(L,A),A=Xu(M,L.mode,ee),A.return=L,L=A),E(L)):l(L,A)}return ot}var no=dp(!0),fp=dp(!1),$a=Dn(null),Ma=null,so=null,lu=null;function cu(){lu=so=Ma=null}function uu(r){var s=$a.current;Je($a),r._currentValue=s}function du(r,s,l){for(;r!==null;){var f=r.alternate;if((r.childLanes&s)!==s?(r.childLanes|=s,f!==null&&(f.childLanes|=s)):f!==null&&(f.childLanes&s)!==s&&(f.childLanes|=s),r===l)break;r=r.return}}function oo(r,s){Ma=r,lu=so=null,r=r.dependencies,r!==null&&r.firstContext!==null&&((r.lanes&s)!==0&&(zt=!0),r.firstContext=null)}function mr(r){var s=r._currentValue;if(lu!==r)if(r={context:r,memoizedValue:s,next:null},so===null){if(Ma===null)throw Error(n(308));so=r,Ma.dependencies={lanes:0,firstContext:r}}else so=so.next=r;return s}var vs=null;function fu(r){vs===null?vs=[r]:vs.push(r)}function hp(r,s,l,f){var v=s.interleaved;return v===null?(l.next=l,fu(s)):(l.next=v.next,v.next=l),s.interleaved=l,ln(r,f)}function ln(r,s){r.lanes|=s;var l=r.alternate;for(l!==null&&(l.lanes|=s),l=r,r=r.return;r!==null;)r.childLanes|=s,l=r.alternate,l!==null&&(l.childLanes|=s),l=r,r=r.return;return l.tag===3?l.stateNode:null}var Mn=!1;function hu(r){r.updateQueue={baseState:r.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function pp(r,s){r=r.updateQueue,s.updateQueue===r&&(s.updateQueue={baseState:r.baseState,firstBaseUpdate:r.firstBaseUpdate,lastBaseUpdate:r.lastBaseUpdate,shared:r.shared,effects:r.effects})}function cn(r,s){return{eventTime:r,lane:s,tag:0,payload:null,callback:null,next:null}}function Fn(r,s,l){var f=r.updateQueue;if(f===null)return null;if(f=f.shared,(Ue&2)!==0){var v=f.pending;return v===null?s.next=s:(s.next=v.next,v.next=s),f.pending=s,ln(r,l)}return v=f.interleaved,v===null?(s.next=s,fu(f)):(s.next=v.next,v.next=s),f.interleaved=s,ln(r,l)}function Fa(r,s,l){if(s=s.updateQueue,s!==null&&(s=s.shared,(l&4194240)!==0)){var f=s.lanes;f&=r.pendingLanes,l|=f,s.lanes=l,Cc(r,l)}}function mp(r,s){var l=r.updateQueue,f=r.alternate;if(f!==null&&(f=f.updateQueue,l===f)){var v=null,y=null;if(l=l.firstBaseUpdate,l!==null){do{var E={eventTime:l.eventTime,lane:l.lane,tag:l.tag,payload:l.payload,callback:l.callback,next:null};y===null?v=y=E:y=y.next=E,l=l.next}while(l!==null);y===null?v=y=s:y=y.next=s}else v=y=s;l={baseState:f.baseState,firstBaseUpdate:v,lastBaseUpdate:y,shared:f.shared,effects:f.effects},r.updateQueue=l;return}r=l.lastBaseUpdate,r===null?l.firstBaseUpdate=s:r.next=s,l.lastBaseUpdate=s}function Ua(r,s,l,f){var v=r.updateQueue;Mn=!1;var y=v.firstBaseUpdate,E=v.lastBaseUpdate,R=v.shared.pending;if(R!==null){v.shared.pending=null;var T=R,U=T.next;T.next=null,E===null?y=U:E.next=U,E=T;var Y=r.alternate;Y!==null&&(Y=Y.updateQueue,R=Y.lastBaseUpdate,R!==E&&(R===null?Y.firstBaseUpdate=U:R.next=U,Y.lastBaseUpdate=T))}if(y!==null){var X=v.baseState;E=0,Y=U=T=null,R=y;do{var G=R.lane,ae=R.eventTime;if((f&G)===G){Y!==null&&(Y=Y.next={eventTime:ae,lane:0,tag:R.tag,payload:R.payload,callback:R.callback,next:null});e:{var de=r,ve=R;switch(G=s,ae=l,ve.tag){case 1:if(de=ve.payload,typeof de=="function"){X=de.call(ae,X,G);break e}X=de;break e;case 3:de.flags=de.flags&-65537|128;case 0:if(de=ve.payload,G=typeof de=="function"?de.call(ae,X,G):de,G==null)break e;X=K({},X,G);break e;case 2:Mn=!0}}R.callback!==null&&R.lane!==0&&(r.flags|=64,G=v.effects,G===null?v.effects=[R]:G.push(R))}else ae={eventTime:ae,lane:G,tag:R.tag,payload:R.payload,callback:R.callback,next:null},Y===null?(U=Y=ae,T=X):Y=Y.next=ae,E|=G;if(R=R.next,R===null){if(R=v.shared.pending,R===null)break;G=R,R=G.next,G.next=null,v.lastBaseUpdate=G,v.shared.pending=null}}while(!0);if(Y===null&&(T=X),v.baseState=T,v.firstBaseUpdate=U,v.lastBaseUpdate=Y,s=v.shared.interleaved,s!==null){v=s;do E|=v.lane,v=v.next;while(v!==s)}else y===null&&(v.shared.lanes=0);xs|=E,r.lanes=E,r.memoizedState=X}}function gp(r,s,l){if(r=s.effects,s.effects=null,r!==null)for(s=0;s<r.length;s++){var f=r[s],v=f.callback;if(v!==null){if(f.callback=null,f=l,typeof v!="function")throw Error(n(191,v));v.call(f)}}}var Si={},Ur=Dn(Si),ji=Dn(Si),Ei=Dn(Si);function ys(r){if(r===Si)throw Error(n(174));return r}function pu(r,s){switch(Ke(Ei,s),Ke(ji,r),Ke(Ur,Si),r=s.nodeType,r){case 9:case 11:s=(s=s.documentElement)?s.namespaceURI:Xo(null,"");break;default:r=r===8?s.parentNode:s,s=r.namespaceURI||null,r=r.tagName,s=Xo(s,r)}Je(Ur),Ke(Ur,s)}function io(){Je(Ur),Je(ji),Je(Ei)}function vp(r){ys(Ei.current);var s=ys(Ur.current),l=Xo(s,r.type);s!==l&&(Ke(ji,r),Ke(Ur,l))}function mu(r){ji.current===r&&(Je(Ur),Je(ji))}var Xe=Dn(0);function za(r){for(var s=r;s!==null;){if(s.tag===13){var l=s.memoizedState;if(l!==null&&(l=l.dehydrated,l===null||l.data==="$?"||l.data==="$!"))return s}else if(s.tag===19&&s.memoizedProps.revealOrder!==void 0){if((s.flags&128)!==0)return s}else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===r)break;for(;s.sibling===null;){if(s.return===null||s.return===r)return null;s=s.return}s.sibling.return=s.return,s=s.sibling}return null}var gu=[];function vu(){for(var r=0;r<gu.length;r++)gu[r]._workInProgressVersionPrimary=null;gu.length=0}var Ba=P.ReactCurrentDispatcher,yu=P.ReactCurrentBatchConfig,ws=0,Ze=null,ht=null,yt=null,Va=!1,ki=!1,Ci=0,Rb=0;function Nt(){throw Error(n(321))}function wu(r,s){if(s===null)return!1;for(var l=0;l<s.length&&l<r.length;l++)if(!Sr(r[l],s[l]))return!1;return!0}function xu(r,s,l,f,v,y){if(ws=y,Ze=s,s.memoizedState=null,s.updateQueue=null,s.lanes=0,Ba.current=r===null||r.memoizedState===null?Ob:Ib,r=l(f,v),ki){y=0;do{if(ki=!1,Ci=0,25<=y)throw Error(n(301));y+=1,yt=ht=null,s.updateQueue=null,Ba.current=Db,r=l(f,v)}while(ki)}if(Ba.current=qa,s=ht!==null&&ht.next!==null,ws=0,yt=ht=Ze=null,Va=!1,s)throw Error(n(300));return r}function bu(){var r=Ci!==0;return Ci=0,r}function zr(){var r={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return yt===null?Ze.memoizedState=yt=r:yt=yt.next=r,yt}function gr(){if(ht===null){var r=Ze.alternate;r=r!==null?r.memoizedState:null}else r=ht.next;var s=yt===null?Ze.memoizedState:yt.next;if(s!==null)yt=s,ht=r;else{if(r===null)throw Error(n(310));ht=r,r={memoizedState:ht.memoizedState,baseState:ht.baseState,baseQueue:ht.baseQueue,queue:ht.queue,next:null},yt===null?Ze.memoizedState=yt=r:yt=yt.next=r}return yt}function Ni(r,s){return typeof s=="function"?s(r):s}function _u(r){var s=gr(),l=s.queue;if(l===null)throw Error(n(311));l.lastRenderedReducer=r;var f=ht,v=f.baseQueue,y=l.pending;if(y!==null){if(v!==null){var E=v.next;v.next=y.next,y.next=E}f.baseQueue=v=y,l.pending=null}if(v!==null){y=v.next,f=f.baseState;var R=E=null,T=null,U=y;do{var Y=U.lane;if((ws&Y)===Y)T!==null&&(T=T.next={lane:0,action:U.action,hasEagerState:U.hasEagerState,eagerState:U.eagerState,next:null}),f=U.hasEagerState?U.eagerState:r(f,U.action);else{var X={lane:Y,action:U.action,hasEagerState:U.hasEagerState,eagerState:U.eagerState,next:null};T===null?(R=T=X,E=f):T=T.next=X,Ze.lanes|=Y,xs|=Y}U=U.next}while(U!==null&&U!==y);T===null?E=f:T.next=R,Sr(f,s.memoizedState)||(zt=!0),s.memoizedState=f,s.baseState=E,s.baseQueue=T,l.lastRenderedState=f}if(r=l.interleaved,r!==null){v=r;do y=v.lane,Ze.lanes|=y,xs|=y,v=v.next;while(v!==r)}else v===null&&(l.lanes=0);return[s.memoizedState,l.dispatch]}function Su(r){var s=gr(),l=s.queue;if(l===null)throw Error(n(311));l.lastRenderedReducer=r;var f=l.dispatch,v=l.pending,y=s.memoizedState;if(v!==null){l.pending=null;var E=v=v.next;do y=r(y,E.action),E=E.next;while(E!==v);Sr(y,s.memoizedState)||(zt=!0),s.memoizedState=y,s.baseQueue===null&&(s.baseState=y),l.lastRenderedState=y}return[y,f]}function yp(){}function wp(r,s){var l=Ze,f=gr(),v=s(),y=!Sr(f.memoizedState,v);if(y&&(f.memoizedState=v,zt=!0),f=f.queue,ju(_p.bind(null,l,f,r),[r]),f.getSnapshot!==s||y||yt!==null&&yt.memoizedState.tag&1){if(l.flags|=2048,Ri(9,bp.bind(null,l,f,v,s),void 0,null),wt===null)throw Error(n(349));(ws&30)!==0||xp(l,s,v)}return v}function xp(r,s,l){r.flags|=16384,r={getSnapshot:s,value:l},s=Ze.updateQueue,s===null?(s={lastEffect:null,stores:null},Ze.updateQueue=s,s.stores=[r]):(l=s.stores,l===null?s.stores=[r]:l.push(r))}function bp(r,s,l,f){s.value=l,s.getSnapshot=f,Sp(s)&&jp(r)}function _p(r,s,l){return l(function(){Sp(s)&&jp(r)})}function Sp(r){var s=r.getSnapshot;r=r.value;try{var l=s();return!Sr(r,l)}catch{return!0}}function jp(r){var s=ln(r,1);s!==null&&Nr(s,r,1,-1)}function Ep(r){var s=zr();return typeof r=="function"&&(r=r()),s.memoizedState=s.baseState=r,r={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Ni,lastRenderedState:r},s.queue=r,r=r.dispatch=Ab.bind(null,Ze,r),[s.memoizedState,r]}function Ri(r,s,l,f){return r={tag:r,create:s,destroy:l,deps:f,next:null},s=Ze.updateQueue,s===null?(s={lastEffect:null,stores:null},Ze.updateQueue=s,s.lastEffect=r.next=r):(l=s.lastEffect,l===null?s.lastEffect=r.next=r:(f=l.next,l.next=r,r.next=f,s.lastEffect=r)),r}function kp(){return gr().memoizedState}function Wa(r,s,l,f){var v=zr();Ze.flags|=r,v.memoizedState=Ri(1|s,l,void 0,f===void 0?null:f)}function Ha(r,s,l,f){var v=gr();f=f===void 0?null:f;var y=void 0;if(ht!==null){var E=ht.memoizedState;if(y=E.destroy,f!==null&&wu(f,E.deps)){v.memoizedState=Ri(s,l,y,f);return}}Ze.flags|=r,v.memoizedState=Ri(1|s,l,y,f)}function Cp(r,s){return Wa(8390656,8,r,s)}function ju(r,s){return Ha(2048,8,r,s)}function Np(r,s){return Ha(4,2,r,s)}function Rp(r,s){return Ha(4,4,r,s)}function Tp(r,s){if(typeof s=="function")return r=r(),s(r),function(){s(null)};if(s!=null)return r=r(),s.current=r,function(){s.current=null}}function Pp(r,s,l){return l=l!=null?l.concat([r]):null,Ha(4,4,Tp.bind(null,s,r),l)}function Eu(){}function Ap(r,s){var l=gr();s=s===void 0?null:s;var f=l.memoizedState;return f!==null&&s!==null&&wu(s,f[1])?f[0]:(l.memoizedState=[r,s],r)}function Op(r,s){var l=gr();s=s===void 0?null:s;var f=l.memoizedState;return f!==null&&s!==null&&wu(s,f[1])?f[0]:(r=r(),l.memoizedState=[r,s],r)}function Ip(r,s,l){return(ws&21)===0?(r.baseState&&(r.baseState=!1,zt=!0),r.memoizedState=l):(Sr(l,s)||(l=uh(),Ze.lanes|=l,xs|=l,r.baseState=!0),s)}function Tb(r,s){var l=We;We=l!==0&&4>l?l:4,r(!0);var f=yu.transition;yu.transition={};try{r(!1),s()}finally{We=l,yu.transition=f}}function Dp(){return gr().memoizedState}function Pb(r,s,l){var f=Vn(r);if(l={lane:f,action:l,hasEagerState:!1,eagerState:null,next:null},Lp(r))$p(s,l);else if(l=hp(r,s,l,f),l!==null){var v=Lt();Nr(l,r,f,v),Mp(l,s,f)}}function Ab(r,s,l){var f=Vn(r),v={lane:f,action:l,hasEagerState:!1,eagerState:null,next:null};if(Lp(r))$p(s,v);else{var y=r.alternate;if(r.lanes===0&&(y===null||y.lanes===0)&&(y=s.lastRenderedReducer,y!==null))try{var E=s.lastRenderedState,R=y(E,l);if(v.hasEagerState=!0,v.eagerState=R,Sr(R,E)){var T=s.interleaved;T===null?(v.next=v,fu(s)):(v.next=T.next,T.next=v),s.interleaved=v;return}}catch{}finally{}l=hp(r,s,v,f),l!==null&&(v=Lt(),Nr(l,r,f,v),Mp(l,s,f))}}function Lp(r){var s=r.alternate;return r===Ze||s!==null&&s===Ze}function $p(r,s){ki=Va=!0;var l=r.pending;l===null?s.next=s:(s.next=l.next,l.next=s),r.pending=s}function Mp(r,s,l){if((l&4194240)!==0){var f=s.lanes;f&=r.pendingLanes,l|=f,s.lanes=l,Cc(r,l)}}var qa={readContext:mr,useCallback:Nt,useContext:Nt,useEffect:Nt,useImperativeHandle:Nt,useInsertionEffect:Nt,useLayoutEffect:Nt,useMemo:Nt,useReducer:Nt,useRef:Nt,useState:Nt,useDebugValue:Nt,useDeferredValue:Nt,useTransition:Nt,useMutableSource:Nt,useSyncExternalStore:Nt,useId:Nt,unstable_isNewReconciler:!1},Ob={readContext:mr,useCallback:function(r,s){return zr().memoizedState=[r,s===void 0?null:s],r},useContext:mr,useEffect:Cp,useImperativeHandle:function(r,s,l){return l=l!=null?l.concat([r]):null,Wa(4194308,4,Tp.bind(null,s,r),l)},useLayoutEffect:function(r,s){return Wa(4194308,4,r,s)},useInsertionEffect:function(r,s){return Wa(4,2,r,s)},useMemo:function(r,s){var l=zr();return s=s===void 0?null:s,r=r(),l.memoizedState=[r,s],r},useReducer:function(r,s,l){var f=zr();return s=l!==void 0?l(s):s,f.memoizedState=f.baseState=s,r={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:r,lastRenderedState:s},f.queue=r,r=r.dispatch=Pb.bind(null,Ze,r),[f.memoizedState,r]},useRef:function(r){var s=zr();return r={current:r},s.memoizedState=r},useState:Ep,useDebugValue:Eu,useDeferredValue:function(r){return zr().memoizedState=r},useTransition:function(){var r=Ep(!1),s=r[0];return r=Tb.bind(null,r[1]),zr().memoizedState=r,[s,r]},useMutableSource:function(){},useSyncExternalStore:function(r,s,l){var f=Ze,v=zr();if(Qe){if(l===void 0)throw Error(n(407));l=l()}else{if(l=s(),wt===null)throw Error(n(349));(ws&30)!==0||xp(f,s,l)}v.memoizedState=l;var y={value:l,getSnapshot:s};return v.queue=y,Cp(_p.bind(null,f,y,r),[r]),f.flags|=2048,Ri(9,bp.bind(null,f,y,l,s),void 0,null),l},useId:function(){var r=zr(),s=wt.identifierPrefix;if(Qe){var l=an,f=on;l=(f&~(1<<32-_r(f)-1)).toString(32)+l,s=":"+s+"R"+l,l=Ci++,0<l&&(s+="H"+l.toString(32)),s+=":"}else l=Rb++,s=":"+s+"r"+l.toString(32)+":";return r.memoizedState=s},unstable_isNewReconciler:!1},Ib={readContext:mr,useCallback:Ap,useContext:mr,useEffect:ju,useImperativeHandle:Pp,useInsertionEffect:Np,useLayoutEffect:Rp,useMemo:Op,useReducer:_u,useRef:kp,useState:function(){return _u(Ni)},useDebugValue:Eu,useDeferredValue:function(r){var s=gr();return Ip(s,ht.memoizedState,r)},useTransition:function(){var r=_u(Ni)[0],s=gr().memoizedState;return[r,s]},useMutableSource:yp,useSyncExternalStore:wp,useId:Dp,unstable_isNewReconciler:!1},Db={readContext:mr,useCallback:Ap,useContext:mr,useEffect:ju,useImperativeHandle:Pp,useInsertionEffect:Np,useLayoutEffect:Rp,useMemo:Op,useReducer:Su,useRef:kp,useState:function(){return Su(Ni)},useDebugValue:Eu,useDeferredValue:function(r){var s=gr();return ht===null?s.memoizedState=r:Ip(s,ht.memoizedState,r)},useTransition:function(){var r=Su(Ni)[0],s=gr().memoizedState;return[r,s]},useMutableSource:yp,useSyncExternalStore:wp,useId:Dp,unstable_isNewReconciler:!1};function Er(r,s){if(r&&r.defaultProps){s=K({},s),r=r.defaultProps;for(var l in r)s[l]===void 0&&(s[l]=r[l]);return s}return s}function ku(r,s,l,f){s=r.memoizedState,l=l(f,s),l=l==null?s:K({},s,l),r.memoizedState=l,r.lanes===0&&(r.updateQueue.baseState=l)}var Ka={isMounted:function(r){return(r=r._reactInternals)?fs(r)===r:!1},enqueueSetState:function(r,s,l){r=r._reactInternals;var f=Lt(),v=Vn(r),y=cn(f,v);y.payload=s,l!=null&&(y.callback=l),s=Fn(r,y,v),s!==null&&(Nr(s,r,v,f),Fa(s,r,v))},enqueueReplaceState:function(r,s,l){r=r._reactInternals;var f=Lt(),v=Vn(r),y=cn(f,v);y.tag=1,y.payload=s,l!=null&&(y.callback=l),s=Fn(r,y,v),s!==null&&(Nr(s,r,v,f),Fa(s,r,v))},enqueueForceUpdate:function(r,s){r=r._reactInternals;var l=Lt(),f=Vn(r),v=cn(l,f);v.tag=2,s!=null&&(v.callback=s),s=Fn(r,v,f),s!==null&&(Nr(s,r,f,l),Fa(s,r,f))}};function Fp(r,s,l,f,v,y,E){return r=r.stateNode,typeof r.shouldComponentUpdate=="function"?r.shouldComponentUpdate(f,y,E):s.prototype&&s.prototype.isPureReactComponent?!mi(l,f)||!mi(v,y):!0}function Up(r,s,l){var f=!1,v=Ln,y=s.contextType;return typeof y=="object"&&y!==null?y=mr(y):(v=Ut(s)?ps:Ct.current,f=s.contextTypes,y=(f=f!=null)?Zs(r,v):Ln),s=new s(l,y),r.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,s.updater=Ka,r.stateNode=s,s._reactInternals=r,f&&(r=r.stateNode,r.__reactInternalMemoizedUnmaskedChildContext=v,r.__reactInternalMemoizedMaskedChildContext=y),s}function zp(r,s,l,f){r=s.state,typeof s.componentWillReceiveProps=="function"&&s.componentWillReceiveProps(l,f),typeof s.UNSAFE_componentWillReceiveProps=="function"&&s.UNSAFE_componentWillReceiveProps(l,f),s.state!==r&&Ka.enqueueReplaceState(s,s.state,null)}function Cu(r,s,l,f){var v=r.stateNode;v.props=l,v.state=r.memoizedState,v.refs={},hu(r);var y=s.contextType;typeof y=="object"&&y!==null?v.context=mr(y):(y=Ut(s)?ps:Ct.current,v.context=Zs(r,y)),v.state=r.memoizedState,y=s.getDerivedStateFromProps,typeof y=="function"&&(ku(r,s,y,l),v.state=r.memoizedState),typeof s.getDerivedStateFromProps=="function"||typeof v.getSnapshotBeforeUpdate=="function"||typeof v.UNSAFE_componentWillMount!="function"&&typeof v.componentWillMount!="function"||(s=v.state,typeof v.componentWillMount=="function"&&v.componentWillMount(),typeof v.UNSAFE_componentWillMount=="function"&&v.UNSAFE_componentWillMount(),s!==v.state&&Ka.enqueueReplaceState(v,v.state,null),Ua(r,l,v,f),v.state=r.memoizedState),typeof v.componentDidMount=="function"&&(r.flags|=4194308)}function ao(r,s){try{var l="",f=s;do l+=oe(f),f=f.return;while(f);var v=l}catch(y){v=`
Error generating stack: `+y.message+`
`+y.stack}return{value:r,source:s,stack:v,digest:null}}function Nu(r,s,l){return{value:r,source:null,stack:l??null,digest:s??null}}function Ru(r,s){try{console.error(s.value)}catch(l){setTimeout(function(){throw l})}}var Lb=typeof WeakMap=="function"?WeakMap:Map;function Bp(r,s,l){l=cn(-1,l),l.tag=3,l.payload={element:null};var f=s.value;return l.callback=function(){el||(el=!0,Wu=f),Ru(r,s)},l}function Vp(r,s,l){l=cn(-1,l),l.tag=3;var f=r.type.getDerivedStateFromError;if(typeof f=="function"){var v=s.value;l.payload=function(){return f(v)},l.callback=function(){Ru(r,s)}}var y=r.stateNode;return y!==null&&typeof y.componentDidCatch=="function"&&(l.callback=function(){Ru(r,s),typeof f!="function"&&(zn===null?zn=new Set([this]):zn.add(this));var E=s.stack;this.componentDidCatch(s.value,{componentStack:E!==null?E:""})}),l}function Wp(r,s,l){var f=r.pingCache;if(f===null){f=r.pingCache=new Lb;var v=new Set;f.set(s,v)}else v=f.get(s),v===void 0&&(v=new Set,f.set(s,v));v.has(l)||(v.add(l),r=Jb.bind(null,r,s,l),s.then(r,r))}function Hp(r){do{var s;if((s=r.tag===13)&&(s=r.memoizedState,s=s!==null?s.dehydrated!==null:!0),s)return r;r=r.return}while(r!==null);return null}function qp(r,s,l,f,v){return(r.mode&1)===0?(r===s?r.flags|=65536:(r.flags|=128,l.flags|=131072,l.flags&=-52805,l.tag===1&&(l.alternate===null?l.tag=17:(s=cn(-1,1),s.tag=2,Fn(l,s,1))),l.lanes|=1),r):(r.flags|=65536,r.lanes=v,r)}var $b=P.ReactCurrentOwner,zt=!1;function Dt(r,s,l,f){s.child=r===null?fp(s,null,l,f):no(s,r.child,l,f)}function Kp(r,s,l,f,v){l=l.render;var y=s.ref;return oo(s,v),f=xu(r,s,l,f,y,v),l=bu(),r!==null&&!zt?(s.updateQueue=r.updateQueue,s.flags&=-2053,r.lanes&=~v,un(r,s,v)):(Qe&&l&&nu(s),s.flags|=1,Dt(r,s,f,v),s.child)}function Gp(r,s,l,f,v){if(r===null){var y=l.type;return typeof y=="function"&&!Qu(y)&&y.defaultProps===void 0&&l.compare===null&&l.defaultProps===void 0?(s.tag=15,s.type=y,Yp(r,s,y,f,v)):(r=il(l.type,null,f,s,s.mode,v),r.ref=s.ref,r.return=s,s.child=r)}if(y=r.child,(r.lanes&v)===0){var E=y.memoizedProps;if(l=l.compare,l=l!==null?l:mi,l(E,f)&&r.ref===s.ref)return un(r,s,v)}return s.flags|=1,r=Hn(y,f),r.ref=s.ref,r.return=s,s.child=r}function Yp(r,s,l,f,v){if(r!==null){var y=r.memoizedProps;if(mi(y,f)&&r.ref===s.ref)if(zt=!1,s.pendingProps=f=y,(r.lanes&v)!==0)(r.flags&131072)!==0&&(zt=!0);else return s.lanes=r.lanes,un(r,s,v)}return Tu(r,s,l,f,v)}function Jp(r,s,l){var f=s.pendingProps,v=f.children,y=r!==null?r.memoizedState:null;if(f.mode==="hidden")if((s.mode&1)===0)s.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ke(co,rr),rr|=l;else{if((l&1073741824)===0)return r=y!==null?y.baseLanes|l:l,s.lanes=s.childLanes=1073741824,s.memoizedState={baseLanes:r,cachePool:null,transitions:null},s.updateQueue=null,Ke(co,rr),rr|=r,null;s.memoizedState={baseLanes:0,cachePool:null,transitions:null},f=y!==null?y.baseLanes:l,Ke(co,rr),rr|=f}else y!==null?(f=y.baseLanes|l,s.memoizedState=null):f=l,Ke(co,rr),rr|=f;return Dt(r,s,v,l),s.child}function Qp(r,s){var l=s.ref;(r===null&&l!==null||r!==null&&r.ref!==l)&&(s.flags|=512,s.flags|=2097152)}function Tu(r,s,l,f,v){var y=Ut(l)?ps:Ct.current;return y=Zs(s,y),oo(s,v),l=xu(r,s,l,f,y,v),f=bu(),r!==null&&!zt?(s.updateQueue=r.updateQueue,s.flags&=-2053,r.lanes&=~v,un(r,s,v)):(Qe&&f&&nu(s),s.flags|=1,Dt(r,s,l,v),s.child)}function Xp(r,s,l,f,v){if(Ut(l)){var y=!0;Pa(s)}else y=!1;if(oo(s,v),s.stateNode===null)Ya(r,s),Up(s,l,f),Cu(s,l,f,v),f=!0;else if(r===null){var E=s.stateNode,R=s.memoizedProps;E.props=R;var T=E.context,U=l.contextType;typeof U=="object"&&U!==null?U=mr(U):(U=Ut(l)?ps:Ct.current,U=Zs(s,U));var Y=l.getDerivedStateFromProps,X=typeof Y=="function"||typeof E.getSnapshotBeforeUpdate=="function";X||typeof E.UNSAFE_componentWillReceiveProps!="function"&&typeof E.componentWillReceiveProps!="function"||(R!==f||T!==U)&&zp(s,E,f,U),Mn=!1;var G=s.memoizedState;E.state=G,Ua(s,f,E,v),T=s.memoizedState,R!==f||G!==T||Ft.current||Mn?(typeof Y=="function"&&(ku(s,l,Y,f),T=s.memoizedState),(R=Mn||Fp(s,l,R,f,G,T,U))?(X||typeof E.UNSAFE_componentWillMount!="function"&&typeof E.componentWillMount!="function"||(typeof E.componentWillMount=="function"&&E.componentWillMount(),typeof E.UNSAFE_componentWillMount=="function"&&E.UNSAFE_componentWillMount()),typeof E.componentDidMount=="function"&&(s.flags|=4194308)):(typeof E.componentDidMount=="function"&&(s.flags|=4194308),s.memoizedProps=f,s.memoizedState=T),E.props=f,E.state=T,E.context=U,f=R):(typeof E.componentDidMount=="function"&&(s.flags|=4194308),f=!1)}else{E=s.stateNode,pp(r,s),R=s.memoizedProps,U=s.type===s.elementType?R:Er(s.type,R),E.props=U,X=s.pendingProps,G=E.context,T=l.contextType,typeof T=="object"&&T!==null?T=mr(T):(T=Ut(l)?ps:Ct.current,T=Zs(s,T));var ae=l.getDerivedStateFromProps;(Y=typeof ae=="function"||typeof E.getSnapshotBeforeUpdate=="function")||typeof E.UNSAFE_componentWillReceiveProps!="function"&&typeof E.componentWillReceiveProps!="function"||(R!==X||G!==T)&&zp(s,E,f,T),Mn=!1,G=s.memoizedState,E.state=G,Ua(s,f,E,v);var de=s.memoizedState;R!==X||G!==de||Ft.current||Mn?(typeof ae=="function"&&(ku(s,l,ae,f),de=s.memoizedState),(U=Mn||Fp(s,l,U,f,G,de,T)||!1)?(Y||typeof E.UNSAFE_componentWillUpdate!="function"&&typeof E.componentWillUpdate!="function"||(typeof E.componentWillUpdate=="function"&&E.componentWillUpdate(f,de,T),typeof E.UNSAFE_componentWillUpdate=="function"&&E.UNSAFE_componentWillUpdate(f,de,T)),typeof E.componentDidUpdate=="function"&&(s.flags|=4),typeof E.getSnapshotBeforeUpdate=="function"&&(s.flags|=1024)):(typeof E.componentDidUpdate!="function"||R===r.memoizedProps&&G===r.memoizedState||(s.flags|=4),typeof E.getSnapshotBeforeUpdate!="function"||R===r.memoizedProps&&G===r.memoizedState||(s.flags|=1024),s.memoizedProps=f,s.memoizedState=de),E.props=f,E.state=de,E.context=T,f=U):(typeof E.componentDidUpdate!="function"||R===r.memoizedProps&&G===r.memoizedState||(s.flags|=4),typeof E.getSnapshotBeforeUpdate!="function"||R===r.memoizedProps&&G===r.memoizedState||(s.flags|=1024),f=!1)}return Pu(r,s,l,f,y,v)}function Pu(r,s,l,f,v,y){Qp(r,s);var E=(s.flags&128)!==0;if(!f&&!E)return v&&np(s,l,!1),un(r,s,y);f=s.stateNode,$b.current=s;var R=E&&typeof l.getDerivedStateFromError!="function"?null:f.render();return s.flags|=1,r!==null&&E?(s.child=no(s,r.child,null,y),s.child=no(s,null,R,y)):Dt(r,s,R,y),s.memoizedState=f.state,v&&np(s,l,!0),s.child}function Zp(r){var s=r.stateNode;s.pendingContext?tp(r,s.pendingContext,s.pendingContext!==s.context):s.context&&tp(r,s.context,!1),pu(r,s.containerInfo)}function em(r,s,l,f,v){return ro(),au(v),s.flags|=256,Dt(r,s,l,f),s.child}var Au={dehydrated:null,treeContext:null,retryLane:0};function Ou(r){return{baseLanes:r,cachePool:null,transitions:null}}function tm(r,s,l){var f=s.pendingProps,v=Xe.current,y=!1,E=(s.flags&128)!==0,R;if((R=E)||(R=r!==null&&r.memoizedState===null?!1:(v&2)!==0),R?(y=!0,s.flags&=-129):(r===null||r.memoizedState!==null)&&(v|=1),Ke(Xe,v&1),r===null)return iu(s),r=s.memoizedState,r!==null&&(r=r.dehydrated,r!==null)?((s.mode&1)===0?s.lanes=1:r.data==="$!"?s.lanes=8:s.lanes=1073741824,null):(E=f.children,r=f.fallback,y?(f=s.mode,y=s.child,E={mode:"hidden",children:E},(f&1)===0&&y!==null?(y.childLanes=0,y.pendingProps=E):y=al(E,f,0,null),r=js(r,f,l,null),y.return=s,r.return=s,y.sibling=r,s.child=y,s.child.memoizedState=Ou(l),s.memoizedState=Au,r):Iu(s,E));if(v=r.memoizedState,v!==null&&(R=v.dehydrated,R!==null))return Mb(r,s,E,f,R,v,l);if(y){y=f.fallback,E=s.mode,v=r.child,R=v.sibling;var T={mode:"hidden",children:f.children};return(E&1)===0&&s.child!==v?(f=s.child,f.childLanes=0,f.pendingProps=T,s.deletions=null):(f=Hn(v,T),f.subtreeFlags=v.subtreeFlags&14680064),R!==null?y=Hn(R,y):(y=js(y,E,l,null),y.flags|=2),y.return=s,f.return=s,f.sibling=y,s.child=f,f=y,y=s.child,E=r.child.memoizedState,E=E===null?Ou(l):{baseLanes:E.baseLanes|l,cachePool:null,transitions:E.transitions},y.memoizedState=E,y.childLanes=r.childLanes&~l,s.memoizedState=Au,f}return y=r.child,r=y.sibling,f=Hn(y,{mode:"visible",children:f.children}),(s.mode&1)===0&&(f.lanes=l),f.return=s,f.sibling=null,r!==null&&(l=s.deletions,l===null?(s.deletions=[r],s.flags|=16):l.push(r)),s.child=f,s.memoizedState=null,f}function Iu(r,s){return s=al({mode:"visible",children:s},r.mode,0,null),s.return=r,r.child=s}function Ga(r,s,l,f){return f!==null&&au(f),no(s,r.child,null,l),r=Iu(s,s.pendingProps.children),r.flags|=2,s.memoizedState=null,r}function Mb(r,s,l,f,v,y,E){if(l)return s.flags&256?(s.flags&=-257,f=Nu(Error(n(422))),Ga(r,s,E,f)):s.memoizedState!==null?(s.child=r.child,s.flags|=128,null):(y=f.fallback,v=s.mode,f=al({mode:"visible",children:f.children},v,0,null),y=js(y,v,E,null),y.flags|=2,f.return=s,y.return=s,f.sibling=y,s.child=f,(s.mode&1)!==0&&no(s,r.child,null,E),s.child.memoizedState=Ou(E),s.memoizedState=Au,y);if((s.mode&1)===0)return Ga(r,s,E,null);if(v.data==="$!"){if(f=v.nextSibling&&v.nextSibling.dataset,f)var R=f.dgst;return f=R,y=Error(n(419)),f=Nu(y,f,void 0),Ga(r,s,E,f)}if(R=(E&r.childLanes)!==0,zt||R){if(f=wt,f!==null){switch(E&-E){case 4:v=2;break;case 16:v=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:v=32;break;case 536870912:v=268435456;break;default:v=0}v=(v&(f.suspendedLanes|E))!==0?0:v,v!==0&&v!==y.retryLane&&(y.retryLane=v,ln(r,v),Nr(f,r,v,-1))}return Ju(),f=Nu(Error(n(421))),Ga(r,s,E,f)}return v.data==="$?"?(s.flags|=128,s.child=r.child,s=Qb.bind(null,r),v._reactRetry=s,null):(r=y.treeContext,tr=In(v.nextSibling),er=s,Qe=!0,jr=null,r!==null&&(hr[pr++]=on,hr[pr++]=an,hr[pr++]=ms,on=r.id,an=r.overflow,ms=s),s=Iu(s,f.children),s.flags|=4096,s)}function rm(r,s,l){r.lanes|=s;var f=r.alternate;f!==null&&(f.lanes|=s),du(r.return,s,l)}function Du(r,s,l,f,v){var y=r.memoizedState;y===null?r.memoizedState={isBackwards:s,rendering:null,renderingStartTime:0,last:f,tail:l,tailMode:v}:(y.isBackwards=s,y.rendering=null,y.renderingStartTime=0,y.last=f,y.tail=l,y.tailMode=v)}function nm(r,s,l){var f=s.pendingProps,v=f.revealOrder,y=f.tail;if(Dt(r,s,f.children,l),f=Xe.current,(f&2)!==0)f=f&1|2,s.flags|=128;else{if(r!==null&&(r.flags&128)!==0)e:for(r=s.child;r!==null;){if(r.tag===13)r.memoizedState!==null&&rm(r,l,s);else if(r.tag===19)rm(r,l,s);else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===s)break e;for(;r.sibling===null;){if(r.return===null||r.return===s)break e;r=r.return}r.sibling.return=r.return,r=r.sibling}f&=1}if(Ke(Xe,f),(s.mode&1)===0)s.memoizedState=null;else switch(v){case"forwards":for(l=s.child,v=null;l!==null;)r=l.alternate,r!==null&&za(r)===null&&(v=l),l=l.sibling;l=v,l===null?(v=s.child,s.child=null):(v=l.sibling,l.sibling=null),Du(s,!1,v,l,y);break;case"backwards":for(l=null,v=s.child,s.child=null;v!==null;){if(r=v.alternate,r!==null&&za(r)===null){s.child=v;break}r=v.sibling,v.sibling=l,l=v,v=r}Du(s,!0,l,null,y);break;case"together":Du(s,!1,null,null,void 0);break;default:s.memoizedState=null}return s.child}function Ya(r,s){(s.mode&1)===0&&r!==null&&(r.alternate=null,s.alternate=null,s.flags|=2)}function un(r,s,l){if(r!==null&&(s.dependencies=r.dependencies),xs|=s.lanes,(l&s.childLanes)===0)return null;if(r!==null&&s.child!==r.child)throw Error(n(153));if(s.child!==null){for(r=s.child,l=Hn(r,r.pendingProps),s.child=l,l.return=s;r.sibling!==null;)r=r.sibling,l=l.sibling=Hn(r,r.pendingProps),l.return=s;l.sibling=null}return s.child}function Fb(r,s,l){switch(s.tag){case 3:Zp(s),ro();break;case 5:vp(s);break;case 1:Ut(s.type)&&Pa(s);break;case 4:pu(s,s.stateNode.containerInfo);break;case 10:var f=s.type._context,v=s.memoizedProps.value;Ke($a,f._currentValue),f._currentValue=v;break;case 13:if(f=s.memoizedState,f!==null)return f.dehydrated!==null?(Ke(Xe,Xe.current&1),s.flags|=128,null):(l&s.child.childLanes)!==0?tm(r,s,l):(Ke(Xe,Xe.current&1),r=un(r,s,l),r!==null?r.sibling:null);Ke(Xe,Xe.current&1);break;case 19:if(f=(l&s.childLanes)!==0,(r.flags&128)!==0){if(f)return nm(r,s,l);s.flags|=128}if(v=s.memoizedState,v!==null&&(v.rendering=null,v.tail=null,v.lastEffect=null),Ke(Xe,Xe.current),f)break;return null;case 22:case 23:return s.lanes=0,Jp(r,s,l)}return un(r,s,l)}var sm,Lu,om,im;sm=function(r,s){for(var l=s.child;l!==null;){if(l.tag===5||l.tag===6)r.appendChild(l.stateNode);else if(l.tag!==4&&l.child!==null){l.child.return=l,l=l.child;continue}if(l===s)break;for(;l.sibling===null;){if(l.return===null||l.return===s)return;l=l.return}l.sibling.return=l.return,l=l.sibling}},Lu=function(){},om=function(r,s,l,f){var v=r.memoizedProps;if(v!==f){r=s.stateNode,ys(Ur.current);var y=null;switch(l){case"input":v=It(r,v),f=It(r,f),y=[];break;case"select":v=K({},v,{value:void 0}),f=K({},f,{value:void 0}),y=[];break;case"textarea":v=bt(r,v),f=bt(r,f),y=[];break;default:typeof v.onClick!="function"&&typeof f.onClick=="function"&&(r.onclick=Na)}Vs(l,f);var E;l=null;for(U in v)if(!f.hasOwnProperty(U)&&v.hasOwnProperty(U)&&v[U]!=null)if(U==="style"){var R=v[U];for(E in R)R.hasOwnProperty(E)&&(l||(l={}),l[E]="")}else U!=="dangerouslySetInnerHTML"&&U!=="children"&&U!=="suppressContentEditableWarning"&&U!=="suppressHydrationWarning"&&U!=="autoFocus"&&(i.hasOwnProperty(U)?y||(y=[]):(y=y||[]).push(U,null));for(U in f){var T=f[U];if(R=v?.[U],f.hasOwnProperty(U)&&T!==R&&(T!=null||R!=null))if(U==="style")if(R){for(E in R)!R.hasOwnProperty(E)||T&&T.hasOwnProperty(E)||(l||(l={}),l[E]="");for(E in T)T.hasOwnProperty(E)&&R[E]!==T[E]&&(l||(l={}),l[E]=T[E])}else l||(y||(y=[]),y.push(U,l)),l=T;else U==="dangerouslySetInnerHTML"?(T=T?T.__html:void 0,R=R?R.__html:void 0,T!=null&&R!==T&&(y=y||[]).push(U,T)):U==="children"?typeof T!="string"&&typeof T!="number"||(y=y||[]).push(U,""+T):U!=="suppressContentEditableWarning"&&U!=="suppressHydrationWarning"&&(i.hasOwnProperty(U)?(T!=null&&U==="onScroll"&&Ye("scroll",r),y||R===T||(y=[])):(y=y||[]).push(U,T))}l&&(y=y||[]).push("style",l);var U=y;(s.updateQueue=U)&&(s.flags|=4)}},im=function(r,s,l,f){l!==f&&(s.flags|=4)};function Ti(r,s){if(!Qe)switch(r.tailMode){case"hidden":s=r.tail;for(var l=null;s!==null;)s.alternate!==null&&(l=s),s=s.sibling;l===null?r.tail=null:l.sibling=null;break;case"collapsed":l=r.tail;for(var f=null;l!==null;)l.alternate!==null&&(f=l),l=l.sibling;f===null?s||r.tail===null?r.tail=null:r.tail.sibling=null:f.sibling=null}}function Rt(r){var s=r.alternate!==null&&r.alternate.child===r.child,l=0,f=0;if(s)for(var v=r.child;v!==null;)l|=v.lanes|v.childLanes,f|=v.subtreeFlags&14680064,f|=v.flags&14680064,v.return=r,v=v.sibling;else for(v=r.child;v!==null;)l|=v.lanes|v.childLanes,f|=v.subtreeFlags,f|=v.flags,v.return=r,v=v.sibling;return r.subtreeFlags|=f,r.childLanes=l,s}function Ub(r,s,l){var f=s.pendingProps;switch(su(s),s.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Rt(s),null;case 1:return Ut(s.type)&&Ta(),Rt(s),null;case 3:return f=s.stateNode,io(),Je(Ft),Je(Ct),vu(),f.pendingContext&&(f.context=f.pendingContext,f.pendingContext=null),(r===null||r.child===null)&&(Da(s)?s.flags|=4:r===null||r.memoizedState.isDehydrated&&(s.flags&256)===0||(s.flags|=1024,jr!==null&&(Ku(jr),jr=null))),Lu(r,s),Rt(s),null;case 5:mu(s);var v=ys(Ei.current);if(l=s.type,r!==null&&s.stateNode!=null)om(r,s,l,f,v),r.ref!==s.ref&&(s.flags|=512,s.flags|=2097152);else{if(!f){if(s.stateNode===null)throw Error(n(166));return Rt(s),null}if(r=ys(Ur.current),Da(s)){f=s.stateNode,l=s.type;var y=s.memoizedProps;switch(f[Fr]=s,f[xi]=y,r=(s.mode&1)!==0,l){case"dialog":Ye("cancel",f),Ye("close",f);break;case"iframe":case"object":case"embed":Ye("load",f);break;case"video":case"audio":for(v=0;v<vi.length;v++)Ye(vi[v],f);break;case"source":Ye("error",f);break;case"img":case"image":case"link":Ye("error",f),Ye("load",f);break;case"details":Ye("toggle",f);break;case"input":xn(f,y),Ye("invalid",f);break;case"select":f._wrapperState={wasMultiple:!!y.multiple},Ye("invalid",f);break;case"textarea":tn(f,y),Ye("invalid",f)}Vs(l,y),v=null;for(var E in y)if(y.hasOwnProperty(E)){var R=y[E];E==="children"?typeof R=="string"?f.textContent!==R&&(y.suppressHydrationWarning!==!0&&Ca(f.textContent,R,r),v=["children",R]):typeof R=="number"&&f.textContent!==""+R&&(y.suppressHydrationWarning!==!0&&Ca(f.textContent,R,r),v=["children",""+R]):i.hasOwnProperty(E)&&R!=null&&E==="onScroll"&&Ye("scroll",f)}switch(l){case"input":Ie(f),Qo(f,y,!0);break;case"textarea":Ie(f),oa(f);break;case"select":case"option":break;default:typeof y.onClick=="function"&&(f.onclick=Na)}f=v,s.updateQueue=f,f!==null&&(s.flags|=4)}else{E=v.nodeType===9?v:v.ownerDocument,r==="http://www.w3.org/1999/xhtml"&&(r=cs(l)),r==="http://www.w3.org/1999/xhtml"?l==="script"?(r=E.createElement("div"),r.innerHTML="<script><\/script>",r=r.removeChild(r.firstChild)):typeof f.is=="string"?r=E.createElement(l,{is:f.is}):(r=E.createElement(l),l==="select"&&(E=r,f.multiple?E.multiple=!0:f.size&&(E.size=f.size))):r=E.createElementNS(r,l),r[Fr]=s,r[xi]=f,sm(r,s,!1,!1),s.stateNode=r;e:{switch(E=Zo(l,f),l){case"dialog":Ye("cancel",r),Ye("close",r),v=f;break;case"iframe":case"object":case"embed":Ye("load",r),v=f;break;case"video":case"audio":for(v=0;v<vi.length;v++)Ye(vi[v],r);v=f;break;case"source":Ye("error",r),v=f;break;case"img":case"image":case"link":Ye("error",r),Ye("load",r),v=f;break;case"details":Ye("toggle",r),v=f;break;case"input":xn(r,f),v=It(r,f),Ye("invalid",r);break;case"option":v=f;break;case"select":r._wrapperState={wasMultiple:!!f.multiple},v=K({},f,{value:void 0}),Ye("invalid",r);break;case"textarea":tn(r,f),v=bt(r,f),Ye("invalid",r);break;default:v=f}Vs(l,v),R=v;for(y in R)if(R.hasOwnProperty(y)){var T=R[y];y==="style"?aa(r,T):y==="dangerouslySetInnerHTML"?(T=T?T.__html:void 0,T!=null&&Bs(r,T)):y==="children"?typeof T=="string"?(l!=="textarea"||T!=="")&&ur(r,T):typeof T=="number"&&ur(r,""+T):y!=="suppressContentEditableWarning"&&y!=="suppressHydrationWarning"&&y!=="autoFocus"&&(i.hasOwnProperty(y)?T!=null&&y==="onScroll"&&Ye("scroll",r):T!=null&&N(r,y,T,E))}switch(l){case"input":Ie(r),Qo(r,f,!1);break;case"textarea":Ie(r),oa(r);break;case"option":f.value!=null&&r.setAttribute("value",""+re(f.value));break;case"select":r.multiple=!!f.multiple,y=f.value,y!=null?bn(r,!!f.multiple,y,!1):f.defaultValue!=null&&bn(r,!!f.multiple,f.defaultValue,!0);break;default:typeof v.onClick=="function"&&(r.onclick=Na)}switch(l){case"button":case"input":case"select":case"textarea":f=!!f.autoFocus;break e;case"img":f=!0;break e;default:f=!1}}f&&(s.flags|=4)}s.ref!==null&&(s.flags|=512,s.flags|=2097152)}return Rt(s),null;case 6:if(r&&s.stateNode!=null)im(r,s,r.memoizedProps,f);else{if(typeof f!="string"&&s.stateNode===null)throw Error(n(166));if(l=ys(Ei.current),ys(Ur.current),Da(s)){if(f=s.stateNode,l=s.memoizedProps,f[Fr]=s,(y=f.nodeValue!==l)&&(r=er,r!==null))switch(r.tag){case 3:Ca(f.nodeValue,l,(r.mode&1)!==0);break;case 5:r.memoizedProps.suppressHydrationWarning!==!0&&Ca(f.nodeValue,l,(r.mode&1)!==0)}y&&(s.flags|=4)}else f=(l.nodeType===9?l:l.ownerDocument).createTextNode(f),f[Fr]=s,s.stateNode=f}return Rt(s),null;case 13:if(Je(Xe),f=s.memoizedState,r===null||r.memoizedState!==null&&r.memoizedState.dehydrated!==null){if(Qe&&tr!==null&&(s.mode&1)!==0&&(s.flags&128)===0)cp(),ro(),s.flags|=98560,y=!1;else if(y=Da(s),f!==null&&f.dehydrated!==null){if(r===null){if(!y)throw Error(n(318));if(y=s.memoizedState,y=y!==null?y.dehydrated:null,!y)throw Error(n(317));y[Fr]=s}else ro(),(s.flags&128)===0&&(s.memoizedState=null),s.flags|=4;Rt(s),y=!1}else jr!==null&&(Ku(jr),jr=null),y=!0;if(!y)return s.flags&65536?s:null}return(s.flags&128)!==0?(s.lanes=l,s):(f=f!==null,f!==(r!==null&&r.memoizedState!==null)&&f&&(s.child.flags|=8192,(s.mode&1)!==0&&(r===null||(Xe.current&1)!==0?pt===0&&(pt=3):Ju())),s.updateQueue!==null&&(s.flags|=4),Rt(s),null);case 4:return io(),Lu(r,s),r===null&&yi(s.stateNode.containerInfo),Rt(s),null;case 10:return uu(s.type._context),Rt(s),null;case 17:return Ut(s.type)&&Ta(),Rt(s),null;case 19:if(Je(Xe),y=s.memoizedState,y===null)return Rt(s),null;if(f=(s.flags&128)!==0,E=y.rendering,E===null)if(f)Ti(y,!1);else{if(pt!==0||r!==null&&(r.flags&128)!==0)for(r=s.child;r!==null;){if(E=za(r),E!==null){for(s.flags|=128,Ti(y,!1),f=E.updateQueue,f!==null&&(s.updateQueue=f,s.flags|=4),s.subtreeFlags=0,f=l,l=s.child;l!==null;)y=l,r=f,y.flags&=14680066,E=y.alternate,E===null?(y.childLanes=0,y.lanes=r,y.child=null,y.subtreeFlags=0,y.memoizedProps=null,y.memoizedState=null,y.updateQueue=null,y.dependencies=null,y.stateNode=null):(y.childLanes=E.childLanes,y.lanes=E.lanes,y.child=E.child,y.subtreeFlags=0,y.deletions=null,y.memoizedProps=E.memoizedProps,y.memoizedState=E.memoizedState,y.updateQueue=E.updateQueue,y.type=E.type,r=E.dependencies,y.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext}),l=l.sibling;return Ke(Xe,Xe.current&1|2),s.child}r=r.sibling}y.tail!==null&&st()>uo&&(s.flags|=128,f=!0,Ti(y,!1),s.lanes=4194304)}else{if(!f)if(r=za(E),r!==null){if(s.flags|=128,f=!0,l=r.updateQueue,l!==null&&(s.updateQueue=l,s.flags|=4),Ti(y,!0),y.tail===null&&y.tailMode==="hidden"&&!E.alternate&&!Qe)return Rt(s),null}else 2*st()-y.renderingStartTime>uo&&l!==1073741824&&(s.flags|=128,f=!0,Ti(y,!1),s.lanes=4194304);y.isBackwards?(E.sibling=s.child,s.child=E):(l=y.last,l!==null?l.sibling=E:s.child=E,y.last=E)}return y.tail!==null?(s=y.tail,y.rendering=s,y.tail=s.sibling,y.renderingStartTime=st(),s.sibling=null,l=Xe.current,Ke(Xe,f?l&1|2:l&1),s):(Rt(s),null);case 22:case 23:return Yu(),f=s.memoizedState!==null,r!==null&&r.memoizedState!==null!==f&&(s.flags|=8192),f&&(s.mode&1)!==0?(rr&1073741824)!==0&&(Rt(s),s.subtreeFlags&6&&(s.flags|=8192)):Rt(s),null;case 24:return null;case 25:return null}throw Error(n(156,s.tag))}function zb(r,s){switch(su(s),s.tag){case 1:return Ut(s.type)&&Ta(),r=s.flags,r&65536?(s.flags=r&-65537|128,s):null;case 3:return io(),Je(Ft),Je(Ct),vu(),r=s.flags,(r&65536)!==0&&(r&128)===0?(s.flags=r&-65537|128,s):null;case 5:return mu(s),null;case 13:if(Je(Xe),r=s.memoizedState,r!==null&&r.dehydrated!==null){if(s.alternate===null)throw Error(n(340));ro()}return r=s.flags,r&65536?(s.flags=r&-65537|128,s):null;case 19:return Je(Xe),null;case 4:return io(),null;case 10:return uu(s.type._context),null;case 22:case 23:return Yu(),null;case 24:return null;default:return null}}var Ja=!1,Tt=!1,Bb=typeof WeakSet=="function"?WeakSet:Set,ce=null;function lo(r,s){var l=r.ref;if(l!==null)if(typeof l=="function")try{l(null)}catch(f){tt(r,s,f)}else l.current=null}function $u(r,s,l){try{l()}catch(f){tt(r,s,f)}}var am=!1;function Vb(r,s){if(Yc=ga,r=Fh(),zc(r)){if("selectionStart"in r)var l={start:r.selectionStart,end:r.selectionEnd};else e:{l=(l=r.ownerDocument)&&l.defaultView||window;var f=l.getSelection&&l.getSelection();if(f&&f.rangeCount!==0){l=f.anchorNode;var v=f.anchorOffset,y=f.focusNode;f=f.focusOffset;try{l.nodeType,y.nodeType}catch{l=null;break e}var E=0,R=-1,T=-1,U=0,Y=0,X=r,G=null;t:for(;;){for(var ae;X!==l||v!==0&&X.nodeType!==3||(R=E+v),X!==y||f!==0&&X.nodeType!==3||(T=E+f),X.nodeType===3&&(E+=X.nodeValue.length),(ae=X.firstChild)!==null;)G=X,X=ae;for(;;){if(X===r)break t;if(G===l&&++U===v&&(R=E),G===y&&++Y===f&&(T=E),(ae=X.nextSibling)!==null)break;X=G,G=X.parentNode}X=ae}l=R===-1||T===-1?null:{start:R,end:T}}else l=null}l=l||{start:0,end:0}}else l=null;for(Jc={focusedElem:r,selectionRange:l},ga=!1,ce=s;ce!==null;)if(s=ce,r=s.child,(s.subtreeFlags&1028)!==0&&r!==null)r.return=s,ce=r;else for(;ce!==null;){s=ce;try{var de=s.alternate;if((s.flags&1024)!==0)switch(s.tag){case 0:case 11:case 15:break;case 1:if(de!==null){var ve=de.memoizedProps,ot=de.memoizedState,L=s.stateNode,A=L.getSnapshotBeforeUpdate(s.elementType===s.type?ve:Er(s.type,ve),ot);L.__reactInternalSnapshotBeforeUpdate=A}break;case 3:var M=s.stateNode.containerInfo;M.nodeType===1?M.textContent="":M.nodeType===9&&M.documentElement&&M.removeChild(M.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(n(163))}}catch(ee){tt(s,s.return,ee)}if(r=s.sibling,r!==null){r.return=s.return,ce=r;break}ce=s.return}return de=am,am=!1,de}function Pi(r,s,l){var f=s.updateQueue;if(f=f!==null?f.lastEffect:null,f!==null){var v=f=f.next;do{if((v.tag&r)===r){var y=v.destroy;v.destroy=void 0,y!==void 0&&$u(s,l,y)}v=v.next}while(v!==f)}}function Qa(r,s){if(s=s.updateQueue,s=s!==null?s.lastEffect:null,s!==null){var l=s=s.next;do{if((l.tag&r)===r){var f=l.create;l.destroy=f()}l=l.next}while(l!==s)}}function Mu(r){var s=r.ref;if(s!==null){var l=r.stateNode;switch(r.tag){case 5:r=l;break;default:r=l}typeof s=="function"?s(r):s.current=r}}function lm(r){var s=r.alternate;s!==null&&(r.alternate=null,lm(s)),r.child=null,r.deletions=null,r.sibling=null,r.tag===5&&(s=r.stateNode,s!==null&&(delete s[Fr],delete s[xi],delete s[eu],delete s[Eb],delete s[kb])),r.stateNode=null,r.return=null,r.dependencies=null,r.memoizedProps=null,r.memoizedState=null,r.pendingProps=null,r.stateNode=null,r.updateQueue=null}function cm(r){return r.tag===5||r.tag===3||r.tag===4}function um(r){e:for(;;){for(;r.sibling===null;){if(r.return===null||cm(r.return))return null;r=r.return}for(r.sibling.return=r.return,r=r.sibling;r.tag!==5&&r.tag!==6&&r.tag!==18;){if(r.flags&2||r.child===null||r.tag===4)continue e;r.child.return=r,r=r.child}if(!(r.flags&2))return r.stateNode}}function Fu(r,s,l){var f=r.tag;if(f===5||f===6)r=r.stateNode,s?l.nodeType===8?l.parentNode.insertBefore(r,s):l.insertBefore(r,s):(l.nodeType===8?(s=l.parentNode,s.insertBefore(r,l)):(s=l,s.appendChild(r)),l=l._reactRootContainer,l!=null||s.onclick!==null||(s.onclick=Na));else if(f!==4&&(r=r.child,r!==null))for(Fu(r,s,l),r=r.sibling;r!==null;)Fu(r,s,l),r=r.sibling}function Uu(r,s,l){var f=r.tag;if(f===5||f===6)r=r.stateNode,s?l.insertBefore(r,s):l.appendChild(r);else if(f!==4&&(r=r.child,r!==null))for(Uu(r,s,l),r=r.sibling;r!==null;)Uu(r,s,l),r=r.sibling}var St=null,kr=!1;function Un(r,s,l){for(l=l.child;l!==null;)dm(r,s,l),l=l.sibling}function dm(r,s,l){if(Mr&&typeof Mr.onCommitFiberUnmount=="function")try{Mr.onCommitFiberUnmount(ua,l)}catch{}switch(l.tag){case 5:Tt||lo(l,s);case 6:var f=St,v=kr;St=null,Un(r,s,l),St=f,kr=v,St!==null&&(kr?(r=St,l=l.stateNode,r.nodeType===8?r.parentNode.removeChild(l):r.removeChild(l)):St.removeChild(l.stateNode));break;case 18:St!==null&&(kr?(r=St,l=l.stateNode,r.nodeType===8?Zc(r.parentNode,l):r.nodeType===1&&Zc(r,l),ci(r)):Zc(St,l.stateNode));break;case 4:f=St,v=kr,St=l.stateNode.containerInfo,kr=!0,Un(r,s,l),St=f,kr=v;break;case 0:case 11:case 14:case 15:if(!Tt&&(f=l.updateQueue,f!==null&&(f=f.lastEffect,f!==null))){v=f=f.next;do{var y=v,E=y.destroy;y=y.tag,E!==void 0&&((y&2)!==0||(y&4)!==0)&&$u(l,s,E),v=v.next}while(v!==f)}Un(r,s,l);break;case 1:if(!Tt&&(lo(l,s),f=l.stateNode,typeof f.componentWillUnmount=="function"))try{f.props=l.memoizedProps,f.state=l.memoizedState,f.componentWillUnmount()}catch(R){tt(l,s,R)}Un(r,s,l);break;case 21:Un(r,s,l);break;case 22:l.mode&1?(Tt=(f=Tt)||l.memoizedState!==null,Un(r,s,l),Tt=f):Un(r,s,l);break;default:Un(r,s,l)}}function fm(r){var s=r.updateQueue;if(s!==null){r.updateQueue=null;var l=r.stateNode;l===null&&(l=r.stateNode=new Bb),s.forEach(function(f){var v=Xb.bind(null,r,f);l.has(f)||(l.add(f),f.then(v,v))})}}function Cr(r,s){var l=s.deletions;if(l!==null)for(var f=0;f<l.length;f++){var v=l[f];try{var y=r,E=s,R=E;e:for(;R!==null;){switch(R.tag){case 5:St=R.stateNode,kr=!1;break e;case 3:St=R.stateNode.containerInfo,kr=!0;break e;case 4:St=R.stateNode.containerInfo,kr=!0;break e}R=R.return}if(St===null)throw Error(n(160));dm(y,E,v),St=null,kr=!1;var T=v.alternate;T!==null&&(T.return=null),v.return=null}catch(U){tt(v,s,U)}}if(s.subtreeFlags&12854)for(s=s.child;s!==null;)hm(s,r),s=s.sibling}function hm(r,s){var l=r.alternate,f=r.flags;switch(r.tag){case 0:case 11:case 14:case 15:if(Cr(s,r),Br(r),f&4){try{Pi(3,r,r.return),Qa(3,r)}catch(ve){tt(r,r.return,ve)}try{Pi(5,r,r.return)}catch(ve){tt(r,r.return,ve)}}break;case 1:Cr(s,r),Br(r),f&512&&l!==null&&lo(l,l.return);break;case 5:if(Cr(s,r),Br(r),f&512&&l!==null&&lo(l,l.return),r.flags&32){var v=r.stateNode;try{ur(v,"")}catch(ve){tt(r,r.return,ve)}}if(f&4&&(v=r.stateNode,v!=null)){var y=r.memoizedProps,E=l!==null?l.memoizedProps:y,R=r.type,T=r.updateQueue;if(r.updateQueue=null,T!==null)try{R==="input"&&y.type==="radio"&&y.name!=null&&en(v,y),Zo(R,E);var U=Zo(R,y);for(E=0;E<T.length;E+=2){var Y=T[E],X=T[E+1];Y==="style"?aa(v,X):Y==="dangerouslySetInnerHTML"?Bs(v,X):Y==="children"?ur(v,X):N(v,Y,X,U)}switch(R){case"input":Jt(v,y);break;case"textarea":sa(v,y);break;case"select":var G=v._wrapperState.wasMultiple;v._wrapperState.wasMultiple=!!y.multiple;var ae=y.value;ae!=null?bn(v,!!y.multiple,ae,!1):G!==!!y.multiple&&(y.defaultValue!=null?bn(v,!!y.multiple,y.defaultValue,!0):bn(v,!!y.multiple,y.multiple?[]:"",!1))}v[xi]=y}catch(ve){tt(r,r.return,ve)}}break;case 6:if(Cr(s,r),Br(r),f&4){if(r.stateNode===null)throw Error(n(162));v=r.stateNode,y=r.memoizedProps;try{v.nodeValue=y}catch(ve){tt(r,r.return,ve)}}break;case 3:if(Cr(s,r),Br(r),f&4&&l!==null&&l.memoizedState.isDehydrated)try{ci(s.containerInfo)}catch(ve){tt(r,r.return,ve)}break;case 4:Cr(s,r),Br(r);break;case 13:Cr(s,r),Br(r),v=r.child,v.flags&8192&&(y=v.memoizedState!==null,v.stateNode.isHidden=y,!y||v.alternate!==null&&v.alternate.memoizedState!==null||(Vu=st())),f&4&&fm(r);break;case 22:if(Y=l!==null&&l.memoizedState!==null,r.mode&1?(Tt=(U=Tt)||Y,Cr(s,r),Tt=U):Cr(s,r),Br(r),f&8192){if(U=r.memoizedState!==null,(r.stateNode.isHidden=U)&&!Y&&(r.mode&1)!==0)for(ce=r,Y=r.child;Y!==null;){for(X=ce=Y;ce!==null;){switch(G=ce,ae=G.child,G.tag){case 0:case 11:case 14:case 15:Pi(4,G,G.return);break;case 1:lo(G,G.return);var de=G.stateNode;if(typeof de.componentWillUnmount=="function"){f=G,l=G.return;try{s=f,de.props=s.memoizedProps,de.state=s.memoizedState,de.componentWillUnmount()}catch(ve){tt(f,l,ve)}}break;case 5:lo(G,G.return);break;case 22:if(G.memoizedState!==null){gm(X);continue}}ae!==null?(ae.return=G,ce=ae):gm(X)}Y=Y.sibling}e:for(Y=null,X=r;;){if(X.tag===5){if(Y===null){Y=X;try{v=X.stateNode,U?(y=v.style,typeof y.setProperty=="function"?y.setProperty("display","none","important"):y.display="none"):(R=X.stateNode,T=X.memoizedProps.style,E=T!=null&&T.hasOwnProperty("display")?T.display:null,R.style.display=ia("display",E))}catch(ve){tt(r,r.return,ve)}}}else if(X.tag===6){if(Y===null)try{X.stateNode.nodeValue=U?"":X.memoizedProps}catch(ve){tt(r,r.return,ve)}}else if((X.tag!==22&&X.tag!==23||X.memoizedState===null||X===r)&&X.child!==null){X.child.return=X,X=X.child;continue}if(X===r)break e;for(;X.sibling===null;){if(X.return===null||X.return===r)break e;Y===X&&(Y=null),X=X.return}Y===X&&(Y=null),X.sibling.return=X.return,X=X.sibling}}break;case 19:Cr(s,r),Br(r),f&4&&fm(r);break;case 21:break;default:Cr(s,r),Br(r)}}function Br(r){var s=r.flags;if(s&2){try{e:{for(var l=r.return;l!==null;){if(cm(l)){var f=l;break e}l=l.return}throw Error(n(160))}switch(f.tag){case 5:var v=f.stateNode;f.flags&32&&(ur(v,""),f.flags&=-33);var y=um(r);Uu(r,y,v);break;case 3:case 4:var E=f.stateNode.containerInfo,R=um(r);Fu(r,R,E);break;default:throw Error(n(161))}}catch(T){tt(r,r.return,T)}r.flags&=-3}s&4096&&(r.flags&=-4097)}function Wb(r,s,l){ce=r,pm(r)}function pm(r,s,l){for(var f=(r.mode&1)!==0;ce!==null;){var v=ce,y=v.child;if(v.tag===22&&f){var E=v.memoizedState!==null||Ja;if(!E){var R=v.alternate,T=R!==null&&R.memoizedState!==null||Tt;R=Ja;var U=Tt;if(Ja=E,(Tt=T)&&!U)for(ce=v;ce!==null;)E=ce,T=E.child,E.tag===22&&E.memoizedState!==null?vm(v):T!==null?(T.return=E,ce=T):vm(v);for(;y!==null;)ce=y,pm(y),y=y.sibling;ce=v,Ja=R,Tt=U}mm(r)}else(v.subtreeFlags&8772)!==0&&y!==null?(y.return=v,ce=y):mm(r)}}function mm(r){for(;ce!==null;){var s=ce;if((s.flags&8772)!==0){var l=s.alternate;try{if((s.flags&8772)!==0)switch(s.tag){case 0:case 11:case 15:Tt||Qa(5,s);break;case 1:var f=s.stateNode;if(s.flags&4&&!Tt)if(l===null)f.componentDidMount();else{var v=s.elementType===s.type?l.memoizedProps:Er(s.type,l.memoizedProps);f.componentDidUpdate(v,l.memoizedState,f.__reactInternalSnapshotBeforeUpdate)}var y=s.updateQueue;y!==null&&gp(s,y,f);break;case 3:var E=s.updateQueue;if(E!==null){if(l=null,s.child!==null)switch(s.child.tag){case 5:l=s.child.stateNode;break;case 1:l=s.child.stateNode}gp(s,E,l)}break;case 5:var R=s.stateNode;if(l===null&&s.flags&4){l=R;var T=s.memoizedProps;switch(s.type){case"button":case"input":case"select":case"textarea":T.autoFocus&&l.focus();break;case"img":T.src&&(l.src=T.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(s.memoizedState===null){var U=s.alternate;if(U!==null){var Y=U.memoizedState;if(Y!==null){var X=Y.dehydrated;X!==null&&ci(X)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(n(163))}Tt||s.flags&512&&Mu(s)}catch(G){tt(s,s.return,G)}}if(s===r){ce=null;break}if(l=s.sibling,l!==null){l.return=s.return,ce=l;break}ce=s.return}}function gm(r){for(;ce!==null;){var s=ce;if(s===r){ce=null;break}var l=s.sibling;if(l!==null){l.return=s.return,ce=l;break}ce=s.return}}function vm(r){for(;ce!==null;){var s=ce;try{switch(s.tag){case 0:case 11:case 15:var l=s.return;try{Qa(4,s)}catch(T){tt(s,l,T)}break;case 1:var f=s.stateNode;if(typeof f.componentDidMount=="function"){var v=s.return;try{f.componentDidMount()}catch(T){tt(s,v,T)}}var y=s.return;try{Mu(s)}catch(T){tt(s,y,T)}break;case 5:var E=s.return;try{Mu(s)}catch(T){tt(s,E,T)}}}catch(T){tt(s,s.return,T)}if(s===r){ce=null;break}var R=s.sibling;if(R!==null){R.return=s.return,ce=R;break}ce=s.return}}var Hb=Math.ceil,Xa=P.ReactCurrentDispatcher,zu=P.ReactCurrentOwner,vr=P.ReactCurrentBatchConfig,Ue=0,wt=null,lt=null,jt=0,rr=0,co=Dn(0),pt=0,Ai=null,xs=0,Za=0,Bu=0,Oi=null,Bt=null,Vu=0,uo=1/0,dn=null,el=!1,Wu=null,zn=null,tl=!1,Bn=null,rl=0,Ii=0,Hu=null,nl=-1,sl=0;function Lt(){return(Ue&6)!==0?st():nl!==-1?nl:nl=st()}function Vn(r){return(r.mode&1)===0?1:(Ue&2)!==0&&jt!==0?jt&-jt:Nb.transition!==null?(sl===0&&(sl=uh()),sl):(r=We,r!==0||(r=window.event,r=r===void 0?16:wh(r.type)),r)}function Nr(r,s,l,f){if(50<Ii)throw Ii=0,Hu=null,Error(n(185));si(r,l,f),((Ue&2)===0||r!==wt)&&(r===wt&&((Ue&2)===0&&(Za|=l),pt===4&&Wn(r,jt)),Vt(r,f),l===1&&Ue===0&&(s.mode&1)===0&&(uo=st()+500,Aa&&$n()))}function Vt(r,s){var l=r.callbackNode;Nx(r,s);var f=ha(r,r===wt?jt:0);if(f===0)l!==null&&ah(l),r.callbackNode=null,r.callbackPriority=0;else if(s=f&-f,r.callbackPriority!==s){if(l!=null&&ah(l),s===1)r.tag===0?Cb(wm.bind(null,r)):sp(wm.bind(null,r)),Sb(function(){(Ue&6)===0&&$n()}),l=null;else{switch(dh(f)){case 1:l=jc;break;case 4:l=lh;break;case 16:l=ca;break;case 536870912:l=ch;break;default:l=ca}l=Cm(l,ym.bind(null,r))}r.callbackPriority=s,r.callbackNode=l}}function ym(r,s){if(nl=-1,sl=0,(Ue&6)!==0)throw Error(n(327));var l=r.callbackNode;if(fo()&&r.callbackNode!==l)return null;var f=ha(r,r===wt?jt:0);if(f===0)return null;if((f&30)!==0||(f&r.expiredLanes)!==0||s)s=ol(r,f);else{s=f;var v=Ue;Ue|=2;var y=bm();(wt!==r||jt!==s)&&(dn=null,uo=st()+500,_s(r,s));do try{Gb();break}catch(R){xm(r,R)}while(!0);cu(),Xa.current=y,Ue=v,lt!==null?s=0:(wt=null,jt=0,s=pt)}if(s!==0){if(s===2&&(v=Ec(r),v!==0&&(f=v,s=qu(r,v))),s===1)throw l=Ai,_s(r,0),Wn(r,f),Vt(r,st()),l;if(s===6)Wn(r,f);else{if(v=r.current.alternate,(f&30)===0&&!qb(v)&&(s=ol(r,f),s===2&&(y=Ec(r),y!==0&&(f=y,s=qu(r,y))),s===1))throw l=Ai,_s(r,0),Wn(r,f),Vt(r,st()),l;switch(r.finishedWork=v,r.finishedLanes=f,s){case 0:case 1:throw Error(n(345));case 2:Ss(r,Bt,dn);break;case 3:if(Wn(r,f),(f&130023424)===f&&(s=Vu+500-st(),10<s)){if(ha(r,0)!==0)break;if(v=r.suspendedLanes,(v&f)!==f){Lt(),r.pingedLanes|=r.suspendedLanes&v;break}r.timeoutHandle=Xc(Ss.bind(null,r,Bt,dn),s);break}Ss(r,Bt,dn);break;case 4:if(Wn(r,f),(f&4194240)===f)break;for(s=r.eventTimes,v=-1;0<f;){var E=31-_r(f);y=1<<E,E=s[E],E>v&&(v=E),f&=~y}if(f=v,f=st()-f,f=(120>f?120:480>f?480:1080>f?1080:1920>f?1920:3e3>f?3e3:4320>f?4320:1960*Hb(f/1960))-f,10<f){r.timeoutHandle=Xc(Ss.bind(null,r,Bt,dn),f);break}Ss(r,Bt,dn);break;case 5:Ss(r,Bt,dn);break;default:throw Error(n(329))}}}return Vt(r,st()),r.callbackNode===l?ym.bind(null,r):null}function qu(r,s){var l=Oi;return r.current.memoizedState.isDehydrated&&(_s(r,s).flags|=256),r=ol(r,s),r!==2&&(s=Bt,Bt=l,s!==null&&Ku(s)),r}function Ku(r){Bt===null?Bt=r:Bt.push.apply(Bt,r)}function qb(r){for(var s=r;;){if(s.flags&16384){var l=s.updateQueue;if(l!==null&&(l=l.stores,l!==null))for(var f=0;f<l.length;f++){var v=l[f],y=v.getSnapshot;v=v.value;try{if(!Sr(y(),v))return!1}catch{return!1}}}if(l=s.child,s.subtreeFlags&16384&&l!==null)l.return=s,s=l;else{if(s===r)break;for(;s.sibling===null;){if(s.return===null||s.return===r)return!0;s=s.return}s.sibling.return=s.return,s=s.sibling}}return!0}function Wn(r,s){for(s&=~Bu,s&=~Za,r.suspendedLanes|=s,r.pingedLanes&=~s,r=r.expirationTimes;0<s;){var l=31-_r(s),f=1<<l;r[l]=-1,s&=~f}}function wm(r){if((Ue&6)!==0)throw Error(n(327));fo();var s=ha(r,0);if((s&1)===0)return Vt(r,st()),null;var l=ol(r,s);if(r.tag!==0&&l===2){var f=Ec(r);f!==0&&(s=f,l=qu(r,f))}if(l===1)throw l=Ai,_s(r,0),Wn(r,s),Vt(r,st()),l;if(l===6)throw Error(n(345));return r.finishedWork=r.current.alternate,r.finishedLanes=s,Ss(r,Bt,dn),Vt(r,st()),null}function Gu(r,s){var l=Ue;Ue|=1;try{return r(s)}finally{Ue=l,Ue===0&&(uo=st()+500,Aa&&$n())}}function bs(r){Bn!==null&&Bn.tag===0&&(Ue&6)===0&&fo();var s=Ue;Ue|=1;var l=vr.transition,f=We;try{if(vr.transition=null,We=1,r)return r()}finally{We=f,vr.transition=l,Ue=s,(Ue&6)===0&&$n()}}function Yu(){rr=co.current,Je(co)}function _s(r,s){r.finishedWork=null,r.finishedLanes=0;var l=r.timeoutHandle;if(l!==-1&&(r.timeoutHandle=-1,_b(l)),lt!==null)for(l=lt.return;l!==null;){var f=l;switch(su(f),f.tag){case 1:f=f.type.childContextTypes,f!=null&&Ta();break;case 3:io(),Je(Ft),Je(Ct),vu();break;case 5:mu(f);break;case 4:io();break;case 13:Je(Xe);break;case 19:Je(Xe);break;case 10:uu(f.type._context);break;case 22:case 23:Yu()}l=l.return}if(wt=r,lt=r=Hn(r.current,null),jt=rr=s,pt=0,Ai=null,Bu=Za=xs=0,Bt=Oi=null,vs!==null){for(s=0;s<vs.length;s++)if(l=vs[s],f=l.interleaved,f!==null){l.interleaved=null;var v=f.next,y=l.pending;if(y!==null){var E=y.next;y.next=v,f.next=E}l.pending=f}vs=null}return r}function xm(r,s){do{var l=lt;try{if(cu(),Ba.current=qa,Va){for(var f=Ze.memoizedState;f!==null;){var v=f.queue;v!==null&&(v.pending=null),f=f.next}Va=!1}if(ws=0,yt=ht=Ze=null,ki=!1,Ci=0,zu.current=null,l===null||l.return===null){pt=1,Ai=s,lt=null;break}e:{var y=r,E=l.return,R=l,T=s;if(s=jt,R.flags|=32768,T!==null&&typeof T=="object"&&typeof T.then=="function"){var U=T,Y=R,X=Y.tag;if((Y.mode&1)===0&&(X===0||X===11||X===15)){var G=Y.alternate;G?(Y.updateQueue=G.updateQueue,Y.memoizedState=G.memoizedState,Y.lanes=G.lanes):(Y.updateQueue=null,Y.memoizedState=null)}var ae=Hp(E);if(ae!==null){ae.flags&=-257,qp(ae,E,R,y,s),ae.mode&1&&Wp(y,U,s),s=ae,T=U;var de=s.updateQueue;if(de===null){var ve=new Set;ve.add(T),s.updateQueue=ve}else de.add(T);break e}else{if((s&1)===0){Wp(y,U,s),Ju();break e}T=Error(n(426))}}else if(Qe&&R.mode&1){var ot=Hp(E);if(ot!==null){(ot.flags&65536)===0&&(ot.flags|=256),qp(ot,E,R,y,s),au(ao(T,R));break e}}y=T=ao(T,R),pt!==4&&(pt=2),Oi===null?Oi=[y]:Oi.push(y),y=E;do{switch(y.tag){case 3:y.flags|=65536,s&=-s,y.lanes|=s;var L=Bp(y,T,s);mp(y,L);break e;case 1:R=T;var A=y.type,M=y.stateNode;if((y.flags&128)===0&&(typeof A.getDerivedStateFromError=="function"||M!==null&&typeof M.componentDidCatch=="function"&&(zn===null||!zn.has(M)))){y.flags|=65536,s&=-s,y.lanes|=s;var ee=Vp(y,R,s);mp(y,ee);break e}}y=y.return}while(y!==null)}Sm(l)}catch(ye){s=ye,lt===l&&l!==null&&(lt=l=l.return);continue}break}while(!0)}function bm(){var r=Xa.current;return Xa.current=qa,r===null?qa:r}function Ju(){(pt===0||pt===3||pt===2)&&(pt=4),wt===null||(xs&268435455)===0&&(Za&268435455)===0||Wn(wt,jt)}function ol(r,s){var l=Ue;Ue|=2;var f=bm();(wt!==r||jt!==s)&&(dn=null,_s(r,s));do try{Kb();break}catch(v){xm(r,v)}while(!0);if(cu(),Ue=l,Xa.current=f,lt!==null)throw Error(n(261));return wt=null,jt=0,pt}function Kb(){for(;lt!==null;)_m(lt)}function Gb(){for(;lt!==null&&!wx();)_m(lt)}function _m(r){var s=km(r.alternate,r,rr);r.memoizedProps=r.pendingProps,s===null?Sm(r):lt=s,zu.current=null}function Sm(r){var s=r;do{var l=s.alternate;if(r=s.return,(s.flags&32768)===0){if(l=Ub(l,s,rr),l!==null){lt=l;return}}else{if(l=zb(l,s),l!==null){l.flags&=32767,lt=l;return}if(r!==null)r.flags|=32768,r.subtreeFlags=0,r.deletions=null;else{pt=6,lt=null;return}}if(s=s.sibling,s!==null){lt=s;return}lt=s=r}while(s!==null);pt===0&&(pt=5)}function Ss(r,s,l){var f=We,v=vr.transition;try{vr.transition=null,We=1,Yb(r,s,l,f)}finally{vr.transition=v,We=f}return null}function Yb(r,s,l,f){do fo();while(Bn!==null);if((Ue&6)!==0)throw Error(n(327));l=r.finishedWork;var v=r.finishedLanes;if(l===null)return null;if(r.finishedWork=null,r.finishedLanes=0,l===r.current)throw Error(n(177));r.callbackNode=null,r.callbackPriority=0;var y=l.lanes|l.childLanes;if(Rx(r,y),r===wt&&(lt=wt=null,jt=0),(l.subtreeFlags&2064)===0&&(l.flags&2064)===0||tl||(tl=!0,Cm(ca,function(){return fo(),null})),y=(l.flags&15990)!==0,(l.subtreeFlags&15990)!==0||y){y=vr.transition,vr.transition=null;var E=We;We=1;var R=Ue;Ue|=4,zu.current=null,Vb(r,l),hm(l,r),mb(Jc),ga=!!Yc,Jc=Yc=null,r.current=l,Wb(l),xx(),Ue=R,We=E,vr.transition=y}else r.current=l;if(tl&&(tl=!1,Bn=r,rl=v),y=r.pendingLanes,y===0&&(zn=null),Sx(l.stateNode),Vt(r,st()),s!==null)for(f=r.onRecoverableError,l=0;l<s.length;l++)v=s[l],f(v.value,{componentStack:v.stack,digest:v.digest});if(el)throw el=!1,r=Wu,Wu=null,r;return(rl&1)!==0&&r.tag!==0&&fo(),y=r.pendingLanes,(y&1)!==0?r===Hu?Ii++:(Ii=0,Hu=r):Ii=0,$n(),null}function fo(){if(Bn!==null){var r=dh(rl),s=vr.transition,l=We;try{if(vr.transition=null,We=16>r?16:r,Bn===null)var f=!1;else{if(r=Bn,Bn=null,rl=0,(Ue&6)!==0)throw Error(n(331));var v=Ue;for(Ue|=4,ce=r.current;ce!==null;){var y=ce,E=y.child;if((ce.flags&16)!==0){var R=y.deletions;if(R!==null){for(var T=0;T<R.length;T++){var U=R[T];for(ce=U;ce!==null;){var Y=ce;switch(Y.tag){case 0:case 11:case 15:Pi(8,Y,y)}var X=Y.child;if(X!==null)X.return=Y,ce=X;else for(;ce!==null;){Y=ce;var G=Y.sibling,ae=Y.return;if(lm(Y),Y===U){ce=null;break}if(G!==null){G.return=ae,ce=G;break}ce=ae}}}var de=y.alternate;if(de!==null){var ve=de.child;if(ve!==null){de.child=null;do{var ot=ve.sibling;ve.sibling=null,ve=ot}while(ve!==null)}}ce=y}}if((y.subtreeFlags&2064)!==0&&E!==null)E.return=y,ce=E;else e:for(;ce!==null;){if(y=ce,(y.flags&2048)!==0)switch(y.tag){case 0:case 11:case 15:Pi(9,y,y.return)}var L=y.sibling;if(L!==null){L.return=y.return,ce=L;break e}ce=y.return}}var A=r.current;for(ce=A;ce!==null;){E=ce;var M=E.child;if((E.subtreeFlags&2064)!==0&&M!==null)M.return=E,ce=M;else e:for(E=A;ce!==null;){if(R=ce,(R.flags&2048)!==0)try{switch(R.tag){case 0:case 11:case 15:Qa(9,R)}}catch(ye){tt(R,R.return,ye)}if(R===E){ce=null;break e}var ee=R.sibling;if(ee!==null){ee.return=R.return,ce=ee;break e}ce=R.return}}if(Ue=v,$n(),Mr&&typeof Mr.onPostCommitFiberRoot=="function")try{Mr.onPostCommitFiberRoot(ua,r)}catch{}f=!0}return f}finally{We=l,vr.transition=s}}return!1}function jm(r,s,l){s=ao(l,s),s=Bp(r,s,1),r=Fn(r,s,1),s=Lt(),r!==null&&(si(r,1,s),Vt(r,s))}function tt(r,s,l){if(r.tag===3)jm(r,r,l);else for(;s!==null;){if(s.tag===3){jm(s,r,l);break}else if(s.tag===1){var f=s.stateNode;if(typeof s.type.getDerivedStateFromError=="function"||typeof f.componentDidCatch=="function"&&(zn===null||!zn.has(f))){r=ao(l,r),r=Vp(s,r,1),s=Fn(s,r,1),r=Lt(),s!==null&&(si(s,1,r),Vt(s,r));break}}s=s.return}}function Jb(r,s,l){var f=r.pingCache;f!==null&&f.delete(s),s=Lt(),r.pingedLanes|=r.suspendedLanes&l,wt===r&&(jt&l)===l&&(pt===4||pt===3&&(jt&130023424)===jt&&500>st()-Vu?_s(r,0):Bu|=l),Vt(r,s)}function Em(r,s){s===0&&((r.mode&1)===0?s=1:(s=fa,fa<<=1,(fa&130023424)===0&&(fa=4194304)));var l=Lt();r=ln(r,s),r!==null&&(si(r,s,l),Vt(r,l))}function Qb(r){var s=r.memoizedState,l=0;s!==null&&(l=s.retryLane),Em(r,l)}function Xb(r,s){var l=0;switch(r.tag){case 13:var f=r.stateNode,v=r.memoizedState;v!==null&&(l=v.retryLane);break;case 19:f=r.stateNode;break;default:throw Error(n(314))}f!==null&&f.delete(s),Em(r,l)}var km;km=function(r,s,l){if(r!==null)if(r.memoizedProps!==s.pendingProps||Ft.current)zt=!0;else{if((r.lanes&l)===0&&(s.flags&128)===0)return zt=!1,Fb(r,s,l);zt=(r.flags&131072)!==0}else zt=!1,Qe&&(s.flags&1048576)!==0&&op(s,Ia,s.index);switch(s.lanes=0,s.tag){case 2:var f=s.type;Ya(r,s),r=s.pendingProps;var v=Zs(s,Ct.current);oo(s,l),v=xu(null,s,f,r,v,l);var y=bu();return s.flags|=1,typeof v=="object"&&v!==null&&typeof v.render=="function"&&v.$$typeof===void 0?(s.tag=1,s.memoizedState=null,s.updateQueue=null,Ut(f)?(y=!0,Pa(s)):y=!1,s.memoizedState=v.state!==null&&v.state!==void 0?v.state:null,hu(s),v.updater=Ka,s.stateNode=v,v._reactInternals=s,Cu(s,f,r,l),s=Pu(null,s,f,!0,y,l)):(s.tag=0,Qe&&y&&nu(s),Dt(null,s,v,l),s=s.child),s;case 16:f=s.elementType;e:{switch(Ya(r,s),r=s.pendingProps,v=f._init,f=v(f._payload),s.type=f,v=s.tag=e_(f),r=Er(f,r),v){case 0:s=Tu(null,s,f,r,l);break e;case 1:s=Xp(null,s,f,r,l);break e;case 11:s=Kp(null,s,f,r,l);break e;case 14:s=Gp(null,s,f,Er(f.type,r),l);break e}throw Error(n(306,f,""))}return s;case 0:return f=s.type,v=s.pendingProps,v=s.elementType===f?v:Er(f,v),Tu(r,s,f,v,l);case 1:return f=s.type,v=s.pendingProps,v=s.elementType===f?v:Er(f,v),Xp(r,s,f,v,l);case 3:e:{if(Zp(s),r===null)throw Error(n(387));f=s.pendingProps,y=s.memoizedState,v=y.element,pp(r,s),Ua(s,f,null,l);var E=s.memoizedState;if(f=E.element,y.isDehydrated)if(y={element:f,isDehydrated:!1,cache:E.cache,pendingSuspenseBoundaries:E.pendingSuspenseBoundaries,transitions:E.transitions},s.updateQueue.baseState=y,s.memoizedState=y,s.flags&256){v=ao(Error(n(423)),s),s=em(r,s,f,l,v);break e}else if(f!==v){v=ao(Error(n(424)),s),s=em(r,s,f,l,v);break e}else for(tr=In(s.stateNode.containerInfo.firstChild),er=s,Qe=!0,jr=null,l=fp(s,null,f,l),s.child=l;l;)l.flags=l.flags&-3|4096,l=l.sibling;else{if(ro(),f===v){s=un(r,s,l);break e}Dt(r,s,f,l)}s=s.child}return s;case 5:return vp(s),r===null&&iu(s),f=s.type,v=s.pendingProps,y=r!==null?r.memoizedProps:null,E=v.children,Qc(f,v)?E=null:y!==null&&Qc(f,y)&&(s.flags|=32),Qp(r,s),Dt(r,s,E,l),s.child;case 6:return r===null&&iu(s),null;case 13:return tm(r,s,l);case 4:return pu(s,s.stateNode.containerInfo),f=s.pendingProps,r===null?s.child=no(s,null,f,l):Dt(r,s,f,l),s.child;case 11:return f=s.type,v=s.pendingProps,v=s.elementType===f?v:Er(f,v),Kp(r,s,f,v,l);case 7:return Dt(r,s,s.pendingProps,l),s.child;case 8:return Dt(r,s,s.pendingProps.children,l),s.child;case 12:return Dt(r,s,s.pendingProps.children,l),s.child;case 10:e:{if(f=s.type._context,v=s.pendingProps,y=s.memoizedProps,E=v.value,Ke($a,f._currentValue),f._currentValue=E,y!==null)if(Sr(y.value,E)){if(y.children===v.children&&!Ft.current){s=un(r,s,l);break e}}else for(y=s.child,y!==null&&(y.return=s);y!==null;){var R=y.dependencies;if(R!==null){E=y.child;for(var T=R.firstContext;T!==null;){if(T.context===f){if(y.tag===1){T=cn(-1,l&-l),T.tag=2;var U=y.updateQueue;if(U!==null){U=U.shared;var Y=U.pending;Y===null?T.next=T:(T.next=Y.next,Y.next=T),U.pending=T}}y.lanes|=l,T=y.alternate,T!==null&&(T.lanes|=l),du(y.return,l,s),R.lanes|=l;break}T=T.next}}else if(y.tag===10)E=y.type===s.type?null:y.child;else if(y.tag===18){if(E=y.return,E===null)throw Error(n(341));E.lanes|=l,R=E.alternate,R!==null&&(R.lanes|=l),du(E,l,s),E=y.sibling}else E=y.child;if(E!==null)E.return=y;else for(E=y;E!==null;){if(E===s){E=null;break}if(y=E.sibling,y!==null){y.return=E.return,E=y;break}E=E.return}y=E}Dt(r,s,v.children,l),s=s.child}return s;case 9:return v=s.type,f=s.pendingProps.children,oo(s,l),v=mr(v),f=f(v),s.flags|=1,Dt(r,s,f,l),s.child;case 14:return f=s.type,v=Er(f,s.pendingProps),v=Er(f.type,v),Gp(r,s,f,v,l);case 15:return Yp(r,s,s.type,s.pendingProps,l);case 17:return f=s.type,v=s.pendingProps,v=s.elementType===f?v:Er(f,v),Ya(r,s),s.tag=1,Ut(f)?(r=!0,Pa(s)):r=!1,oo(s,l),Up(s,f,v),Cu(s,f,v,l),Pu(null,s,f,!0,r,l);case 19:return nm(r,s,l);case 22:return Jp(r,s,l)}throw Error(n(156,s.tag))};function Cm(r,s){return ih(r,s)}function Zb(r,s,l,f){this.tag=r,this.key=l,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=s,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=f,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function yr(r,s,l,f){return new Zb(r,s,l,f)}function Qu(r){return r=r.prototype,!(!r||!r.isReactComponent)}function e_(r){if(typeof r=="function")return Qu(r)?1:0;if(r!=null){if(r=r.$$typeof,r===ge)return 11;if(r===be)return 14}return 2}function Hn(r,s){var l=r.alternate;return l===null?(l=yr(r.tag,s,r.key,r.mode),l.elementType=r.elementType,l.type=r.type,l.stateNode=r.stateNode,l.alternate=r,r.alternate=l):(l.pendingProps=s,l.type=r.type,l.flags=0,l.subtreeFlags=0,l.deletions=null),l.flags=r.flags&14680064,l.childLanes=r.childLanes,l.lanes=r.lanes,l.child=r.child,l.memoizedProps=r.memoizedProps,l.memoizedState=r.memoizedState,l.updateQueue=r.updateQueue,s=r.dependencies,l.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext},l.sibling=r.sibling,l.index=r.index,l.ref=r.ref,l}function il(r,s,l,f,v,y){var E=2;if(f=r,typeof r=="function")Qu(r)&&(E=1);else if(typeof r=="string")E=5;else e:switch(r){case D:return js(l.children,v,y,s);case z:E=8,v|=8;break;case q:return r=yr(12,l,s,v|2),r.elementType=q,r.lanes=y,r;case le:return r=yr(13,l,s,v),r.elementType=le,r.lanes=y,r;case pe:return r=yr(19,l,s,v),r.elementType=pe,r.lanes=y,r;case $:return al(l,v,y,s);default:if(typeof r=="object"&&r!==null)switch(r.$$typeof){case ne:E=10;break e;case ue:E=9;break e;case ge:E=11;break e;case be:E=14;break e;case B:E=16,f=null;break e}throw Error(n(130,r==null?r:typeof r,""))}return s=yr(E,l,s,v),s.elementType=r,s.type=f,s.lanes=y,s}function js(r,s,l,f){return r=yr(7,r,f,s),r.lanes=l,r}function al(r,s,l,f){return r=yr(22,r,f,s),r.elementType=$,r.lanes=l,r.stateNode={isHidden:!1},r}function Xu(r,s,l){return r=yr(6,r,null,s),r.lanes=l,r}function Zu(r,s,l){return s=yr(4,r.children!==null?r.children:[],r.key,s),s.lanes=l,s.stateNode={containerInfo:r.containerInfo,pendingChildren:null,implementation:r.implementation},s}function t_(r,s,l,f,v){this.tag=s,this.containerInfo=r,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=kc(0),this.expirationTimes=kc(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=kc(0),this.identifierPrefix=f,this.onRecoverableError=v,this.mutableSourceEagerHydrationData=null}function ed(r,s,l,f,v,y,E,R,T){return r=new t_(r,s,l,R,T),s===1?(s=1,y===!0&&(s|=8)):s=0,y=yr(3,null,null,s),r.current=y,y.stateNode=r,y.memoizedState={element:f,isDehydrated:l,cache:null,transitions:null,pendingSuspenseBoundaries:null},hu(y),r}function r_(r,s,l){var f=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:V,key:f==null?null:""+f,children:r,containerInfo:s,implementation:l}}function Nm(r){if(!r)return Ln;r=r._reactInternals;e:{if(fs(r)!==r||r.tag!==1)throw Error(n(170));var s=r;do{switch(s.tag){case 3:s=s.stateNode.context;break e;case 1:if(Ut(s.type)){s=s.stateNode.__reactInternalMemoizedMergedChildContext;break e}}s=s.return}while(s!==null);throw Error(n(171))}if(r.tag===1){var l=r.type;if(Ut(l))return rp(r,l,s)}return s}function Rm(r,s,l,f,v,y,E,R,T){return r=ed(l,f,!0,r,v,y,E,R,T),r.context=Nm(null),l=r.current,f=Lt(),v=Vn(l),y=cn(f,v),y.callback=s??null,Fn(l,y,v),r.current.lanes=v,si(r,v,f),Vt(r,f),r}function ll(r,s,l,f){var v=s.current,y=Lt(),E=Vn(v);return l=Nm(l),s.context===null?s.context=l:s.pendingContext=l,s=cn(y,E),s.payload={element:r},f=f===void 0?null:f,f!==null&&(s.callback=f),r=Fn(v,s,E),r!==null&&(Nr(r,v,E,y),Fa(r,v,E)),E}function cl(r){if(r=r.current,!r.child)return null;switch(r.child.tag){case 5:return r.child.stateNode;default:return r.child.stateNode}}function Tm(r,s){if(r=r.memoizedState,r!==null&&r.dehydrated!==null){var l=r.retryLane;r.retryLane=l!==0&&l<s?l:s}}function td(r,s){Tm(r,s),(r=r.alternate)&&Tm(r,s)}function n_(){return null}var Pm=typeof reportError=="function"?reportError:function(r){console.error(r)};function rd(r){this._internalRoot=r}ul.prototype.render=rd.prototype.render=function(r){var s=this._internalRoot;if(s===null)throw Error(n(409));ll(r,s,null,null)},ul.prototype.unmount=rd.prototype.unmount=function(){var r=this._internalRoot;if(r!==null){this._internalRoot=null;var s=r.containerInfo;bs(function(){ll(null,r,null,null)}),s[nn]=null}};function ul(r){this._internalRoot=r}ul.prototype.unstable_scheduleHydration=function(r){if(r){var s=ph();r={blockedOn:null,target:r,priority:s};for(var l=0;l<Pn.length&&s!==0&&s<Pn[l].priority;l++);Pn.splice(l,0,r),l===0&&vh(r)}};function nd(r){return!(!r||r.nodeType!==1&&r.nodeType!==9&&r.nodeType!==11)}function dl(r){return!(!r||r.nodeType!==1&&r.nodeType!==9&&r.nodeType!==11&&(r.nodeType!==8||r.nodeValue!==" react-mount-point-unstable "))}function Am(){}function s_(r,s,l,f,v){if(v){if(typeof f=="function"){var y=f;f=function(){var U=cl(E);y.call(U)}}var E=Rm(s,f,r,0,null,!1,!1,"",Am);return r._reactRootContainer=E,r[nn]=E.current,yi(r.nodeType===8?r.parentNode:r),bs(),E}for(;v=r.lastChild;)r.removeChild(v);if(typeof f=="function"){var R=f;f=function(){var U=cl(T);R.call(U)}}var T=ed(r,0,!1,null,null,!1,!1,"",Am);return r._reactRootContainer=T,r[nn]=T.current,yi(r.nodeType===8?r.parentNode:r),bs(function(){ll(s,T,l,f)}),T}function fl(r,s,l,f,v){var y=l._reactRootContainer;if(y){var E=y;if(typeof v=="function"){var R=v;v=function(){var T=cl(E);R.call(T)}}ll(s,E,r,v)}else E=s_(l,s,r,v,f);return cl(E)}fh=function(r){switch(r.tag){case 3:var s=r.stateNode;if(s.current.memoizedState.isDehydrated){var l=ni(s.pendingLanes);l!==0&&(Cc(s,l|1),Vt(s,st()),(Ue&6)===0&&(uo=st()+500,$n()))}break;case 13:bs(function(){var f=ln(r,1);if(f!==null){var v=Lt();Nr(f,r,1,v)}}),td(r,1)}},Nc=function(r){if(r.tag===13){var s=ln(r,134217728);if(s!==null){var l=Lt();Nr(s,r,134217728,l)}td(r,134217728)}},hh=function(r){if(r.tag===13){var s=Vn(r),l=ln(r,s);if(l!==null){var f=Lt();Nr(l,r,s,f)}td(r,s)}},ph=function(){return We},mh=function(r,s){var l=We;try{return We=r,s()}finally{We=l}},ei=function(r,s,l){switch(s){case"input":if(Jt(r,l),s=l.name,l.type==="radio"&&s!=null){for(l=r;l.parentNode;)l=l.parentNode;for(l=l.querySelectorAll("input[name="+JSON.stringify(""+s)+'][type="radio"]'),s=0;s<l.length;s++){var f=l[s];if(f!==r&&f.form===r.form){var v=Ra(f);if(!v)throw Error(n(90));Me(f),Jt(f,v)}}}break;case"textarea":sa(r,l);break;case"select":s=l.value,s!=null&&bn(r,!!l.multiple,s,!1)}},ft=Gu,kt=bs;var o_={usingClientEntryPoint:!1,Events:[bi,Qs,Ra,Te,nt,Gu]},Di={findFiberByHostInstance:hs,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},i_={bundleType:Di.bundleType,version:Di.version,rendererPackageName:Di.rendererPackageName,rendererConfig:Di.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:P.ReactCurrentDispatcher,findHostInstanceByFiber:function(r){return r=sh(r),r===null?null:r.stateNode},findFiberByHostInstance:Di.findFiberByHostInstance||n_,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var hl=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!hl.isDisabled&&hl.supportsFiber)try{ua=hl.inject(i_),Mr=hl}catch{}}return Wt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=o_,Wt.createPortal=function(r,s){var l=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!nd(s))throw Error(n(200));return r_(r,s,null,l)},Wt.createRoot=function(r,s){if(!nd(r))throw Error(n(299));var l=!1,f="",v=Pm;return s!=null&&(s.unstable_strictMode===!0&&(l=!0),s.identifierPrefix!==void 0&&(f=s.identifierPrefix),s.onRecoverableError!==void 0&&(v=s.onRecoverableError)),s=ed(r,1,!1,null,null,l,!1,f,v),r[nn]=s.current,yi(r.nodeType===8?r.parentNode:r),new rd(s)},Wt.findDOMNode=function(r){if(r==null)return null;if(r.nodeType===1)return r;var s=r._reactInternals;if(s===void 0)throw typeof r.render=="function"?Error(n(188)):(r=Object.keys(r).join(","),Error(n(268,r)));return r=sh(s),r=r===null?null:r.stateNode,r},Wt.flushSync=function(r){return bs(r)},Wt.hydrate=function(r,s,l){if(!dl(s))throw Error(n(200));return fl(null,r,s,!0,l)},Wt.hydrateRoot=function(r,s,l){if(!nd(r))throw Error(n(405));var f=l!=null&&l.hydratedSources||null,v=!1,y="",E=Pm;if(l!=null&&(l.unstable_strictMode===!0&&(v=!0),l.identifierPrefix!==void 0&&(y=l.identifierPrefix),l.onRecoverableError!==void 0&&(E=l.onRecoverableError)),s=Rm(s,null,r,1,l??null,v,!1,y,E),r[nn]=s.current,yi(r),f)for(r=0;r<f.length;r++)l=f[r],v=l._getVersion,v=v(l._source),s.mutableSourceEagerHydrationData==null?s.mutableSourceEagerHydrationData=[l,v]:s.mutableSourceEagerHydrationData.push(l,v);return new ul(s)},Wt.render=function(r,s,l){if(!dl(s))throw Error(n(200));return fl(null,r,s,!1,l)},Wt.unmountComponentAtNode=function(r){if(!dl(r))throw Error(n(40));return r._reactRootContainer?(bs(function(){fl(null,null,r,!1,function(){r._reactRootContainer=null,r[nn]=null})}),!0):!1},Wt.unstable_batchedUpdates=Gu,Wt.unstable_renderSubtreeIntoContainer=function(r,s,l,f){if(!dl(l))throw Error(n(200));if(r==null||r._reactInternals===void 0)throw Error(n(38));return fl(r,s,l,!1,f)},Wt.version="18.3.1-next-f1338f8080-20240426",Wt}var Um;function vv(){if(Um)return id.exports;Um=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),id.exports=p_(),id.exports}var zm;function m_(){if(zm)return pl;zm=1;var t=vv();return pl.createRoot=t.createRoot,pl.hydrateRoot=t.hydrateRoot,pl}var g_=m_(),w=Xl();const te=pf(w),Zl=gv({__proto__:null,default:te},[w]);var Zi=vv();const yv=pf(Zi);/**
 * @remix-run/router v1.23.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Wi(){return Wi=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(t[o]=n[o])}return t},Wi.apply(this,arguments)}var Qn;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(Qn||(Qn={}));const Bm="popstate";function v_(t){t===void 0&&(t={});function e(o,i){let{pathname:a,search:u,hash:d}=o.location;return Ld("",{pathname:a,search:u,hash:d},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function n(o,i){return typeof i=="string"?i:Ll(i)}return w_(e,n,null,t)}function it(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function mf(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function y_(){return Math.random().toString(36).substr(2,8)}function Vm(t,e){return{usr:t.state,key:t.key,idx:e}}function Ld(t,e,n,o){return n===void 0&&(n=null),Wi({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?Oo(e):e,{state:n,key:e&&e.key||o||y_()})}function Ll(t){let{pathname:e="/",search:n="",hash:o=""}=t;return n&&n!=="?"&&(e+=n.charAt(0)==="?"?n:"?"+n),o&&o!=="#"&&(e+=o.charAt(0)==="#"?o:"#"+o),e}function Oo(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substr(n),t=t.substr(0,n));let o=t.indexOf("?");o>=0&&(e.search=t.substr(o),t=t.substr(0,o)),t&&(e.pathname=t)}return e}function w_(t,e,n,o){o===void 0&&(o={});let{window:i=document.defaultView,v5Compat:a=!1}=o,u=i.history,d=Qn.Pop,h=null,p=g();p==null&&(p=0,u.replaceState(Wi({},u.state,{idx:p}),""));function g(){return(u.state||{idx:null}).idx}function m(){d=Qn.Pop;let S=g(),k=S==null?null:S-p;p=S,h&&h({action:d,location:_.location,delta:k})}function x(S,k){d=Qn.Push;let C=Ld(_.location,S,k);p=g()+1;let N=Vm(C,p),P=_.createHref(C);try{u.pushState(N,"",P)}catch(F){if(F instanceof DOMException&&F.name==="DataCloneError")throw F;i.location.assign(P)}a&&h&&h({action:d,location:_.location,delta:1})}function b(S,k){d=Qn.Replace;let C=Ld(_.location,S,k);p=g();let N=Vm(C,p),P=_.createHref(C);u.replaceState(N,"",P),a&&h&&h({action:d,location:_.location,delta:0})}function j(S){let k=i.location.origin!=="null"?i.location.origin:i.location.href,C=typeof S=="string"?S:Ll(S);return C=C.replace(/ $/,"%20"),it(k,"No window.location.(origin|href) available to create URL for href: "+C),new URL(C,k)}let _={get action(){return d},get location(){return t(i,u)},listen(S){if(h)throw new Error("A history only accepts one active listener");return i.addEventListener(Bm,m),h=S,()=>{i.removeEventListener(Bm,m),h=null}},createHref(S){return e(i,S)},createURL:j,encodeLocation(S){let k=j(S);return{pathname:k.pathname,search:k.search,hash:k.hash}},push:x,replace:b,go(S){return u.go(S)}};return _}var Wm;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(Wm||(Wm={}));function x_(t,e,n){return n===void 0&&(n="/"),b_(t,e,n)}function b_(t,e,n,o){let i=typeof e=="string"?Oo(e):e,a=gf(i.pathname||"/",n);if(a==null)return null;let u=wv(t);__(u);let d=null;for(let h=0;d==null&&h<u.length;++h){let p=I_(a);d=P_(u[h],p)}return d}function wv(t,e,n,o){e===void 0&&(e=[]),n===void 0&&(n=[]),o===void 0&&(o="");let i=(a,u,d)=>{let h={relativePath:d===void 0?a.path||"":d,caseSensitive:a.caseSensitive===!0,childrenIndex:u,route:a};h.relativePath.startsWith("/")&&(it(h.relativePath.startsWith(o),'Absolute route path "'+h.relativePath+'" nested under path '+('"'+o+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),h.relativePath=h.relativePath.slice(o.length));let p=Zn([o,h.relativePath]),g=n.concat(h);a.children&&a.children.length>0&&(it(a.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+p+'".')),wv(a.children,e,g,p)),!(a.path==null&&!a.index)&&e.push({path:p,score:R_(p,a.index),routesMeta:g})};return t.forEach((a,u)=>{var d;if(a.path===""||!((d=a.path)!=null&&d.includes("?")))i(a,u);else for(let h of xv(a.path))i(a,u,h)}),e}function xv(t){let e=t.split("/");if(e.length===0)return[];let[n,...o]=e,i=n.endsWith("?"),a=n.replace(/\?$/,"");if(o.length===0)return i?[a,""]:[a];let u=xv(o.join("/")),d=[];return d.push(...u.map(h=>h===""?a:[a,h].join("/"))),i&&d.push(...u),d.map(h=>t.startsWith("/")&&h===""?"/":h)}function __(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:T_(e.routesMeta.map(o=>o.childrenIndex),n.routesMeta.map(o=>o.childrenIndex)))}const S_=/^:[\w-]+$/,j_=3,E_=2,k_=1,C_=10,N_=-2,Hm=t=>t==="*";function R_(t,e){let n=t.split("/"),o=n.length;return n.some(Hm)&&(o+=N_),e&&(o+=E_),n.filter(i=>!Hm(i)).reduce((i,a)=>i+(S_.test(a)?j_:a===""?k_:C_),o)}function T_(t,e){return t.length===e.length&&t.slice(0,-1).every((o,i)=>o===e[i])?t[t.length-1]-e[e.length-1]:0}function P_(t,e,n){let{routesMeta:o}=t,i={},a="/",u=[];for(let d=0;d<o.length;++d){let h=o[d],p=d===o.length-1,g=a==="/"?e:e.slice(a.length)||"/",m=A_({path:h.relativePath,caseSensitive:h.caseSensitive,end:p},g),x=h.route;if(!m)return null;Object.assign(i,m.params),u.push({params:i,pathname:Zn([a,m.pathname]),pathnameBase:F_(Zn([a,m.pathnameBase])),route:x}),m.pathnameBase!=="/"&&(a=Zn([a,m.pathnameBase]))}return u}function A_(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,o]=O_(t.path,t.caseSensitive,t.end),i=e.match(n);if(!i)return null;let a=i[0],u=a.replace(/(.)\/+$/,"$1"),d=i.slice(1);return{params:o.reduce((p,g,m)=>{let{paramName:x,isOptional:b}=g;if(x==="*"){let _=d[m]||"";u=a.slice(0,a.length-_.length).replace(/(.)\/+$/,"$1")}const j=d[m];return b&&!j?p[x]=void 0:p[x]=(j||"").replace(/%2F/g,"/"),p},{}),pathname:a,pathnameBase:u,pattern:t}}function O_(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!0),mf(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let o=[],i="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(u,d,h)=>(o.push({paramName:d,isOptional:h!=null}),h?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(o.push({paramName:"*"}),i+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":t!==""&&t!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),o]}function I_(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return mf(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function gf(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,o=t.charAt(n);return o&&o!=="/"?null:t.slice(n)||"/"}const D_=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,L_=t=>D_.test(t);function $_(t,e){e===void 0&&(e="/");let{pathname:n,search:o="",hash:i=""}=typeof t=="string"?Oo(t):t,a;if(n)if(L_(n))a=n;else{if(n.includes("//")){let u=n;n=n.replace(/\/\/+/g,"/"),mf(!1,"Pathnames cannot have embedded double slashes - normalizing "+(u+" -> "+n))}n.startsWith("/")?a=qm(n.substring(1),"/"):a=qm(n,e)}else a=e;return{pathname:a,search:U_(o),hash:z_(i)}}function qm(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function cd(t,e,n,o){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(o)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function M_(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function vf(t,e){let n=M_(t);return e?n.map((o,i)=>i===n.length-1?o.pathname:o.pathnameBase):n.map(o=>o.pathnameBase)}function yf(t,e,n,o){o===void 0&&(o=!1);let i;typeof t=="string"?i=Oo(t):(i=Wi({},t),it(!i.pathname||!i.pathname.includes("?"),cd("?","pathname","search",i)),it(!i.pathname||!i.pathname.includes("#"),cd("#","pathname","hash",i)),it(!i.search||!i.search.includes("#"),cd("#","search","hash",i)));let a=t===""||i.pathname==="",u=a?"/":i.pathname,d;if(u==null)d=n;else{let m=e.length-1;if(!o&&u.startsWith("..")){let x=u.split("/");for(;x[0]==="..";)x.shift(),m-=1;i.pathname=x.join("/")}d=m>=0?e[m]:"/"}let h=$_(i,d),p=u&&u!=="/"&&u.endsWith("/"),g=(a||u===".")&&n.endsWith("/");return!h.pathname.endsWith("/")&&(p||g)&&(h.pathname+="/"),h}const Zn=t=>t.join("/").replace(/\/\/+/g,"/"),F_=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),U_=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,z_=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function B_(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const bv=["post","put","patch","delete"];new Set(bv);const V_=["get",...bv];new Set(V_);/**
 * React Router v6.30.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Hi(){return Hi=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(t[o]=n[o])}return t},Hi.apply(this,arguments)}const wf=w.createContext(null),W_=w.createContext(null),ns=w.createContext(null),ec=w.createContext(null),vn=w.createContext({outlet:null,matches:[],isDataRoute:!1}),_v=w.createContext(null);function H_(t,e){let{relative:n}=e===void 0?{}:e;Io()||it(!1);let{basename:o,navigator:i}=w.useContext(ns),{hash:a,pathname:u,search:d}=jv(t,{relative:n}),h=u;return o!=="/"&&(h=u==="/"?o:Zn([o,u])),i.createHref({pathname:h,search:d,hash:a})}function Io(){return w.useContext(ec)!=null}function Do(){return Io()||it(!1),w.useContext(ec).location}function Sv(t){w.useContext(ns).static||w.useLayoutEffect(t)}function yn(){let{isDataRoute:t}=w.useContext(vn);return t?oS():q_()}function q_(){Io()||it(!1);let t=w.useContext(wf),{basename:e,future:n,navigator:o}=w.useContext(ns),{matches:i}=w.useContext(vn),{pathname:a}=Do(),u=JSON.stringify(vf(i,n.v7_relativeSplatPath)),d=w.useRef(!1);return Sv(()=>{d.current=!0}),w.useCallback(function(p,g){if(g===void 0&&(g={}),!d.current)return;if(typeof p=="number"){o.go(p);return}let m=yf(p,JSON.parse(u),a,g.relative==="path");t==null&&e!=="/"&&(m.pathname=m.pathname==="/"?e:Zn([e,m.pathname])),(g.replace?o.replace:o.push)(m,g.state,g)},[e,o,u,a,t])}function K_(){let{matches:t}=w.useContext(vn),e=t[t.length-1];return e?e.params:{}}function jv(t,e){let{relative:n}=e===void 0?{}:e,{future:o}=w.useContext(ns),{matches:i}=w.useContext(vn),{pathname:a}=Do(),u=JSON.stringify(vf(i,o.v7_relativeSplatPath));return w.useMemo(()=>yf(t,JSON.parse(u),a,n==="path"),[t,u,a,n])}function G_(t,e){return Y_(t,e)}function Y_(t,e,n,o){Io()||it(!1);let{navigator:i}=w.useContext(ns),{matches:a}=w.useContext(vn),u=a[a.length-1],d=u?u.params:{};u&&u.pathname;let h=u?u.pathnameBase:"/";u&&u.route;let p=Do(),g;if(e){var m;let S=typeof e=="string"?Oo(e):e;h==="/"||(m=S.pathname)!=null&&m.startsWith(h)||it(!1),g=S}else g=p;let x=g.pathname||"/",b=x;if(h!=="/"){let S=h.replace(/^\//,"").split("/");b="/"+x.replace(/^\//,"").split("/").slice(S.length).join("/")}let j=x_(t,{pathname:b}),_=eS(j&&j.map(S=>Object.assign({},S,{params:Object.assign({},d,S.params),pathname:Zn([h,i.encodeLocation?i.encodeLocation(S.pathname).pathname:S.pathname]),pathnameBase:S.pathnameBase==="/"?h:Zn([h,i.encodeLocation?i.encodeLocation(S.pathnameBase).pathname:S.pathnameBase])})),a,n,o);return e&&_?w.createElement(ec.Provider,{value:{location:Hi({pathname:"/",search:"",hash:"",state:null,key:"default"},g),navigationType:Qn.Pop}},_):_}function J_(){let t=sS(),e=B_(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return w.createElement(w.Fragment,null,w.createElement("h2",null,"Unexpected Application Error!"),w.createElement("h3",{style:{fontStyle:"italic"}},e),n?w.createElement("pre",{style:i},n):null,null)}const Q_=w.createElement(J_,null);class X_ extends w.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,n){return n.location!==e.location||n.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:n.error,location:n.location,revalidation:e.revalidation||n.revalidation}}componentDidCatch(e,n){console.error("React Router caught the following error during render",e,n)}render(){return this.state.error!==void 0?w.createElement(vn.Provider,{value:this.props.routeContext},w.createElement(_v.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function Z_(t){let{routeContext:e,match:n,children:o}=t,i=w.useContext(wf);return i&&i.static&&i.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=n.route.id),w.createElement(vn.Provider,{value:e},o)}function eS(t,e,n,o){var i;if(e===void 0&&(e=[]),n===void 0&&(n=null),o===void 0&&(o=null),t==null){var a;if(!n)return null;if(n.errors)t=n.matches;else if((a=o)!=null&&a.v7_partialHydration&&e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let u=t,d=(i=n)==null?void 0:i.errors;if(d!=null){let g=u.findIndex(m=>m.route.id&&d?.[m.route.id]!==void 0);g>=0||it(!1),u=u.slice(0,Math.min(u.length,g+1))}let h=!1,p=-1;if(n&&o&&o.v7_partialHydration)for(let g=0;g<u.length;g++){let m=u[g];if((m.route.HydrateFallback||m.route.hydrateFallbackElement)&&(p=g),m.route.id){let{loaderData:x,errors:b}=n,j=m.route.loader&&x[m.route.id]===void 0&&(!b||b[m.route.id]===void 0);if(m.route.lazy||j){h=!0,p>=0?u=u.slice(0,p+1):u=[u[0]];break}}}return u.reduceRight((g,m,x)=>{let b,j=!1,_=null,S=null;n&&(b=d&&m.route.id?d[m.route.id]:void 0,_=m.route.errorElement||Q_,h&&(p<0&&x===0?(iS("route-fallback"),j=!0,S=null):p===x&&(j=!0,S=m.route.hydrateFallbackElement||null)));let k=e.concat(u.slice(0,x+1)),C=()=>{let N;return b?N=_:j?N=S:m.route.Component?N=w.createElement(m.route.Component,null):m.route.element?N=m.route.element:N=g,w.createElement(Z_,{match:m,routeContext:{outlet:g,matches:k,isDataRoute:n!=null},children:N})};return n&&(m.route.ErrorBoundary||m.route.errorElement||x===0)?w.createElement(X_,{location:n.location,revalidation:n.revalidation,component:_,error:b,children:C(),routeContext:{outlet:null,matches:k,isDataRoute:!0}}):C()},null)}var Ev=(function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t})(Ev||{}),kv=(function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t})(kv||{});function tS(t){let e=w.useContext(wf);return e||it(!1),e}function rS(t){let e=w.useContext(W_);return e||it(!1),e}function nS(t){let e=w.useContext(vn);return e||it(!1),e}function Cv(t){let e=nS(),n=e.matches[e.matches.length-1];return n.route.id||it(!1),n.route.id}function sS(){var t;let e=w.useContext(_v),n=rS(),o=Cv();return e!==void 0?e:(t=n.errors)==null?void 0:t[o]}function oS(){let{router:t}=tS(Ev.UseNavigateStable),e=Cv(kv.UseNavigateStable),n=w.useRef(!1);return Sv(()=>{n.current=!0}),w.useCallback(function(i,a){a===void 0&&(a={}),n.current&&(typeof i=="number"?t.navigate(i):t.navigate(i,Hi({fromRouteId:e},a)))},[t,e])}const Km={};function iS(t,e,n){Km[t]||(Km[t]=!0)}function aS(t,e){t?.v7_startTransition,t?.v7_relativeSplatPath}function $d(t){let{to:e,replace:n,state:o,relative:i}=t;Io()||it(!1);let{future:a,static:u}=w.useContext(ns),{matches:d}=w.useContext(vn),{pathname:h}=Do(),p=yn(),g=yf(e,vf(d,a.v7_relativeSplatPath),h,i==="path"),m=JSON.stringify(g);return w.useEffect(()=>p(JSON.parse(m),{replace:n,state:o,relative:i}),[p,m,i,n,o]),null}function Rr(t){it(!1)}function lS(t){let{basename:e="/",children:n=null,location:o,navigationType:i=Qn.Pop,navigator:a,static:u=!1,future:d}=t;Io()&&it(!1);let h=e.replace(/^\/*/,"/"),p=w.useMemo(()=>({basename:h,navigator:a,static:u,future:Hi({v7_relativeSplatPath:!1},d)}),[h,d,a,u]);typeof o=="string"&&(o=Oo(o));let{pathname:g="/",search:m="",hash:x="",state:b=null,key:j="default"}=o,_=w.useMemo(()=>{let S=gf(g,h);return S==null?null:{location:{pathname:S,search:m,hash:x,state:b,key:j},navigationType:i}},[h,g,m,x,b,j,i]);return _==null?null:w.createElement(ns.Provider,{value:p},w.createElement(ec.Provider,{children:n,value:_}))}function cS(t){let{children:e,location:n}=t;return G_(Md(e),n)}new Promise(()=>{});function Md(t,e){e===void 0&&(e=[]);let n=[];return w.Children.forEach(t,(o,i)=>{if(!w.isValidElement(o))return;let a=[...e,i];if(o.type===w.Fragment){n.push.apply(n,Md(o.props.children,a));return}o.type!==Rr&&it(!1),!o.props.index||!o.props.children||it(!1);let u={id:o.props.id||a.join("-"),caseSensitive:o.props.caseSensitive,element:o.props.element,Component:o.props.Component,index:o.props.index,path:o.props.path,loader:o.props.loader,action:o.props.action,errorElement:o.props.errorElement,ErrorBoundary:o.props.ErrorBoundary,hasErrorBoundary:o.props.ErrorBoundary!=null||o.props.errorElement!=null,shouldRevalidate:o.props.shouldRevalidate,handle:o.props.handle,lazy:o.props.lazy};o.props.children&&(u.children=Md(o.props.children,a)),n.push(u)}),n}/**
 * React Router DOM v6.30.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Fd(){return Fd=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(t[o]=n[o])}return t},Fd.apply(this,arguments)}function uS(t,e){if(t==null)return{};var n={},o=Object.keys(t),i,a;for(a=0;a<o.length;a++)i=o[a],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function dS(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function fS(t,e){return t.button===0&&(!e||e==="_self")&&!dS(t)}const hS=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],pS="6";try{window.__reactRouterVersion=pS}catch{}const mS="startTransition",Gm=Zl[mS];function gS(t){let{basename:e,children:n,future:o,window:i}=t,a=w.useRef();a.current==null&&(a.current=v_({window:i,v5Compat:!0}));let u=a.current,[d,h]=w.useState({action:u.action,location:u.location}),{v7_startTransition:p}=o||{},g=w.useCallback(m=>{p&&Gm?Gm(()=>h(m)):h(m)},[h,p]);return w.useLayoutEffect(()=>u.listen(g),[u,g]),w.useEffect(()=>aS(o),[o]),w.createElement(lS,{basename:e,children:n,location:d.location,navigationType:d.action,navigator:u,future:o})}const vS=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",yS=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,wS=w.forwardRef(function(e,n){let{onClick:o,relative:i,reloadDocument:a,replace:u,state:d,target:h,to:p,preventScrollReset:g,viewTransition:m}=e,x=uS(e,hS),{basename:b}=w.useContext(ns),j,_=!1;if(typeof p=="string"&&yS.test(p)&&(j=p,vS))try{let N=new URL(window.location.href),P=p.startsWith("//")?new URL(N.protocol+p):new URL(p),F=gf(P.pathname,b);P.origin===N.origin&&F!=null?p=F+P.search+P.hash:_=!0}catch{}let S=H_(p,{relative:i}),k=xS(p,{replace:u,state:d,target:h,preventScrollReset:g,relative:i,viewTransition:m});function C(N){o&&o(N),N.defaultPrevented||k(N)}return w.createElement("a",Fd({},x,{href:j||S,onClick:_||a?o:C,ref:n,target:h}))});var Ym;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(Ym||(Ym={}));var Jm;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(Jm||(Jm={}));function xS(t,e){let{target:n,replace:o,state:i,preventScrollReset:a,relative:u,viewTransition:d}=e===void 0?{}:e,h=yn(),p=Do(),g=jv(t,{relative:u});return w.useCallback(m=>{if(fS(m,n)){m.preventDefault();let x=o!==void 0?o:Ll(p)===Ll(g);h(t,{replace:x,state:i,preventScrollReset:a,relative:u,viewTransition:d})}},[p,h,g,o,i,n,t,a,u,d])}function Nv(t){var e,n,o="";if(typeof t=="string"||typeof t=="number")o+=t;else if(typeof t=="object")if(Array.isArray(t)){var i=t.length;for(e=0;e<i;e++)t[e]&&(n=Nv(t[e]))&&(o&&(o+=" "),o+=n)}else for(n in t)t[n]&&(o&&(o+=" "),o+=n);return o}function Rv(){for(var t,e,n=0,o="",i=arguments.length;n<i;n++)(t=arguments[n])&&(e=Nv(t))&&(o&&(o+=" "),o+=e);return o}const bS=(t,e)=>{const n=new Array(t.length+e.length);for(let o=0;o<t.length;o++)n[o]=t[o];for(let o=0;o<e.length;o++)n[t.length+o]=e[o];return n},_S=(t,e)=>({classGroupId:t,validator:e}),Tv=(t=new Map,e=null,n)=>({nextPart:t,validators:e,classGroupId:n}),$l="-",Qm=[],SS="arbitrary..",jS=t=>{const e=kS(t),{conflictingClassGroups:n,conflictingClassGroupModifiers:o}=t;return{getClassGroupId:u=>{if(u.startsWith("[")&&u.endsWith("]"))return ES(u);const d=u.split($l),h=d[0]===""&&d.length>1?1:0;return Pv(d,h,e)},getConflictingClassGroupIds:(u,d)=>{if(d){const h=o[u],p=n[u];return h?p?bS(p,h):h:p||Qm}return n[u]||Qm}}},Pv=(t,e,n)=>{if(t.length-e===0)return n.classGroupId;const i=t[e],a=n.nextPart.get(i);if(a){const p=Pv(t,e+1,a);if(p)return p}const u=n.validators;if(u===null)return;const d=e===0?t.join($l):t.slice(e).join($l),h=u.length;for(let p=0;p<h;p++){const g=u[p];if(g.validator(d))return g.classGroupId}},ES=t=>t.slice(1,-1).indexOf(":")===-1?void 0:(()=>{const e=t.slice(1,-1),n=e.indexOf(":"),o=e.slice(0,n);return o?SS+o:void 0})(),kS=t=>{const{theme:e,classGroups:n}=t;return CS(n,e)},CS=(t,e)=>{const n=Tv();for(const o in t){const i=t[o];xf(i,n,o,e)}return n},xf=(t,e,n,o)=>{const i=t.length;for(let a=0;a<i;a++){const u=t[a];NS(u,e,n,o)}},NS=(t,e,n,o)=>{if(typeof t=="string"){RS(t,e,n);return}if(typeof t=="function"){TS(t,e,n,o);return}PS(t,e,n,o)},RS=(t,e,n)=>{const o=t===""?e:Av(e,t);o.classGroupId=n},TS=(t,e,n,o)=>{if(AS(t)){xf(t(o),e,n,o);return}e.validators===null&&(e.validators=[]),e.validators.push(_S(n,t))},PS=(t,e,n,o)=>{const i=Object.entries(t),a=i.length;for(let u=0;u<a;u++){const[d,h]=i[u];xf(h,Av(e,d),n,o)}},Av=(t,e)=>{let n=t;const o=e.split($l),i=o.length;for(let a=0;a<i;a++){const u=o[a];let d=n.nextPart.get(u);d||(d=Tv(),n.nextPart.set(u,d)),n=d}return n},AS=t=>"isThemeGetter"in t&&t.isThemeGetter===!0,OS=t=>{if(t<1)return{get:()=>{},set:()=>{}};let e=0,n=Object.create(null),o=Object.create(null);const i=(a,u)=>{n[a]=u,e++,e>t&&(e=0,o=n,n=Object.create(null))};return{get(a){let u=n[a];if(u!==void 0)return u;if((u=o[a])!==void 0)return i(a,u),u},set(a,u){a in n?n[a]=u:i(a,u)}}},Ud="!",Xm=":",IS=[],Zm=(t,e,n,o,i)=>({modifiers:t,hasImportantModifier:e,baseClassName:n,maybePostfixModifierPosition:o,isExternal:i}),DS=t=>{const{prefix:e,experimentalParseClassName:n}=t;let o=i=>{const a=[];let u=0,d=0,h=0,p;const g=i.length;for(let _=0;_<g;_++){const S=i[_];if(u===0&&d===0){if(S===Xm){a.push(i.slice(h,_)),h=_+1;continue}if(S==="/"){p=_;continue}}S==="["?u++:S==="]"?u--:S==="("?d++:S===")"&&d--}const m=a.length===0?i:i.slice(h);let x=m,b=!1;m.endsWith(Ud)?(x=m.slice(0,-1),b=!0):m.startsWith(Ud)&&(x=m.slice(1),b=!0);const j=p&&p>h?p-h:void 0;return Zm(a,b,x,j)};if(e){const i=e+Xm,a=o;o=u=>u.startsWith(i)?a(u.slice(i.length)):Zm(IS,!1,u,void 0,!0)}if(n){const i=o;o=a=>n({className:a,parseClassName:i})}return o},LS=t=>{const e=new Map;return t.orderSensitiveModifiers.forEach((n,o)=>{e.set(n,1e6+o)}),n=>{const o=[];let i=[];for(let a=0;a<n.length;a++){const u=n[a],d=u[0]==="[",h=e.has(u);d||h?(i.length>0&&(i.sort(),o.push(...i),i=[]),o.push(u)):i.push(u)}return i.length>0&&(i.sort(),o.push(...i)),o}},$S=t=>({cache:OS(t.cacheSize),parseClassName:DS(t),sortModifiers:LS(t),...jS(t)}),MS=/\s+/,FS=(t,e)=>{const{parseClassName:n,getClassGroupId:o,getConflictingClassGroupIds:i,sortModifiers:a}=e,u=[],d=t.trim().split(MS);let h="";for(let p=d.length-1;p>=0;p-=1){const g=d[p],{isExternal:m,modifiers:x,hasImportantModifier:b,baseClassName:j,maybePostfixModifierPosition:_}=n(g);if(m){h=g+(h.length>0?" "+h:h);continue}let S=!!_,k=o(S?j.substring(0,_):j);if(!k){if(!S){h=g+(h.length>0?" "+h:h);continue}if(k=o(j),!k){h=g+(h.length>0?" "+h:h);continue}S=!1}const C=x.length===0?"":x.length===1?x[0]:a(x).join(":"),N=b?C+Ud:C,P=N+k;if(u.indexOf(P)>-1)continue;u.push(P);const F=i(k,S);for(let V=0;V<F.length;++V){const D=F[V];u.push(N+D)}h=g+(h.length>0?" "+h:h)}return h},US=(...t)=>{let e=0,n,o,i="";for(;e<t.length;)(n=t[e++])&&(o=Ov(n))&&(i&&(i+=" "),i+=o);return i},Ov=t=>{if(typeof t=="string")return t;let e,n="";for(let o=0;o<t.length;o++)t[o]&&(e=Ov(t[o]))&&(n&&(n+=" "),n+=e);return n},zS=(t,...e)=>{let n,o,i,a;const u=h=>{const p=e.reduce((g,m)=>m(g),t());return n=$S(p),o=n.cache.get,i=n.cache.set,a=d,d(h)},d=h=>{const p=o(h);if(p)return p;const g=FS(h,n);return i(h,g),g};return a=u,(...h)=>a(US(...h))},BS=[],mt=t=>{const e=n=>n[t]||BS;return e.isThemeGetter=!0,e},Iv=/^\[(?:(\w[\w-]*):)?(.+)\]$/i,Dv=/^\((?:(\w[\w-]*):)?(.+)\)$/i,VS=/^\d+\/\d+$/,WS=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,HS=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,qS=/^(rgba?|hsla?|hwb|(ok)?(lab|lch)|color-mix)\(.+\)$/,KS=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,GS=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,ho=t=>VS.test(t),Oe=t=>!!t&&!Number.isNaN(Number(t)),Kn=t=>!!t&&Number.isInteger(Number(t)),ud=t=>t.endsWith("%")&&Oe(t.slice(0,-1)),fn=t=>WS.test(t),YS=()=>!0,JS=t=>HS.test(t)&&!qS.test(t),Lv=()=>!1,QS=t=>KS.test(t),XS=t=>GS.test(t),ZS=t=>!fe(t)&&!he(t),e1=t=>Lo(t,Fv,Lv),fe=t=>Iv.test(t),Es=t=>Lo(t,Uv,JS),dd=t=>Lo(t,o1,Oe),eg=t=>Lo(t,$v,Lv),t1=t=>Lo(t,Mv,XS),ml=t=>Lo(t,zv,QS),he=t=>Dv.test(t),$i=t=>$o(t,Uv),r1=t=>$o(t,i1),tg=t=>$o(t,$v),n1=t=>$o(t,Fv),s1=t=>$o(t,Mv),gl=t=>$o(t,zv,!0),Lo=(t,e,n)=>{const o=Iv.exec(t);return o?o[1]?e(o[1]):n(o[2]):!1},$o=(t,e,n=!1)=>{const o=Dv.exec(t);return o?o[1]?e(o[1]):n:!1},$v=t=>t==="position"||t==="percentage",Mv=t=>t==="image"||t==="url",Fv=t=>t==="length"||t==="size"||t==="bg-size",Uv=t=>t==="length",o1=t=>t==="number",i1=t=>t==="family-name",zv=t=>t==="shadow",a1=()=>{const t=mt("color"),e=mt("font"),n=mt("text"),o=mt("font-weight"),i=mt("tracking"),a=mt("leading"),u=mt("breakpoint"),d=mt("container"),h=mt("spacing"),p=mt("radius"),g=mt("shadow"),m=mt("inset-shadow"),x=mt("text-shadow"),b=mt("drop-shadow"),j=mt("blur"),_=mt("perspective"),S=mt("aspect"),k=mt("ease"),C=mt("animate"),N=()=>["auto","avoid","all","avoid-page","page","left","right","column"],P=()=>["center","top","bottom","left","right","top-left","left-top","top-right","right-top","bottom-right","right-bottom","bottom-left","left-bottom"],F=()=>[...P(),he,fe],V=()=>["auto","hidden","clip","visible","scroll"],D=()=>["auto","contain","none"],z=()=>[he,fe,h],q=()=>[ho,"full","auto",...z()],ne=()=>[Kn,"none","subgrid",he,fe],ue=()=>["auto",{span:["full",Kn,he,fe]},Kn,he,fe],ge=()=>[Kn,"auto",he,fe],le=()=>["auto","min","max","fr",he,fe],pe=()=>["start","end","center","between","around","evenly","stretch","baseline","center-safe","end-safe"],be=()=>["start","end","center","stretch","center-safe","end-safe"],B=()=>["auto",...z()],$=()=>[ho,"auto","full","dvw","dvh","lvw","lvh","svw","svh","min","max","fit",...z()],O=()=>[t,he,fe],Z=()=>[...P(),tg,eg,{position:[he,fe]}],K=()=>["no-repeat",{repeat:["","x","y","space","round"]}],I=()=>["auto","cover","contain",n1,e1,{size:[he,fe]}],H=()=>[ud,$i,Es],Q=()=>["","none","full",p,he,fe],W=()=>["",Oe,$i,Es],oe=()=>["solid","dashed","dotted","double"],_e=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],J=()=>[Oe,ud,tg,eg],re=()=>["","none",j,he,fe],Se=()=>["none",Oe,he,fe],Ce=()=>["none",Oe,he,fe],Ie=()=>[Oe,he,fe],Me=()=>[ho,"full",...z()];return{cacheSize:500,theme:{animate:["spin","ping","pulse","bounce"],aspect:["video"],blur:[fn],breakpoint:[fn],color:[YS],container:[fn],"drop-shadow":[fn],ease:["in","out","in-out"],font:[ZS],"font-weight":["thin","extralight","light","normal","medium","semibold","bold","extrabold","black"],"inset-shadow":[fn],leading:["none","tight","snug","normal","relaxed","loose"],perspective:["dramatic","near","normal","midrange","distant","none"],radius:[fn],shadow:[fn],spacing:["px",Oe],text:[fn],"text-shadow":[fn],tracking:["tighter","tight","normal","wide","wider","widest"]},classGroups:{aspect:[{aspect:["auto","square",ho,fe,he,S]}],container:["container"],columns:[{columns:[Oe,fe,he,d]}],"break-after":[{"break-after":N()}],"break-before":[{"break-before":N()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],sr:["sr-only","not-sr-only"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:F()}],overflow:[{overflow:V()}],"overflow-x":[{"overflow-x":V()}],"overflow-y":[{"overflow-y":V()}],overscroll:[{overscroll:D()}],"overscroll-x":[{"overscroll-x":D()}],"overscroll-y":[{"overscroll-y":D()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:q()}],"inset-x":[{"inset-x":q()}],"inset-y":[{"inset-y":q()}],start:[{start:q()}],end:[{end:q()}],top:[{top:q()}],right:[{right:q()}],bottom:[{bottom:q()}],left:[{left:q()}],visibility:["visible","invisible","collapse"],z:[{z:[Kn,"auto",he,fe]}],basis:[{basis:[ho,"full","auto",d,...z()]}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["nowrap","wrap","wrap-reverse"]}],flex:[{flex:[Oe,ho,"auto","initial","none",fe]}],grow:[{grow:["",Oe,he,fe]}],shrink:[{shrink:["",Oe,he,fe]}],order:[{order:[Kn,"first","last","none",he,fe]}],"grid-cols":[{"grid-cols":ne()}],"col-start-end":[{col:ue()}],"col-start":[{"col-start":ge()}],"col-end":[{"col-end":ge()}],"grid-rows":[{"grid-rows":ne()}],"row-start-end":[{row:ue()}],"row-start":[{"row-start":ge()}],"row-end":[{"row-end":ge()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":le()}],"auto-rows":[{"auto-rows":le()}],gap:[{gap:z()}],"gap-x":[{"gap-x":z()}],"gap-y":[{"gap-y":z()}],"justify-content":[{justify:[...pe(),"normal"]}],"justify-items":[{"justify-items":[...be(),"normal"]}],"justify-self":[{"justify-self":["auto",...be()]}],"align-content":[{content:["normal",...pe()]}],"align-items":[{items:[...be(),{baseline:["","last"]}]}],"align-self":[{self:["auto",...be(),{baseline:["","last"]}]}],"place-content":[{"place-content":pe()}],"place-items":[{"place-items":[...be(),"baseline"]}],"place-self":[{"place-self":["auto",...be()]}],p:[{p:z()}],px:[{px:z()}],py:[{py:z()}],ps:[{ps:z()}],pe:[{pe:z()}],pt:[{pt:z()}],pr:[{pr:z()}],pb:[{pb:z()}],pl:[{pl:z()}],m:[{m:B()}],mx:[{mx:B()}],my:[{my:B()}],ms:[{ms:B()}],me:[{me:B()}],mt:[{mt:B()}],mr:[{mr:B()}],mb:[{mb:B()}],ml:[{ml:B()}],"space-x":[{"space-x":z()}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":z()}],"space-y-reverse":["space-y-reverse"],size:[{size:$()}],w:[{w:[d,"screen",...$()]}],"min-w":[{"min-w":[d,"screen","none",...$()]}],"max-w":[{"max-w":[d,"screen","none","prose",{screen:[u]},...$()]}],h:[{h:["screen","lh",...$()]}],"min-h":[{"min-h":["screen","lh","none",...$()]}],"max-h":[{"max-h":["screen","lh",...$()]}],"font-size":[{text:["base",n,$i,Es]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:[o,he,dd]}],"font-stretch":[{"font-stretch":["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded",ud,fe]}],"font-family":[{font:[r1,fe,e]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:[i,he,fe]}],"line-clamp":[{"line-clamp":[Oe,"none",he,dd]}],leading:[{leading:[a,...z()]}],"list-image":[{"list-image":["none",he,fe]}],"list-style-position":[{list:["inside","outside"]}],"list-style-type":[{list:["disc","decimal","none",he,fe]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"placeholder-color":[{placeholder:O()}],"text-color":[{text:O()}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...oe(),"wavy"]}],"text-decoration-thickness":[{decoration:[Oe,"from-font","auto",he,Es]}],"text-decoration-color":[{decoration:O()}],"underline-offset":[{"underline-offset":[Oe,"auto",he,fe]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:z()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",he,fe]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],wrap:[{wrap:["break-word","anywhere","normal"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",he,fe]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:Z()}],"bg-repeat":[{bg:K()}],"bg-size":[{bg:I()}],"bg-image":[{bg:["none",{linear:[{to:["t","tr","r","br","b","bl","l","tl"]},Kn,he,fe],radial:["",he,fe],conic:[Kn,he,fe]},s1,t1]}],"bg-color":[{bg:O()}],"gradient-from-pos":[{from:H()}],"gradient-via-pos":[{via:H()}],"gradient-to-pos":[{to:H()}],"gradient-from":[{from:O()}],"gradient-via":[{via:O()}],"gradient-to":[{to:O()}],rounded:[{rounded:Q()}],"rounded-s":[{"rounded-s":Q()}],"rounded-e":[{"rounded-e":Q()}],"rounded-t":[{"rounded-t":Q()}],"rounded-r":[{"rounded-r":Q()}],"rounded-b":[{"rounded-b":Q()}],"rounded-l":[{"rounded-l":Q()}],"rounded-ss":[{"rounded-ss":Q()}],"rounded-se":[{"rounded-se":Q()}],"rounded-ee":[{"rounded-ee":Q()}],"rounded-es":[{"rounded-es":Q()}],"rounded-tl":[{"rounded-tl":Q()}],"rounded-tr":[{"rounded-tr":Q()}],"rounded-br":[{"rounded-br":Q()}],"rounded-bl":[{"rounded-bl":Q()}],"border-w":[{border:W()}],"border-w-x":[{"border-x":W()}],"border-w-y":[{"border-y":W()}],"border-w-s":[{"border-s":W()}],"border-w-e":[{"border-e":W()}],"border-w-t":[{"border-t":W()}],"border-w-r":[{"border-r":W()}],"border-w-b":[{"border-b":W()}],"border-w-l":[{"border-l":W()}],"divide-x":[{"divide-x":W()}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":W()}],"divide-y-reverse":["divide-y-reverse"],"border-style":[{border:[...oe(),"hidden","none"]}],"divide-style":[{divide:[...oe(),"hidden","none"]}],"border-color":[{border:O()}],"border-color-x":[{"border-x":O()}],"border-color-y":[{"border-y":O()}],"border-color-s":[{"border-s":O()}],"border-color-e":[{"border-e":O()}],"border-color-t":[{"border-t":O()}],"border-color-r":[{"border-r":O()}],"border-color-b":[{"border-b":O()}],"border-color-l":[{"border-l":O()}],"divide-color":[{divide:O()}],"outline-style":[{outline:[...oe(),"none","hidden"]}],"outline-offset":[{"outline-offset":[Oe,he,fe]}],"outline-w":[{outline:["",Oe,$i,Es]}],"outline-color":[{outline:O()}],shadow:[{shadow:["","none",g,gl,ml]}],"shadow-color":[{shadow:O()}],"inset-shadow":[{"inset-shadow":["none",m,gl,ml]}],"inset-shadow-color":[{"inset-shadow":O()}],"ring-w":[{ring:W()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:O()}],"ring-offset-w":[{"ring-offset":[Oe,Es]}],"ring-offset-color":[{"ring-offset":O()}],"inset-ring-w":[{"inset-ring":W()}],"inset-ring-color":[{"inset-ring":O()}],"text-shadow":[{"text-shadow":["none",x,gl,ml]}],"text-shadow-color":[{"text-shadow":O()}],opacity:[{opacity:[Oe,he,fe]}],"mix-blend":[{"mix-blend":[..._e(),"plus-darker","plus-lighter"]}],"bg-blend":[{"bg-blend":_e()}],"mask-clip":[{"mask-clip":["border","padding","content","fill","stroke","view"]},"mask-no-clip"],"mask-composite":[{mask:["add","subtract","intersect","exclude"]}],"mask-image-linear-pos":[{"mask-linear":[Oe]}],"mask-image-linear-from-pos":[{"mask-linear-from":J()}],"mask-image-linear-to-pos":[{"mask-linear-to":J()}],"mask-image-linear-from-color":[{"mask-linear-from":O()}],"mask-image-linear-to-color":[{"mask-linear-to":O()}],"mask-image-t-from-pos":[{"mask-t-from":J()}],"mask-image-t-to-pos":[{"mask-t-to":J()}],"mask-image-t-from-color":[{"mask-t-from":O()}],"mask-image-t-to-color":[{"mask-t-to":O()}],"mask-image-r-from-pos":[{"mask-r-from":J()}],"mask-image-r-to-pos":[{"mask-r-to":J()}],"mask-image-r-from-color":[{"mask-r-from":O()}],"mask-image-r-to-color":[{"mask-r-to":O()}],"mask-image-b-from-pos":[{"mask-b-from":J()}],"mask-image-b-to-pos":[{"mask-b-to":J()}],"mask-image-b-from-color":[{"mask-b-from":O()}],"mask-image-b-to-color":[{"mask-b-to":O()}],"mask-image-l-from-pos":[{"mask-l-from":J()}],"mask-image-l-to-pos":[{"mask-l-to":J()}],"mask-image-l-from-color":[{"mask-l-from":O()}],"mask-image-l-to-color":[{"mask-l-to":O()}],"mask-image-x-from-pos":[{"mask-x-from":J()}],"mask-image-x-to-pos":[{"mask-x-to":J()}],"mask-image-x-from-color":[{"mask-x-from":O()}],"mask-image-x-to-color":[{"mask-x-to":O()}],"mask-image-y-from-pos":[{"mask-y-from":J()}],"mask-image-y-to-pos":[{"mask-y-to":J()}],"mask-image-y-from-color":[{"mask-y-from":O()}],"mask-image-y-to-color":[{"mask-y-to":O()}],"mask-image-radial":[{"mask-radial":[he,fe]}],"mask-image-radial-from-pos":[{"mask-radial-from":J()}],"mask-image-radial-to-pos":[{"mask-radial-to":J()}],"mask-image-radial-from-color":[{"mask-radial-from":O()}],"mask-image-radial-to-color":[{"mask-radial-to":O()}],"mask-image-radial-shape":[{"mask-radial":["circle","ellipse"]}],"mask-image-radial-size":[{"mask-radial":[{closest:["side","corner"],farthest:["side","corner"]}]}],"mask-image-radial-pos":[{"mask-radial-at":P()}],"mask-image-conic-pos":[{"mask-conic":[Oe]}],"mask-image-conic-from-pos":[{"mask-conic-from":J()}],"mask-image-conic-to-pos":[{"mask-conic-to":J()}],"mask-image-conic-from-color":[{"mask-conic-from":O()}],"mask-image-conic-to-color":[{"mask-conic-to":O()}],"mask-mode":[{mask:["alpha","luminance","match"]}],"mask-origin":[{"mask-origin":["border","padding","content","fill","stroke","view"]}],"mask-position":[{mask:Z()}],"mask-repeat":[{mask:K()}],"mask-size":[{mask:I()}],"mask-type":[{"mask-type":["alpha","luminance"]}],"mask-image":[{mask:["none",he,fe]}],filter:[{filter:["","none",he,fe]}],blur:[{blur:re()}],brightness:[{brightness:[Oe,he,fe]}],contrast:[{contrast:[Oe,he,fe]}],"drop-shadow":[{"drop-shadow":["","none",b,gl,ml]}],"drop-shadow-color":[{"drop-shadow":O()}],grayscale:[{grayscale:["",Oe,he,fe]}],"hue-rotate":[{"hue-rotate":[Oe,he,fe]}],invert:[{invert:["",Oe,he,fe]}],saturate:[{saturate:[Oe,he,fe]}],sepia:[{sepia:["",Oe,he,fe]}],"backdrop-filter":[{"backdrop-filter":["","none",he,fe]}],"backdrop-blur":[{"backdrop-blur":re()}],"backdrop-brightness":[{"backdrop-brightness":[Oe,he,fe]}],"backdrop-contrast":[{"backdrop-contrast":[Oe,he,fe]}],"backdrop-grayscale":[{"backdrop-grayscale":["",Oe,he,fe]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[Oe,he,fe]}],"backdrop-invert":[{"backdrop-invert":["",Oe,he,fe]}],"backdrop-opacity":[{"backdrop-opacity":[Oe,he,fe]}],"backdrop-saturate":[{"backdrop-saturate":[Oe,he,fe]}],"backdrop-sepia":[{"backdrop-sepia":["",Oe,he,fe]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":z()}],"border-spacing-x":[{"border-spacing-x":z()}],"border-spacing-y":[{"border-spacing-y":z()}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["","all","colors","opacity","shadow","transform","none",he,fe]}],"transition-behavior":[{transition:["normal","discrete"]}],duration:[{duration:[Oe,"initial",he,fe]}],ease:[{ease:["linear","initial",k,he,fe]}],delay:[{delay:[Oe,he,fe]}],animate:[{animate:["none",C,he,fe]}],backface:[{backface:["hidden","visible"]}],perspective:[{perspective:[_,he,fe]}],"perspective-origin":[{"perspective-origin":F()}],rotate:[{rotate:Se()}],"rotate-x":[{"rotate-x":Se()}],"rotate-y":[{"rotate-y":Se()}],"rotate-z":[{"rotate-z":Se()}],scale:[{scale:Ce()}],"scale-x":[{"scale-x":Ce()}],"scale-y":[{"scale-y":Ce()}],"scale-z":[{"scale-z":Ce()}],"scale-3d":["scale-3d"],skew:[{skew:Ie()}],"skew-x":[{"skew-x":Ie()}],"skew-y":[{"skew-y":Ie()}],transform:[{transform:[he,fe,"","none","gpu","cpu"]}],"transform-origin":[{origin:F()}],"transform-style":[{transform:["3d","flat"]}],translate:[{translate:Me()}],"translate-x":[{"translate-x":Me()}],"translate-y":[{"translate-y":Me()}],"translate-z":[{"translate-z":Me()}],"translate-none":["translate-none"],accent:[{accent:O()}],appearance:[{appearance:["none","auto"]}],"caret-color":[{caret:O()}],"color-scheme":[{scheme:["normal","dark","light","light-dark","only-dark","only-light"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",he,fe]}],"field-sizing":[{"field-sizing":["fixed","content"]}],"pointer-events":[{"pointer-events":["auto","none"]}],resize:[{resize:["none","","y","x"]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":z()}],"scroll-mx":[{"scroll-mx":z()}],"scroll-my":[{"scroll-my":z()}],"scroll-ms":[{"scroll-ms":z()}],"scroll-me":[{"scroll-me":z()}],"scroll-mt":[{"scroll-mt":z()}],"scroll-mr":[{"scroll-mr":z()}],"scroll-mb":[{"scroll-mb":z()}],"scroll-ml":[{"scroll-ml":z()}],"scroll-p":[{"scroll-p":z()}],"scroll-px":[{"scroll-px":z()}],"scroll-py":[{"scroll-py":z()}],"scroll-ps":[{"scroll-ps":z()}],"scroll-pe":[{"scroll-pe":z()}],"scroll-pt":[{"scroll-pt":z()}],"scroll-pr":[{"scroll-pr":z()}],"scroll-pb":[{"scroll-pb":z()}],"scroll-pl":[{"scroll-pl":z()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",he,fe]}],fill:[{fill:["none",...O()]}],"stroke-w":[{stroke:[Oe,$i,Es,dd]}],stroke:[{stroke:["none",...O()]}],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-x","border-w-y","border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-x","border-color-y","border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],translate:["translate-x","translate-y","translate-none"],"translate-none":["translate","translate-x","translate-y","translate-z"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]},orderSensitiveModifiers:["*","**","after","backdrop","before","details-content","file","first-letter","first-line","marker","placeholder","selection"]}},l1=zS(a1);function me(...t){return l1(Rv(t))}function Le({className:t,...e}){return c.jsx("div",{"data-slot":"card",className:me("bg-card text-card-foreground flex flex-col gap-6 rounded-xl border",t),...e})}function Kt({className:t,...e}){return c.jsx("div",{"data-slot":"card-header",className:me("@container/card-header grid auto-rows-min grid-rows-[auto_auto] items-start gap-1.5 px-6 pt-6 has-data-[slot=card-action]:grid-cols-[1fr_auto] [.border-b]:pb-6",t),...e})}function Ir({className:t,...e}){return c.jsx("h4",{"data-slot":"card-title",className:me("leading-none",t),...e})}function Fi({className:t,...e}){return c.jsx("p",{"data-slot":"card-description",className:me("text-muted-foreground",t),...e})}function Fe({className:t,...e}){return c.jsx("div",{"data-slot":"card-content",className:me("px-6 [&:last-child]:pb-6",t),...e})}function Bv({className:t,...e}){return c.jsx("div",{"data-slot":"card-footer",className:me("flex items-center px-6 pb-6 [.border-t]:pt-6",t),...e})}function rg(t,e){if(typeof t=="function")return t(e);t!=null&&(t.current=e)}function Mo(...t){return e=>{let n=!1;const o=t.map(i=>{const a=rg(i,e);return!n&&typeof a=="function"&&(n=!0),a});if(n)return()=>{for(let i=0;i<o.length;i++){const a=o[i];typeof a=="function"?a():rg(t[i],null)}}}}function qe(...t){return w.useCallback(Mo(...t),t)}var c1=Symbol.for("react.lazy"),Ml=Zl[" use ".trim().toString()];function u1(t){return typeof t=="object"&&t!==null&&"then"in t}function Vv(t){return t!=null&&typeof t=="object"&&"$$typeof"in t&&t.$$typeof===c1&&"_payload"in t&&u1(t._payload)}function tc(t){const e=d1(t),n=w.forwardRef((o,i)=>{let{children:a,...u}=o;Vv(a)&&typeof Ml=="function"&&(a=Ml(a._payload));const d=w.Children.toArray(a),h=d.find(h1);if(h){const p=h.props.children,g=d.map(m=>m===h?w.Children.count(p)>1?w.Children.only(null):w.isValidElement(p)?p.props.children:null:m);return c.jsx(e,{...u,ref:i,children:w.isValidElement(p)?w.cloneElement(p,void 0,g):null})}return c.jsx(e,{...u,ref:i,children:a})});return n.displayName=`${t}.Slot`,n}var Wv=tc("Slot");function d1(t){const e=w.forwardRef((n,o)=>{let{children:i,...a}=n;if(Vv(i)&&typeof Ml=="function"&&(i=Ml(i._payload)),w.isValidElement(i)){const u=m1(i),d=p1(a,i.props);return i.type!==w.Fragment&&(d.ref=o?Mo(o,u):u),w.cloneElement(i,d)}return w.Children.count(i)>1?w.Children.only(null):null});return e.displayName=`${t}.SlotClone`,e}var f1=Symbol("radix.slottable");function h1(t){return w.isValidElement(t)&&typeof t.type=="function"&&"__radixId"in t.type&&t.type.__radixId===f1}function p1(t,e){const n={...e};for(const o in e){const i=t[o],a=e[o];/^on[A-Z]/.test(o)?i&&a?n[o]=(...d)=>{const h=a(...d);return i(...d),h}:i&&(n[o]=i):o==="style"?n[o]={...i,...a}:o==="className"&&(n[o]=[i,a].filter(Boolean).join(" "))}return{...t,...n}}function m1(t){let e=Object.getOwnPropertyDescriptor(t.props,"ref")?.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=Object.getOwnPropertyDescriptor(t,"ref")?.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}const ng=t=>typeof t=="boolean"?`${t}`:t===0?"0":t,sg=Rv,bf=(t,e)=>n=>{var o;if(e?.variants==null)return sg(t,n?.class,n?.className);const{variants:i,defaultVariants:a}=e,u=Object.keys(i).map(p=>{const g=n?.[p],m=a?.[p];if(g===null)return null;const x=ng(g)||ng(m);return i[p][x]}),d=n&&Object.entries(n).reduce((p,g)=>{let[m,x]=g;return x===void 0||(p[m]=x),p},{}),h=e==null||(o=e.compoundVariants)===null||o===void 0?void 0:o.reduce((p,g)=>{let{class:m,className:x,...b}=g;return Object.entries(b).every(j=>{let[_,S]=j;return Array.isArray(S)?S.includes({...a,...d}[_]):{...a,...d}[_]===S})?[...p,m,x]:p},[]);return sg(t,u,h,n?.class,n?.className)},g1=bf("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-all disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg:not([class*='size-'])]:size-4 shrink-0 [&_svg]:shrink-0 outline-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-white hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60",outline:"border bg-background text-foreground hover:bg-accent hover:text-accent-foreground dark:bg-input/30 dark:border-input dark:hover:bg-input/50",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground dark:hover:bg-accent/50",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-9 px-4 py-2 has-[>svg]:px-3",sm:"h-8 rounded-md gap-1.5 px-3 has-[>svg]:px-2.5",lg:"h-10 rounded-md px-6 has-[>svg]:px-4",icon:"size-9 rounded-md"}},defaultVariants:{variant:"default",size:"default"}});function se({className:t,variant:e,size:n,asChild:o=!1,...i}){const a=o?Wv:"button";return c.jsx(a,{"data-slot":"button",className:me(g1({variant:e,size:n,className:t})),...i})}const v1=bf("inline-flex items-center justify-center rounded-md border px-2 py-0.5 text-xs font-medium w-fit whitespace-nowrap shrink-0 [&>svg]:size-3 gap-1 [&>svg]:pointer-events-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive transition-[color,box-shadow] overflow-hidden",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground [a&]:hover:bg-primary/90",secondary:"border-transparent bg-secondary text-secondary-foreground [a&]:hover:bg-secondary/90",destructive:"border-transparent bg-destructive text-white [a&]:hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60",outline:"text-foreground [a&]:hover:bg-accent [a&]:hover:text-accent-foreground"}},defaultVariants:{variant:"default"}});function ar({className:t,variant:e,asChild:n=!1,...o}){const i=n?Wv:"span";return c.jsx(i,{"data-slot":"badge",className:me(v1({variant:e}),t),...o})}function y1(t,e=[]){let n=[];function o(a,u){const d=w.createContext(u);d.displayName=a+"Context";const h=n.length;n=[...n,u];const p=m=>{const{scope:x,children:b,...j}=m,_=x?.[t]?.[h]||d,S=w.useMemo(()=>j,Object.values(j));return c.jsx(_.Provider,{value:S,children:b})};p.displayName=a+"Provider";function g(m,x){const b=x?.[t]?.[h]||d,j=w.useContext(b);if(j)return j;if(u!==void 0)return u;throw new Error(`\`${m}\` must be used within \`${a}\``)}return[p,g]}const i=()=>{const a=n.map(u=>w.createContext(u));return function(d){const h=d?.[t]||a;return w.useMemo(()=>({[`__scope${t}`]:{...d,[t]:h}}),[d,h])}};return i.scopeName=t,[o,w1(i,...e)]}function w1(...t){const e=t[0];if(t.length===1)return e;const n=()=>{const o=t.map(i=>({useScope:i(),scopeName:i.scopeName}));return function(a){const u=o.reduce((d,{useScope:h,scopeName:p})=>{const m=h(a)[`__scope${p}`];return{...d,...m}},{});return w.useMemo(()=>({[`__scope${e.scopeName}`]:u}),[u])}};return n.scopeName=e.scopeName,n}function Ot(t){const e=w.useRef(t);return w.useEffect(()=>{e.current=t}),w.useMemo(()=>(...n)=>e.current?.(...n),[])}var ut=globalThis?.document?w.useLayoutEffect:()=>{},x1=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],_f=x1.reduce((t,e)=>{const n=tc(`Primitive.${e}`),o=w.forwardRef((i,a)=>{const{asChild:u,...d}=i,h=u?n:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),c.jsx(h,{...d,ref:a})});return o.displayName=`Primitive.${e}`,{...t,[e]:o}},{}),fd={exports:{}},hd={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var og;function b1(){if(og)return hd;og=1;var t=Xl();function e(m,x){return m===x&&(m!==0||1/m===1/x)||m!==m&&x!==x}var n=typeof Object.is=="function"?Object.is:e,o=t.useState,i=t.useEffect,a=t.useLayoutEffect,u=t.useDebugValue;function d(m,x){var b=x(),j=o({inst:{value:b,getSnapshot:x}}),_=j[0].inst,S=j[1];return a(function(){_.value=b,_.getSnapshot=x,h(_)&&S({inst:_})},[m,b,x]),i(function(){return h(_)&&S({inst:_}),m(function(){h(_)&&S({inst:_})})},[m]),u(b),b}function h(m){var x=m.getSnapshot;m=m.value;try{var b=x();return!n(m,b)}catch{return!0}}function p(m,x){return x()}var g=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?p:d;return hd.useSyncExternalStore=t.useSyncExternalStore!==void 0?t.useSyncExternalStore:g,hd}var ig;function _1(){return ig||(ig=1,fd.exports=b1()),fd.exports}var S1=_1();function j1(){return S1.useSyncExternalStore(E1,()=>!0,()=>!1)}function E1(){return()=>{}}var Sf="Avatar",[k1]=y1(Sf),[C1,Hv]=k1(Sf),qv=w.forwardRef((t,e)=>{const{__scopeAvatar:n,...o}=t,[i,a]=w.useState("idle");return c.jsx(C1,{scope:n,imageLoadingStatus:i,onImageLoadingStatusChange:a,children:c.jsx(_f.span,{...o,ref:e})})});qv.displayName=Sf;var Kv="AvatarImage",Gv=w.forwardRef((t,e)=>{const{__scopeAvatar:n,src:o,onLoadingStatusChange:i=()=>{},...a}=t,u=Hv(Kv,n),d=N1(o,a),h=Ot(p=>{i(p),u.onImageLoadingStatusChange(p)});return ut(()=>{d!=="idle"&&h(d)},[d,h]),d==="loaded"?c.jsx(_f.img,{...a,ref:e,src:o}):null});Gv.displayName=Kv;var Yv="AvatarFallback",Jv=w.forwardRef((t,e)=>{const{__scopeAvatar:n,delayMs:o,...i}=t,a=Hv(Yv,n),[u,d]=w.useState(o===void 0);return w.useEffect(()=>{if(o!==void 0){const h=window.setTimeout(()=>d(!0),o);return()=>window.clearTimeout(h)}},[o]),u&&a.imageLoadingStatus!=="loaded"?c.jsx(_f.span,{...i,ref:e}):null});Jv.displayName=Yv;function ag(t,e){return t?e?(t.src!==e&&(t.src=e),t.complete&&t.naturalWidth>0?"loaded":"loading"):"error":"idle"}function N1(t,{referrerPolicy:e,crossOrigin:n}){const o=j1(),i=w.useRef(null),a=o?(i.current||(i.current=new window.Image),i.current):null,[u,d]=w.useState(()=>ag(a,t));return ut(()=>{d(ag(a,t))},[a,t]),ut(()=>{const h=m=>()=>{d(m)};if(!a)return;const p=h("loaded"),g=h("error");return a.addEventListener("load",p),a.addEventListener("error",g),e&&(a.referrerPolicy=e),typeof n=="string"&&(a.crossOrigin=n),()=>{a.removeEventListener("load",p),a.removeEventListener("error",g)}},[a,n,e]),u}var R1=qv,T1=Gv,P1=Jv;function $t({className:t,...e}){return c.jsx(R1,{"data-slot":"avatar",className:me("relative flex size-10 shrink-0 overflow-hidden rounded-full",t),...e})}function lg({className:t,...e}){return c.jsx(T1,{"data-slot":"avatar-image",className:me("aspect-square size-full",t),...e})}function Mt({className:t,...e}){return c.jsx(P1,{"data-slot":"avatar-fallback",className:me("bg-muted flex size-full items-center justify-center rounded-full",t),...e})}/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const A1=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),O1=t=>t.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,n,o)=>o?o.toUpperCase():n.toLowerCase()),cg=t=>{const e=O1(t);return e.charAt(0).toUpperCase()+e.slice(1)},Qv=(...t)=>t.filter((e,n,o)=>!!e&&e.trim()!==""&&o.indexOf(e)===n).join(" ").trim();/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var I1={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const D1=w.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:n=2,absoluteStrokeWidth:o,className:i="",children:a,iconNode:u,...d},h)=>w.createElement("svg",{ref:h,...I1,width:e,height:e,stroke:t,strokeWidth:o?Number(n)*24/Number(e):n,className:Qv("lucide",i),...d},[...u.map(([p,g])=>w.createElement(p,g)),...Array.isArray(a)?a:[a]]));/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Re=(t,e)=>{const n=w.forwardRef(({className:o,...i},a)=>w.createElement(D1,{ref:a,iconNode:e,className:Qv(`lucide-${A1(cg(t))}`,`lucide-${t}`,o),...i}));return n.displayName=cg(t),n};/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const L1=[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]],$1=Re("activity",L1);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const M1=[["path",{d:"M12 20.94c1.5 0 2.75 1.06 4 1.06 3 0 6-8 6-12.22A4.91 4.91 0 0 0 17 5c-2.22 0-4 1.44-5 2-1-.56-2.78-2-5-2a4.9 4.9 0 0 0-5 4.78C2 14 5 22 8 22c1.25 0 2.5-1.06 4-1.06Z",key:"3s7exb"}],["path",{d:"M10 2c1 .5 2 2 2 5",key:"fcco2y"}]],Xv=Re("apple",M1);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const F1=[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]],jf=Re("arrow-left",F1);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const U1=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],z1=Re("calendar",U1);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const B1=[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]],Zv=Re("chart-column",B1);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const V1=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],W1=Re("check",V1);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const H1=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],Fo=Re("chevron-down",H1);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const q1=[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]],pn=Re("chevron-up",q1);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const K1=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["line",{x1:"21.17",x2:"12",y1:"8",y2:"8",key:"a0cw5f"}],["line",{x1:"3.95",x2:"8.54",y1:"6.06",y2:"14",key:"1kftof"}],["line",{x1:"10.88",x2:"15.46",y1:"21.94",y2:"14",key:"1ymyh8"}]],ey=Re("chrome",K1);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const G1=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],ug=Re("circle-alert",G1);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Y1=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],Eo=Re("circle-check-big",Y1);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const J1=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],dg=Re("circle-check",J1);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Q1=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]],Ds=Re("circle-x",Q1);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const X1=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]],Z1=Re("clock",X1);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ej=[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]],tj=Re("dollar-sign",ej);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rj=[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]],nj=Re("download",rj);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sj=[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]],oj=Re("external-link",sj);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ij=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],pd=Re("eye",ij);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aj=[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]],lj=Re("file-text",aj);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cj=[["path",{d:"M10 20a1 1 0 0 0 .553.895l2 1A1 1 0 0 0 14 21v-7a2 2 0 0 1 .517-1.341L21.74 4.67A1 1 0 0 0 21 3H3a1 1 0 0 0-.742 1.67l7.225 7.989A2 2 0 0 1 10 14z",key:"sc7q7i"}]],ty=Re("funnel",cj);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uj=[["line",{x1:"6",x2:"10",y1:"11",y2:"11",key:"1gktln"}],["line",{x1:"8",x2:"8",y1:"9",y2:"13",key:"qnk9ow"}],["line",{x1:"15",x2:"15.01",y1:"12",y2:"12",key:"krot7o"}],["line",{x1:"18",x2:"18.01",y1:"10",y2:"10",key:"1lcuu1"}],["path",{d:"M17.32 5H6.68a4 4 0 0 0-3.978 3.59c-.006.052-.01.101-.017.152C2.604 9.416 2 14.456 2 16a3 3 0 0 0 3 3c1 0 1.5-.5 2-1l1.414-1.414A2 2 0 0 1 9.828 16h4.344a2 2 0 0 1 1.414.586L17 18c.5.5 1 1 2 1a3 3 0 0 0 3-3c0-1.545-.604-6.584-.685-7.258-.007-.05-.011-.1-.017-.151A4 4 0 0 0 17.32 5z",key:"mfqc10"}]],ry=Re("gamepad-2",uj);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dj=[["path",{d:"M15 22v-4a4.8 4.8 0 0 0-1-3.5c3 0 6-2 6-5.5.08-1.25-.27-2.48-1-3.5.28-1.15.28-2.35 0-3.5 0 0-1 0-3 1.5-2.64-.5-5.36-.5-8 0C6 2 5 2 5 2c-.3 1.15-.3 2.35 0 3.5A5.403 5.403 0 0 0 4 9c0 3.5 3 5.5 6 5.5-.39.49-.68 1.05-.85 1.65-.17.6-.22 1.23-.15 1.85v4",key:"tonef"}],["path",{d:"M9 18c-4.51 2-5-2-7-2",key:"9comsn"}]],ny=Re("github",dj);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fj=[["rect",{width:"20",height:"20",x:"2",y:"2",rx:"5",ry:"5",key:"2e1cvw"}],["path",{d:"M16 11.37A4 4 0 1 1 12.63 8 4 4 0 0 1 16 11.37z",key:"9exkf1"}],["line",{x1:"17.5",x2:"17.51",y1:"6.5",y2:"6.5",key:"r4j83e"}]],hj=Re("instagram",fj);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pj=[["path",{d:"M15 14c.2-1 .7-1.7 1.5-2.5 1-.9 1.5-2.2 1.5-3.5A6 6 0 0 0 6 8c0 1 .2 2.2 1.5 3.5.7.7 1.3 1.5 1.5 2.5",key:"1gvzjb"}],["path",{d:"M9 18h6",key:"x1upvd"}],["path",{d:"M10 22h4",key:"ceow96"}]],mj=Re("lightbulb",pj);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gj=[["path",{d:"M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71",key:"1cjeqo"}],["path",{d:"M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71",key:"19qd67"}]],Mi=Re("link",gj);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vj=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]],qt=Re("loader-circle",vj);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yj=[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]],fg=Re("mail",yj);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wj=[["path",{d:"M7.9 20A9 9 0 1 0 4 16.1L2 22Z",key:"vv11sd"}]],Ro=Re("message-circle",wj);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xj=[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]],bj=Re("message-square",xj);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _j=[["path",{d:"M9 18V5l12-2v13",key:"1jmyc2"}],["circle",{cx:"6",cy:"18",r:"3",key:"fqmcym"}],["circle",{cx:"18",cy:"16",r:"3",key:"1hluhg"}]],Ef=Re("music",_j);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sj=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],jj=Re("plus",Sj);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ej=[["polyline",{points:"9 17 4 12 9 7",key:"hvgpf2"}],["path",{d:"M20 18v-2a4 4 0 0 0-4-4H4",key:"5vmcpk"}]],sy=Re("reply",Ej);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kj=[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]],rc=Re("search",kj);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cj=[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]],jo=Re("send",Cj);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nj=[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],Rj=Re("settings",Nj);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tj=[["path",{d:"M4 12v8a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2v-8",key:"1b2hhj"}],["polyline",{points:"16 6 12 2 8 6",key:"m901s6"}],["line",{x1:"12",x2:"12",y1:"2",y2:"15",key:"1p0rca"}]],oy=Re("share",Tj);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pj=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"M12 8v4",key:"1got3b"}],["path",{d:"M12 16h.01",key:"1drbdi"}]],Aj=Re("shield-alert",Pj);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Oj=[["rect",{width:"14",height:"20",x:"5",y:"2",rx:"2",ry:"2",key:"1yt0o3"}],["path",{d:"M12 18h.01",key:"mhygvu"}]],Ij=Re("smartphone",Oj);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dj=[["path",{d:"M7 10v12",key:"1qc93n"}],["path",{d:"M15 5.88 14 10h5.83a2 2 0 0 1 1.92 2.56l-2.33 8A2 2 0 0 1 17.5 22H4a2 2 0 0 1-2-2v-8a2 2 0 0 1 2-2h2.76a2 2 0 0 0 1.79-1.11L12 2a3.13 3.13 0 0 1 3 3.88Z",key:"emmmcr"}]],Lj=Re("thumbs-up",Dj);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $j=[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]],Ts=Re("trash-2",$j);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mj=[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]],iy=Re("trending-up",Mj);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fj=[["path",{d:"M6 9H4.5a2.5 2.5 0 0 1 0-5H6",key:"17hqa7"}],["path",{d:"M18 9h1.5a2.5 2.5 0 0 0 0-5H18",key:"lmptdp"}],["path",{d:"M4 22h16",key:"57wxv0"}],["path",{d:"M10 14.66V17c0 .55-.47.98-.97 1.21C7.85 18.75 7 20.24 7 22",key:"1nw9bq"}],["path",{d:"M14 14.66V17c0 .55.47.98.97 1.21C16.15 18.75 17 20.24 17 22",key:"1np0yb"}],["path",{d:"M18 2H6v7a6 6 0 0 0 12 0V2Z",key:"u46fv3"}]],Uj=Re("trophy",Fj);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zj=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["polyline",{points:"16 11 18 13 22 9",key:"1pwet4"}]],Bj=Re("user-check",zj);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vj=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]],Wj=Re("user-plus",Vj);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hj=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],lr=Re("user",Hj);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qj=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]],ay=Re("users",qj);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kj=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],ly=Re("x",Kj);function Gj({idea:t,onVote:e,onComment:n,onClick:o}){const[i,a]=w.useState(t.userVote),[u,d]=w.useState(t.votes),h=(g,m)=>{g.stopPropagation();let x=u,b=m;i==="up"&&(x-=1),i==="down"&&(x+=1),m===i?b=null:(m==="up"&&(x+=1),m==="down"&&(x-=1)),a(b),d(x),e(t.id,m)},p=()=>{o&&o(t.id)};return c.jsxs(Le,{className:"w-full cursor-pointer transition-colors hover:bg-accent/50",onClick:p,children:[c.jsx(Kt,{className:"pb-3",children:c.jsxs("div",{className:"flex items-start justify-between",children:[c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx($t,{className:"h-8 w-8",children:c.jsx(Mt,{children:c.jsx(lr,{className:"h-4 w-4"})})}),c.jsxs("div",{children:[c.jsx("p",{className:"text-sm font-medium",children:t.author}),c.jsx("p",{className:"text-xs text-muted-foreground",children:t.timeAgo})]})]}),c.jsx(ar,{variant:"secondary",children:t.category})]})}),c.jsxs(Fe,{className:"pb-3",children:[c.jsx("h3",{className:"mb-2 font-semibold",children:t.title}),c.jsx("p",{className:"text-muted-foreground",children:t.description})]}),c.jsxs(Bv,{className:"flex items-center justify-between pt-0",children:[c.jsxs("div",{className:"flex items-center gap-1",onClick:g=>g.stopPropagation(),children:[c.jsx(se,{variant:"ghost",size:"sm",onClick:g=>h(g,"up"),className:me("h-8 w-8 p-0",i==="up"&&"text-green-600 bg-green-50 hover:bg-green-100"),children:c.jsx(pn,{className:"h-4 w-4"})}),c.jsx("span",{className:me("min-w-8 text-center text-sm font-medium",u>0&&"text-green-600",u<0&&"text-red-600"),children:u}),c.jsx(se,{variant:"ghost",size:"sm",onClick:g=>h(g,"down"),className:me("h-8 w-8 p-0",i==="down"&&"text-red-600 bg-red-50 hover:bg-red-100"),children:c.jsx(Fo,{className:"h-4 w-4"})})]}),c.jsxs("div",{className:"flex items-center gap-2",onClick:g=>g.stopPropagation(),children:[c.jsxs(se,{variant:"ghost",size:"sm",onClick:g=>{g.stopPropagation(),n(t.id)},className:"gap-1",children:[c.jsx(Ro,{className:"h-4 w-4"}),t.commentCount]}),c.jsx(se,{variant:"ghost",size:"sm",onClick:g=>g.stopPropagation(),children:c.jsx(oy,{className:"h-4 w-4"})})]})]})]})}function Ae(t,e,{checkForDefaultPrevented:n=!0}={}){return function(i){if(t?.(i),n===!1||!i.defaultPrevented)return e?.(i)}}function Yj(t,e){const n=w.createContext(e),o=a=>{const{children:u,...d}=a,h=w.useMemo(()=>d,Object.values(d));return c.jsx(n.Provider,{value:h,children:u})};o.displayName=t+"Provider";function i(a){const u=w.useContext(n);if(u)return u;if(e!==void 0)return e;throw new Error(`\`${a}\` must be used within \`${t}\``)}return[o,i]}function Us(t,e=[]){let n=[];function o(a,u){const d=w.createContext(u),h=n.length;n=[...n,u];const p=m=>{const{scope:x,children:b,...j}=m,_=x?.[t]?.[h]||d,S=w.useMemo(()=>j,Object.values(j));return c.jsx(_.Provider,{value:S,children:b})};p.displayName=a+"Provider";function g(m,x){const b=x?.[t]?.[h]||d,j=w.useContext(b);if(j)return j;if(u!==void 0)return u;throw new Error(`\`${m}\` must be used within \`${a}\``)}return[p,g]}const i=()=>{const a=n.map(u=>w.createContext(u));return function(d){const h=d?.[t]||a;return w.useMemo(()=>({[`__scope${t}`]:{...d,[t]:h}}),[d,h])}};return i.scopeName=t,[o,Jj(i,...e)]}function Jj(...t){const e=t[0];if(t.length===1)return e;const n=()=>{const o=t.map(i=>({useScope:i(),scopeName:i.scopeName}));return function(a){const u=o.reduce((d,{useScope:h,scopeName:p})=>{const m=h(a)[`__scope${p}`];return{...d,...m}},{});return w.useMemo(()=>({[`__scope${e.scopeName}`]:u}),[u])}};return n.scopeName=e.scopeName,n}var Qj=Zl[" useId ".trim().toString()]||(()=>{}),Xj=0;function es(t){const[e,n]=w.useState(Qj());return ut(()=>{n(o=>o??String(Xj++))},[t]),t||(e?`radix-${e}`:"")}var Zj=Zl[" useInsertionEffect ".trim().toString()]||ut;function qi({prop:t,defaultProp:e,onChange:n=()=>{},caller:o}){const[i,a,u]=eE({defaultProp:e,onChange:n}),d=t!==void 0,h=d?t:i;{const g=w.useRef(t!==void 0);w.useEffect(()=>{const m=g.current;m!==d&&console.warn(`${o} is changing from ${m?"controlled":"uncontrolled"} to ${d?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),g.current=d},[d,o])}const p=w.useCallback(g=>{if(d){const m=tE(g)?g(t):g;m!==t&&u.current?.(m)}else a(g)},[d,t,a,u]);return[h,p]}function eE({defaultProp:t,onChange:e}){const[n,o]=w.useState(t),i=w.useRef(n),a=w.useRef(e);return Zj(()=>{a.current=e},[e]),w.useEffect(()=>{i.current!==n&&(a.current?.(n),i.current=n)},[n,i]),[n,o,a]}function tE(t){return typeof t=="function"}function rE(t){const e=nE(t),n=w.forwardRef((o,i)=>{const{children:a,...u}=o,d=w.Children.toArray(a),h=d.find(oE);if(h){const p=h.props.children,g=d.map(m=>m===h?w.Children.count(p)>1?w.Children.only(null):w.isValidElement(p)?p.props.children:null:m);return c.jsx(e,{...u,ref:i,children:w.isValidElement(p)?w.cloneElement(p,void 0,g):null})}return c.jsx(e,{...u,ref:i,children:a})});return n.displayName=`${t}.Slot`,n}function nE(t){const e=w.forwardRef((n,o)=>{const{children:i,...a}=n;if(w.isValidElement(i)){const u=aE(i),d=iE(a,i.props);return i.type!==w.Fragment&&(d.ref=o?Mo(o,u):u),w.cloneElement(i,d)}return w.Children.count(i)>1?w.Children.only(null):null});return e.displayName=`${t}.SlotClone`,e}var sE=Symbol("radix.slottable");function oE(t){return w.isValidElement(t)&&typeof t.type=="function"&&"__radixId"in t.type&&t.type.__radixId===sE}function iE(t,e){const n={...e};for(const o in e){const i=t[o],a=e[o];/^on[A-Z]/.test(o)?i&&a?n[o]=(...d)=>{const h=a(...d);return i(...d),h}:i&&(n[o]=i):o==="style"?n[o]={...i,...a}:o==="className"&&(n[o]=[i,a].filter(Boolean).join(" "))}return{...t,...n}}function aE(t){let e=Object.getOwnPropertyDescriptor(t.props,"ref")?.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=Object.getOwnPropertyDescriptor(t,"ref")?.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}var lE=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],$e=lE.reduce((t,e)=>{const n=rE(`Primitive.${e}`),o=w.forwardRef((i,a)=>{const{asChild:u,...d}=i,h=u?n:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),c.jsx(h,{...d,ref:a})});return o.displayName=`Primitive.${e}`,{...t,[e]:o}},{});function cE(t,e){t&&Zi.flushSync(()=>t.dispatchEvent(e))}function uE(t,e=globalThis?.document){const n=Ot(t);w.useEffect(()=>{const o=i=>{i.key==="Escape"&&n(i)};return e.addEventListener("keydown",o,{capture:!0}),()=>e.removeEventListener("keydown",o,{capture:!0})},[n,e])}var dE="DismissableLayer",zd="dismissableLayer.update",fE="dismissableLayer.pointerDownOutside",hE="dismissableLayer.focusOutside",hg,cy=w.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),kf=w.forwardRef((t,e)=>{const{disableOutsidePointerEvents:n=!1,onEscapeKeyDown:o,onPointerDownOutside:i,onFocusOutside:a,onInteractOutside:u,onDismiss:d,...h}=t,p=w.useContext(cy),[g,m]=w.useState(null),x=g?.ownerDocument??globalThis?.document,[,b]=w.useState({}),j=qe(e,D=>m(D)),_=Array.from(p.layers),[S]=[...p.layersWithOutsidePointerEventsDisabled].slice(-1),k=_.indexOf(S),C=g?_.indexOf(g):-1,N=p.layersWithOutsidePointerEventsDisabled.size>0,P=C>=k,F=gE(D=>{const z=D.target,q=[...p.branches].some(ne=>ne.contains(z));!P||q||(i?.(D),u?.(D),D.defaultPrevented||d?.())},x),V=vE(D=>{const z=D.target;[...p.branches].some(ne=>ne.contains(z))||(a?.(D),u?.(D),D.defaultPrevented||d?.())},x);return uE(D=>{C===p.layers.size-1&&(o?.(D),!D.defaultPrevented&&d&&(D.preventDefault(),d()))},x),w.useEffect(()=>{if(g)return n&&(p.layersWithOutsidePointerEventsDisabled.size===0&&(hg=x.body.style.pointerEvents,x.body.style.pointerEvents="none"),p.layersWithOutsidePointerEventsDisabled.add(g)),p.layers.add(g),pg(),()=>{n&&p.layersWithOutsidePointerEventsDisabled.size===1&&(x.body.style.pointerEvents=hg)}},[g,x,n,p]),w.useEffect(()=>()=>{g&&(p.layers.delete(g),p.layersWithOutsidePointerEventsDisabled.delete(g),pg())},[g,p]),w.useEffect(()=>{const D=()=>b({});return document.addEventListener(zd,D),()=>document.removeEventListener(zd,D)},[]),c.jsx($e.div,{...h,ref:j,style:{pointerEvents:N?P?"auto":"none":void 0,...t.style},onFocusCapture:Ae(t.onFocusCapture,V.onFocusCapture),onBlurCapture:Ae(t.onBlurCapture,V.onBlurCapture),onPointerDownCapture:Ae(t.onPointerDownCapture,F.onPointerDownCapture)})});kf.displayName=dE;var pE="DismissableLayerBranch",mE=w.forwardRef((t,e)=>{const n=w.useContext(cy),o=w.useRef(null),i=qe(e,o);return w.useEffect(()=>{const a=o.current;if(a)return n.branches.add(a),()=>{n.branches.delete(a)}},[n.branches]),c.jsx($e.div,{...t,ref:i})});mE.displayName=pE;function gE(t,e=globalThis?.document){const n=Ot(t),o=w.useRef(!1),i=w.useRef(()=>{});return w.useEffect(()=>{const a=d=>{if(d.target&&!o.current){let h=function(){uy(fE,n,p,{discrete:!0})};const p={originalEvent:d};d.pointerType==="touch"?(e.removeEventListener("click",i.current),i.current=h,e.addEventListener("click",i.current,{once:!0})):h()}else e.removeEventListener("click",i.current);o.current=!1},u=window.setTimeout(()=>{e.addEventListener("pointerdown",a)},0);return()=>{window.clearTimeout(u),e.removeEventListener("pointerdown",a),e.removeEventListener("click",i.current)}},[e,n]),{onPointerDownCapture:()=>o.current=!0}}function vE(t,e=globalThis?.document){const n=Ot(t),o=w.useRef(!1);return w.useEffect(()=>{const i=a=>{a.target&&!o.current&&uy(hE,n,{originalEvent:a},{discrete:!1})};return e.addEventListener("focusin",i),()=>e.removeEventListener("focusin",i)},[e,n]),{onFocusCapture:()=>o.current=!0,onBlurCapture:()=>o.current=!1}}function pg(){const t=new CustomEvent(zd);document.dispatchEvent(t)}function uy(t,e,n,{discrete:o}){const i=n.originalEvent.target,a=new CustomEvent(t,{bubbles:!1,cancelable:!0,detail:n});e&&i.addEventListener(t,e,{once:!0}),o?cE(i,a):i.dispatchEvent(a)}var md="focusScope.autoFocusOnMount",gd="focusScope.autoFocusOnUnmount",mg={bubbles:!1,cancelable:!0},yE="FocusScope",Cf=w.forwardRef((t,e)=>{const{loop:n=!1,trapped:o=!1,onMountAutoFocus:i,onUnmountAutoFocus:a,...u}=t,[d,h]=w.useState(null),p=Ot(i),g=Ot(a),m=w.useRef(null),x=qe(e,_=>h(_)),b=w.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;w.useEffect(()=>{if(o){let _=function(N){if(b.paused||!d)return;const P=N.target;d.contains(P)?m.current=P:Yn(m.current,{select:!0})},S=function(N){if(b.paused||!d)return;const P=N.relatedTarget;P!==null&&(d.contains(P)||Yn(m.current,{select:!0}))},k=function(N){if(document.activeElement===document.body)for(const F of N)F.removedNodes.length>0&&Yn(d)};document.addEventListener("focusin",_),document.addEventListener("focusout",S);const C=new MutationObserver(k);return d&&C.observe(d,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",_),document.removeEventListener("focusout",S),C.disconnect()}}},[o,d,b.paused]),w.useEffect(()=>{if(d){vg.add(b);const _=document.activeElement;if(!d.contains(_)){const k=new CustomEvent(md,mg);d.addEventListener(md,p),d.dispatchEvent(k),k.defaultPrevented||(wE(jE(dy(d)),{select:!0}),document.activeElement===_&&Yn(d))}return()=>{d.removeEventListener(md,p),setTimeout(()=>{const k=new CustomEvent(gd,mg);d.addEventListener(gd,g),d.dispatchEvent(k),k.defaultPrevented||Yn(_??document.body,{select:!0}),d.removeEventListener(gd,g),vg.remove(b)},0)}}},[d,p,g,b]);const j=w.useCallback(_=>{if(!n&&!o||b.paused)return;const S=_.key==="Tab"&&!_.altKey&&!_.ctrlKey&&!_.metaKey,k=document.activeElement;if(S&&k){const C=_.currentTarget,[N,P]=xE(C);N&&P?!_.shiftKey&&k===P?(_.preventDefault(),n&&Yn(N,{select:!0})):_.shiftKey&&k===N&&(_.preventDefault(),n&&Yn(P,{select:!0})):k===C&&_.preventDefault()}},[n,o,b.paused]);return c.jsx($e.div,{tabIndex:-1,...u,ref:x,onKeyDown:j})});Cf.displayName=yE;function wE(t,{select:e=!1}={}){const n=document.activeElement;for(const o of t)if(Yn(o,{select:e}),document.activeElement!==n)return}function xE(t){const e=dy(t),n=gg(e,t),o=gg(e.reverse(),t);return[n,o]}function dy(t){const e=[],n=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:o=>{const i=o.tagName==="INPUT"&&o.type==="hidden";return o.disabled||o.hidden||i?NodeFilter.FILTER_SKIP:o.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)e.push(n.currentNode);return e}function gg(t,e){for(const n of t)if(!bE(n,{upTo:e}))return n}function bE(t,{upTo:e}){if(getComputedStyle(t).visibility==="hidden")return!0;for(;t;){if(e!==void 0&&t===e)return!1;if(getComputedStyle(t).display==="none")return!0;t=t.parentElement}return!1}function _E(t){return t instanceof HTMLInputElement&&"select"in t}function Yn(t,{select:e=!1}={}){if(t&&t.focus){const n=document.activeElement;t.focus({preventScroll:!0}),t!==n&&_E(t)&&e&&t.select()}}var vg=SE();function SE(){let t=[];return{add(e){const n=t[0];e!==n&&n?.pause(),t=yg(t,e),t.unshift(e)},remove(e){t=yg(t,e),t[0]?.resume()}}}function yg(t,e){const n=[...t],o=n.indexOf(e);return o!==-1&&n.splice(o,1),n}function jE(t){return t.filter(e=>e.tagName!=="A")}var EE="Portal",Nf=w.forwardRef((t,e)=>{const{container:n,...o}=t,[i,a]=w.useState(!1);ut(()=>a(!0),[]);const u=n||i&&globalThis?.document?.body;return u?yv.createPortal(c.jsx($e.div,{...o,ref:e}),u):null});Nf.displayName=EE;function kE(t,e){return w.useReducer((n,o)=>e[n][o]??n,t)}var wn=t=>{const{present:e,children:n}=t,o=CE(e),i=typeof n=="function"?n({present:o.isPresent}):w.Children.only(n),a=qe(o.ref,NE(i));return typeof n=="function"||o.isPresent?w.cloneElement(i,{ref:a}):null};wn.displayName="Presence";function CE(t){const[e,n]=w.useState(),o=w.useRef(null),i=w.useRef(t),a=w.useRef("none"),u=t?"mounted":"unmounted",[d,h]=kE(u,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return w.useEffect(()=>{const p=vl(o.current);a.current=d==="mounted"?p:"none"},[d]),ut(()=>{const p=o.current,g=i.current;if(g!==t){const x=a.current,b=vl(p);t?h("MOUNT"):b==="none"||p?.display==="none"?h("UNMOUNT"):h(g&&x!==b?"ANIMATION_OUT":"UNMOUNT"),i.current=t}},[t,h]),ut(()=>{if(e){let p;const g=e.ownerDocument.defaultView??window,m=b=>{const _=vl(o.current).includes(CSS.escape(b.animationName));if(b.target===e&&_&&(h("ANIMATION_END"),!i.current)){const S=e.style.animationFillMode;e.style.animationFillMode="forwards",p=g.setTimeout(()=>{e.style.animationFillMode==="forwards"&&(e.style.animationFillMode=S)})}},x=b=>{b.target===e&&(a.current=vl(o.current))};return e.addEventListener("animationstart",x),e.addEventListener("animationcancel",m),e.addEventListener("animationend",m),()=>{g.clearTimeout(p),e.removeEventListener("animationstart",x),e.removeEventListener("animationcancel",m),e.removeEventListener("animationend",m)}}else h("ANIMATION_END")},[e,h]),{isPresent:["mounted","unmountSuspended"].includes(d),ref:w.useCallback(p=>{o.current=p?getComputedStyle(p):null,n(p)},[])}}function vl(t){return t?.animationName||"none"}function NE(t){let e=Object.getOwnPropertyDescriptor(t.props,"ref")?.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=Object.getOwnPropertyDescriptor(t,"ref")?.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}var vd=0;function fy(){w.useEffect(()=>{const t=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",t[0]??wg()),document.body.insertAdjacentElement("beforeend",t[1]??wg()),vd++,()=>{vd===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(e=>e.remove()),vd--}},[])}function wg(){const t=document.createElement("span");return t.setAttribute("data-radix-focus-guard",""),t.tabIndex=0,t.style.outline="none",t.style.opacity="0",t.style.position="fixed",t.style.pointerEvents="none",t}var Bd=function(t,e){return Bd=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,o){n.__proto__=o}||function(n,o){for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(n[i]=o[i])},Bd(t,e)};function hy(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");Bd(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}var wr=function(){return wr=Object.assign||function(e){for(var n,o=1,i=arguments.length;o<i;o++){n=arguments[o];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},wr.apply(this,arguments)};function ss(t,e){var n={};for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&e.indexOf(o)<0&&(n[o]=t[o]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,o=Object.getOwnPropertySymbols(t);i<o.length;i++)e.indexOf(o[i])<0&&Object.prototype.propertyIsEnumerable.call(t,o[i])&&(n[o[i]]=t[o[i]]);return n}function py(t,e,n,o){var i=arguments.length,a=i<3?e:o===null?o=Object.getOwnPropertyDescriptor(e,n):o,u;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")a=Reflect.decorate(t,e,n,o);else for(var d=t.length-1;d>=0;d--)(u=t[d])&&(a=(i<3?u(a):i>3?u(e,n,a):u(e,n))||a);return i>3&&a&&Object.defineProperty(e,n,a),a}function my(t,e){return function(n,o){e(n,o,t)}}function gy(t,e,n,o,i,a){function u(k){if(k!==void 0&&typeof k!="function")throw new TypeError("Function expected");return k}for(var d=o.kind,h=d==="getter"?"get":d==="setter"?"set":"value",p=!e&&t?o.static?t:t.prototype:null,g=e||(p?Object.getOwnPropertyDescriptor(p,o.name):{}),m,x=!1,b=n.length-1;b>=0;b--){var j={};for(var _ in o)j[_]=_==="access"?{}:o[_];for(var _ in o.access)j.access[_]=o.access[_];j.addInitializer=function(k){if(x)throw new TypeError("Cannot add initializers after decoration has completed");a.push(u(k||null))};var S=(0,n[b])(d==="accessor"?{get:g.get,set:g.set}:g[h],j);if(d==="accessor"){if(S===void 0)continue;if(S===null||typeof S!="object")throw new TypeError("Object expected");(m=u(S.get))&&(g.get=m),(m=u(S.set))&&(g.set=m),(m=u(S.init))&&i.unshift(m)}else(m=u(S))&&(d==="field"?i.unshift(m):g[h]=m)}p&&Object.defineProperty(p,o.name,g),x=!0}function vy(t,e,n){for(var o=arguments.length>2,i=0;i<e.length;i++)n=o?e[i].call(t,n):e[i].call(t);return o?n:void 0}function yy(t){return typeof t=="symbol"?t:"".concat(t)}function wy(t,e,n){return typeof e=="symbol"&&(e=e.description?"[".concat(e.description,"]"):""),Object.defineProperty(t,"name",{configurable:!0,value:n?"".concat(n," ",e):e})}function xy(t,e){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(t,e)}function we(t,e,n,o){function i(a){return a instanceof n?a:new n(function(u){u(a)})}return new(n||(n=Promise))(function(a,u){function d(g){try{p(o.next(g))}catch(m){u(m)}}function h(g){try{p(o.throw(g))}catch(m){u(m)}}function p(g){g.done?a(g.value):i(g.value).then(d,h)}p((o=o.apply(t,e||[])).next())})}function by(t,e){var n={label:0,sent:function(){if(a[0]&1)throw a[1];return a[1]},trys:[],ops:[]},o,i,a,u=Object.create((typeof Iterator=="function"?Iterator:Object).prototype);return u.next=d(0),u.throw=d(1),u.return=d(2),typeof Symbol=="function"&&(u[Symbol.iterator]=function(){return this}),u;function d(p){return function(g){return h([p,g])}}function h(p){if(o)throw new TypeError("Generator is already executing.");for(;u&&(u=0,p[0]&&(n=0)),n;)try{if(o=1,i&&(a=p[0]&2?i.return:p[0]?i.throw||((a=i.return)&&a.call(i),0):i.next)&&!(a=a.call(i,p[1])).done)return a;switch(i=0,a&&(p=[p[0]&2,a.value]),p[0]){case 0:case 1:a=p;break;case 4:return n.label++,{value:p[1],done:!1};case 5:n.label++,i=p[1],p=[0];continue;case 7:p=n.ops.pop(),n.trys.pop();continue;default:if(a=n.trys,!(a=a.length>0&&a[a.length-1])&&(p[0]===6||p[0]===2)){n=0;continue}if(p[0]===3&&(!a||p[1]>a[0]&&p[1]<a[3])){n.label=p[1];break}if(p[0]===6&&n.label<a[1]){n.label=a[1],a=p;break}if(a&&n.label<a[2]){n.label=a[2],n.ops.push(p);break}a[2]&&n.ops.pop(),n.trys.pop();continue}p=e.call(t,n)}catch(g){p=[6,g],i=0}finally{o=a=0}if(p[0]&5)throw p[1];return{value:p[0]?p[1]:void 0,done:!0}}}var nc=Object.create?(function(t,e,n,o){o===void 0&&(o=n);var i=Object.getOwnPropertyDescriptor(e,n);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[n]}}),Object.defineProperty(t,o,i)}):(function(t,e,n,o){o===void 0&&(o=n),t[o]=e[n]});function _y(t,e){for(var n in t)n!=="default"&&!Object.prototype.hasOwnProperty.call(e,n)&&nc(e,t,n)}function Fl(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],o=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&o>=t.length&&(t=void 0),{value:t&&t[o++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function Rf(t,e){var n=typeof Symbol=="function"&&t[Symbol.iterator];if(!n)return t;var o=n.call(t),i,a=[],u;try{for(;(e===void 0||e-- >0)&&!(i=o.next()).done;)a.push(i.value)}catch(d){u={error:d}}finally{try{i&&!i.done&&(n=o.return)&&n.call(o)}finally{if(u)throw u.error}}return a}function Sy(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(Rf(arguments[e]));return t}function jy(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;for(var o=Array(t),i=0,e=0;e<n;e++)for(var a=arguments[e],u=0,d=a.length;u<d;u++,i++)o[i]=a[u];return o}function Tf(t,e,n){if(n||arguments.length===2)for(var o=0,i=e.length,a;o<i;o++)(a||!(o in e))&&(a||(a=Array.prototype.slice.call(e,0,o)),a[o]=e[o]);return t.concat(a||Array.prototype.slice.call(e))}function To(t){return this instanceof To?(this.v=t,this):new To(t)}function Ey(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var o=n.apply(t,e||[]),i,a=[];return i=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),d("next"),d("throw"),d("return",u),i[Symbol.asyncIterator]=function(){return this},i;function u(b){return function(j){return Promise.resolve(j).then(b,m)}}function d(b,j){o[b]&&(i[b]=function(_){return new Promise(function(S,k){a.push([b,_,S,k])>1||h(b,_)})},j&&(i[b]=j(i[b])))}function h(b,j){try{p(o[b](j))}catch(_){x(a[0][3],_)}}function p(b){b.value instanceof To?Promise.resolve(b.value.v).then(g,m):x(a[0][2],b)}function g(b){h("next",b)}function m(b){h("throw",b)}function x(b,j){b(j),a.shift(),a.length&&h(a[0][0],a[0][1])}}function ky(t){var e,n;return e={},o("next"),o("throw",function(i){throw i}),o("return"),e[Symbol.iterator]=function(){return this},e;function o(i,a){e[i]=t[i]?function(u){return(n=!n)?{value:To(t[i](u)),done:!1}:a?a(u):u}:a}}function Cy(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],n;return e?e.call(t):(t=typeof Fl=="function"?Fl(t):t[Symbol.iterator](),n={},o("next"),o("throw"),o("return"),n[Symbol.asyncIterator]=function(){return this},n);function o(a){n[a]=t[a]&&function(u){return new Promise(function(d,h){u=t[a](u),i(d,h,u.done,u.value)})}}function i(a,u,d,h){Promise.resolve(h).then(function(p){a({value:p,done:d})},u)}}function Ny(t,e){return Object.defineProperty?Object.defineProperty(t,"raw",{value:e}):t.raw=e,t}var RE=Object.create?(function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}):function(t,e){t.default=e},Vd=function(t){return Vd=Object.getOwnPropertyNames||function(e){var n=[];for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(n[n.length]=o);return n},Vd(t)};function Ry(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var n=Vd(t),o=0;o<n.length;o++)n[o]!=="default"&&nc(e,t,n[o]);return RE(e,t),e}function Ty(t){return t&&t.__esModule?t:{default:t}}function Py(t,e,n,o){if(n==="a"&&!o)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?t!==e||!o:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return n==="m"?o:n==="a"?o.call(t):o?o.value:e.get(t)}function Ay(t,e,n,o,i){if(o==="m")throw new TypeError("Private method is not writable");if(o==="a"&&!i)throw new TypeError("Private accessor was defined without a setter");if(typeof e=="function"?t!==e||!i:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return o==="a"?i.call(t,n):i?i.value=n:e.set(t,n),n}function Oy(t,e){if(e===null||typeof e!="object"&&typeof e!="function")throw new TypeError("Cannot use 'in' operator on non-object");return typeof t=="function"?e===t:t.has(e)}function Iy(t,e,n){if(e!=null){if(typeof e!="object"&&typeof e!="function")throw new TypeError("Object expected.");var o,i;if(n){if(!Symbol.asyncDispose)throw new TypeError("Symbol.asyncDispose is not defined.");o=e[Symbol.asyncDispose]}if(o===void 0){if(!Symbol.dispose)throw new TypeError("Symbol.dispose is not defined.");o=e[Symbol.dispose],n&&(i=o)}if(typeof o!="function")throw new TypeError("Object not disposable.");i&&(o=function(){try{i.call(this)}catch(a){return Promise.reject(a)}}),t.stack.push({value:e,dispose:o,async:n})}else n&&t.stack.push({async:!0});return e}var TE=typeof SuppressedError=="function"?SuppressedError:function(t,e,n){var o=new Error(n);return o.name="SuppressedError",o.error=t,o.suppressed=e,o};function Dy(t){function e(a){t.error=t.hasError?new TE(a,t.error,"An error was suppressed during disposal."):a,t.hasError=!0}var n,o=0;function i(){for(;n=t.stack.pop();)try{if(!n.async&&o===1)return o=0,t.stack.push(n),Promise.resolve().then(i);if(n.dispose){var a=n.dispose.call(n.value);if(n.async)return o|=2,Promise.resolve(a).then(i,function(u){return e(u),i()})}else o|=1}catch(u){e(u)}if(o===1)return t.hasError?Promise.reject(t.error):Promise.resolve();if(t.hasError)throw t.error}return i()}function Ly(t,e){return typeof t=="string"&&/^\.\.?\//.test(t)?t.replace(/\.(tsx)$|((?:\.d)?)((?:\.[^./]+?)?)\.([cm]?)ts$/i,function(n,o,i,a,u){return o?e?".jsx":".js":i&&(!a||!u)?n:i+a+"."+u.toLowerCase()+"js"}):t}const PE={__extends:hy,__assign:wr,__rest:ss,__decorate:py,__param:my,__esDecorate:gy,__runInitializers:vy,__propKey:yy,__setFunctionName:wy,__metadata:xy,__awaiter:we,__generator:by,__createBinding:nc,__exportStar:_y,__values:Fl,__read:Rf,__spread:Sy,__spreadArrays:jy,__spreadArray:Tf,__await:To,__asyncGenerator:Ey,__asyncDelegator:ky,__asyncValues:Cy,__makeTemplateObject:Ny,__importStar:Ry,__importDefault:Ty,__classPrivateFieldGet:Py,__classPrivateFieldSet:Ay,__classPrivateFieldIn:Oy,__addDisposableResource:Iy,__disposeResources:Dy,__rewriteRelativeImportExtension:Ly},AE=Object.freeze(Object.defineProperty({__proto__:null,__addDisposableResource:Iy,get __assign(){return wr},__asyncDelegator:ky,__asyncGenerator:Ey,__asyncValues:Cy,__await:To,__awaiter:we,__classPrivateFieldGet:Py,__classPrivateFieldIn:Oy,__classPrivateFieldSet:Ay,__createBinding:nc,__decorate:py,__disposeResources:Dy,__esDecorate:gy,__exportStar:_y,__extends:hy,__generator:by,__importDefault:Ty,__importStar:Ry,__makeTemplateObject:Ny,__metadata:xy,__param:my,__propKey:yy,__read:Rf,__rest:ss,__rewriteRelativeImportExtension:Ly,__runInitializers:vy,__setFunctionName:wy,__spread:Sy,__spreadArray:Tf,__spreadArrays:jy,__values:Fl,default:PE},Symbol.toStringTag,{value:"Module"}));var Ol="right-scroll-bar-position",Il="width-before-scroll-bar",OE="with-scroll-bars-hidden",IE="--removed-body-scroll-bar-size";function yd(t,e){return typeof t=="function"?t(e):t&&(t.current=e),t}function DE(t,e){var n=w.useState(function(){return{value:t,callback:e,facade:{get current(){return n.value},set current(o){var i=n.value;i!==o&&(n.value=o,n.callback(o,i))}}}})[0];return n.callback=e,n.facade}var LE=typeof window<"u"?w.useLayoutEffect:w.useEffect,xg=new WeakMap;function $E(t,e){var n=DE(null,function(o){return t.forEach(function(i){return yd(i,o)})});return LE(function(){var o=xg.get(n);if(o){var i=new Set(o),a=new Set(t),u=n.current;i.forEach(function(d){a.has(d)||yd(d,null)}),a.forEach(function(d){i.has(d)||yd(d,u)})}xg.set(n,t)},[t]),n}function ME(t){return t}function FE(t,e){e===void 0&&(e=ME);var n=[],o=!1,i={read:function(){if(o)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return n.length?n[n.length-1]:t},useMedium:function(a){var u=e(a,o);return n.push(u),function(){n=n.filter(function(d){return d!==u})}},assignSyncMedium:function(a){for(o=!0;n.length;){var u=n;n=[],u.forEach(a)}n={push:function(d){return a(d)},filter:function(){return n}}},assignMedium:function(a){o=!0;var u=[];if(n.length){var d=n;n=[],d.forEach(a),u=n}var h=function(){var g=u;u=[],g.forEach(a)},p=function(){return Promise.resolve().then(h)};p(),n={push:function(g){u.push(g),p()},filter:function(g){return u=u.filter(g),n}}}};return i}function UE(t){t===void 0&&(t={});var e=FE(null);return e.options=wr({async:!0,ssr:!1},t),e}var $y=function(t){var e=t.sideCar,n=ss(t,["sideCar"]);if(!e)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var o=e.read();if(!o)throw new Error("Sidecar medium not found");return w.createElement(o,wr({},n))};$y.isSideCarExport=!0;function zE(t,e){return t.useMedium(e),$y}var My=UE(),wd=function(){},sc=w.forwardRef(function(t,e){var n=w.useRef(null),o=w.useState({onScrollCapture:wd,onWheelCapture:wd,onTouchMoveCapture:wd}),i=o[0],a=o[1],u=t.forwardProps,d=t.children,h=t.className,p=t.removeScrollBar,g=t.enabled,m=t.shards,x=t.sideCar,b=t.noRelative,j=t.noIsolation,_=t.inert,S=t.allowPinchZoom,k=t.as,C=k===void 0?"div":k,N=t.gapMode,P=ss(t,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noRelative","noIsolation","inert","allowPinchZoom","as","gapMode"]),F=x,V=$E([n,e]),D=wr(wr({},P),i);return w.createElement(w.Fragment,null,g&&w.createElement(F,{sideCar:My,removeScrollBar:p,shards:m,noRelative:b,noIsolation:j,inert:_,setCallbacks:a,allowPinchZoom:!!S,lockRef:n,gapMode:N}),u?w.cloneElement(w.Children.only(d),wr(wr({},D),{ref:V})):w.createElement(C,wr({},D,{className:h,ref:V}),d))});sc.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};sc.classNames={fullWidth:Il,zeroRight:Ol};var BE=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function VE(){if(!document)return null;var t=document.createElement("style");t.type="text/css";var e=BE();return e&&t.setAttribute("nonce",e),t}function WE(t,e){t.styleSheet?t.styleSheet.cssText=e:t.appendChild(document.createTextNode(e))}function HE(t){var e=document.head||document.getElementsByTagName("head")[0];e.appendChild(t)}var qE=function(){var t=0,e=null;return{add:function(n){t==0&&(e=VE())&&(WE(e,n),HE(e)),t++},remove:function(){t--,!t&&e&&(e.parentNode&&e.parentNode.removeChild(e),e=null)}}},KE=function(){var t=qE();return function(e,n){w.useEffect(function(){return t.add(e),function(){t.remove()}},[e&&n])}},Fy=function(){var t=KE(),e=function(n){var o=n.styles,i=n.dynamic;return t(o,i),null};return e},GE={left:0,top:0,right:0,gap:0},xd=function(t){return parseInt(t||"",10)||0},YE=function(t){var e=window.getComputedStyle(document.body),n=e[t==="padding"?"paddingLeft":"marginLeft"],o=e[t==="padding"?"paddingTop":"marginTop"],i=e[t==="padding"?"paddingRight":"marginRight"];return[xd(n),xd(o),xd(i)]},JE=function(t){if(t===void 0&&(t="margin"),typeof window>"u")return GE;var e=YE(t),n=document.documentElement.clientWidth,o=window.innerWidth;return{left:e[0],top:e[1],right:e[2],gap:Math.max(0,o-n+e[2]-e[0])}},QE=Fy(),ko="data-scroll-locked",XE=function(t,e,n,o){var i=t.left,a=t.top,u=t.right,d=t.gap;return n===void 0&&(n="margin"),`
  .`.concat(OE,` {
   overflow: hidden `).concat(o,`;
   padding-right: `).concat(d,"px ").concat(o,`;
  }
  body[`).concat(ko,`] {
    overflow: hidden `).concat(o,`;
    overscroll-behavior: contain;
    `).concat([e&&"position: relative ".concat(o,";"),n==="margin"&&`
    padding-left: `.concat(i,`px;
    padding-top: `).concat(a,`px;
    padding-right: `).concat(u,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(d,"px ").concat(o,`;
    `),n==="padding"&&"padding-right: ".concat(d,"px ").concat(o,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(Ol,` {
    right: `).concat(d,"px ").concat(o,`;
  }
  
  .`).concat(Il,` {
    margin-right: `).concat(d,"px ").concat(o,`;
  }
  
  .`).concat(Ol," .").concat(Ol,` {
    right: 0 `).concat(o,`;
  }
  
  .`).concat(Il," .").concat(Il,` {
    margin-right: 0 `).concat(o,`;
  }
  
  body[`).concat(ko,`] {
    `).concat(IE,": ").concat(d,`px;
  }
`)},bg=function(){var t=parseInt(document.body.getAttribute(ko)||"0",10);return isFinite(t)?t:0},ZE=function(){w.useEffect(function(){return document.body.setAttribute(ko,(bg()+1).toString()),function(){var t=bg()-1;t<=0?document.body.removeAttribute(ko):document.body.setAttribute(ko,t.toString())}},[])},ek=function(t){var e=t.noRelative,n=t.noImportant,o=t.gapMode,i=o===void 0?"margin":o;ZE();var a=w.useMemo(function(){return JE(i)},[i]);return w.createElement(QE,{styles:XE(a,!e,i,n?"":"!important")})},Wd=!1;if(typeof window<"u")try{var yl=Object.defineProperty({},"passive",{get:function(){return Wd=!0,!0}});window.addEventListener("test",yl,yl),window.removeEventListener("test",yl,yl)}catch{Wd=!1}var po=Wd?{passive:!1}:!1,tk=function(t){return t.tagName==="TEXTAREA"},Uy=function(t,e){if(!(t instanceof Element))return!1;var n=window.getComputedStyle(t);return n[e]!=="hidden"&&!(n.overflowY===n.overflowX&&!tk(t)&&n[e]==="visible")},rk=function(t){return Uy(t,"overflowY")},nk=function(t){return Uy(t,"overflowX")},_g=function(t,e){var n=e.ownerDocument,o=e;do{typeof ShadowRoot<"u"&&o instanceof ShadowRoot&&(o=o.host);var i=zy(t,o);if(i){var a=By(t,o),u=a[1],d=a[2];if(u>d)return!0}o=o.parentNode}while(o&&o!==n.body);return!1},sk=function(t){var e=t.scrollTop,n=t.scrollHeight,o=t.clientHeight;return[e,n,o]},ok=function(t){var e=t.scrollLeft,n=t.scrollWidth,o=t.clientWidth;return[e,n,o]},zy=function(t,e){return t==="v"?rk(e):nk(e)},By=function(t,e){return t==="v"?sk(e):ok(e)},ik=function(t,e){return t==="h"&&e==="rtl"?-1:1},ak=function(t,e,n,o,i){var a=ik(t,window.getComputedStyle(e).direction),u=a*o,d=n.target,h=e.contains(d),p=!1,g=u>0,m=0,x=0;do{if(!d)break;var b=By(t,d),j=b[0],_=b[1],S=b[2],k=_-S-a*j;(j||k)&&zy(t,d)&&(m+=k,x+=j);var C=d.parentNode;d=C&&C.nodeType===Node.DOCUMENT_FRAGMENT_NODE?C.host:C}while(!h&&d!==document.body||h&&(e.contains(d)||e===d));return(g&&Math.abs(m)<1||!g&&Math.abs(x)<1)&&(p=!0),p},wl=function(t){return"changedTouches"in t?[t.changedTouches[0].clientX,t.changedTouches[0].clientY]:[0,0]},Sg=function(t){return[t.deltaX,t.deltaY]},jg=function(t){return t&&"current"in t?t.current:t},lk=function(t,e){return t[0]===e[0]&&t[1]===e[1]},ck=function(t){return`
  .block-interactivity-`.concat(t,` {pointer-events: none;}
  .allow-interactivity-`).concat(t,` {pointer-events: all;}
`)},uk=0,mo=[];function dk(t){var e=w.useRef([]),n=w.useRef([0,0]),o=w.useRef(),i=w.useState(uk++)[0],a=w.useState(Fy)[0],u=w.useRef(t);w.useEffect(function(){u.current=t},[t]),w.useEffect(function(){if(t.inert){document.body.classList.add("block-interactivity-".concat(i));var _=Tf([t.lockRef.current],(t.shards||[]).map(jg),!0).filter(Boolean);return _.forEach(function(S){return S.classList.add("allow-interactivity-".concat(i))}),function(){document.body.classList.remove("block-interactivity-".concat(i)),_.forEach(function(S){return S.classList.remove("allow-interactivity-".concat(i))})}}},[t.inert,t.lockRef.current,t.shards]);var d=w.useCallback(function(_,S){if("touches"in _&&_.touches.length===2||_.type==="wheel"&&_.ctrlKey)return!u.current.allowPinchZoom;var k=wl(_),C=n.current,N="deltaX"in _?_.deltaX:C[0]-k[0],P="deltaY"in _?_.deltaY:C[1]-k[1],F,V=_.target,D=Math.abs(N)>Math.abs(P)?"h":"v";if("touches"in _&&D==="h"&&V.type==="range")return!1;var z=_g(D,V);if(!z)return!0;if(z?F=D:(F=D==="v"?"h":"v",z=_g(D,V)),!z)return!1;if(!o.current&&"changedTouches"in _&&(N||P)&&(o.current=F),!F)return!0;var q=o.current||F;return ak(q,S,_,q==="h"?N:P)},[]),h=w.useCallback(function(_){var S=_;if(!(!mo.length||mo[mo.length-1]!==a)){var k="deltaY"in S?Sg(S):wl(S),C=e.current.filter(function(F){return F.name===S.type&&(F.target===S.target||S.target===F.shadowParent)&&lk(F.delta,k)})[0];if(C&&C.should){S.cancelable&&S.preventDefault();return}if(!C){var N=(u.current.shards||[]).map(jg).filter(Boolean).filter(function(F){return F.contains(S.target)}),P=N.length>0?d(S,N[0]):!u.current.noIsolation;P&&S.cancelable&&S.preventDefault()}}},[]),p=w.useCallback(function(_,S,k,C){var N={name:_,delta:S,target:k,should:C,shadowParent:fk(k)};e.current.push(N),setTimeout(function(){e.current=e.current.filter(function(P){return P!==N})},1)},[]),g=w.useCallback(function(_){n.current=wl(_),o.current=void 0},[]),m=w.useCallback(function(_){p(_.type,Sg(_),_.target,d(_,t.lockRef.current))},[]),x=w.useCallback(function(_){p(_.type,wl(_),_.target,d(_,t.lockRef.current))},[]);w.useEffect(function(){return mo.push(a),t.setCallbacks({onScrollCapture:m,onWheelCapture:m,onTouchMoveCapture:x}),document.addEventListener("wheel",h,po),document.addEventListener("touchmove",h,po),document.addEventListener("touchstart",g,po),function(){mo=mo.filter(function(_){return _!==a}),document.removeEventListener("wheel",h,po),document.removeEventListener("touchmove",h,po),document.removeEventListener("touchstart",g,po)}},[]);var b=t.removeScrollBar,j=t.inert;return w.createElement(w.Fragment,null,j?w.createElement(a,{styles:ck(i)}):null,b?w.createElement(ek,{noRelative:t.noRelative,gapMode:t.gapMode}):null)}function fk(t){for(var e=null;t!==null;)t instanceof ShadowRoot&&(e=t.host,t=t.host),t=t.parentNode;return e}const hk=zE(My,dk);var Pf=w.forwardRef(function(t,e){return w.createElement(sc,wr({},t,{ref:e,sideCar:hk}))});Pf.classNames=sc.classNames;var pk=function(t){if(typeof document>"u")return null;var e=Array.isArray(t)?t[0]:t;return e.ownerDocument.body},go=new WeakMap,xl=new WeakMap,bl={},bd=0,Vy=function(t){return t&&(t.host||Vy(t.parentNode))},mk=function(t,e){return e.map(function(n){if(t.contains(n))return n;var o=Vy(n);return o&&t.contains(o)?o:(console.error("aria-hidden",n,"in not contained inside",t,". Doing nothing"),null)}).filter(function(n){return!!n})},gk=function(t,e,n,o){var i=mk(e,Array.isArray(t)?t:[t]);bl[n]||(bl[n]=new WeakMap);var a=bl[n],u=[],d=new Set,h=new Set(i),p=function(m){!m||d.has(m)||(d.add(m),p(m.parentNode))};i.forEach(p);var g=function(m){!m||h.has(m)||Array.prototype.forEach.call(m.children,function(x){if(d.has(x))g(x);else try{var b=x.getAttribute(o),j=b!==null&&b!=="false",_=(go.get(x)||0)+1,S=(a.get(x)||0)+1;go.set(x,_),a.set(x,S),u.push(x),_===1&&j&&xl.set(x,!0),S===1&&x.setAttribute(n,"true"),j||x.setAttribute(o,"true")}catch(k){console.error("aria-hidden: cannot operate on ",x,k)}})};return g(e),d.clear(),bd++,function(){u.forEach(function(m){var x=go.get(m)-1,b=a.get(m)-1;go.set(m,x),a.set(m,b),x||(xl.has(m)||m.removeAttribute(o),xl.delete(m)),b||m.removeAttribute(n)}),bd--,bd||(go=new WeakMap,go=new WeakMap,xl=new WeakMap,bl={})}},Wy=function(t,e,n){n===void 0&&(n="data-aria-hidden");var o=Array.from(Array.isArray(t)?t:[t]),i=pk(t);return i?(o.push.apply(o,Array.from(i.querySelectorAll("[aria-live], script"))),gk(o,i,n,"aria-hidden")):function(){return null}};function vk(t){const e=yk(t),n=w.forwardRef((o,i)=>{const{children:a,...u}=o,d=w.Children.toArray(a),h=d.find(xk);if(h){const p=h.props.children,g=d.map(m=>m===h?w.Children.count(p)>1?w.Children.only(null):w.isValidElement(p)?p.props.children:null:m);return c.jsx(e,{...u,ref:i,children:w.isValidElement(p)?w.cloneElement(p,void 0,g):null})}return c.jsx(e,{...u,ref:i,children:a})});return n.displayName=`${t}.Slot`,n}function yk(t){const e=w.forwardRef((n,o)=>{const{children:i,...a}=n;if(w.isValidElement(i)){const u=_k(i),d=bk(a,i.props);return i.type!==w.Fragment&&(d.ref=o?Mo(o,u):u),w.cloneElement(i,d)}return w.Children.count(i)>1?w.Children.only(null):null});return e.displayName=`${t}.SlotClone`,e}var wk=Symbol("radix.slottable");function xk(t){return w.isValidElement(t)&&typeof t.type=="function"&&"__radixId"in t.type&&t.type.__radixId===wk}function bk(t,e){const n={...e};for(const o in e){const i=t[o],a=e[o];/^on[A-Z]/.test(o)?i&&a?n[o]=(...d)=>{const h=a(...d);return i(...d),h}:i&&(n[o]=i):o==="style"?n[o]={...i,...a}:o==="className"&&(n[o]=[i,a].filter(Boolean).join(" "))}return{...t,...n}}function _k(t){let e=Object.getOwnPropertyDescriptor(t.props,"ref")?.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=Object.getOwnPropertyDescriptor(t,"ref")?.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}var oc="Dialog",[Hy]=Us(oc),[Sk,$r]=Hy(oc),qy=t=>{const{__scopeDialog:e,children:n,open:o,defaultOpen:i,onOpenChange:a,modal:u=!0}=t,d=w.useRef(null),h=w.useRef(null),[p,g]=qi({prop:o,defaultProp:i??!1,onChange:a,caller:oc});return c.jsx(Sk,{scope:e,triggerRef:d,contentRef:h,contentId:es(),titleId:es(),descriptionId:es(),open:p,onOpenChange:g,onOpenToggle:w.useCallback(()=>g(m=>!m),[g]),modal:u,children:n})};qy.displayName=oc;var Ky="DialogTrigger",jk=w.forwardRef((t,e)=>{const{__scopeDialog:n,...o}=t,i=$r(Ky,n),a=qe(e,i.triggerRef);return c.jsx($e.button,{type:"button","aria-haspopup":"dialog","aria-expanded":i.open,"aria-controls":i.contentId,"data-state":If(i.open),...o,ref:a,onClick:Ae(t.onClick,i.onOpenToggle)})});jk.displayName=Ky;var Af="DialogPortal",[Ek,Gy]=Hy(Af,{forceMount:void 0}),Yy=t=>{const{__scopeDialog:e,forceMount:n,children:o,container:i}=t,a=$r(Af,e);return c.jsx(Ek,{scope:e,forceMount:n,children:w.Children.map(o,u=>c.jsx(wn,{present:n||a.open,children:c.jsx(Nf,{asChild:!0,container:i,children:u})}))})};Yy.displayName=Af;var Ul="DialogOverlay",Jy=w.forwardRef((t,e)=>{const n=Gy(Ul,t.__scopeDialog),{forceMount:o=n.forceMount,...i}=t,a=$r(Ul,t.__scopeDialog);return a.modal?c.jsx(wn,{present:o||a.open,children:c.jsx(Ck,{...i,ref:e})}):null});Jy.displayName=Ul;var kk=vk("DialogOverlay.RemoveScroll"),Ck=w.forwardRef((t,e)=>{const{__scopeDialog:n,...o}=t,i=$r(Ul,n);return c.jsx(Pf,{as:kk,allowPinchZoom:!0,shards:[i.contentRef],children:c.jsx($e.div,{"data-state":If(i.open),...o,ref:e,style:{pointerEvents:"auto",...o.style}})})}),Ls="DialogContent",Qy=w.forwardRef((t,e)=>{const n=Gy(Ls,t.__scopeDialog),{forceMount:o=n.forceMount,...i}=t,a=$r(Ls,t.__scopeDialog);return c.jsx(wn,{present:o||a.open,children:a.modal?c.jsx(Nk,{...i,ref:e}):c.jsx(Rk,{...i,ref:e})})});Qy.displayName=Ls;var Nk=w.forwardRef((t,e)=>{const n=$r(Ls,t.__scopeDialog),o=w.useRef(null),i=qe(e,n.contentRef,o);return w.useEffect(()=>{const a=o.current;if(a)return Wy(a)},[]),c.jsx(Xy,{...t,ref:i,trapFocus:n.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:Ae(t.onCloseAutoFocus,a=>{a.preventDefault(),n.triggerRef.current?.focus()}),onPointerDownOutside:Ae(t.onPointerDownOutside,a=>{const u=a.detail.originalEvent,d=u.button===0&&u.ctrlKey===!0;(u.button===2||d)&&a.preventDefault()}),onFocusOutside:Ae(t.onFocusOutside,a=>a.preventDefault())})}),Rk=w.forwardRef((t,e)=>{const n=$r(Ls,t.__scopeDialog),o=w.useRef(!1),i=w.useRef(!1);return c.jsx(Xy,{...t,ref:e,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:a=>{t.onCloseAutoFocus?.(a),a.defaultPrevented||(o.current||n.triggerRef.current?.focus(),a.preventDefault()),o.current=!1,i.current=!1},onInteractOutside:a=>{t.onInteractOutside?.(a),a.defaultPrevented||(o.current=!0,a.detail.originalEvent.type==="pointerdown"&&(i.current=!0));const u=a.target;n.triggerRef.current?.contains(u)&&a.preventDefault(),a.detail.originalEvent.type==="focusin"&&i.current&&a.preventDefault()}})}),Xy=w.forwardRef((t,e)=>{const{__scopeDialog:n,trapFocus:o,onOpenAutoFocus:i,onCloseAutoFocus:a,...u}=t,d=$r(Ls,n),h=w.useRef(null),p=qe(e,h);return fy(),c.jsxs(c.Fragment,{children:[c.jsx(Cf,{asChild:!0,loop:!0,trapped:o,onMountAutoFocus:i,onUnmountAutoFocus:a,children:c.jsx(kf,{role:"dialog",id:d.contentId,"aria-describedby":d.descriptionId,"aria-labelledby":d.titleId,"data-state":If(d.open),...u,ref:p,onDismiss:()=>d.onOpenChange(!1)})}),c.jsxs(c.Fragment,{children:[c.jsx(Tk,{titleId:d.titleId}),c.jsx(Ak,{contentRef:h,descriptionId:d.descriptionId})]})]})}),Of="DialogTitle",Zy=w.forwardRef((t,e)=>{const{__scopeDialog:n,...o}=t,i=$r(Of,n);return c.jsx($e.h2,{id:i.titleId,...o,ref:e})});Zy.displayName=Of;var ew="DialogDescription",tw=w.forwardRef((t,e)=>{const{__scopeDialog:n,...o}=t,i=$r(ew,n);return c.jsx($e.p,{id:i.descriptionId,...o,ref:e})});tw.displayName=ew;var rw="DialogClose",nw=w.forwardRef((t,e)=>{const{__scopeDialog:n,...o}=t,i=$r(rw,n);return c.jsx($e.button,{type:"button",...o,ref:e,onClick:Ae(t.onClick,()=>i.onOpenChange(!1))})});nw.displayName=rw;function If(t){return t?"open":"closed"}var sw="DialogTitleWarning",[SA,ow]=Yj(sw,{contentName:Ls,titleName:Of,docsSlug:"dialog"}),Tk=({titleId:t})=>{const e=ow(sw),n=`\`${e.contentName}\` requires a \`${e.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${e.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${e.docsSlug}`;return w.useEffect(()=>{t&&(document.getElementById(t)||console.error(n))},[n,t]),null},Pk="DialogDescriptionWarning",Ak=({contentRef:t,descriptionId:e})=>{const o=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${ow(Pk).contentName}}.`;return w.useEffect(()=>{const i=t.current?.getAttribute("aria-describedby");e&&i&&(document.getElementById(e)||console.warn(o))},[o,t,e]),null},Ok=qy,Ik=Yy,iw=Jy,aw=Qy,Dk=Zy,Lk=tw,$k=nw;function Uo({...t}){return c.jsx(Ok,{"data-slot":"dialog",...t})}function Mk({...t}){return c.jsx(Ik,{"data-slot":"dialog-portal",...t})}const lw=w.forwardRef(({className:t,...e},n)=>c.jsx(iw,{ref:n,"data-slot":"dialog-overlay",className:me("data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 fixed inset-0 z-50 bg-black/50",t),...e}));lw.displayName=iw.displayName;const zs=w.forwardRef(({className:t,children:e,...n},o)=>c.jsxs(Mk,{"data-slot":"dialog-portal",children:[c.jsx(lw,{}),c.jsxs(aw,{ref:o,"data-slot":"dialog-content",className:me("bg-background data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 fixed top-[50%] left-[50%] z-50 grid w-full max-w-[calc(100%-2rem)] translate-x-[-50%] translate-y-[-50%] gap-4 rounded-lg border p-6 shadow-lg duration-200 sm:max-w-lg",t),...n,children:[e,c.jsxs($k,{className:"ring-offset-background focus:ring-ring data-[state=open]:bg-accent data-[state=open]:text-muted-foreground absolute top-4 right-4 rounded-xs opacity-70 transition-opacity hover:opacity-100 focus:ring-2 focus:ring-offset-2 focus:outline-hidden disabled:pointer-events-none [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",children:[c.jsx(ly,{}),c.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));zs.displayName=aw.displayName;function zo({className:t,...e}){return c.jsx("div",{"data-slot":"dialog-header",className:me("flex flex-col gap-2 text-center sm:text-left",t),...e})}function cw({className:t,...e}){return c.jsx("div",{"data-slot":"dialog-footer",className:me("flex flex-col-reverse gap-2 sm:flex-row sm:justify-end",t),...e})}function Bo({className:t,...e}){return c.jsx(Dk,{"data-slot":"dialog-title",className:me("text-lg leading-none font-semibold",t),...e})}function Vo({className:t,...e}){return c.jsx(Lk,{"data-slot":"dialog-description",className:me("text-muted-foreground text-sm",t),...e})}function rt({className:t,type:e,...n}){return c.jsx("input",{type:e,"data-slot":"input",className:me("file:text-foreground placeholder:text-muted-foreground selection:bg-primary selection:text-primary-foreground dark:bg-input/30 border-input flex h-9 w-full min-w-0 rounded-md border px-3 py-1 text-base bg-input-background transition-[color,box-shadow] outline-none file:inline-flex file:h-7 file:border-0 file:bg-transparent file:text-sm file:font-medium disabled:pointer-events-none disabled:cursor-not-allowed disabled:opacity-50 md:text-sm","focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px]","aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",t),...n})}function Wo({className:t,...e}){return c.jsx("textarea",{"data-slot":"textarea",className:me("resize-none border-input placeholder:text-muted-foreground focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive dark:bg-input/30 flex field-sizing-content min-h-16 w-full rounded-md border bg-input-background px-3 py-2 text-base transition-[color,box-shadow] outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",t),...e})}function Hd(t,[e,n]){return Math.min(n,Math.max(e,t))}function Eg(t){const e=Fk(t),n=w.forwardRef((o,i)=>{const{children:a,...u}=o,d=w.Children.toArray(a),h=d.find(zk);if(h){const p=h.props.children,g=d.map(m=>m===h?w.Children.count(p)>1?w.Children.only(null):w.isValidElement(p)?p.props.children:null:m);return c.jsx(e,{...u,ref:i,children:w.isValidElement(p)?w.cloneElement(p,void 0,g):null})}return c.jsx(e,{...u,ref:i,children:a})});return n.displayName=`${t}.Slot`,n}function Fk(t){const e=w.forwardRef((n,o)=>{const{children:i,...a}=n;if(w.isValidElement(i)){const u=Vk(i),d=Bk(a,i.props);return i.type!==w.Fragment&&(d.ref=o?Mo(o,u):u),w.cloneElement(i,d)}return w.Children.count(i)>1?w.Children.only(null):null});return e.displayName=`${t}.SlotClone`,e}var Uk=Symbol("radix.slottable");function zk(t){return w.isValidElement(t)&&typeof t.type=="function"&&"__radixId"in t.type&&t.type.__radixId===Uk}function Bk(t,e){const n={...e};for(const o in e){const i=t[o],a=e[o];/^on[A-Z]/.test(o)?i&&a?n[o]=(...d)=>{const h=a(...d);return i(...d),h}:i&&(n[o]=i):o==="style"?n[o]={...i,...a}:o==="className"&&(n[o]=[i,a].filter(Boolean).join(" "))}return{...t,...n}}function Vk(t){let e=Object.getOwnPropertyDescriptor(t.props,"ref")?.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=Object.getOwnPropertyDescriptor(t,"ref")?.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}function uw(t){const e=t+"CollectionProvider",[n,o]=Us(e),[i,a]=n(e,{collectionRef:{current:null},itemMap:new Map}),u=_=>{const{scope:S,children:k}=_,C=te.useRef(null),N=te.useRef(new Map).current;return c.jsx(i,{scope:S,itemMap:N,collectionRef:C,children:k})};u.displayName=e;const d=t+"CollectionSlot",h=Eg(d),p=te.forwardRef((_,S)=>{const{scope:k,children:C}=_,N=a(d,k),P=qe(S,N.collectionRef);return c.jsx(h,{ref:P,children:C})});p.displayName=d;const g=t+"CollectionItemSlot",m="data-radix-collection-item",x=Eg(g),b=te.forwardRef((_,S)=>{const{scope:k,children:C,...N}=_,P=te.useRef(null),F=qe(S,P),V=a(g,k);return te.useEffect(()=>(V.itemMap.set(P,{ref:P,...N}),()=>void V.itemMap.delete(P))),c.jsx(x,{[m]:"",ref:F,children:C})});b.displayName=g;function j(_){const S=a(t+"CollectionConsumer",_);return te.useCallback(()=>{const C=S.collectionRef.current;if(!C)return[];const N=Array.from(C.querySelectorAll(`[${m}]`));return Array.from(S.itemMap.values()).sort((V,D)=>N.indexOf(V.ref.current)-N.indexOf(D.ref.current))},[S.collectionRef,S.itemMap])}return[{Provider:u,Slot:p,ItemSlot:b},j,o]}var Wk=w.createContext(void 0);function ic(t){const e=w.useContext(Wk);return t||e||"ltr"}const Hk=["top","right","bottom","left"],ts=Math.min,sr=Math.max,zl=Math.round,_l=Math.floor,Yr=t=>({x:t,y:t}),qk={left:"right",right:"left",bottom:"top",top:"bottom"},Kk={start:"end",end:"start"};function qd(t,e,n){return sr(t,ts(e,n))}function mn(t,e){return typeof t=="function"?t(e):t}function gn(t){return t.split("-")[0]}function Ho(t){return t.split("-")[1]}function Df(t){return t==="x"?"y":"x"}function Lf(t){return t==="y"?"height":"width"}const Gk=new Set(["top","bottom"]);function Wr(t){return Gk.has(gn(t))?"y":"x"}function $f(t){return Df(Wr(t))}function Yk(t,e,n){n===void 0&&(n=!1);const o=Ho(t),i=$f(t),a=Lf(i);let u=i==="x"?o===(n?"end":"start")?"right":"left":o==="start"?"bottom":"top";return e.reference[a]>e.floating[a]&&(u=Bl(u)),[u,Bl(u)]}function Jk(t){const e=Bl(t);return[Kd(t),e,Kd(e)]}function Kd(t){return t.replace(/start|end/g,e=>Kk[e])}const kg=["left","right"],Cg=["right","left"],Qk=["top","bottom"],Xk=["bottom","top"];function Zk(t,e,n){switch(t){case"top":case"bottom":return n?e?Cg:kg:e?kg:Cg;case"left":case"right":return e?Qk:Xk;default:return[]}}function eC(t,e,n,o){const i=Ho(t);let a=Zk(gn(t),n==="start",o);return i&&(a=a.map(u=>u+"-"+i),e&&(a=a.concat(a.map(Kd)))),a}function Bl(t){return t.replace(/left|right|bottom|top/g,e=>qk[e])}function tC(t){return{top:0,right:0,bottom:0,left:0,...t}}function dw(t){return typeof t!="number"?tC(t):{top:t,right:t,bottom:t,left:t}}function Vl(t){const{x:e,y:n,width:o,height:i}=t;return{width:o,height:i,top:n,left:e,right:e+o,bottom:n+i,x:e,y:n}}function Ng(t,e,n){let{reference:o,floating:i}=t;const a=Wr(e),u=$f(e),d=Lf(u),h=gn(e),p=a==="y",g=o.x+o.width/2-i.width/2,m=o.y+o.height/2-i.height/2,x=o[d]/2-i[d]/2;let b;switch(h){case"top":b={x:g,y:o.y-i.height};break;case"bottom":b={x:g,y:o.y+o.height};break;case"right":b={x:o.x+o.width,y:m};break;case"left":b={x:o.x-i.width,y:m};break;default:b={x:o.x,y:o.y}}switch(Ho(e)){case"start":b[u]-=x*(n&&p?-1:1);break;case"end":b[u]+=x*(n&&p?-1:1);break}return b}const rC=async(t,e,n)=>{const{placement:o="bottom",strategy:i="absolute",middleware:a=[],platform:u}=n,d=a.filter(Boolean),h=await(u.isRTL==null?void 0:u.isRTL(e));let p=await u.getElementRects({reference:t,floating:e,strategy:i}),{x:g,y:m}=Ng(p,o,h),x=o,b={},j=0;for(let _=0;_<d.length;_++){const{name:S,fn:k}=d[_],{x:C,y:N,data:P,reset:F}=await k({x:g,y:m,initialPlacement:o,placement:x,strategy:i,middlewareData:b,rects:p,platform:u,elements:{reference:t,floating:e}});g=C??g,m=N??m,b={...b,[S]:{...b[S],...P}},F&&j<=50&&(j++,typeof F=="object"&&(F.placement&&(x=F.placement),F.rects&&(p=F.rects===!0?await u.getElementRects({reference:t,floating:e,strategy:i}):F.rects),{x:g,y:m}=Ng(p,x,h)),_=-1)}return{x:g,y:m,placement:x,strategy:i,middlewareData:b}};async function Ki(t,e){var n;e===void 0&&(e={});const{x:o,y:i,platform:a,rects:u,elements:d,strategy:h}=t,{boundary:p="clippingAncestors",rootBoundary:g="viewport",elementContext:m="floating",altBoundary:x=!1,padding:b=0}=mn(e,t),j=dw(b),S=d[x?m==="floating"?"reference":"floating":m],k=Vl(await a.getClippingRect({element:(n=await(a.isElement==null?void 0:a.isElement(S)))==null||n?S:S.contextElement||await(a.getDocumentElement==null?void 0:a.getDocumentElement(d.floating)),boundary:p,rootBoundary:g,strategy:h})),C=m==="floating"?{x:o,y:i,width:u.floating.width,height:u.floating.height}:u.reference,N=await(a.getOffsetParent==null?void 0:a.getOffsetParent(d.floating)),P=await(a.isElement==null?void 0:a.isElement(N))?await(a.getScale==null?void 0:a.getScale(N))||{x:1,y:1}:{x:1,y:1},F=Vl(a.convertOffsetParentRelativeRectToViewportRelativeRect?await a.convertOffsetParentRelativeRectToViewportRelativeRect({elements:d,rect:C,offsetParent:N,strategy:h}):C);return{top:(k.top-F.top+j.top)/P.y,bottom:(F.bottom-k.bottom+j.bottom)/P.y,left:(k.left-F.left+j.left)/P.x,right:(F.right-k.right+j.right)/P.x}}const nC=t=>({name:"arrow",options:t,async fn(e){const{x:n,y:o,placement:i,rects:a,platform:u,elements:d,middlewareData:h}=e,{element:p,padding:g=0}=mn(t,e)||{};if(p==null)return{};const m=dw(g),x={x:n,y:o},b=$f(i),j=Lf(b),_=await u.getDimensions(p),S=b==="y",k=S?"top":"left",C=S?"bottom":"right",N=S?"clientHeight":"clientWidth",P=a.reference[j]+a.reference[b]-x[b]-a.floating[j],F=x[b]-a.reference[b],V=await(u.getOffsetParent==null?void 0:u.getOffsetParent(p));let D=V?V[N]:0;(!D||!await(u.isElement==null?void 0:u.isElement(V)))&&(D=d.floating[N]||a.floating[j]);const z=P/2-F/2,q=D/2-_[j]/2-1,ne=ts(m[k],q),ue=ts(m[C],q),ge=ne,le=D-_[j]-ue,pe=D/2-_[j]/2+z,be=qd(ge,pe,le),B=!h.arrow&&Ho(i)!=null&&pe!==be&&a.reference[j]/2-(pe<ge?ne:ue)-_[j]/2<0,$=B?pe<ge?pe-ge:pe-le:0;return{[b]:x[b]+$,data:{[b]:be,centerOffset:pe-be-$,...B&&{alignmentOffset:$}},reset:B}}}),sC=function(t){return t===void 0&&(t={}),{name:"flip",options:t,async fn(e){var n,o;const{placement:i,middlewareData:a,rects:u,initialPlacement:d,platform:h,elements:p}=e,{mainAxis:g=!0,crossAxis:m=!0,fallbackPlacements:x,fallbackStrategy:b="bestFit",fallbackAxisSideDirection:j="none",flipAlignment:_=!0,...S}=mn(t,e);if((n=a.arrow)!=null&&n.alignmentOffset)return{};const k=gn(i),C=Wr(d),N=gn(d)===d,P=await(h.isRTL==null?void 0:h.isRTL(p.floating)),F=x||(N||!_?[Bl(d)]:Jk(d)),V=j!=="none";!x&&V&&F.push(...eC(d,_,j,P));const D=[d,...F],z=await Ki(e,S),q=[];let ne=((o=a.flip)==null?void 0:o.overflows)||[];if(g&&q.push(z[k]),m){const pe=Yk(i,u,P);q.push(z[pe[0]],z[pe[1]])}if(ne=[...ne,{placement:i,overflows:q}],!q.every(pe=>pe<=0)){var ue,ge;const pe=(((ue=a.flip)==null?void 0:ue.index)||0)+1,be=D[pe];if(be&&(!(m==="alignment"?C!==Wr(be):!1)||ne.every(O=>Wr(O.placement)===C?O.overflows[0]>0:!0)))return{data:{index:pe,overflows:ne},reset:{placement:be}};let B=(ge=ne.filter($=>$.overflows[0]<=0).sort(($,O)=>$.overflows[1]-O.overflows[1])[0])==null?void 0:ge.placement;if(!B)switch(b){case"bestFit":{var le;const $=(le=ne.filter(O=>{if(V){const Z=Wr(O.placement);return Z===C||Z==="y"}return!0}).map(O=>[O.placement,O.overflows.filter(Z=>Z>0).reduce((Z,K)=>Z+K,0)]).sort((O,Z)=>O[1]-Z[1])[0])==null?void 0:le[0];$&&(B=$);break}case"initialPlacement":B=d;break}if(i!==B)return{reset:{placement:B}}}return{}}}};function Rg(t,e){return{top:t.top-e.height,right:t.right-e.width,bottom:t.bottom-e.height,left:t.left-e.width}}function Tg(t){return Hk.some(e=>t[e]>=0)}const oC=function(t){return t===void 0&&(t={}),{name:"hide",options:t,async fn(e){const{rects:n}=e,{strategy:o="referenceHidden",...i}=mn(t,e);switch(o){case"referenceHidden":{const a=await Ki(e,{...i,elementContext:"reference"}),u=Rg(a,n.reference);return{data:{referenceHiddenOffsets:u,referenceHidden:Tg(u)}}}case"escaped":{const a=await Ki(e,{...i,altBoundary:!0}),u=Rg(a,n.floating);return{data:{escapedOffsets:u,escaped:Tg(u)}}}default:return{}}}}},fw=new Set(["left","top"]);async function iC(t,e){const{placement:n,platform:o,elements:i}=t,a=await(o.isRTL==null?void 0:o.isRTL(i.floating)),u=gn(n),d=Ho(n),h=Wr(n)==="y",p=fw.has(u)?-1:1,g=a&&h?-1:1,m=mn(e,t);let{mainAxis:x,crossAxis:b,alignmentAxis:j}=typeof m=="number"?{mainAxis:m,crossAxis:0,alignmentAxis:null}:{mainAxis:m.mainAxis||0,crossAxis:m.crossAxis||0,alignmentAxis:m.alignmentAxis};return d&&typeof j=="number"&&(b=d==="end"?j*-1:j),h?{x:b*g,y:x*p}:{x:x*p,y:b*g}}const aC=function(t){return t===void 0&&(t=0),{name:"offset",options:t,async fn(e){var n,o;const{x:i,y:a,placement:u,middlewareData:d}=e,h=await iC(e,t);return u===((n=d.offset)==null?void 0:n.placement)&&(o=d.arrow)!=null&&o.alignmentOffset?{}:{x:i+h.x,y:a+h.y,data:{...h,placement:u}}}}},lC=function(t){return t===void 0&&(t={}),{name:"shift",options:t,async fn(e){const{x:n,y:o,placement:i}=e,{mainAxis:a=!0,crossAxis:u=!1,limiter:d={fn:S=>{let{x:k,y:C}=S;return{x:k,y:C}}},...h}=mn(t,e),p={x:n,y:o},g=await Ki(e,h),m=Wr(gn(i)),x=Df(m);let b=p[x],j=p[m];if(a){const S=x==="y"?"top":"left",k=x==="y"?"bottom":"right",C=b+g[S],N=b-g[k];b=qd(C,b,N)}if(u){const S=m==="y"?"top":"left",k=m==="y"?"bottom":"right",C=j+g[S],N=j-g[k];j=qd(C,j,N)}const _=d.fn({...e,[x]:b,[m]:j});return{..._,data:{x:_.x-n,y:_.y-o,enabled:{[x]:a,[m]:u}}}}}},cC=function(t){return t===void 0&&(t={}),{options:t,fn(e){const{x:n,y:o,placement:i,rects:a,middlewareData:u}=e,{offset:d=0,mainAxis:h=!0,crossAxis:p=!0}=mn(t,e),g={x:n,y:o},m=Wr(i),x=Df(m);let b=g[x],j=g[m];const _=mn(d,e),S=typeof _=="number"?{mainAxis:_,crossAxis:0}:{mainAxis:0,crossAxis:0,..._};if(h){const N=x==="y"?"height":"width",P=a.reference[x]-a.floating[N]+S.mainAxis,F=a.reference[x]+a.reference[N]-S.mainAxis;b<P?b=P:b>F&&(b=F)}if(p){var k,C;const N=x==="y"?"width":"height",P=fw.has(gn(i)),F=a.reference[m]-a.floating[N]+(P&&((k=u.offset)==null?void 0:k[m])||0)+(P?0:S.crossAxis),V=a.reference[m]+a.reference[N]+(P?0:((C=u.offset)==null?void 0:C[m])||0)-(P?S.crossAxis:0);j<F?j=F:j>V&&(j=V)}return{[x]:b,[m]:j}}}},uC=function(t){return t===void 0&&(t={}),{name:"size",options:t,async fn(e){var n,o;const{placement:i,rects:a,platform:u,elements:d}=e,{apply:h=()=>{},...p}=mn(t,e),g=await Ki(e,p),m=gn(i),x=Ho(i),b=Wr(i)==="y",{width:j,height:_}=a.floating;let S,k;m==="top"||m==="bottom"?(S=m,k=x===(await(u.isRTL==null?void 0:u.isRTL(d.floating))?"start":"end")?"left":"right"):(k=m,S=x==="end"?"top":"bottom");const C=_-g.top-g.bottom,N=j-g.left-g.right,P=ts(_-g[S],C),F=ts(j-g[k],N),V=!e.middlewareData.shift;let D=P,z=F;if((n=e.middlewareData.shift)!=null&&n.enabled.x&&(z=N),(o=e.middlewareData.shift)!=null&&o.enabled.y&&(D=C),V&&!x){const ne=sr(g.left,0),ue=sr(g.right,0),ge=sr(g.top,0),le=sr(g.bottom,0);b?z=j-2*(ne!==0||ue!==0?ne+ue:sr(g.left,g.right)):D=_-2*(ge!==0||le!==0?ge+le:sr(g.top,g.bottom))}await h({...e,availableWidth:z,availableHeight:D});const q=await u.getDimensions(d.floating);return j!==q.width||_!==q.height?{reset:{rects:!0}}:{}}}};function ac(){return typeof window<"u"}function qo(t){return hw(t)?(t.nodeName||"").toLowerCase():"#document"}function cr(t){var e;return(t==null||(e=t.ownerDocument)==null?void 0:e.defaultView)||window}function Qr(t){var e;return(e=(hw(t)?t.ownerDocument:t.document)||window.document)==null?void 0:e.documentElement}function hw(t){return ac()?t instanceof Node||t instanceof cr(t).Node:!1}function Dr(t){return ac()?t instanceof Element||t instanceof cr(t).Element:!1}function Jr(t){return ac()?t instanceof HTMLElement||t instanceof cr(t).HTMLElement:!1}function Pg(t){return!ac()||typeof ShadowRoot>"u"?!1:t instanceof ShadowRoot||t instanceof cr(t).ShadowRoot}const dC=new Set(["inline","contents"]);function ea(t){const{overflow:e,overflowX:n,overflowY:o,display:i}=Lr(t);return/auto|scroll|overlay|hidden|clip/.test(e+o+n)&&!dC.has(i)}const fC=new Set(["table","td","th"]);function hC(t){return fC.has(qo(t))}const pC=[":popover-open",":modal"];function lc(t){return pC.some(e=>{try{return t.matches(e)}catch{return!1}})}const mC=["transform","translate","scale","rotate","perspective"],gC=["transform","translate","scale","rotate","perspective","filter"],vC=["paint","layout","strict","content"];function Mf(t){const e=Ff(),n=Dr(t)?Lr(t):t;return mC.some(o=>n[o]?n[o]!=="none":!1)||(n.containerType?n.containerType!=="normal":!1)||!e&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!e&&(n.filter?n.filter!=="none":!1)||gC.some(o=>(n.willChange||"").includes(o))||vC.some(o=>(n.contain||"").includes(o))}function yC(t){let e=rs(t);for(;Jr(e)&&!Po(e);){if(Mf(e))return e;if(lc(e))return null;e=rs(e)}return null}function Ff(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const wC=new Set(["html","body","#document"]);function Po(t){return wC.has(qo(t))}function Lr(t){return cr(t).getComputedStyle(t)}function cc(t){return Dr(t)?{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}:{scrollLeft:t.scrollX,scrollTop:t.scrollY}}function rs(t){if(qo(t)==="html")return t;const e=t.assignedSlot||t.parentNode||Pg(t)&&t.host||Qr(t);return Pg(e)?e.host:e}function pw(t){const e=rs(t);return Po(e)?t.ownerDocument?t.ownerDocument.body:t.body:Jr(e)&&ea(e)?e:pw(e)}function Gi(t,e,n){var o;e===void 0&&(e=[]),n===void 0&&(n=!0);const i=pw(t),a=i===((o=t.ownerDocument)==null?void 0:o.body),u=cr(i);if(a){const d=Gd(u);return e.concat(u,u.visualViewport||[],ea(i)?i:[],d&&n?Gi(d):[])}return e.concat(i,Gi(i,[],n))}function Gd(t){return t.parent&&Object.getPrototypeOf(t.parent)?t.frameElement:null}function mw(t){const e=Lr(t);let n=parseFloat(e.width)||0,o=parseFloat(e.height)||0;const i=Jr(t),a=i?t.offsetWidth:n,u=i?t.offsetHeight:o,d=zl(n)!==a||zl(o)!==u;return d&&(n=a,o=u),{width:n,height:o,$:d}}function Uf(t){return Dr(t)?t:t.contextElement}function Co(t){const e=Uf(t);if(!Jr(e))return Yr(1);const n=e.getBoundingClientRect(),{width:o,height:i,$:a}=mw(e);let u=(a?zl(n.width):n.width)/o,d=(a?zl(n.height):n.height)/i;return(!u||!Number.isFinite(u))&&(u=1),(!d||!Number.isFinite(d))&&(d=1),{x:u,y:d}}const xC=Yr(0);function gw(t){const e=cr(t);return!Ff()||!e.visualViewport?xC:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function bC(t,e,n){return e===void 0&&(e=!1),!n||e&&n!==cr(t)?!1:e}function $s(t,e,n,o){e===void 0&&(e=!1),n===void 0&&(n=!1);const i=t.getBoundingClientRect(),a=Uf(t);let u=Yr(1);e&&(o?Dr(o)&&(u=Co(o)):u=Co(t));const d=bC(a,n,o)?gw(a):Yr(0);let h=(i.left+d.x)/u.x,p=(i.top+d.y)/u.y,g=i.width/u.x,m=i.height/u.y;if(a){const x=cr(a),b=o&&Dr(o)?cr(o):o;let j=x,_=Gd(j);for(;_&&o&&b!==j;){const S=Co(_),k=_.getBoundingClientRect(),C=Lr(_),N=k.left+(_.clientLeft+parseFloat(C.paddingLeft))*S.x,P=k.top+(_.clientTop+parseFloat(C.paddingTop))*S.y;h*=S.x,p*=S.y,g*=S.x,m*=S.y,h+=N,p+=P,j=cr(_),_=Gd(j)}}return Vl({width:g,height:m,x:h,y:p})}function uc(t,e){const n=cc(t).scrollLeft;return e?e.left+n:$s(Qr(t)).left+n}function vw(t,e){const n=t.getBoundingClientRect(),o=n.left+e.scrollLeft-uc(t,n),i=n.top+e.scrollTop;return{x:o,y:i}}function _C(t){let{elements:e,rect:n,offsetParent:o,strategy:i}=t;const a=i==="fixed",u=Qr(o),d=e?lc(e.floating):!1;if(o===u||d&&a)return n;let h={scrollLeft:0,scrollTop:0},p=Yr(1);const g=Yr(0),m=Jr(o);if((m||!m&&!a)&&((qo(o)!=="body"||ea(u))&&(h=cc(o)),Jr(o))){const b=$s(o);p=Co(o),g.x=b.x+o.clientLeft,g.y=b.y+o.clientTop}const x=u&&!m&&!a?vw(u,h):Yr(0);return{width:n.width*p.x,height:n.height*p.y,x:n.x*p.x-h.scrollLeft*p.x+g.x+x.x,y:n.y*p.y-h.scrollTop*p.y+g.y+x.y}}function SC(t){return Array.from(t.getClientRects())}function jC(t){const e=Qr(t),n=cc(t),o=t.ownerDocument.body,i=sr(e.scrollWidth,e.clientWidth,o.scrollWidth,o.clientWidth),a=sr(e.scrollHeight,e.clientHeight,o.scrollHeight,o.clientHeight);let u=-n.scrollLeft+uc(t);const d=-n.scrollTop;return Lr(o).direction==="rtl"&&(u+=sr(e.clientWidth,o.clientWidth)-i),{width:i,height:a,x:u,y:d}}const Ag=25;function EC(t,e){const n=cr(t),o=Qr(t),i=n.visualViewport;let a=o.clientWidth,u=o.clientHeight,d=0,h=0;if(i){a=i.width,u=i.height;const g=Ff();(!g||g&&e==="fixed")&&(d=i.offsetLeft,h=i.offsetTop)}const p=uc(o);if(p<=0){const g=o.ownerDocument,m=g.body,x=getComputedStyle(m),b=g.compatMode==="CSS1Compat"&&parseFloat(x.marginLeft)+parseFloat(x.marginRight)||0,j=Math.abs(o.clientWidth-m.clientWidth-b);j<=Ag&&(a-=j)}else p<=Ag&&(a+=p);return{width:a,height:u,x:d,y:h}}const kC=new Set(["absolute","fixed"]);function CC(t,e){const n=$s(t,!0,e==="fixed"),o=n.top+t.clientTop,i=n.left+t.clientLeft,a=Jr(t)?Co(t):Yr(1),u=t.clientWidth*a.x,d=t.clientHeight*a.y,h=i*a.x,p=o*a.y;return{width:u,height:d,x:h,y:p}}function Og(t,e,n){let o;if(e==="viewport")o=EC(t,n);else if(e==="document")o=jC(Qr(t));else if(Dr(e))o=CC(e,n);else{const i=gw(t);o={x:e.x-i.x,y:e.y-i.y,width:e.width,height:e.height}}return Vl(o)}function yw(t,e){const n=rs(t);return n===e||!Dr(n)||Po(n)?!1:Lr(n).position==="fixed"||yw(n,e)}function NC(t,e){const n=e.get(t);if(n)return n;let o=Gi(t,[],!1).filter(d=>Dr(d)&&qo(d)!=="body"),i=null;const a=Lr(t).position==="fixed";let u=a?rs(t):t;for(;Dr(u)&&!Po(u);){const d=Lr(u),h=Mf(u);!h&&d.position==="fixed"&&(i=null),(a?!h&&!i:!h&&d.position==="static"&&!!i&&kC.has(i.position)||ea(u)&&!h&&yw(t,u))?o=o.filter(g=>g!==u):i=d,u=rs(u)}return e.set(t,o),o}function RC(t){let{element:e,boundary:n,rootBoundary:o,strategy:i}=t;const u=[...n==="clippingAncestors"?lc(e)?[]:NC(e,this._c):[].concat(n),o],d=u[0],h=u.reduce((p,g)=>{const m=Og(e,g,i);return p.top=sr(m.top,p.top),p.right=ts(m.right,p.right),p.bottom=ts(m.bottom,p.bottom),p.left=sr(m.left,p.left),p},Og(e,d,i));return{width:h.right-h.left,height:h.bottom-h.top,x:h.left,y:h.top}}function TC(t){const{width:e,height:n}=mw(t);return{width:e,height:n}}function PC(t,e,n){const o=Jr(e),i=Qr(e),a=n==="fixed",u=$s(t,!0,a,e);let d={scrollLeft:0,scrollTop:0};const h=Yr(0);function p(){h.x=uc(i)}if(o||!o&&!a)if((qo(e)!=="body"||ea(i))&&(d=cc(e)),o){const b=$s(e,!0,a,e);h.x=b.x+e.clientLeft,h.y=b.y+e.clientTop}else i&&p();a&&!o&&i&&p();const g=i&&!o&&!a?vw(i,d):Yr(0),m=u.left+d.scrollLeft-h.x-g.x,x=u.top+d.scrollTop-h.y-g.y;return{x:m,y:x,width:u.width,height:u.height}}function _d(t){return Lr(t).position==="static"}function Ig(t,e){if(!Jr(t)||Lr(t).position==="fixed")return null;if(e)return e(t);let n=t.offsetParent;return Qr(t)===n&&(n=n.ownerDocument.body),n}function ww(t,e){const n=cr(t);if(lc(t))return n;if(!Jr(t)){let i=rs(t);for(;i&&!Po(i);){if(Dr(i)&&!_d(i))return i;i=rs(i)}return n}let o=Ig(t,e);for(;o&&hC(o)&&_d(o);)o=Ig(o,e);return o&&Po(o)&&_d(o)&&!Mf(o)?n:o||yC(t)||n}const AC=async function(t){const e=this.getOffsetParent||ww,n=this.getDimensions,o=await n(t.floating);return{reference:PC(t.reference,await e(t.floating),t.strategy),floating:{x:0,y:0,width:o.width,height:o.height}}};function OC(t){return Lr(t).direction==="rtl"}const IC={convertOffsetParentRelativeRectToViewportRelativeRect:_C,getDocumentElement:Qr,getClippingRect:RC,getOffsetParent:ww,getElementRects:AC,getClientRects:SC,getDimensions:TC,getScale:Co,isElement:Dr,isRTL:OC};function xw(t,e){return t.x===e.x&&t.y===e.y&&t.width===e.width&&t.height===e.height}function DC(t,e){let n=null,o;const i=Qr(t);function a(){var d;clearTimeout(o),(d=n)==null||d.disconnect(),n=null}function u(d,h){d===void 0&&(d=!1),h===void 0&&(h=1),a();const p=t.getBoundingClientRect(),{left:g,top:m,width:x,height:b}=p;if(d||e(),!x||!b)return;const j=_l(m),_=_l(i.clientWidth-(g+x)),S=_l(i.clientHeight-(m+b)),k=_l(g),N={rootMargin:-j+"px "+-_+"px "+-S+"px "+-k+"px",threshold:sr(0,ts(1,h))||1};let P=!0;function F(V){const D=V[0].intersectionRatio;if(D!==h){if(!P)return u();D?u(!1,D):o=setTimeout(()=>{u(!1,1e-7)},1e3)}D===1&&!xw(p,t.getBoundingClientRect())&&u(),P=!1}try{n=new IntersectionObserver(F,{...N,root:i.ownerDocument})}catch{n=new IntersectionObserver(F,N)}n.observe(t)}return u(!0),a}function LC(t,e,n,o){o===void 0&&(o={});const{ancestorScroll:i=!0,ancestorResize:a=!0,elementResize:u=typeof ResizeObserver=="function",layoutShift:d=typeof IntersectionObserver=="function",animationFrame:h=!1}=o,p=Uf(t),g=i||a?[...p?Gi(p):[],...Gi(e)]:[];g.forEach(k=>{i&&k.addEventListener("scroll",n,{passive:!0}),a&&k.addEventListener("resize",n)});const m=p&&d?DC(p,n):null;let x=-1,b=null;u&&(b=new ResizeObserver(k=>{let[C]=k;C&&C.target===p&&b&&(b.unobserve(e),cancelAnimationFrame(x),x=requestAnimationFrame(()=>{var N;(N=b)==null||N.observe(e)})),n()}),p&&!h&&b.observe(p),b.observe(e));let j,_=h?$s(t):null;h&&S();function S(){const k=$s(t);_&&!xw(_,k)&&n(),_=k,j=requestAnimationFrame(S)}return n(),()=>{var k;g.forEach(C=>{i&&C.removeEventListener("scroll",n),a&&C.removeEventListener("resize",n)}),m?.(),(k=b)==null||k.disconnect(),b=null,h&&cancelAnimationFrame(j)}}const $C=aC,MC=lC,FC=sC,UC=uC,zC=oC,Dg=nC,BC=cC,VC=(t,e,n)=>{const o=new Map,i={platform:IC,...n},a={...i.platform,_c:o};return rC(t,e,{...i,platform:a})};var WC=typeof document<"u",HC=function(){},Dl=WC?w.useLayoutEffect:HC;function Wl(t,e){if(t===e)return!0;if(typeof t!=typeof e)return!1;if(typeof t=="function"&&t.toString()===e.toString())return!0;let n,o,i;if(t&&e&&typeof t=="object"){if(Array.isArray(t)){if(n=t.length,n!==e.length)return!1;for(o=n;o--!==0;)if(!Wl(t[o],e[o]))return!1;return!0}if(i=Object.keys(t),n=i.length,n!==Object.keys(e).length)return!1;for(o=n;o--!==0;)if(!{}.hasOwnProperty.call(e,i[o]))return!1;for(o=n;o--!==0;){const a=i[o];if(!(a==="_owner"&&t.$$typeof)&&!Wl(t[a],e[a]))return!1}return!0}return t!==t&&e!==e}function bw(t){return typeof window>"u"?1:(t.ownerDocument.defaultView||window).devicePixelRatio||1}function Lg(t,e){const n=bw(t);return Math.round(e*n)/n}function Sd(t){const e=w.useRef(t);return Dl(()=>{e.current=t}),e}function qC(t){t===void 0&&(t={});const{placement:e="bottom",strategy:n="absolute",middleware:o=[],platform:i,elements:{reference:a,floating:u}={},transform:d=!0,whileElementsMounted:h,open:p}=t,[g,m]=w.useState({x:0,y:0,strategy:n,placement:e,middlewareData:{},isPositioned:!1}),[x,b]=w.useState(o);Wl(x,o)||b(o);const[j,_]=w.useState(null),[S,k]=w.useState(null),C=w.useCallback(O=>{O!==V.current&&(V.current=O,_(O))},[]),N=w.useCallback(O=>{O!==D.current&&(D.current=O,k(O))},[]),P=a||j,F=u||S,V=w.useRef(null),D=w.useRef(null),z=w.useRef(g),q=h!=null,ne=Sd(h),ue=Sd(i),ge=Sd(p),le=w.useCallback(()=>{if(!V.current||!D.current)return;const O={placement:e,strategy:n,middleware:x};ue.current&&(O.platform=ue.current),VC(V.current,D.current,O).then(Z=>{const K={...Z,isPositioned:ge.current!==!1};pe.current&&!Wl(z.current,K)&&(z.current=K,Zi.flushSync(()=>{m(K)}))})},[x,e,n,ue,ge]);Dl(()=>{p===!1&&z.current.isPositioned&&(z.current.isPositioned=!1,m(O=>({...O,isPositioned:!1})))},[p]);const pe=w.useRef(!1);Dl(()=>(pe.current=!0,()=>{pe.current=!1}),[]),Dl(()=>{if(P&&(V.current=P),F&&(D.current=F),P&&F){if(ne.current)return ne.current(P,F,le);le()}},[P,F,le,ne,q]);const be=w.useMemo(()=>({reference:V,floating:D,setReference:C,setFloating:N}),[C,N]),B=w.useMemo(()=>({reference:P,floating:F}),[P,F]),$=w.useMemo(()=>{const O={position:n,left:0,top:0};if(!B.floating)return O;const Z=Lg(B.floating,g.x),K=Lg(B.floating,g.y);return d?{...O,transform:"translate("+Z+"px, "+K+"px)",...bw(B.floating)>=1.5&&{willChange:"transform"}}:{position:n,left:Z,top:K}},[n,d,B.floating,g.x,g.y]);return w.useMemo(()=>({...g,update:le,refs:be,elements:B,floatingStyles:$}),[g,le,be,B,$])}const KC=t=>{function e(n){return{}.hasOwnProperty.call(n,"current")}return{name:"arrow",options:t,fn(n){const{element:o,padding:i}=typeof t=="function"?t(n):t;return o&&e(o)?o.current!=null?Dg({element:o.current,padding:i}).fn(n):{}:o?Dg({element:o,padding:i}).fn(n):{}}}},GC=(t,e)=>({...$C(t),options:[t,e]}),YC=(t,e)=>({...MC(t),options:[t,e]}),JC=(t,e)=>({...BC(t),options:[t,e]}),QC=(t,e)=>({...FC(t),options:[t,e]}),XC=(t,e)=>({...UC(t),options:[t,e]}),ZC=(t,e)=>({...zC(t),options:[t,e]}),eN=(t,e)=>({...KC(t),options:[t,e]});var tN="Arrow",_w=w.forwardRef((t,e)=>{const{children:n,width:o=10,height:i=5,...a}=t;return c.jsx($e.svg,{...a,ref:e,width:o,height:i,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:t.asChild?n:c.jsx("polygon",{points:"0,0 30,0 15,10"})})});_w.displayName=tN;var rN=_w;function nN(t){const[e,n]=w.useState(void 0);return ut(()=>{if(t){n({width:t.offsetWidth,height:t.offsetHeight});const o=new ResizeObserver(i=>{if(!Array.isArray(i)||!i.length)return;const a=i[0];let u,d;if("borderBoxSize"in a){const h=a.borderBoxSize,p=Array.isArray(h)?h[0]:h;u=p.inlineSize,d=p.blockSize}else u=t.offsetWidth,d=t.offsetHeight;n({width:u,height:d})});return o.observe(t,{box:"border-box"}),()=>o.unobserve(t)}else n(void 0)},[t]),e}var zf="Popper",[Sw,jw]=Us(zf),[sN,Ew]=Sw(zf),kw=t=>{const{__scopePopper:e,children:n}=t,[o,i]=w.useState(null);return c.jsx(sN,{scope:e,anchor:o,onAnchorChange:i,children:n})};kw.displayName=zf;var Cw="PopperAnchor",Nw=w.forwardRef((t,e)=>{const{__scopePopper:n,virtualRef:o,...i}=t,a=Ew(Cw,n),u=w.useRef(null),d=qe(e,u),h=w.useRef(null);return w.useEffect(()=>{const p=h.current;h.current=o?.current||u.current,p!==h.current&&a.onAnchorChange(h.current)}),o?null:c.jsx($e.div,{...i,ref:d})});Nw.displayName=Cw;var Bf="PopperContent",[oN,iN]=Sw(Bf),Rw=w.forwardRef((t,e)=>{const{__scopePopper:n,side:o="bottom",sideOffset:i=0,align:a="center",alignOffset:u=0,arrowPadding:d=0,avoidCollisions:h=!0,collisionBoundary:p=[],collisionPadding:g=0,sticky:m="partial",hideWhenDetached:x=!1,updatePositionStrategy:b="optimized",onPlaced:j,..._}=t,S=Ew(Bf,n),[k,C]=w.useState(null),N=qe(e,J=>C(J)),[P,F]=w.useState(null),V=nN(P),D=V?.width??0,z=V?.height??0,q=o+(a!=="center"?"-"+a:""),ne=typeof g=="number"?g:{top:0,right:0,bottom:0,left:0,...g},ue=Array.isArray(p)?p:[p],ge=ue.length>0,le={padding:ne,boundary:ue.filter(lN),altBoundary:ge},{refs:pe,floatingStyles:be,placement:B,isPositioned:$,middlewareData:O}=qC({strategy:"fixed",placement:q,whileElementsMounted:(...J)=>LC(...J,{animationFrame:b==="always"}),elements:{reference:S.anchor},middleware:[GC({mainAxis:i+z,alignmentAxis:u}),h&&YC({mainAxis:!0,crossAxis:!1,limiter:m==="partial"?JC():void 0,...le}),h&&QC({...le}),XC({...le,apply:({elements:J,rects:re,availableWidth:Se,availableHeight:Ce})=>{const{width:Ie,height:Me}=re.reference,dt=J.floating.style;dt.setProperty("--radix-popper-available-width",`${Se}px`),dt.setProperty("--radix-popper-available-height",`${Ce}px`),dt.setProperty("--radix-popper-anchor-width",`${Ie}px`),dt.setProperty("--radix-popper-anchor-height",`${Me}px`)}}),P&&eN({element:P,padding:d}),cN({arrowWidth:D,arrowHeight:z}),x&&ZC({strategy:"referenceHidden",...le})]}),[Z,K]=Aw(B),I=Ot(j);ut(()=>{$&&I?.()},[$,I]);const H=O.arrow?.x,Q=O.arrow?.y,W=O.arrow?.centerOffset!==0,[oe,_e]=w.useState();return ut(()=>{k&&_e(window.getComputedStyle(k).zIndex)},[k]),c.jsx("div",{ref:pe.setFloating,"data-radix-popper-content-wrapper":"",style:{...be,transform:$?be.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:oe,"--radix-popper-transform-origin":[O.transformOrigin?.x,O.transformOrigin?.y].join(" "),...O.hide?.referenceHidden&&{visibility:"hidden",pointerEvents:"none"}},dir:t.dir,children:c.jsx(oN,{scope:n,placedSide:Z,onArrowChange:F,arrowX:H,arrowY:Q,shouldHideArrow:W,children:c.jsx($e.div,{"data-side":Z,"data-align":K,..._,ref:N,style:{..._.style,animation:$?void 0:"none"}})})})});Rw.displayName=Bf;var Tw="PopperArrow",aN={top:"bottom",right:"left",bottom:"top",left:"right"},Pw=w.forwardRef(function(e,n){const{__scopePopper:o,...i}=e,a=iN(Tw,o),u=aN[a.placedSide];return c.jsx("span",{ref:a.onArrowChange,style:{position:"absolute",left:a.arrowX,top:a.arrowY,[u]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[a.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[a.placedSide],visibility:a.shouldHideArrow?"hidden":void 0},children:c.jsx(rN,{...i,ref:n,style:{...i.style,display:"block"}})})});Pw.displayName=Tw;function lN(t){return t!==null}var cN=t=>({name:"transformOrigin",options:t,fn(e){const{placement:n,rects:o,middlewareData:i}=e,u=i.arrow?.centerOffset!==0,d=u?0:t.arrowWidth,h=u?0:t.arrowHeight,[p,g]=Aw(n),m={start:"0%",center:"50%",end:"100%"}[g],x=(i.arrow?.x??0)+d/2,b=(i.arrow?.y??0)+h/2;let j="",_="";return p==="bottom"?(j=u?m:`${x}px`,_=`${-h}px`):p==="top"?(j=u?m:`${x}px`,_=`${o.floating.height+h}px`):p==="right"?(j=`${-h}px`,_=u?m:`${b}px`):p==="left"&&(j=`${o.floating.width+h}px`,_=u?m:`${b}px`),{data:{x:j,y:_}}}});function Aw(t){const[e,n="center"]=t.split("-");return[e,n]}var uN=kw,dN=Nw,fN=Rw,hN=Pw;function pN(t){const e=mN(t),n=w.forwardRef((o,i)=>{const{children:a,...u}=o,d=w.Children.toArray(a),h=d.find(vN);if(h){const p=h.props.children,g=d.map(m=>m===h?w.Children.count(p)>1?w.Children.only(null):w.isValidElement(p)?p.props.children:null:m);return c.jsx(e,{...u,ref:i,children:w.isValidElement(p)?w.cloneElement(p,void 0,g):null})}return c.jsx(e,{...u,ref:i,children:a})});return n.displayName=`${t}.Slot`,n}function mN(t){const e=w.forwardRef((n,o)=>{const{children:i,...a}=n;if(w.isValidElement(i)){const u=wN(i),d=yN(a,i.props);return i.type!==w.Fragment&&(d.ref=o?Mo(o,u):u),w.cloneElement(i,d)}return w.Children.count(i)>1?w.Children.only(null):null});return e.displayName=`${t}.SlotClone`,e}var gN=Symbol("radix.slottable");function vN(t){return w.isValidElement(t)&&typeof t.type=="function"&&"__radixId"in t.type&&t.type.__radixId===gN}function yN(t,e){const n={...e};for(const o in e){const i=t[o],a=e[o];/^on[A-Z]/.test(o)?i&&a?n[o]=(...d)=>{const h=a(...d);return i(...d),h}:i&&(n[o]=i):o==="style"?n[o]={...i,...a}:o==="className"&&(n[o]=[i,a].filter(Boolean).join(" "))}return{...t,...n}}function wN(t){let e=Object.getOwnPropertyDescriptor(t.props,"ref")?.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=Object.getOwnPropertyDescriptor(t,"ref")?.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}function xN(t){const e=w.useRef({value:t,previous:t});return w.useMemo(()=>(e.current.value!==t&&(e.current.previous=e.current.value,e.current.value=t),e.current.previous),[t])}var Ow=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}),bN="VisuallyHidden",_N=w.forwardRef((t,e)=>c.jsx($e.span,{...t,ref:e,style:{...Ow,...t.style}}));_N.displayName=bN;var SN=[" ","Enter","ArrowUp","ArrowDown"],jN=[" ","Enter"],Ms="Select",[dc,fc,EN]=uw(Ms),[Ko]=Us(Ms,[EN,jw]),hc=jw(),[kN,os]=Ko(Ms),[CN,NN]=Ko(Ms),Iw=t=>{const{__scopeSelect:e,children:n,open:o,defaultOpen:i,onOpenChange:a,value:u,defaultValue:d,onValueChange:h,dir:p,name:g,autoComplete:m,disabled:x,required:b,form:j}=t,_=hc(e),[S,k]=w.useState(null),[C,N]=w.useState(null),[P,F]=w.useState(!1),V=ic(p),[D,z]=qi({prop:o,defaultProp:i??!1,onChange:a,caller:Ms}),[q,ne]=qi({prop:u,defaultProp:d,onChange:h,caller:Ms}),ue=w.useRef(null),ge=S?j||!!S.closest("form"):!0,[le,pe]=w.useState(new Set),be=Array.from(le).map(B=>B.props.value).join(";");return c.jsx(uN,{..._,children:c.jsxs(kN,{required:b,scope:e,trigger:S,onTriggerChange:k,valueNode:C,onValueNodeChange:N,valueNodeHasChildren:P,onValueNodeHasChildrenChange:F,contentId:es(),value:q,onValueChange:ne,open:D,onOpenChange:z,dir:V,triggerPointerDownPosRef:ue,disabled:x,children:[c.jsx(dc.Provider,{scope:e,children:c.jsx(CN,{scope:t.__scopeSelect,onNativeOptionAdd:w.useCallback(B=>{pe($=>new Set($).add(B))},[]),onNativeOptionRemove:w.useCallback(B=>{pe($=>{const O=new Set($);return O.delete(B),O})},[]),children:n})}),ge?c.jsxs(r0,{"aria-hidden":!0,required:b,tabIndex:-1,name:g,autoComplete:m,value:q,onChange:B=>ne(B.target.value),disabled:x,form:j,children:[q===void 0?c.jsx("option",{value:""}):null,Array.from(le)]},be):null]})})};Iw.displayName=Ms;var Dw="SelectTrigger",Lw=w.forwardRef((t,e)=>{const{__scopeSelect:n,disabled:o=!1,...i}=t,a=hc(n),u=os(Dw,n),d=u.disabled||o,h=qe(e,u.onTriggerChange),p=fc(n),g=w.useRef("touch"),[m,x,b]=s0(_=>{const S=p().filter(N=>!N.disabled),k=S.find(N=>N.value===u.value),C=o0(S,_,k);C!==void 0&&u.onValueChange(C.value)}),j=_=>{d||(u.onOpenChange(!0),b()),_&&(u.triggerPointerDownPosRef.current={x:Math.round(_.pageX),y:Math.round(_.pageY)})};return c.jsx(dN,{asChild:!0,...a,children:c.jsx($e.button,{type:"button",role:"combobox","aria-controls":u.contentId,"aria-expanded":u.open,"aria-required":u.required,"aria-autocomplete":"none",dir:u.dir,"data-state":u.open?"open":"closed",disabled:d,"data-disabled":d?"":void 0,"data-placeholder":n0(u.value)?"":void 0,...i,ref:h,onClick:Ae(i.onClick,_=>{_.currentTarget.focus(),g.current!=="mouse"&&j(_)}),onPointerDown:Ae(i.onPointerDown,_=>{g.current=_.pointerType;const S=_.target;S.hasPointerCapture(_.pointerId)&&S.releasePointerCapture(_.pointerId),_.button===0&&_.ctrlKey===!1&&_.pointerType==="mouse"&&(j(_),_.preventDefault())}),onKeyDown:Ae(i.onKeyDown,_=>{const S=m.current!=="";!(_.ctrlKey||_.altKey||_.metaKey)&&_.key.length===1&&x(_.key),!(S&&_.key===" ")&&SN.includes(_.key)&&(j(),_.preventDefault())})})})});Lw.displayName=Dw;var $w="SelectValue",Mw=w.forwardRef((t,e)=>{const{__scopeSelect:n,className:o,style:i,children:a,placeholder:u="",...d}=t,h=os($w,n),{onValueNodeHasChildrenChange:p}=h,g=a!==void 0,m=qe(e,h.onValueNodeChange);return ut(()=>{p(g)},[p,g]),c.jsx($e.span,{...d,ref:m,style:{pointerEvents:"none"},children:n0(h.value)?c.jsx(c.Fragment,{children:u}):a})});Mw.displayName=$w;var RN="SelectIcon",Fw=w.forwardRef((t,e)=>{const{__scopeSelect:n,children:o,...i}=t;return c.jsx($e.span,{"aria-hidden":!0,...i,ref:e,children:o||""})});Fw.displayName=RN;var TN="SelectPortal",Uw=t=>c.jsx(Nf,{asChild:!0,...t});Uw.displayName=TN;var Fs="SelectContent",zw=w.forwardRef((t,e)=>{const n=os(Fs,t.__scopeSelect),[o,i]=w.useState();if(ut(()=>{i(new DocumentFragment)},[]),!n.open){const a=o;return a?Zi.createPortal(c.jsx(Bw,{scope:t.__scopeSelect,children:c.jsx(dc.Slot,{scope:t.__scopeSelect,children:c.jsx("div",{children:t.children})})}),a):null}return c.jsx(Vw,{...t,ref:e})});zw.displayName=Fs;var Pr=10,[Bw,is]=Ko(Fs),PN="SelectContentImpl",AN=pN("SelectContent.RemoveScroll"),Vw=w.forwardRef((t,e)=>{const{__scopeSelect:n,position:o="item-aligned",onCloseAutoFocus:i,onEscapeKeyDown:a,onPointerDownOutside:u,side:d,sideOffset:h,align:p,alignOffset:g,arrowPadding:m,collisionBoundary:x,collisionPadding:b,sticky:j,hideWhenDetached:_,avoidCollisions:S,...k}=t,C=os(Fs,n),[N,P]=w.useState(null),[F,V]=w.useState(null),D=qe(e,J=>P(J)),[z,q]=w.useState(null),[ne,ue]=w.useState(null),ge=fc(n),[le,pe]=w.useState(!1),be=w.useRef(!1);w.useEffect(()=>{if(N)return Wy(N)},[N]),fy();const B=w.useCallback(J=>{const[re,...Se]=ge().map(Me=>Me.ref.current),[Ce]=Se.slice(-1),Ie=document.activeElement;for(const Me of J)if(Me===Ie||(Me?.scrollIntoView({block:"nearest"}),Me===re&&F&&(F.scrollTop=0),Me===Ce&&F&&(F.scrollTop=F.scrollHeight),Me?.focus(),document.activeElement!==Ie))return},[ge,F]),$=w.useCallback(()=>B([z,N]),[B,z,N]);w.useEffect(()=>{le&&$()},[le,$]);const{onOpenChange:O,triggerPointerDownPosRef:Z}=C;w.useEffect(()=>{if(N){let J={x:0,y:0};const re=Ce=>{J={x:Math.abs(Math.round(Ce.pageX)-(Z.current?.x??0)),y:Math.abs(Math.round(Ce.pageY)-(Z.current?.y??0))}},Se=Ce=>{J.x<=10&&J.y<=10?Ce.preventDefault():N.contains(Ce.target)||O(!1),document.removeEventListener("pointermove",re),Z.current=null};return Z.current!==null&&(document.addEventListener("pointermove",re),document.addEventListener("pointerup",Se,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",re),document.removeEventListener("pointerup",Se,{capture:!0})}}},[N,O,Z]),w.useEffect(()=>{const J=()=>O(!1);return window.addEventListener("blur",J),window.addEventListener("resize",J),()=>{window.removeEventListener("blur",J),window.removeEventListener("resize",J)}},[O]);const[K,I]=s0(J=>{const re=ge().filter(Ie=>!Ie.disabled),Se=re.find(Ie=>Ie.ref.current===document.activeElement),Ce=o0(re,J,Se);Ce&&setTimeout(()=>Ce.ref.current.focus())}),H=w.useCallback((J,re,Se)=>{const Ce=!be.current&&!Se;(C.value!==void 0&&C.value===re||Ce)&&(q(J),Ce&&(be.current=!0))},[C.value]),Q=w.useCallback(()=>N?.focus(),[N]),W=w.useCallback((J,re,Se)=>{const Ce=!be.current&&!Se;(C.value!==void 0&&C.value===re||Ce)&&ue(J)},[C.value]),oe=o==="popper"?Yd:Ww,_e=oe===Yd?{side:d,sideOffset:h,align:p,alignOffset:g,arrowPadding:m,collisionBoundary:x,collisionPadding:b,sticky:j,hideWhenDetached:_,avoidCollisions:S}:{};return c.jsx(Bw,{scope:n,content:N,viewport:F,onViewportChange:V,itemRefCallback:H,selectedItem:z,onItemLeave:Q,itemTextRefCallback:W,focusSelectedItem:$,selectedItemText:ne,position:o,isPositioned:le,searchRef:K,children:c.jsx(Pf,{as:AN,allowPinchZoom:!0,children:c.jsx(Cf,{asChild:!0,trapped:C.open,onMountAutoFocus:J=>{J.preventDefault()},onUnmountAutoFocus:Ae(i,J=>{C.trigger?.focus({preventScroll:!0}),J.preventDefault()}),children:c.jsx(kf,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:a,onPointerDownOutside:u,onFocusOutside:J=>J.preventDefault(),onDismiss:()=>C.onOpenChange(!1),children:c.jsx(oe,{role:"listbox",id:C.contentId,"data-state":C.open?"open":"closed",dir:C.dir,onContextMenu:J=>J.preventDefault(),...k,..._e,onPlaced:()=>pe(!0),ref:D,style:{display:"flex",flexDirection:"column",outline:"none",...k.style},onKeyDown:Ae(k.onKeyDown,J=>{const re=J.ctrlKey||J.altKey||J.metaKey;if(J.key==="Tab"&&J.preventDefault(),!re&&J.key.length===1&&I(J.key),["ArrowUp","ArrowDown","Home","End"].includes(J.key)){let Ce=ge().filter(Ie=>!Ie.disabled).map(Ie=>Ie.ref.current);if(["ArrowUp","End"].includes(J.key)&&(Ce=Ce.slice().reverse()),["ArrowUp","ArrowDown"].includes(J.key)){const Ie=J.target,Me=Ce.indexOf(Ie);Ce=Ce.slice(Me+1)}setTimeout(()=>B(Ce)),J.preventDefault()}})})})})})})});Vw.displayName=PN;var ON="SelectItemAlignedPosition",Ww=w.forwardRef((t,e)=>{const{__scopeSelect:n,onPlaced:o,...i}=t,a=os(Fs,n),u=is(Fs,n),[d,h]=w.useState(null),[p,g]=w.useState(null),m=qe(e,D=>g(D)),x=fc(n),b=w.useRef(!1),j=w.useRef(!0),{viewport:_,selectedItem:S,selectedItemText:k,focusSelectedItem:C}=u,N=w.useCallback(()=>{if(a.trigger&&a.valueNode&&d&&p&&_&&S&&k){const D=a.trigger.getBoundingClientRect(),z=p.getBoundingClientRect(),q=a.valueNode.getBoundingClientRect(),ne=k.getBoundingClientRect();if(a.dir!=="rtl"){const Ie=ne.left-z.left,Me=q.left-Ie,dt=D.left-Me,It=D.width+dt,xn=Math.max(It,z.width),en=window.innerWidth-Pr,Jt=Hd(Me,[Pr,Math.max(Pr,en-xn)]);d.style.minWidth=It+"px",d.style.left=Jt+"px"}else{const Ie=z.right-ne.right,Me=window.innerWidth-q.right-Ie,dt=window.innerWidth-D.right-Me,It=D.width+dt,xn=Math.max(It,z.width),en=window.innerWidth-Pr,Jt=Hd(Me,[Pr,Math.max(Pr,en-xn)]);d.style.minWidth=It+"px",d.style.right=Jt+"px"}const ue=x(),ge=window.innerHeight-Pr*2,le=_.scrollHeight,pe=window.getComputedStyle(p),be=parseInt(pe.borderTopWidth,10),B=parseInt(pe.paddingTop,10),$=parseInt(pe.borderBottomWidth,10),O=parseInt(pe.paddingBottom,10),Z=be+B+le+O+$,K=Math.min(S.offsetHeight*5,Z),I=window.getComputedStyle(_),H=parseInt(I.paddingTop,10),Q=parseInt(I.paddingBottom,10),W=D.top+D.height/2-Pr,oe=ge-W,_e=S.offsetHeight/2,J=S.offsetTop+_e,re=be+B+J,Se=Z-re;if(re<=W){const Ie=ue.length>0&&S===ue[ue.length-1].ref.current;d.style.bottom="0px";const Me=p.clientHeight-_.offsetTop-_.offsetHeight,dt=Math.max(oe,_e+(Ie?Q:0)+Me+$),It=re+dt;d.style.height=It+"px"}else{const Ie=ue.length>0&&S===ue[0].ref.current;d.style.top="0px";const dt=Math.max(W,be+_.offsetTop+(Ie?H:0)+_e)+Se;d.style.height=dt+"px",_.scrollTop=re-W+_.offsetTop}d.style.margin=`${Pr}px 0`,d.style.minHeight=K+"px",d.style.maxHeight=ge+"px",o?.(),requestAnimationFrame(()=>b.current=!0)}},[x,a.trigger,a.valueNode,d,p,_,S,k,a.dir,o]);ut(()=>N(),[N]);const[P,F]=w.useState();ut(()=>{p&&F(window.getComputedStyle(p).zIndex)},[p]);const V=w.useCallback(D=>{D&&j.current===!0&&(N(),C?.(),j.current=!1)},[N,C]);return c.jsx(DN,{scope:n,contentWrapper:d,shouldExpandOnScrollRef:b,onScrollButtonChange:V,children:c.jsx("div",{ref:h,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:P},children:c.jsx($e.div,{...i,ref:m,style:{boxSizing:"border-box",maxHeight:"100%",...i.style}})})})});Ww.displayName=ON;var IN="SelectPopperPosition",Yd=w.forwardRef((t,e)=>{const{__scopeSelect:n,align:o="start",collisionPadding:i=Pr,...a}=t,u=hc(n);return c.jsx(fN,{...u,...a,ref:e,align:o,collisionPadding:i,style:{boxSizing:"border-box",...a.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});Yd.displayName=IN;var[DN,Vf]=Ko(Fs,{}),Jd="SelectViewport",Hw=w.forwardRef((t,e)=>{const{__scopeSelect:n,nonce:o,...i}=t,a=is(Jd,n),u=Vf(Jd,n),d=qe(e,a.onViewportChange),h=w.useRef(0);return c.jsxs(c.Fragment,{children:[c.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:o}),c.jsx(dc.Slot,{scope:n,children:c.jsx($e.div,{"data-radix-select-viewport":"",role:"presentation",...i,ref:d,style:{position:"relative",flex:1,overflow:"hidden auto",...i.style},onScroll:Ae(i.onScroll,p=>{const g=p.currentTarget,{contentWrapper:m,shouldExpandOnScrollRef:x}=u;if(x?.current&&m){const b=Math.abs(h.current-g.scrollTop);if(b>0){const j=window.innerHeight-Pr*2,_=parseFloat(m.style.minHeight),S=parseFloat(m.style.height),k=Math.max(_,S);if(k<j){const C=k+b,N=Math.min(j,C),P=C-N;m.style.height=N+"px",m.style.bottom==="0px"&&(g.scrollTop=P>0?P:0,m.style.justifyContent="flex-end")}}}h.current=g.scrollTop})})})]})});Hw.displayName=Jd;var qw="SelectGroup",[LN,$N]=Ko(qw),MN=w.forwardRef((t,e)=>{const{__scopeSelect:n,...o}=t,i=es();return c.jsx(LN,{scope:n,id:i,children:c.jsx($e.div,{role:"group","aria-labelledby":i,...o,ref:e})})});MN.displayName=qw;var Kw="SelectLabel",FN=w.forwardRef((t,e)=>{const{__scopeSelect:n,...o}=t,i=$N(Kw,n);return c.jsx($e.div,{id:i.id,...o,ref:e})});FN.displayName=Kw;var Hl="SelectItem",[UN,Gw]=Ko(Hl),Yw=w.forwardRef((t,e)=>{const{__scopeSelect:n,value:o,disabled:i=!1,textValue:a,...u}=t,d=os(Hl,n),h=is(Hl,n),p=d.value===o,[g,m]=w.useState(a??""),[x,b]=w.useState(!1),j=qe(e,C=>h.itemRefCallback?.(C,o,i)),_=es(),S=w.useRef("touch"),k=()=>{i||(d.onValueChange(o),d.onOpenChange(!1))};if(o==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return c.jsx(UN,{scope:n,value:o,disabled:i,textId:_,isSelected:p,onItemTextChange:w.useCallback(C=>{m(N=>N||(C?.textContent??"").trim())},[]),children:c.jsx(dc.ItemSlot,{scope:n,value:o,disabled:i,textValue:g,children:c.jsx($e.div,{role:"option","aria-labelledby":_,"data-highlighted":x?"":void 0,"aria-selected":p&&x,"data-state":p?"checked":"unchecked","aria-disabled":i||void 0,"data-disabled":i?"":void 0,tabIndex:i?void 0:-1,...u,ref:j,onFocus:Ae(u.onFocus,()=>b(!0)),onBlur:Ae(u.onBlur,()=>b(!1)),onClick:Ae(u.onClick,()=>{S.current!=="mouse"&&k()}),onPointerUp:Ae(u.onPointerUp,()=>{S.current==="mouse"&&k()}),onPointerDown:Ae(u.onPointerDown,C=>{S.current=C.pointerType}),onPointerMove:Ae(u.onPointerMove,C=>{S.current=C.pointerType,i?h.onItemLeave?.():S.current==="mouse"&&C.currentTarget.focus({preventScroll:!0})}),onPointerLeave:Ae(u.onPointerLeave,C=>{C.currentTarget===document.activeElement&&h.onItemLeave?.()}),onKeyDown:Ae(u.onKeyDown,C=>{h.searchRef?.current!==""&&C.key===" "||(jN.includes(C.key)&&k(),C.key===" "&&C.preventDefault())})})})})});Yw.displayName=Hl;var Ui="SelectItemText",Jw=w.forwardRef((t,e)=>{const{__scopeSelect:n,className:o,style:i,...a}=t,u=os(Ui,n),d=is(Ui,n),h=Gw(Ui,n),p=NN(Ui,n),[g,m]=w.useState(null),x=qe(e,k=>m(k),h.onItemTextChange,k=>d.itemTextRefCallback?.(k,h.value,h.disabled)),b=g?.textContent,j=w.useMemo(()=>c.jsx("option",{value:h.value,disabled:h.disabled,children:b},h.value),[h.disabled,h.value,b]),{onNativeOptionAdd:_,onNativeOptionRemove:S}=p;return ut(()=>(_(j),()=>S(j)),[_,S,j]),c.jsxs(c.Fragment,{children:[c.jsx($e.span,{id:h.textId,...a,ref:x}),h.isSelected&&u.valueNode&&!u.valueNodeHasChildren?Zi.createPortal(a.children,u.valueNode):null]})});Jw.displayName=Ui;var Qw="SelectItemIndicator",Xw=w.forwardRef((t,e)=>{const{__scopeSelect:n,...o}=t;return Gw(Qw,n).isSelected?c.jsx($e.span,{"aria-hidden":!0,...o,ref:e}):null});Xw.displayName=Qw;var Qd="SelectScrollUpButton",Zw=w.forwardRef((t,e)=>{const n=is(Qd,t.__scopeSelect),o=Vf(Qd,t.__scopeSelect),[i,a]=w.useState(!1),u=qe(e,o.onScrollButtonChange);return ut(()=>{if(n.viewport&&n.isPositioned){let d=function(){const p=h.scrollTop>0;a(p)};const h=n.viewport;return d(),h.addEventListener("scroll",d),()=>h.removeEventListener("scroll",d)}},[n.viewport,n.isPositioned]),i?c.jsx(t0,{...t,ref:u,onAutoScroll:()=>{const{viewport:d,selectedItem:h}=n;d&&h&&(d.scrollTop=d.scrollTop-h.offsetHeight)}}):null});Zw.displayName=Qd;var Xd="SelectScrollDownButton",e0=w.forwardRef((t,e)=>{const n=is(Xd,t.__scopeSelect),o=Vf(Xd,t.__scopeSelect),[i,a]=w.useState(!1),u=qe(e,o.onScrollButtonChange);return ut(()=>{if(n.viewport&&n.isPositioned){let d=function(){const p=h.scrollHeight-h.clientHeight,g=Math.ceil(h.scrollTop)<p;a(g)};const h=n.viewport;return d(),h.addEventListener("scroll",d),()=>h.removeEventListener("scroll",d)}},[n.viewport,n.isPositioned]),i?c.jsx(t0,{...t,ref:u,onAutoScroll:()=>{const{viewport:d,selectedItem:h}=n;d&&h&&(d.scrollTop=d.scrollTop+h.offsetHeight)}}):null});e0.displayName=Xd;var t0=w.forwardRef((t,e)=>{const{__scopeSelect:n,onAutoScroll:o,...i}=t,a=is("SelectScrollButton",n),u=w.useRef(null),d=fc(n),h=w.useCallback(()=>{u.current!==null&&(window.clearInterval(u.current),u.current=null)},[]);return w.useEffect(()=>()=>h(),[h]),ut(()=>{d().find(g=>g.ref.current===document.activeElement)?.ref.current?.scrollIntoView({block:"nearest"})},[d]),c.jsx($e.div,{"aria-hidden":!0,...i,ref:e,style:{flexShrink:0,...i.style},onPointerDown:Ae(i.onPointerDown,()=>{u.current===null&&(u.current=window.setInterval(o,50))}),onPointerMove:Ae(i.onPointerMove,()=>{a.onItemLeave?.(),u.current===null&&(u.current=window.setInterval(o,50))}),onPointerLeave:Ae(i.onPointerLeave,()=>{h()})})}),zN="SelectSeparator",BN=w.forwardRef((t,e)=>{const{__scopeSelect:n,...o}=t;return c.jsx($e.div,{"aria-hidden":!0,...o,ref:e})});BN.displayName=zN;var Zd="SelectArrow",VN=w.forwardRef((t,e)=>{const{__scopeSelect:n,...o}=t,i=hc(n),a=os(Zd,n),u=is(Zd,n);return a.open&&u.position==="popper"?c.jsx(hN,{...i,...o,ref:e}):null});VN.displayName=Zd;var WN="SelectBubbleInput",r0=w.forwardRef(({__scopeSelect:t,value:e,...n},o)=>{const i=w.useRef(null),a=qe(o,i),u=xN(e);return w.useEffect(()=>{const d=i.current;if(!d)return;const h=window.HTMLSelectElement.prototype,g=Object.getOwnPropertyDescriptor(h,"value").set;if(u!==e&&g){const m=new Event("change",{bubbles:!0});g.call(d,e),d.dispatchEvent(m)}},[u,e]),c.jsx($e.select,{...n,style:{...Ow,...n.style},ref:a,defaultValue:e})});r0.displayName=WN;function n0(t){return t===""||t===void 0}function s0(t){const e=Ot(t),n=w.useRef(""),o=w.useRef(0),i=w.useCallback(u=>{const d=n.current+u;e(d),(function h(p){n.current=p,window.clearTimeout(o.current),p!==""&&(o.current=window.setTimeout(()=>h(""),1e3))})(d)},[e]),a=w.useCallback(()=>{n.current="",window.clearTimeout(o.current)},[]);return w.useEffect(()=>()=>window.clearTimeout(o.current),[]),[n,i,a]}function o0(t,e,n){const i=e.length>1&&Array.from(e).every(p=>p===e[0])?e[0]:e,a=n?t.indexOf(n):-1;let u=HN(t,Math.max(a,0));i.length===1&&(u=u.filter(p=>p!==n));const h=u.find(p=>p.textValue.toLowerCase().startsWith(i.toLowerCase()));return h!==n?h:void 0}function HN(t,e){return t.map((n,o)=>t[(e+o)%t.length])}var qN=Iw,KN=Lw,GN=Mw,YN=Fw,JN=Uw,QN=zw,XN=Hw,ZN=Yw,eR=Jw,tR=Xw,rR=Zw,nR=e0;function Hr({...t}){return c.jsx(qN,{"data-slot":"select",...t})}function qr({...t}){return c.jsx(GN,{"data-slot":"select-value",...t})}function Kr({className:t,size:e="default",children:n,...o}){return c.jsxs(KN,{"data-slot":"select-trigger","data-size":e,className:me("border-input data-[placeholder]:text-muted-foreground [&_svg:not([class*='text-'])]:text-muted-foreground focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive dark:bg-input/30 dark:hover:bg-input/50 flex w-full items-center justify-between gap-2 rounded-md border bg-input-background px-3 py-2 text-sm whitespace-nowrap transition-[color,box-shadow] outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50 data-[size=default]:h-9 data-[size=sm]:h-8 *:data-[slot=select-value]:line-clamp-1 *:data-[slot=select-value]:flex *:data-[slot=select-value]:items-center *:data-[slot=select-value]:gap-2 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",t),...o,children:[n,c.jsx(YN,{asChild:!0,children:c.jsx(Fo,{className:"size-4 opacity-50"})})]})}function Gr({className:t,children:e,position:n="popper",...o}){return c.jsx(JN,{children:c.jsxs(QN,{"data-slot":"select-content",className:me("bg-popover text-popover-foreground data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 relative z-50 max-h-(--radix-select-content-available-height) min-w-[8rem] origin-(--radix-select-content-transform-origin) overflow-x-hidden overflow-y-auto rounded-md border shadow-md",n==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",t),position:n,...o,children:[c.jsx(sR,{}),c.jsx(XN,{className:me("p-1",n==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)] scroll-my-1"),children:e}),c.jsx(oR,{})]})})}function Ve({className:t,children:e,...n}){return c.jsxs(ZN,{"data-slot":"select-item",className:me("focus:bg-accent focus:text-accent-foreground [&_svg:not([class*='text-'])]:text-muted-foreground relative flex w-full cursor-default items-center gap-2 rounded-sm py-1.5 pr-8 pl-2 text-sm outline-hidden select-none data-[disabled]:pointer-events-none data-[disabled]:opacity-50 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4 *:[span]:last:flex *:[span]:last:items-center *:[span]:last:gap-2",t),...n,children:[c.jsx("span",{className:"absolute right-2 flex size-3.5 items-center justify-center",children:c.jsx(tR,{children:c.jsx(W1,{className:"size-4"})})}),c.jsx(eR,{children:e})]})}function sR({className:t,...e}){return c.jsx(rR,{"data-slot":"select-scroll-up-button",className:me("flex cursor-default items-center justify-center py-1",t),...e,children:c.jsx(pn,{className:"size-4"})})}function oR({className:t,...e}){return c.jsx(nR,{"data-slot":"select-scroll-down-button",className:me("flex cursor-default items-center justify-center py-1",t),...e,children:c.jsx(Fo,{className:"size-4"})})}var iR=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],aR=iR.reduce((t,e)=>{const n=tc(`Primitive.${e}`),o=w.forwardRef((i,a)=>{const{asChild:u,...d}=i,h=u?n:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),c.jsx(h,{...d,ref:a})});return o.displayName=`Primitive.${e}`,{...t,[e]:o}},{}),lR="Label",i0=w.forwardRef((t,e)=>c.jsx(aR.label,{...t,ref:e,onMouseDown:n=>{n.target.closest("button, input, select, textarea")||(t.onMouseDown?.(n),!n.defaultPrevented&&n.detail>1&&n.preventDefault())}}));i0.displayName=lR;var cR=i0;function At({className:t,...e}){return c.jsx(cR,{"data-slot":"label",className:me("flex items-center gap-2 text-sm leading-none font-medium select-none group-data-[disabled=true]:pointer-events-none group-data-[disabled=true]:opacity-50 peer-disabled:cursor-not-allowed peer-disabled:opacity-50",t),...e})}const uR=["Academic","Facilities","Technology","Events","Sports","Clubs","Food Service","Transportation","Environment","Other"];function dR({isOpen:t,onClose:e,onSubmit:n}){const[o,i]=w.useState(""),[a,u]=w.useState(""),[d,h]=w.useState(""),p=g=>{g.preventDefault(),o.trim()&&a.trim()&&d&&(n({title:o.trim(),description:a.trim(),category:d}),i(""),u(""),h(""),e())};return c.jsx(Uo,{open:t,onOpenChange:e,children:c.jsxs(zs,{className:"sm:max-w-[500px]",children:[c.jsxs(zo,{children:[c.jsx(Bo,{children:"Submit a New Idea"}),c.jsx(Vo,{children:"Share your idea to improve our school. Fill out the form below with details about your proposal."})]}),c.jsxs("form",{onSubmit:p,className:"space-y-4",children:[c.jsxs("div",{children:[c.jsx(At,{htmlFor:"title",children:"Title"}),c.jsx(rt,{id:"title",placeholder:"What's your idea?",value:o,onChange:g=>i(g.target.value),required:!0})]}),c.jsxs("div",{children:[c.jsx(At,{htmlFor:"category",children:"Category"}),c.jsxs(Hr,{value:d,onValueChange:h,required:!0,children:[c.jsx(Kr,{children:c.jsx(qr,{placeholder:"Select a category"})}),c.jsx(Gr,{children:uR.map(g=>c.jsx(Ve,{value:g,children:g},g))})]})]}),c.jsxs("div",{children:[c.jsx(At,{htmlFor:"description",children:"Description"}),c.jsx(Wo,{id:"description",placeholder:"Describe your idea in detail...",value:a,onChange:g=>u(g.target.value),rows:4,required:!0})]}),c.jsxs("div",{className:"flex justify-end gap-2",children:[c.jsx(se,{type:"button",variant:"outline",onClick:e,children:"Cancel"}),c.jsx(se,{type:"submit",children:"Submit Idea"})]})]})]})})}function a0({comment:t,onVote:e,level:n=0}){const[o,i]=w.useState(t.userVote),[a,u]=w.useState(t.votes),[d,h]=w.useState(!1),p=g=>{let m=a,x=g;o==="up"&&(m-=1),o==="down"&&(m+=1),g===o?x=null:(g==="up"&&(m+=1),g==="down"&&(m-=1)),i(x),u(m),e(t.id,g)};return c.jsxs("div",{className:me("space-y-2",n>0&&"ml-6 border-l-2 border-muted pl-4"),children:[c.jsx(Le,{children:c.jsx(Fe,{className:"p-4",children:c.jsxs("div",{className:"flex items-start gap-3",children:[c.jsx($t,{className:"h-8 w-8",children:c.jsx(Mt,{children:c.jsx(lr,{className:"h-4 w-4"})})}),c.jsxs("div",{className:"flex-1 space-y-2",children:[c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx("span",{className:"font-medium",children:t.author}),c.jsx("span",{className:"text-xs text-muted-foreground",children:t.timeAgo})]}),c.jsx("p",{className:"text-sm",children:t.content}),c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsxs("div",{className:"flex items-center gap-1",children:[c.jsx(se,{variant:"ghost",size:"sm",onClick:()=>p("up"),className:me("h-6 w-6 p-0",o==="up"&&"text-green-600"),children:c.jsx(pn,{className:"h-3 w-3"})}),c.jsx("span",{className:me("text-xs font-medium",a>0&&"text-green-600",a<0&&"text-red-600"),children:a}),c.jsx(se,{variant:"ghost",size:"sm",onClick:()=>p("down"),className:me("h-6 w-6 p-0",o==="down"&&"text-red-600"),children:c.jsx(Fo,{className:"h-3 w-3"})})]}),c.jsxs(se,{variant:"ghost",size:"sm",onClick:()=>h(!d),className:"h-6 gap-1 px-2",children:[c.jsx(sy,{className:"h-3 w-3"}),"Reply"]})]})]})]})})}),t.replies&&t.replies.map(g=>c.jsx(a0,{comment:g,onVote:e,level:n+1},g.id))]})}function fR({isOpen:t,onClose:e,ideaTitle:n,comments:o,onAddComment:i,onVoteComment:a}){const[u,d]=w.useState(""),h=p=>{p.preventDefault(),u.trim()&&(i(u.trim()),d(""))};return c.jsx(Uo,{open:t,onOpenChange:e,children:c.jsxs(zs,{className:"sm:max-w-[700px] max-h-[80vh] flex flex-col",children:[c.jsxs(zo,{children:[c.jsxs(Bo,{className:"text-left",children:['Comments on "',n,'"']}),c.jsx(Vo,{className:"text-left",children:"Join the discussion about this idea. Share your thoughts and vote on comments."})]}),c.jsxs("form",{onSubmit:h,className:"space-y-3",children:[c.jsx(Wo,{placeholder:"Add a comment...",value:u,onChange:p=>d(p.target.value),rows:3}),c.jsx(se,{type:"submit",disabled:!u.trim(),children:"Post Comment"})]}),c.jsx("div",{className:"flex-1 overflow-y-auto space-y-4",children:o.length===0?c.jsx("p",{className:"text-center text-muted-foreground py-8",children:"No comments yet. Be the first to comment!"}):o.map(p=>c.jsx(a0,{comment:p,onVote:a},p.id))})]})})}var jd="rovingFocusGroup.onEntryFocus",hR={bubbles:!1,cancelable:!0},ta="RovingFocusGroup",[ef,l0,pR]=uw(ta),[mR,c0]=Us(ta,[pR]),[gR,vR]=mR(ta),u0=w.forwardRef((t,e)=>c.jsx(ef.Provider,{scope:t.__scopeRovingFocusGroup,children:c.jsx(ef.Slot,{scope:t.__scopeRovingFocusGroup,children:c.jsx(yR,{...t,ref:e})})}));u0.displayName=ta;var yR=w.forwardRef((t,e)=>{const{__scopeRovingFocusGroup:n,orientation:o,loop:i=!1,dir:a,currentTabStopId:u,defaultCurrentTabStopId:d,onCurrentTabStopIdChange:h,onEntryFocus:p,preventScrollOnEntryFocus:g=!1,...m}=t,x=w.useRef(null),b=qe(e,x),j=ic(a),[_,S]=qi({prop:u,defaultProp:d??null,onChange:h,caller:ta}),[k,C]=w.useState(!1),N=Ot(p),P=l0(n),F=w.useRef(!1),[V,D]=w.useState(0);return w.useEffect(()=>{const z=x.current;if(z)return z.addEventListener(jd,N),()=>z.removeEventListener(jd,N)},[N]),c.jsx(gR,{scope:n,orientation:o,dir:j,loop:i,currentTabStopId:_,onItemFocus:w.useCallback(z=>S(z),[S]),onItemShiftTab:w.useCallback(()=>C(!0),[]),onFocusableItemAdd:w.useCallback(()=>D(z=>z+1),[]),onFocusableItemRemove:w.useCallback(()=>D(z=>z-1),[]),children:c.jsx($e.div,{tabIndex:k||V===0?-1:0,"data-orientation":o,...m,ref:b,style:{outline:"none",...t.style},onMouseDown:Ae(t.onMouseDown,()=>{F.current=!0}),onFocus:Ae(t.onFocus,z=>{const q=!F.current;if(z.target===z.currentTarget&&q&&!k){const ne=new CustomEvent(jd,hR);if(z.currentTarget.dispatchEvent(ne),!ne.defaultPrevented){const ue=P().filter(B=>B.focusable),ge=ue.find(B=>B.active),le=ue.find(B=>B.id===_),be=[ge,le,...ue].filter(Boolean).map(B=>B.ref.current);h0(be,g)}}F.current=!1}),onBlur:Ae(t.onBlur,()=>C(!1))})})}),d0="RovingFocusGroupItem",f0=w.forwardRef((t,e)=>{const{__scopeRovingFocusGroup:n,focusable:o=!0,active:i=!1,tabStopId:a,children:u,...d}=t,h=es(),p=a||h,g=vR(d0,n),m=g.currentTabStopId===p,x=l0(n),{onFocusableItemAdd:b,onFocusableItemRemove:j,currentTabStopId:_}=g;return w.useEffect(()=>{if(o)return b(),()=>j()},[o,b,j]),c.jsx(ef.ItemSlot,{scope:n,id:p,focusable:o,active:i,children:c.jsx($e.span,{tabIndex:m?0:-1,"data-orientation":g.orientation,...d,ref:e,onMouseDown:Ae(t.onMouseDown,S=>{o?g.onItemFocus(p):S.preventDefault()}),onFocus:Ae(t.onFocus,()=>g.onItemFocus(p)),onKeyDown:Ae(t.onKeyDown,S=>{if(S.key==="Tab"&&S.shiftKey){g.onItemShiftTab();return}if(S.target!==S.currentTarget)return;const k=bR(S,g.orientation,g.dir);if(k!==void 0){if(S.metaKey||S.ctrlKey||S.altKey||S.shiftKey)return;S.preventDefault();let N=x().filter(P=>P.focusable).map(P=>P.ref.current);if(k==="last")N.reverse();else if(k==="prev"||k==="next"){k==="prev"&&N.reverse();const P=N.indexOf(S.currentTarget);N=g.loop?_R(N,P+1):N.slice(P+1)}setTimeout(()=>h0(N))}}),children:typeof u=="function"?u({isCurrentTabStop:m,hasTabStop:_!=null}):u})})});f0.displayName=d0;var wR={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function xR(t,e){return e!=="rtl"?t:t==="ArrowLeft"?"ArrowRight":t==="ArrowRight"?"ArrowLeft":t}function bR(t,e,n){const o=xR(t.key,n);if(!(e==="vertical"&&["ArrowLeft","ArrowRight"].includes(o))&&!(e==="horizontal"&&["ArrowUp","ArrowDown"].includes(o)))return wR[o]}function h0(t,e=!1){const n=document.activeElement;for(const o of t)if(o===n||(o.focus({preventScroll:e}),document.activeElement!==n))return}function _R(t,e){return t.map((n,o)=>t[(e+o)%t.length])}var SR=u0,jR=f0,pc="Tabs",[ER]=Us(pc,[c0]),p0=c0(),[kR,Wf]=ER(pc),m0=w.forwardRef((t,e)=>{const{__scopeTabs:n,value:o,onValueChange:i,defaultValue:a,orientation:u="horizontal",dir:d,activationMode:h="automatic",...p}=t,g=ic(d),[m,x]=qi({prop:o,onChange:i,defaultProp:a??"",caller:pc});return c.jsx(kR,{scope:n,baseId:es(),value:m,onValueChange:x,orientation:u,dir:g,activationMode:h,children:c.jsx($e.div,{dir:g,"data-orientation":u,...p,ref:e})})});m0.displayName=pc;var g0="TabsList",v0=w.forwardRef((t,e)=>{const{__scopeTabs:n,loop:o=!0,...i}=t,a=Wf(g0,n),u=p0(n);return c.jsx(SR,{asChild:!0,...u,orientation:a.orientation,dir:a.dir,loop:o,children:c.jsx($e.div,{role:"tablist","aria-orientation":a.orientation,...i,ref:e})})});v0.displayName=g0;var y0="TabsTrigger",w0=w.forwardRef((t,e)=>{const{__scopeTabs:n,value:o,disabled:i=!1,...a}=t,u=Wf(y0,n),d=p0(n),h=_0(u.baseId,o),p=S0(u.baseId,o),g=o===u.value;return c.jsx(jR,{asChild:!0,...d,focusable:!i,active:g,children:c.jsx($e.button,{type:"button",role:"tab","aria-selected":g,"aria-controls":p,"data-state":g?"active":"inactive","data-disabled":i?"":void 0,disabled:i,id:h,...a,ref:e,onMouseDown:Ae(t.onMouseDown,m=>{!i&&m.button===0&&m.ctrlKey===!1?u.onValueChange(o):m.preventDefault()}),onKeyDown:Ae(t.onKeyDown,m=>{[" ","Enter"].includes(m.key)&&u.onValueChange(o)}),onFocus:Ae(t.onFocus,()=>{const m=u.activationMode!=="manual";!g&&!i&&m&&u.onValueChange(o)})})})});w0.displayName=y0;var x0="TabsContent",b0=w.forwardRef((t,e)=>{const{__scopeTabs:n,value:o,forceMount:i,children:a,...u}=t,d=Wf(x0,n),h=_0(d.baseId,o),p=S0(d.baseId,o),g=o===d.value,m=w.useRef(g);return w.useEffect(()=>{const x=requestAnimationFrame(()=>m.current=!1);return()=>cancelAnimationFrame(x)},[]),c.jsx(wn,{present:i||g,children:({present:x})=>c.jsx($e.div,{"data-state":g?"active":"inactive","data-orientation":d.orientation,role:"tabpanel","aria-labelledby":h,hidden:!x,id:p,tabIndex:0,...u,ref:e,style:{...t.style,animationDuration:m.current?"0s":void 0},children:x&&a})})});b0.displayName=x0;function _0(t,e){return`${t}-trigger-${e}`}function S0(t,e){return`${t}-content-${e}`}var CR=m0,NR=v0,RR=w0,TR=b0;function Go({className:t,...e}){return c.jsx(CR,{"data-slot":"tabs",className:me("flex flex-col gap-2",t),...e})}function Yo({className:t,...e}){return c.jsx(NR,{"data-slot":"tabs-list",className:me("bg-muted text-muted-foreground inline-flex h-9 w-fit items-center justify-center rounded-xl p-[3px] flex",t),...e})}function Gt({className:t,...e}){return c.jsx(RR,{"data-slot":"tabs-trigger",className:me("data-[state=active]:bg-card dark:data-[state=active]:text-foreground focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:outline-ring dark:data-[state=active]:border-input dark:data-[state=active]:bg-input/30 text-foreground dark:text-muted-foreground inline-flex h-[calc(100%-1px)] flex-1 items-center justify-center gap-1.5 rounded-xl border border-transparent px-2 py-1 text-sm font-medium whitespace-nowrap transition-[color,box-shadow] focus-visible:ring-[3px] focus-visible:outline-1 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",t),...e})}function Yt({className:t,...e}){return c.jsx(TR,{"data-slot":"tabs-content",className:me("flex-1 outline-none",t),...e})}var PR=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],AR=PR.reduce((t,e)=>{const n=tc(`Primitive.${e}`),o=w.forwardRef((i,a)=>{const{asChild:u,...d}=i,h=u?n:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),c.jsx(h,{...d,ref:a})});return o.displayName=`Primitive.${e}`,{...t,[e]:o}},{}),OR="Separator",$g="horizontal",IR=["horizontal","vertical"],j0=w.forwardRef((t,e)=>{const{decorative:n,orientation:o=$g,...i}=t,a=DR(o)?o:$g,d=n?{role:"none"}:{"aria-orientation":a==="vertical"?a:void 0,role:"separator"};return c.jsx(AR.div,{"data-orientation":a,...d,...i,ref:e})});j0.displayName=OR;function DR(t){return IR.includes(t)}var LR=j0;function ql({className:t,orientation:e="horizontal",decorative:n=!0,...o}){return c.jsx(LR,{"data-slot":"separator-root",decorative:n,orientation:e,className:me("bg-border shrink-0 data-[orientation=horizontal]:h-px data-[orientation=horizontal]:w-full data-[orientation=vertical]:h-full data-[orientation=vertical]:w-px",t),...o})}const $R=t=>t?(...e)=>t(...e):(...e)=>fetch(...e);class Hf extends Error{constructor(e,n="FunctionsError",o){super(e),this.name=n,this.context=o}}class MR extends Hf{constructor(e){super("Failed to send a request to the Edge Function","FunctionsFetchError",e)}}class Mg extends Hf{constructor(e){super("Relay Error invoking the Edge Function","FunctionsRelayError",e)}}class Fg extends Hf{constructor(e){super("Edge Function returned a non-2xx status code","FunctionsHttpError",e)}}var tf;(function(t){t.Any="any",t.ApNortheast1="ap-northeast-1",t.ApNortheast2="ap-northeast-2",t.ApSouth1="ap-south-1",t.ApSoutheast1="ap-southeast-1",t.ApSoutheast2="ap-southeast-2",t.CaCentral1="ca-central-1",t.EuCentral1="eu-central-1",t.EuWest1="eu-west-1",t.EuWest2="eu-west-2",t.EuWest3="eu-west-3",t.SaEast1="sa-east-1",t.UsEast1="us-east-1",t.UsWest1="us-west-1",t.UsWest2="us-west-2"})(tf||(tf={}));class FR{constructor(e,{headers:n={},customFetch:o,region:i=tf.Any}={}){this.url=e,this.headers=n,this.region=i,this.fetch=$R(o)}setAuth(e){this.headers.Authorization=`Bearer ${e}`}invoke(e){return we(this,arguments,void 0,function*(n,o={}){var i;let a,u;try{const{headers:d,method:h,body:p,signal:g,timeout:m}=o;let x={},{region:b}=o;b||(b=this.region);const j=new URL(`${this.url}/${n}`);b&&b!=="any"&&(x["x-region"]=b,j.searchParams.set("forceFunctionRegion",b));let _;p&&(d&&!Object.prototype.hasOwnProperty.call(d,"Content-Type")||!d)?typeof Blob<"u"&&p instanceof Blob||p instanceof ArrayBuffer?(x["Content-Type"]="application/octet-stream",_=p):typeof p=="string"?(x["Content-Type"]="text/plain",_=p):typeof FormData<"u"&&p instanceof FormData?_=p:(x["Content-Type"]="application/json",_=JSON.stringify(p)):_=p;let S=g;m&&(u=new AbortController,a=setTimeout(()=>u.abort(),m),g?(S=u.signal,g.addEventListener("abort",()=>u.abort())):S=u.signal);const k=yield this.fetch(j.toString(),{method:h||"POST",headers:Object.assign(Object.assign(Object.assign({},x),this.headers),d),body:_,signal:S}).catch(F=>{throw new MR(F)}),C=k.headers.get("x-relay-error");if(C&&C==="true")throw new Mg(k);if(!k.ok)throw new Fg(k);let N=((i=k.headers.get("Content-Type"))!==null&&i!==void 0?i:"text/plain").split(";")[0].trim(),P;return N==="application/json"?P=yield k.json():N==="application/octet-stream"||N==="application/pdf"?P=yield k.blob():N==="text/event-stream"?P=k:N==="multipart/form-data"?P=yield k.formData():P=yield k.text(),{data:P,error:null,response:k}}catch(d){return{data:null,error:d,response:d instanceof Fg||d instanceof Mg?d.context:void 0}}finally{a&&clearTimeout(a)}})}}var Pt={};const Jo=l_(AE);var Sl={},jl={},El={},kl={},Cl={},Nl={},Ug;function E0(){if(Ug)return Nl;Ug=1,Object.defineProperty(Nl,"__esModule",{value:!0});class t extends Error{constructor(n){super(n.message),this.name="PostgrestError",this.details=n.details,this.hint=n.hint,this.code=n.code}}return Nl.default=t,Nl}var zg;function k0(){if(zg)return Cl;zg=1,Object.defineProperty(Cl,"__esModule",{value:!0});const e=Jo.__importDefault(E0());class n{constructor(i){var a,u;this.shouldThrowOnError=!1,this.method=i.method,this.url=i.url,this.headers=new Headers(i.headers),this.schema=i.schema,this.body=i.body,this.shouldThrowOnError=(a=i.shouldThrowOnError)!==null&&a!==void 0?a:!1,this.signal=i.signal,this.isMaybeSingle=(u=i.isMaybeSingle)!==null&&u!==void 0?u:!1,i.fetch?this.fetch=i.fetch:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(i,a){return this.headers=new Headers(this.headers),this.headers.set(i,a),this}then(i,a){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const u=this.fetch;let d=u(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async h=>{var p,g,m,x;let b=null,j=null,_=null,S=h.status,k=h.statusText;if(h.ok){if(this.method!=="HEAD"){const F=await h.text();F===""||(this.headers.get("Accept")==="text/csv"||this.headers.get("Accept")&&(!((p=this.headers.get("Accept"))===null||p===void 0)&&p.includes("application/vnd.pgrst.plan+text"))?j=F:j=JSON.parse(F))}const N=(g=this.headers.get("Prefer"))===null||g===void 0?void 0:g.match(/count=(exact|planned|estimated)/),P=(m=h.headers.get("content-range"))===null||m===void 0?void 0:m.split("/");N&&P&&P.length>1&&(_=parseInt(P[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(j)&&(j.length>1?(b={code:"PGRST116",details:`Results contain ${j.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},j=null,_=null,S=406,k="Not Acceptable"):j.length===1?j=j[0]:j=null)}else{const N=await h.text();try{b=JSON.parse(N),Array.isArray(b)&&h.status===404&&(j=[],b=null,S=200,k="OK")}catch{h.status===404&&N===""?(S=204,k="No Content"):b={message:N}}if(b&&this.isMaybeSingle&&(!((x=b?.details)===null||x===void 0)&&x.includes("0 rows"))&&(b=null,S=200,k="OK"),b&&this.shouldThrowOnError)throw new e.default(b)}return{error:b,data:j,count:_,status:S,statusText:k}});return this.shouldThrowOnError||(d=d.catch(h=>{var p,g,m,x,b,j;let _="";const S=h?.cause;if(S){const k=(p=S?.message)!==null&&p!==void 0?p:"",C=(g=S?.code)!==null&&g!==void 0?g:"";_=`${(m=h?.name)!==null&&m!==void 0?m:"FetchError"}: ${h?.message}`,_+=`

Caused by: ${(x=S?.name)!==null&&x!==void 0?x:"Error"}: ${k}`,C&&(_+=` (${C})`),S?.stack&&(_+=`
${S.stack}`)}else _=(b=h?.stack)!==null&&b!==void 0?b:"";return{error:{message:`${(j=h?.name)!==null&&j!==void 0?j:"FetchError"}: ${h?.message}`,details:_,hint:"",code:""},data:null,count:null,status:0,statusText:""}})),d.then(i,a)}returns(){return this}overrideTypes(){return this}}return Cl.default=n,Cl}var Bg;function C0(){if(Bg)return kl;Bg=1,Object.defineProperty(kl,"__esModule",{value:!0});const e=Jo.__importDefault(k0());class n extends e.default{select(i){let a=!1;const u=(i??"*").split("").map(d=>/\s/.test(d)&&!a?"":(d==='"'&&(a=!a),d)).join("");return this.url.searchParams.set("select",u),this.headers.append("Prefer","return=representation"),this}order(i,{ascending:a=!0,nullsFirst:u,foreignTable:d,referencedTable:h=d}={}){const p=h?`${h}.order`:"order",g=this.url.searchParams.get(p);return this.url.searchParams.set(p,`${g?`${g},`:""}${i}.${a?"asc":"desc"}${u===void 0?"":u?".nullsfirst":".nullslast"}`),this}limit(i,{foreignTable:a,referencedTable:u=a}={}){const d=typeof u>"u"?"limit":`${u}.limit`;return this.url.searchParams.set(d,`${i}`),this}range(i,a,{foreignTable:u,referencedTable:d=u}={}){const h=typeof d>"u"?"offset":`${d}.offset`,p=typeof d>"u"?"limit":`${d}.limit`;return this.url.searchParams.set(h,`${i}`),this.url.searchParams.set(p,`${a-i+1}`),this}abortSignal(i){return this.signal=i,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:i=!1,verbose:a=!1,settings:u=!1,buffers:d=!1,wal:h=!1,format:p="text"}={}){var g;const m=[i?"analyze":null,a?"verbose":null,u?"settings":null,d?"buffers":null,h?"wal":null].filter(Boolean).join("|"),x=(g=this.headers.get("Accept"))!==null&&g!==void 0?g:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${p}; for="${x}"; options=${m};`),p==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(i){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${i}`),this}}return kl.default=n,kl}var Vg;function qf(){if(Vg)return El;Vg=1,Object.defineProperty(El,"__esModule",{value:!0});const e=Jo.__importDefault(C0()),n=new RegExp("[,()]");class o extends e.default{eq(a,u){return this.url.searchParams.append(a,`eq.${u}`),this}neq(a,u){return this.url.searchParams.append(a,`neq.${u}`),this}gt(a,u){return this.url.searchParams.append(a,`gt.${u}`),this}gte(a,u){return this.url.searchParams.append(a,`gte.${u}`),this}lt(a,u){return this.url.searchParams.append(a,`lt.${u}`),this}lte(a,u){return this.url.searchParams.append(a,`lte.${u}`),this}like(a,u){return this.url.searchParams.append(a,`like.${u}`),this}likeAllOf(a,u){return this.url.searchParams.append(a,`like(all).{${u.join(",")}}`),this}likeAnyOf(a,u){return this.url.searchParams.append(a,`like(any).{${u.join(",")}}`),this}ilike(a,u){return this.url.searchParams.append(a,`ilike.${u}`),this}ilikeAllOf(a,u){return this.url.searchParams.append(a,`ilike(all).{${u.join(",")}}`),this}ilikeAnyOf(a,u){return this.url.searchParams.append(a,`ilike(any).{${u.join(",")}}`),this}regexMatch(a,u){return this.url.searchParams.append(a,`match.${u}`),this}regexIMatch(a,u){return this.url.searchParams.append(a,`imatch.${u}`),this}is(a,u){return this.url.searchParams.append(a,`is.${u}`),this}isDistinct(a,u){return this.url.searchParams.append(a,`isdistinct.${u}`),this}in(a,u){const d=Array.from(new Set(u)).map(h=>typeof h=="string"&&n.test(h)?`"${h}"`:`${h}`).join(",");return this.url.searchParams.append(a,`in.(${d})`),this}contains(a,u){return typeof u=="string"?this.url.searchParams.append(a,`cs.${u}`):Array.isArray(u)?this.url.searchParams.append(a,`cs.{${u.join(",")}}`):this.url.searchParams.append(a,`cs.${JSON.stringify(u)}`),this}containedBy(a,u){return typeof u=="string"?this.url.searchParams.append(a,`cd.${u}`):Array.isArray(u)?this.url.searchParams.append(a,`cd.{${u.join(",")}}`):this.url.searchParams.append(a,`cd.${JSON.stringify(u)}`),this}rangeGt(a,u){return this.url.searchParams.append(a,`sr.${u}`),this}rangeGte(a,u){return this.url.searchParams.append(a,`nxl.${u}`),this}rangeLt(a,u){return this.url.searchParams.append(a,`sl.${u}`),this}rangeLte(a,u){return this.url.searchParams.append(a,`nxr.${u}`),this}rangeAdjacent(a,u){return this.url.searchParams.append(a,`adj.${u}`),this}overlaps(a,u){return typeof u=="string"?this.url.searchParams.append(a,`ov.${u}`):this.url.searchParams.append(a,`ov.{${u.join(",")}}`),this}textSearch(a,u,{config:d,type:h}={}){let p="";h==="plain"?p="pl":h==="phrase"?p="ph":h==="websearch"&&(p="w");const g=d===void 0?"":`(${d})`;return this.url.searchParams.append(a,`${p}fts${g}.${u}`),this}match(a){return Object.entries(a).forEach(([u,d])=>{this.url.searchParams.append(u,`eq.${d}`)}),this}not(a,u,d){return this.url.searchParams.append(a,`not.${u}.${d}`),this}or(a,{foreignTable:u,referencedTable:d=u}={}){const h=d?`${d}.or`:"or";return this.url.searchParams.append(h,`(${a})`),this}filter(a,u,d){return this.url.searchParams.append(a,`${u}.${d}`),this}}return El.default=o,El}var Wg;function N0(){if(Wg)return jl;Wg=1,Object.defineProperty(jl,"__esModule",{value:!0});const e=Jo.__importDefault(qf());class n{constructor(i,{headers:a={},schema:u,fetch:d}){this.url=i,this.headers=new Headers(a),this.schema=u,this.fetch=d}select(i,a){const{head:u=!1,count:d}=a??{},h=u?"HEAD":"GET";let p=!1;const g=(i??"*").split("").map(m=>/\s/.test(m)&&!p?"":(m==='"'&&(p=!p),m)).join("");return this.url.searchParams.set("select",g),d&&this.headers.append("Prefer",`count=${d}`),new e.default({method:h,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch})}insert(i,{count:a,defaultToNull:u=!0}={}){var d;const h="POST";if(a&&this.headers.append("Prefer",`count=${a}`),u||this.headers.append("Prefer","missing=default"),Array.isArray(i)){const p=i.reduce((g,m)=>g.concat(Object.keys(m)),[]);if(p.length>0){const g=[...new Set(p)].map(m=>`"${m}"`);this.url.searchParams.set("columns",g.join(","))}}return new e.default({method:h,url:this.url,headers:this.headers,schema:this.schema,body:i,fetch:(d=this.fetch)!==null&&d!==void 0?d:fetch})}upsert(i,{onConflict:a,ignoreDuplicates:u=!1,count:d,defaultToNull:h=!0}={}){var p;const g="POST";if(this.headers.append("Prefer",`resolution=${u?"ignore":"merge"}-duplicates`),a!==void 0&&this.url.searchParams.set("on_conflict",a),d&&this.headers.append("Prefer",`count=${d}`),h||this.headers.append("Prefer","missing=default"),Array.isArray(i)){const m=i.reduce((x,b)=>x.concat(Object.keys(b)),[]);if(m.length>0){const x=[...new Set(m)].map(b=>`"${b}"`);this.url.searchParams.set("columns",x.join(","))}}return new e.default({method:g,url:this.url,headers:this.headers,schema:this.schema,body:i,fetch:(p=this.fetch)!==null&&p!==void 0?p:fetch})}update(i,{count:a}={}){var u;const d="PATCH";return a&&this.headers.append("Prefer",`count=${a}`),new e.default({method:d,url:this.url,headers:this.headers,schema:this.schema,body:i,fetch:(u=this.fetch)!==null&&u!==void 0?u:fetch})}delete({count:i}={}){var a;const u="DELETE";return i&&this.headers.append("Prefer",`count=${i}`),new e.default({method:u,url:this.url,headers:this.headers,schema:this.schema,fetch:(a=this.fetch)!==null&&a!==void 0?a:fetch})}}return jl.default=n,jl}var Hg;function UR(){if(Hg)return Sl;Hg=1,Object.defineProperty(Sl,"__esModule",{value:!0});const t=Jo,e=t.__importDefault(N0()),n=t.__importDefault(qf());class o{constructor(a,{headers:u={},schema:d,fetch:h}={}){this.url=a,this.headers=new Headers(u),this.schemaName=d,this.fetch=h}from(a){if(!a||typeof a!="string"||a.trim()==="")throw new Error("Invalid relation name: relation must be a non-empty string.");const u=new URL(`${this.url}/${a}`);return new e.default(u,{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(a){return new o(this.url,{headers:this.headers,schema:a,fetch:this.fetch})}rpc(a,u={},{head:d=!1,get:h=!1,count:p}={}){var g;let m;const x=new URL(`${this.url}/rpc/${a}`);let b;d||h?(m=d?"HEAD":"GET",Object.entries(u).filter(([_,S])=>S!==void 0).map(([_,S])=>[_,Array.isArray(S)?`{${S.join(",")}}`:`${S}`]).forEach(([_,S])=>{x.searchParams.append(_,S)})):(m="POST",b=u);const j=new Headers(this.headers);return p&&j.set("Prefer",`count=${p}`),new n.default({method:m,url:x,headers:j,schema:this.schemaName,body:b,fetch:(g=this.fetch)!==null&&g!==void 0?g:fetch})}}return Sl.default=o,Sl}var qg;function zR(){if(qg)return Pt;qg=1,Object.defineProperty(Pt,"__esModule",{value:!0}),Pt.PostgrestError=Pt.PostgrestBuilder=Pt.PostgrestTransformBuilder=Pt.PostgrestFilterBuilder=Pt.PostgrestQueryBuilder=Pt.PostgrestClient=void 0;const t=Jo,e=t.__importDefault(UR());Pt.PostgrestClient=e.default;const n=t.__importDefault(N0());Pt.PostgrestQueryBuilder=n.default;const o=t.__importDefault(qf());Pt.PostgrestFilterBuilder=o.default;const i=t.__importDefault(C0());Pt.PostgrestTransformBuilder=i.default;const a=t.__importDefault(k0());Pt.PostgrestBuilder=a.default;const u=t.__importDefault(E0());return Pt.PostgrestError=u.default,Pt.default={PostgrestClient:e.default,PostgrestQueryBuilder:n.default,PostgrestFilterBuilder:o.default,PostgrestTransformBuilder:i.default,PostgrestBuilder:a.default,PostgrestError:u.default},Pt}var R0=zR();const T0=pf(R0),BR=gv({__proto__:null,default:T0},[R0]),{PostgrestClient:VR,PostgrestQueryBuilder:jA,PostgrestFilterBuilder:EA,PostgrestTransformBuilder:kA,PostgrestBuilder:CA,PostgrestError:NA}=T0||BR;class WR{constructor(){}static detectEnvironment(){var e;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((e=navigator.userAgent)===null||e===void 0)&&e.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};if(typeof process<"u"){const n=process.versions;if(n&&n.node){const o=n.node,i=parseInt(o.replace(/^v/,"").split(".")[0]);return i>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${i} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${i} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const e=this.detectEnvironment();if(e.constructor)return e.constructor;let n=e.error||"WebSocket not supported in this environment.";throw e.workaround&&(n+=`

Suggested solution: ${e.workaround}`),new Error(n)}static createWebSocket(e,n){const o=this.getWebSocketConstructor();return new o(e,n)}static isWebSocketSupported(){try{const e=this.detectEnvironment();return e.type==="native"||e.type==="ws"}catch{return!1}}}const HR="2.84.0",qR=`realtime-js/${HR}`,P0="1.0.0",KR="2.0.0",Kg=P0,rf=1e4,GR=1e3,YR=100;var Ps;(function(t){t[t.connecting=0]="connecting",t[t.open=1]="open",t[t.closing=2]="closing",t[t.closed=3]="closed"})(Ps||(Ps={}));var gt;(function(t){t.closed="closed",t.errored="errored",t.joined="joined",t.joining="joining",t.leaving="leaving"})(gt||(gt={}));var Or;(function(t){t.close="phx_close",t.error="phx_error",t.join="phx_join",t.reply="phx_reply",t.leave="phx_leave",t.access_token="access_token"})(Or||(Or={}));var nf;(function(t){t.websocket="websocket"})(nf||(nf={}));var As;(function(t){t.Connecting="connecting",t.Open="open",t.Closing="closing",t.Closed="closed"})(As||(As={}));class JR{constructor(){this.HEADER_LENGTH=1,this.META_LENGTH=4,this.USER_BROADCAST_PUSH_META_LENGTH=5,this.KINDS={userBroadcastPush:3,userBroadcast:4},this.BINARY_ENCODING=0,this.JSON_ENCODING=1,this.BROADCAST_EVENT="broadcast"}encode(e,n){if(e.event===this.BROADCAST_EVENT&&!(e.payload instanceof ArrayBuffer)&&typeof e.payload.event=="string")return n(this._binaryEncodeUserBroadcastPush(e));let o=[e.join_ref,e.ref,e.topic,e.event,e.payload];return n(JSON.stringify(o))}_binaryEncodeUserBroadcastPush(e){var n;return this._isArrayBuffer((n=e.payload)===null||n===void 0?void 0:n.payload)?this._encodeBinaryUserBroadcastPush(e):this._encodeJsonUserBroadcastPush(e)}_encodeBinaryUserBroadcastPush(e){var n,o,i,a;const u=e.topic,d=(n=e.ref)!==null&&n!==void 0?n:"",h=(o=e.join_ref)!==null&&o!==void 0?o:"",p=e.payload.event,g=(a=(i=e.payload)===null||i===void 0?void 0:i.payload)!==null&&a!==void 0?a:new ArrayBuffer(0),m=this.USER_BROADCAST_PUSH_META_LENGTH+h.length+d.length+u.length+p.length,x=new ArrayBuffer(this.HEADER_LENGTH+m);let b=new DataView(x),j=0;b.setUint8(j++,this.KINDS.userBroadcastPush),b.setUint8(j++,h.length),b.setUint8(j++,d.length),b.setUint8(j++,u.length),b.setUint8(j++,p.length),b.setUint8(j++,this.BINARY_ENCODING),Array.from(h,S=>b.setUint8(j++,S.charCodeAt(0))),Array.from(d,S=>b.setUint8(j++,S.charCodeAt(0))),Array.from(u,S=>b.setUint8(j++,S.charCodeAt(0))),Array.from(p,S=>b.setUint8(j++,S.charCodeAt(0)));var _=new Uint8Array(x.byteLength+g.byteLength);return _.set(new Uint8Array(x),0),_.set(new Uint8Array(g),x.byteLength),_.buffer}_encodeJsonUserBroadcastPush(e){var n,o,i,a;const u=e.topic,d=(n=e.ref)!==null&&n!==void 0?n:"",h=(o=e.join_ref)!==null&&o!==void 0?o:"",p=e.payload.event,g=(a=(i=e.payload)===null||i===void 0?void 0:i.payload)!==null&&a!==void 0?a:{},x=new TextEncoder().encode(JSON.stringify(g)).buffer,b=this.USER_BROADCAST_PUSH_META_LENGTH+h.length+d.length+u.length+p.length,j=new ArrayBuffer(this.HEADER_LENGTH+b);let _=new DataView(j),S=0;_.setUint8(S++,this.KINDS.userBroadcastPush),_.setUint8(S++,h.length),_.setUint8(S++,d.length),_.setUint8(S++,u.length),_.setUint8(S++,p.length),_.setUint8(S++,this.JSON_ENCODING),Array.from(h,C=>_.setUint8(S++,C.charCodeAt(0))),Array.from(d,C=>_.setUint8(S++,C.charCodeAt(0))),Array.from(u,C=>_.setUint8(S++,C.charCodeAt(0))),Array.from(p,C=>_.setUint8(S++,C.charCodeAt(0)));var k=new Uint8Array(j.byteLength+x.byteLength);return k.set(new Uint8Array(j),0),k.set(new Uint8Array(x),j.byteLength),k.buffer}decode(e,n){if(this._isArrayBuffer(e)){let o=this._binaryDecode(e);return n(o)}if(typeof e=="string"){const o=JSON.parse(e),[i,a,u,d,h]=o;return n({join_ref:i,ref:a,topic:u,event:d,payload:h})}return n({})}_binaryDecode(e){const n=new DataView(e),o=n.getUint8(0),i=new TextDecoder;switch(o){case this.KINDS.userBroadcast:return this._decodeUserBroadcast(e,n,i)}}_decodeUserBroadcast(e,n,o){const i=n.getUint8(1),a=n.getUint8(2),u=n.getUint8(3),d=n.getUint8(4);let h=this.HEADER_LENGTH+4;const p=o.decode(e.slice(h,h+i));h=h+i;const g=o.decode(e.slice(h,h+a));h=h+a;const m=o.decode(e.slice(h,h+u));h=h+u;const x=e.slice(h,e.byteLength),b=d===this.JSON_ENCODING?JSON.parse(o.decode(x)):x,j={type:this.BROADCAST_EVENT,event:g,payload:b};return u>0&&(j.meta=JSON.parse(m)),{join_ref:null,ref:null,topic:p,event:this.BROADCAST_EVENT,payload:j}}_isArrayBuffer(e){var n;return e instanceof ArrayBuffer||((n=e?.constructor)===null||n===void 0?void 0:n.name)==="ArrayBuffer"}}class A0{constructor(e,n){this.callback=e,this.timerCalc=n,this.timer=void 0,this.tries=0,this.callback=e,this.timerCalc=n}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var Ge;(function(t){t.abstime="abstime",t.bool="bool",t.date="date",t.daterange="daterange",t.float4="float4",t.float8="float8",t.int2="int2",t.int4="int4",t.int4range="int4range",t.int8="int8",t.int8range="int8range",t.json="json",t.jsonb="jsonb",t.money="money",t.numeric="numeric",t.oid="oid",t.reltime="reltime",t.text="text",t.time="time",t.timestamp="timestamp",t.timestamptz="timestamptz",t.timetz="timetz",t.tsrange="tsrange",t.tstzrange="tstzrange"})(Ge||(Ge={}));const Gg=(t,e,n={})=>{var o;const i=(o=n.skipTypes)!==null&&o!==void 0?o:[];return e?Object.keys(e).reduce((a,u)=>(a[u]=QR(u,t,e,i),a),{}):{}},QR=(t,e,n,o)=>{const i=e.find(d=>d.name===t),a=i?.type,u=n[t];return a&&!o.includes(a)?O0(a,u):sf(u)},O0=(t,e)=>{if(t.charAt(0)==="_"){const n=t.slice(1,t.length);return tT(e,n)}switch(t){case Ge.bool:return XR(e);case Ge.float4:case Ge.float8:case Ge.int2:case Ge.int4:case Ge.int8:case Ge.numeric:case Ge.oid:return ZR(e);case Ge.json:case Ge.jsonb:return eT(e);case Ge.timestamp:return rT(e);case Ge.abstime:case Ge.date:case Ge.daterange:case Ge.int4range:case Ge.int8range:case Ge.money:case Ge.reltime:case Ge.text:case Ge.time:case Ge.timestamptz:case Ge.timetz:case Ge.tsrange:case Ge.tstzrange:return sf(e);default:return sf(e)}},sf=t=>t,XR=t=>{switch(t){case"t":return!0;case"f":return!1;default:return t}},ZR=t=>{if(typeof t=="string"){const e=parseFloat(t);if(!Number.isNaN(e))return e}return t},eT=t=>{if(typeof t=="string")try{return JSON.parse(t)}catch(e){return console.log(`JSON parse error: ${e}`),t}return t},tT=(t,e)=>{if(typeof t!="string")return t;const n=t.length-1,o=t[n];if(t[0]==="{"&&o==="}"){let a;const u=t.slice(1,n);try{a=JSON.parse("["+u+"]")}catch{a=u?u.split(","):[]}return a.map(d=>O0(e,d))}return t},rT=t=>typeof t=="string"?t.replace(" ","T"):t,I0=t=>{const e=new URL(t);return e.protocol=e.protocol.replace(/^ws/i,"http"),e.pathname=e.pathname.replace(/\/+$/,"").replace(/\/socket\/websocket$/i,"").replace(/\/socket$/i,"").replace(/\/websocket$/i,""),e.pathname===""||e.pathname==="/"?e.pathname="/api/broadcast":e.pathname=e.pathname+"/api/broadcast",e.href};class Ed{constructor(e,n,o={},i=rf){this.channel=e,this.event=n,this.payload=o,this.timeout=i,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(e){this.timeout=e,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(e){this.payload=Object.assign(Object.assign({},this.payload),e)}receive(e,n){var o;return this._hasReceived(e)&&n((o=this.receivedResp)===null||o===void 0?void 0:o.response),this.recHooks.push({status:e,callback:n}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const e=n=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=n,this._matchReceive(n)};this.channel._on(this.refEvent,{},e),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(e,n){this.refEvent&&this.channel._trigger(this.refEvent,{status:e,response:n})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:e,response:n}){this.recHooks.filter(o=>o.status===e).forEach(o=>o.callback(n))}_hasReceived(e){return this.receivedResp&&this.receivedResp.status===e}}var Yg;(function(t){t.SYNC="sync",t.JOIN="join",t.LEAVE="leave"})(Yg||(Yg={}));class Bi{constructor(e,n){this.channel=e,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const o=n?.events||{state:"presence_state",diff:"presence_diff"};this.channel._on(o.state,{},i=>{const{onJoin:a,onLeave:u,onSync:d}=this.caller;this.joinRef=this.channel._joinRef(),this.state=Bi.syncState(this.state,i,a,u),this.pendingDiffs.forEach(h=>{this.state=Bi.syncDiff(this.state,h,a,u)}),this.pendingDiffs=[],d()}),this.channel._on(o.diff,{},i=>{const{onJoin:a,onLeave:u,onSync:d}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(i):(this.state=Bi.syncDiff(this.state,i,a,u),d())}),this.onJoin((i,a,u)=>{this.channel._trigger("presence",{event:"join",key:i,currentPresences:a,newPresences:u})}),this.onLeave((i,a,u)=>{this.channel._trigger("presence",{event:"leave",key:i,currentPresences:a,leftPresences:u})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(e,n,o,i){const a=this.cloneDeep(e),u=this.transformState(n),d={},h={};return this.map(a,(p,g)=>{u[p]||(h[p]=g)}),this.map(u,(p,g)=>{const m=a[p];if(m){const x=g.map(S=>S.presence_ref),b=m.map(S=>S.presence_ref),j=g.filter(S=>b.indexOf(S.presence_ref)<0),_=m.filter(S=>x.indexOf(S.presence_ref)<0);j.length>0&&(d[p]=j),_.length>0&&(h[p]=_)}else d[p]=g}),this.syncDiff(a,{joins:d,leaves:h},o,i)}static syncDiff(e,n,o,i){const{joins:a,leaves:u}={joins:this.transformState(n.joins),leaves:this.transformState(n.leaves)};return o||(o=()=>{}),i||(i=()=>{}),this.map(a,(d,h)=>{var p;const g=(p=e[d])!==null&&p!==void 0?p:[];if(e[d]=this.cloneDeep(h),g.length>0){const m=e[d].map(b=>b.presence_ref),x=g.filter(b=>m.indexOf(b.presence_ref)<0);e[d].unshift(...x)}o(d,g,h)}),this.map(u,(d,h)=>{let p=e[d];if(!p)return;const g=h.map(m=>m.presence_ref);p=p.filter(m=>g.indexOf(m.presence_ref)<0),e[d]=p,i(d,p,h),p.length===0&&delete e[d]}),e}static map(e,n){return Object.getOwnPropertyNames(e).map(o=>n(o,e[o]))}static transformState(e){return e=this.cloneDeep(e),Object.getOwnPropertyNames(e).reduce((n,o)=>{const i=e[o];return"metas"in i?n[o]=i.metas.map(a=>(a.presence_ref=a.phx_ref,delete a.phx_ref,delete a.phx_ref_prev,a)):n[o]=i,n},{})}static cloneDeep(e){return JSON.parse(JSON.stringify(e))}onJoin(e){this.caller.onJoin=e}onLeave(e){this.caller.onLeave=e}onSync(e){this.caller.onSync=e}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var Jg;(function(t){t.ALL="*",t.INSERT="INSERT",t.UPDATE="UPDATE",t.DELETE="DELETE"})(Jg||(Jg={}));var Vi;(function(t){t.BROADCAST="broadcast",t.PRESENCE="presence",t.POSTGRES_CHANGES="postgres_changes",t.SYSTEM="system"})(Vi||(Vi={}));var hn;(function(t){t.SUBSCRIBED="SUBSCRIBED",t.TIMED_OUT="TIMED_OUT",t.CLOSED="CLOSED",t.CHANNEL_ERROR="CHANNEL_ERROR"})(hn||(hn={}));class Kf{constructor(e,n={config:{}},o){var i,a;if(this.topic=e,this.params=n,this.socket=o,this.bindings={},this.state=gt.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=e.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},n.config),this.timeout=this.socket.timeout,this.joinPush=new Ed(this,Or.join,this.params,this.timeout),this.rejoinTimer=new A0(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=gt.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(u=>u.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=gt.closed,this.socket._remove(this)}),this._onError(u=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,u),this.state=gt.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=gt.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",u=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,u),this.state=gt.errored,this.rejoinTimer.scheduleTimeout())}),this._on(Or.reply,{},(u,d)=>{this._trigger(this._replyEventName(d),u)}),this.presence=new Bi(this),this.broadcastEndpointURL=I0(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&(!((a=(i=this.params.config)===null||i===void 0?void 0:i.broadcast)===null||a===void 0)&&a.replay))throw`tried to use replay on public channel '${this.topic}'. It must be a private channel.`}subscribe(e,n=this.timeout){var o,i,a;if(this.socket.isConnected()||this.socket.connect(),this.state==gt.closed){const{config:{broadcast:u,presence:d,private:h}}=this.params,p=(i=(o=this.bindings.postgres_changes)===null||o===void 0?void 0:o.map(b=>b.filter))!==null&&i!==void 0?i:[],g=!!this.bindings[Vi.PRESENCE]&&this.bindings[Vi.PRESENCE].length>0||((a=this.params.config.presence)===null||a===void 0?void 0:a.enabled)===!0,m={},x={broadcast:u,presence:Object.assign(Object.assign({},d),{enabled:g}),postgres_changes:p,private:h};this.socket.accessTokenValue&&(m.access_token=this.socket.accessTokenValue),this._onError(b=>e?.(hn.CHANNEL_ERROR,b)),this._onClose(()=>e?.(hn.CLOSED)),this.updateJoinPayload(Object.assign({config:x},m)),this.joinedOnce=!0,this._rejoin(n),this.joinPush.receive("ok",async({postgres_changes:b})=>{var j;if(this.socket.setAuth(),b===void 0){e?.(hn.SUBSCRIBED);return}else{const _=this.bindings.postgres_changes,S=(j=_?.length)!==null&&j!==void 0?j:0,k=[];for(let C=0;C<S;C++){const N=_[C],{filter:{event:P,schema:F,table:V,filter:D}}=N,z=b&&b[C];if(z&&z.event===P&&z.schema===F&&z.table===V&&z.filter===D)k.push(Object.assign(Object.assign({},N),{id:z.id}));else{this.unsubscribe(),this.state=gt.errored,e?.(hn.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=k,e&&e(hn.SUBSCRIBED);return}}).receive("error",b=>{this.state=gt.errored,e?.(hn.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(b).join(", ")||"error")))}).receive("timeout",()=>{e?.(hn.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(e,n={}){return await this.send({type:"presence",event:"track",payload:e},n.timeout||this.timeout)}async untrack(e={}){return await this.send({type:"presence",event:"untrack"},e)}on(e,n,o){return this.state===gt.joined&&e===Vi.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(()=>this.subscribe())),this._on(e,n,o)}async httpSend(e,n,o={}){var i;const a=this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"";if(n==null)return Promise.reject("Payload is required for httpSend()");const u={method:"POST",headers:{Authorization:a,apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:e,payload:n,private:this.private}]})},d=await this._fetchWithTimeout(this.broadcastEndpointURL,u,(i=o.timeout)!==null&&i!==void 0?i:this.timeout);if(d.status===202)return{success:!0};let h=d.statusText;try{const p=await d.json();h=p.error||p.message||h}catch{}return Promise.reject(new Error(h))}async send(e,n={}){var o,i;if(!this._canPush()&&e.type==="broadcast"){console.warn("Realtime send() is automatically falling back to REST API. This behavior will be deprecated in the future. Please use httpSend() explicitly for REST delivery.");const{event:a,payload:u}=e,h={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:a,payload:u,private:this.private}]})};try{const p=await this._fetchWithTimeout(this.broadcastEndpointURL,h,(o=n.timeout)!==null&&o!==void 0?o:this.timeout);return await((i=p.body)===null||i===void 0?void 0:i.cancel()),p.ok?"ok":"error"}catch(p){return p.name==="AbortError"?"timed out":"error"}}else return new Promise(a=>{var u,d,h;const p=this._push(e.type,e,n.timeout||this.timeout);e.type==="broadcast"&&!(!((h=(d=(u=this.params)===null||u===void 0?void 0:u.config)===null||d===void 0?void 0:d.broadcast)===null||h===void 0)&&h.ack)&&a("ok"),p.receive("ok",()=>a("ok")),p.receive("error",()=>a("error")),p.receive("timeout",()=>a("timed out"))})}updateJoinPayload(e){this.joinPush.updatePayload(e)}unsubscribe(e=this.timeout){this.state=gt.leaving;const n=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(Or.close,"leave",this._joinRef())};this.joinPush.destroy();let o=null;return new Promise(i=>{o=new Ed(this,Or.leave,{},e),o.receive("ok",()=>{n(),i("ok")}).receive("timeout",()=>{n(),i("timed out")}).receive("error",()=>{i("error")}),o.send(),this._canPush()||o.trigger("ok",{})}).finally(()=>{o?.destroy()})}teardown(){this.pushBuffer.forEach(e=>e.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=gt.closed,this.bindings={}}async _fetchWithTimeout(e,n,o){const i=new AbortController,a=setTimeout(()=>i.abort(),o),u=await this.socket.fetch(e,Object.assign(Object.assign({},n),{signal:i.signal}));return clearTimeout(a),u}_push(e,n,o=this.timeout){if(!this.joinedOnce)throw`tried to push '${e}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let i=new Ed(this,e,n,o);return this._canPush()?i.send():this._addToPushBuffer(i),i}_addToPushBuffer(e){if(e.startTimeout(),this.pushBuffer.push(e),this.pushBuffer.length>YR){const n=this.pushBuffer.shift();n&&(n.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${n.event}`,n.payload))}}_onMessage(e,n,o){return n}_isMember(e){return this.topic===e}_joinRef(){return this.joinPush.ref}_trigger(e,n,o){var i,a;const u=e.toLocaleLowerCase(),{close:d,error:h,leave:p,join:g}=Or;if(o&&[d,h,p,g].indexOf(u)>=0&&o!==this._joinRef())return;let x=this._onMessage(u,n,o);if(n&&!x)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(u)?(i=this.bindings.postgres_changes)===null||i===void 0||i.filter(b=>{var j,_,S;return((j=b.filter)===null||j===void 0?void 0:j.event)==="*"||((S=(_=b.filter)===null||_===void 0?void 0:_.event)===null||S===void 0?void 0:S.toLocaleLowerCase())===u}).map(b=>b.callback(x,o)):(a=this.bindings[u])===null||a===void 0||a.filter(b=>{var j,_,S,k,C,N;if(["broadcast","presence","postgres_changes"].includes(u))if("id"in b){const P=b.id,F=(j=b.filter)===null||j===void 0?void 0:j.event;return P&&((_=n.ids)===null||_===void 0?void 0:_.includes(P))&&(F==="*"||F?.toLocaleLowerCase()===((S=n.data)===null||S===void 0?void 0:S.type.toLocaleLowerCase()))}else{const P=(C=(k=b?.filter)===null||k===void 0?void 0:k.event)===null||C===void 0?void 0:C.toLocaleLowerCase();return P==="*"||P===((N=n?.event)===null||N===void 0?void 0:N.toLocaleLowerCase())}else return b.type.toLocaleLowerCase()===u}).map(b=>{if(typeof x=="object"&&"ids"in x){const j=x.data,{schema:_,table:S,commit_timestamp:k,type:C,errors:N}=j;x=Object.assign(Object.assign({},{schema:_,table:S,commit_timestamp:k,eventType:C,new:{},old:{},errors:N}),this._getPayloadRecords(j))}b.callback(x,o)})}_isClosed(){return this.state===gt.closed}_isJoined(){return this.state===gt.joined}_isJoining(){return this.state===gt.joining}_isLeaving(){return this.state===gt.leaving}_replyEventName(e){return`chan_reply_${e}`}_on(e,n,o){const i=e.toLocaleLowerCase(),a={type:i,filter:n,callback:o};return this.bindings[i]?this.bindings[i].push(a):this.bindings[i]=[a],this}_off(e,n){const o=e.toLocaleLowerCase();return this.bindings[o]&&(this.bindings[o]=this.bindings[o].filter(i=>{var a;return!(((a=i.type)===null||a===void 0?void 0:a.toLocaleLowerCase())===o&&Kf.isEqual(i.filter,n))})),this}static isEqual(e,n){if(Object.keys(e).length!==Object.keys(n).length)return!1;for(const o in e)if(e[o]!==n[o])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(e){this._on(Or.close,{},e)}_onError(e){this._on(Or.error,{},n=>e(n))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(e=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=gt.joining,this.joinPush.resend(e))}_getPayloadRecords(e){const n={new:{},old:{}};return(e.type==="INSERT"||e.type==="UPDATE")&&(n.new=Gg(e.columns,e.record)),(e.type==="UPDATE"||e.type==="DELETE")&&(n.old=Gg(e.columns,e.old_record)),n}}const kd=()=>{},Rl={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},nT=[1e3,2e3,5e3,1e4],sT=1e4,oT=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class iT{constructor(e,n){var o;if(this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=rf,this.transport=null,this.heartbeatIntervalMs=Rl.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=kd,this.ref=0,this.reconnectTimer=null,this.vsn=Kg,this.logger=kd,this.conn=null,this.sendBuffer=[],this.serializer=new JR,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._resolveFetch=i=>i?(...a)=>i(...a):(...a)=>fetch(...a),!(!((o=n?.params)===null||o===void 0)&&o.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=n.params.apikey,this.endPoint=`${e}/${nf.websocket}`,this.httpEndpoint=I0(e),this._initializeOptions(n),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(n?.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this.accessToken&&!this._authPromise&&this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=WR.createWebSocket(this.endpointURL())}catch(e){this._setConnectionState("disconnected");const n=e.message;throw n.includes("Node.js")?new Error(`${n}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${n}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:this.vsn}))}disconnect(e,n){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const o=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(o),this._setConnectionState("disconnected")},typeof this.conn.close=="function"&&(e?this.conn.close(e,n??""):this.conn.close()),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(e){const n=await e.unsubscribe();return this.channels.length===0&&this.disconnect(),n}async removeAllChannels(){const e=await Promise.all(this.channels.map(n=>n.unsubscribe()));return this.channels=[],this.disconnect(),e}log(e,n,o){this.logger(e,n,o)}connectionState(){switch(this.conn&&this.conn.readyState){case Ps.connecting:return As.Connecting;case Ps.open:return As.Open;case Ps.closing:return As.Closing;default:return As.Closed}}isConnected(){return this.connectionState()===As.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(e,n={config:{}}){const o=`realtime:${e}`,i=this.getChannels().find(a=>a.topic===o);if(i)return i;{const a=new Kf(`realtime:${e}`,n,this);return this.channels.push(a),a}}push(e){const{topic:n,event:o,payload:i,ref:a}=e,u=()=>{this.encode(e,d=>{var h;(h=this.conn)===null||h===void 0||h.send(d)})};this.log("push",`${n} ${o} (${a})`,i),this.isConnected()?u():this.sendBuffer.push(u)}async setAuth(e=null){this._authPromise=this._performAuth(e);try{await this._authPromise}finally{this._authPromise=null}}async sendHeartbeat(){var e;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(n){this.log("error","error in heartbeat callback",n)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(n){this.log("error","error in heartbeat callback",n)}this._wasManualDisconnect=!1,(e=this.conn)===null||e===void 0||e.close(GR,"heartbeat timeout"),setTimeout(()=>{var n;this.isConnected()||(n=this.reconnectTimer)===null||n===void 0||n.scheduleTimeout()},Rl.HEARTBEAT_TIMEOUT_FALLBACK);return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(n){this.log("error","error in heartbeat callback",n)}this._setAuthSafely("heartbeat")}onHeartbeat(e){this.heartbeatCallback=e}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(e=>e()),this.sendBuffer=[])}_makeRef(){let e=this.ref+1;return e===this.ref?this.ref=0:this.ref=e,this.ref.toString()}_leaveOpenTopic(e){let n=this.channels.find(o=>o.topic===e&&(o._isJoined()||o._isJoining()));n&&(this.log("transport",`leaving duplicate topic "${e}"`),n.unsubscribe())}_remove(e){this.channels=this.channels.filter(n=>n.topic!==e.topic)}_onConnMessage(e){this.decode(e.data,n=>{if(n.topic==="phoenix"&&n.event==="phx_reply")try{this.heartbeatCallback(n.payload.status==="ok"?"ok":"error")}catch(p){this.log("error","error in heartbeat callback",p)}n.ref&&n.ref===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null);const{topic:o,event:i,payload:a,ref:u}=n,d=u?`(${u})`:"",h=a.status||"";this.log("receive",`${h} ${o} ${i} ${d}`.trim(),a),this.channels.filter(p=>p._isMember(o)).forEach(p=>p._trigger(i,a,u)),this._triggerStateCallbacks("message",n)})}_clearTimer(e){var n;e==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):e==="reconnect"&&((n=this.reconnectTimer)===null||n===void 0||n.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=e=>this._onConnError(e),this.conn.onmessage=e=>this._onConnMessage(e),this.conn.onclose=e=>this._onConnClose(e))}_teardownConnection(){if(this.conn){if(this.conn.readyState===Ps.open||this.conn.readyState===Ps.connecting)try{this.conn.close()}catch(e){this.log("error","Error closing connection",e)}this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null}this._clearAllTimers(),this.channels.forEach(e=>e.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),(this._authPromise||(this.accessToken&&!this.accessTokenValue?this.setAuth():Promise.resolve())).then(()=>{this.flushSendBuffer()}).catch(n=>{this.log("error","error waiting for auth on connect",n),this.flushSendBuffer()}),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const e=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(e),this.workerRef.onerror=n=>{this.log("worker","worker error",n.message),this.workerRef.terminate()},this.workerRef.onmessage=n=>{n.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(e){var n;this._setConnectionState("disconnected"),this.log("transport","close",e),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(n=this.reconnectTimer)===null||n===void 0||n.scheduleTimeout(),this._triggerStateCallbacks("close",e)}_onConnError(e){this._setConnectionState("disconnected"),this.log("transport",`${e}`),this._triggerChanError(),this._triggerStateCallbacks("error",e)}_triggerChanError(){this.channels.forEach(e=>e._trigger(Or.error))}_appendParams(e,n){if(Object.keys(n).length===0)return e;const o=e.match(/\?/)?"&":"?",i=new URLSearchParams(n);return`${e}${o}${i}`}_workerObjectUrl(e){let n;if(e)n=e;else{const o=new Blob([oT],{type:"application/javascript"});n=URL.createObjectURL(o)}return n}_setConnectionState(e,n=!1){this._connectionState=e,e==="connecting"?this._wasManualDisconnect=!1:e==="disconnecting"&&(this._wasManualDisconnect=n)}async _performAuth(e=null){let n;e?n=e:this.accessToken?n=await this.accessToken():n=this.accessTokenValue,this.accessTokenValue!=n&&(this.accessTokenValue=n,this.channels.forEach(o=>{const i={access_token:n,version:qR};n&&o.updateJoinPayload(i),o.joinedOnce&&o._isJoined()&&o._push(Or.access_token,{access_token:n})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(e="general"){this.setAuth().catch(n=>{this.log("error",`error setting auth in ${e}`,n)})}_triggerStateCallbacks(e,n){try{this.stateChangeCallbacks[e].forEach(o=>{try{o(n)}catch(i){this.log("error",`error in ${e} callback`,i)}})}catch(o){this.log("error",`error triggering ${e} callbacks`,o)}}_setupReconnectionTimer(){this.reconnectTimer=new A0(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},Rl.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(e){var n,o,i,a,u,d,h,p,g,m,x,b;switch(this.transport=(n=e?.transport)!==null&&n!==void 0?n:null,this.timeout=(o=e?.timeout)!==null&&o!==void 0?o:rf,this.heartbeatIntervalMs=(i=e?.heartbeatIntervalMs)!==null&&i!==void 0?i:Rl.HEARTBEAT_INTERVAL,this.worker=(a=e?.worker)!==null&&a!==void 0?a:!1,this.accessToken=(u=e?.accessToken)!==null&&u!==void 0?u:null,this.heartbeatCallback=(d=e?.heartbeatCallback)!==null&&d!==void 0?d:kd,this.vsn=(h=e?.vsn)!==null&&h!==void 0?h:Kg,e?.params&&(this.params=e.params),e?.logger&&(this.logger=e.logger),(e?.logLevel||e?.log_level)&&(this.logLevel=e.logLevel||e.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(p=e?.reconnectAfterMs)!==null&&p!==void 0?p:(j=>nT[j-1]||sT),this.vsn){case P0:this.encode=(g=e?.encode)!==null&&g!==void 0?g:((j,_)=>_(JSON.stringify(j))),this.decode=(m=e?.decode)!==null&&m!==void 0?m:((j,_)=>_(JSON.parse(j)));break;case KR:this.encode=(x=e?.encode)!==null&&x!==void 0?x:this.serializer.encode.bind(this.serializer),this.decode=(b=e?.decode)!==null&&b!==void 0?b:this.serializer.decode.bind(this.serializer);break;default:throw new Error(`Unsupported serializer version: ${this.vsn}`)}if(this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=e?.workerUrl}}}class Gf extends Error{constructor(e){super(e),this.__isStorageError=!0,this.name="StorageError"}}function et(t){return typeof t=="object"&&t!==null&&"__isStorageError"in t}class aT extends Gf{constructor(e,n,o){super(e),this.name="StorageApiError",this.status=n,this.statusCode=o}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class of extends Gf{constructor(e,n){super(e),this.name="StorageUnknownError",this.originalError=n}}const Yf=t=>t?(...e)=>t(...e):(...e)=>fetch(...e),lT=()=>Response,af=t=>{if(Array.isArray(t))return t.map(n=>af(n));if(typeof t=="function"||t!==Object(t))return t;const e={};return Object.entries(t).forEach(([n,o])=>{const i=n.replace(/([-_][a-z])/gi,a=>a.toUpperCase().replace(/[-_]/g,""));e[i]=af(o)}),e},cT=t=>{if(typeof t!="object"||t===null)return!1;const e=Object.getPrototypeOf(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)},Cd=t=>{var e;return t.msg||t.message||t.error_description||(typeof t.error=="string"?t.error:(e=t.error)===null||e===void 0?void 0:e.message)||JSON.stringify(t)},uT=(t,e,n)=>we(void 0,void 0,void 0,function*(){const o=yield lT();t instanceof o&&!n?.noResolveJson?t.json().then(i=>{const a=t.status||500,u=i?.statusCode||a+"";e(new aT(Cd(i),a,u))}).catch(i=>{e(new of(Cd(i),i))}):e(new of(Cd(t),t))}),dT=(t,e,n,o)=>{const i={method:t,headers:e?.headers||{}};return t==="GET"||!o?i:(cT(o)?(i.headers=Object.assign({"Content-Type":"application/json"},e?.headers),i.body=JSON.stringify(o)):i.body=o,e?.duplex&&(i.duplex=e.duplex),Object.assign(Object.assign({},i),n))};function ra(t,e,n,o,i,a){return we(this,void 0,void 0,function*(){return new Promise((u,d)=>{t(n,dT(e,o,i,a)).then(h=>{if(!h.ok)throw h;return o?.noResolveJson?h:h.json()}).then(h=>u(h)).catch(h=>uT(h,d,o))})})}function Yi(t,e,n,o){return we(this,void 0,void 0,function*(){return ra(t,"GET",e,n,o)})}function Ar(t,e,n,o,i){return we(this,void 0,void 0,function*(){return ra(t,"POST",e,o,i,n)})}function lf(t,e,n,o,i){return we(this,void 0,void 0,function*(){return ra(t,"PUT",e,o,i,n)})}function fT(t,e,n,o){return we(this,void 0,void 0,function*(){return ra(t,"HEAD",e,Object.assign(Object.assign({},n),{noResolveJson:!0}),o)})}function Jf(t,e,n,o,i){return we(this,void 0,void 0,function*(){return ra(t,"DELETE",e,o,i,n)})}class hT{constructor(e,n){this.downloadFn=e,this.shouldThrowOnError=n}then(e,n){return this.execute().then(e,n)}execute(){return we(this,void 0,void 0,function*(){try{return{data:(yield this.downloadFn()).body,error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(et(e))return{data:null,error:e};throw e}})}}var D0;class pT{constructor(e,n){this.downloadFn=e,this.shouldThrowOnError=n,this[D0]="BlobDownloadBuilder",this.promise=null}asStream(){return new hT(this.downloadFn,this.shouldThrowOnError)}then(e,n){return this.getPromise().then(e,n)}catch(e){return this.getPromise().catch(e)}finally(e){return this.getPromise().finally(e)}getPromise(){return this.promise||(this.promise=this.execute()),this.promise}execute(){return we(this,void 0,void 0,function*(){try{return{data:yield(yield this.downloadFn()).blob(),error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(et(e))return{data:null,error:e};throw e}})}}D0=Symbol.toStringTag;const mT={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},Qg={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class gT{constructor(e,n={},o,i){this.shouldThrowOnError=!1,this.url=e,this.headers=n,this.bucketId=o,this.fetch=Yf(i)}throwOnError(){return this.shouldThrowOnError=!0,this}uploadOrUpdate(e,n,o,i){return we(this,void 0,void 0,function*(){try{let a;const u=Object.assign(Object.assign({},Qg),i);let d=Object.assign(Object.assign({},this.headers),e==="POST"&&{"x-upsert":String(u.upsert)});const h=u.metadata;typeof Blob<"u"&&o instanceof Blob?(a=new FormData,a.append("cacheControl",u.cacheControl),h&&a.append("metadata",this.encodeMetadata(h)),a.append("",o)):typeof FormData<"u"&&o instanceof FormData?(a=o,a.has("cacheControl")||a.append("cacheControl",u.cacheControl),h&&!a.has("metadata")&&a.append("metadata",this.encodeMetadata(h))):(a=o,d["cache-control"]=`max-age=${u.cacheControl}`,d["content-type"]=u.contentType,h&&(d["x-metadata"]=this.toBase64(this.encodeMetadata(h))),(typeof ReadableStream<"u"&&a instanceof ReadableStream||a&&typeof a=="object"&&"pipe"in a&&typeof a.pipe=="function")&&!u.duplex&&(u.duplex="half")),i?.headers&&(d=Object.assign(Object.assign({},d),i.headers));const p=this._removeEmptyFolders(n),g=this._getFinalPath(p),m=yield(e=="PUT"?lf:Ar)(this.fetch,`${this.url}/object/${g}`,a,Object.assign({headers:d},u?.duplex?{duplex:u.duplex}:{}));return{data:{path:p,id:m.Id,fullPath:m.Key},error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(et(a))return{data:null,error:a};throw a}})}upload(e,n,o){return we(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",e,n,o)})}uploadToSignedUrl(e,n,o,i){return we(this,void 0,void 0,function*(){const a=this._removeEmptyFolders(e),u=this._getFinalPath(a),d=new URL(this.url+`/object/upload/sign/${u}`);d.searchParams.set("token",n);try{let h;const p=Object.assign({upsert:Qg.upsert},i),g=Object.assign(Object.assign({},this.headers),{"x-upsert":String(p.upsert)});typeof Blob<"u"&&o instanceof Blob?(h=new FormData,h.append("cacheControl",p.cacheControl),h.append("",o)):typeof FormData<"u"&&o instanceof FormData?(h=o,h.append("cacheControl",p.cacheControl)):(h=o,g["cache-control"]=`max-age=${p.cacheControl}`,g["content-type"]=p.contentType);const m=yield lf(this.fetch,d.toString(),h,{headers:g});return{data:{path:a,fullPath:m.Key},error:null}}catch(h){if(this.shouldThrowOnError)throw h;if(et(h))return{data:null,error:h};throw h}})}createSignedUploadUrl(e,n){return we(this,void 0,void 0,function*(){try{let o=this._getFinalPath(e);const i=Object.assign({},this.headers);n?.upsert&&(i["x-upsert"]="true");const a=yield Ar(this.fetch,`${this.url}/object/upload/sign/${o}`,{},{headers:i}),u=new URL(this.url+a.url),d=u.searchParams.get("token");if(!d)throw new Gf("No token returned by API");return{data:{signedUrl:u.toString(),path:e,token:d},error:null}}catch(o){if(this.shouldThrowOnError)throw o;if(et(o))return{data:null,error:o};throw o}})}update(e,n,o){return we(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",e,n,o)})}move(e,n,o){return we(this,void 0,void 0,function*(){try{return{data:yield Ar(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:e,destinationKey:n,destinationBucket:o?.destinationBucket},{headers:this.headers}),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(et(i))return{data:null,error:i};throw i}})}copy(e,n,o){return we(this,void 0,void 0,function*(){try{return{data:{path:(yield Ar(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:e,destinationKey:n,destinationBucket:o?.destinationBucket},{headers:this.headers})).Key},error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(et(i))return{data:null,error:i};throw i}})}createSignedUrl(e,n,o){return we(this,void 0,void 0,function*(){try{let i=this._getFinalPath(e),a=yield Ar(this.fetch,`${this.url}/object/sign/${i}`,Object.assign({expiresIn:n},o?.transform?{transform:o.transform}:{}),{headers:this.headers});const u=o?.download?`&download=${o.download===!0?"":o.download}`:"";return a={signedUrl:encodeURI(`${this.url}${a.signedURL}${u}`)},{data:a,error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(et(i))return{data:null,error:i};throw i}})}createSignedUrls(e,n,o){return we(this,void 0,void 0,function*(){try{const i=yield Ar(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:n,paths:e},{headers:this.headers}),a=o?.download?`&download=${o.download===!0?"":o.download}`:"";return{data:i.map(u=>Object.assign(Object.assign({},u),{signedUrl:u.signedURL?encodeURI(`${this.url}${u.signedURL}${a}`):null})),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(et(i))return{data:null,error:i};throw i}})}download(e,n){const i=typeof n?.transform<"u"?"render/image/authenticated":"object",a=this.transformOptsToQueryString(n?.transform||{}),u=a?`?${a}`:"",d=this._getFinalPath(e),h=()=>Yi(this.fetch,`${this.url}/${i}/${d}${u}`,{headers:this.headers,noResolveJson:!0});return new pT(h,this.shouldThrowOnError)}info(e){return we(this,void 0,void 0,function*(){const n=this._getFinalPath(e);try{const o=yield Yi(this.fetch,`${this.url}/object/info/${n}`,{headers:this.headers});return{data:af(o),error:null}}catch(o){if(this.shouldThrowOnError)throw o;if(et(o))return{data:null,error:o};throw o}})}exists(e){return we(this,void 0,void 0,function*(){const n=this._getFinalPath(e);try{return yield fT(this.fetch,`${this.url}/object/${n}`,{headers:this.headers}),{data:!0,error:null}}catch(o){if(this.shouldThrowOnError)throw o;if(et(o)&&o instanceof of){const i=o.originalError;if([400,404].includes(i?.status))return{data:!1,error:o}}throw o}})}getPublicUrl(e,n){const o=this._getFinalPath(e),i=[],a=n?.download?`download=${n.download===!0?"":n.download}`:"";a!==""&&i.push(a);const d=typeof n?.transform<"u"?"render/image":"object",h=this.transformOptsToQueryString(n?.transform||{});h!==""&&i.push(h);let p=i.join("&");return p!==""&&(p=`?${p}`),{data:{publicUrl:encodeURI(`${this.url}/${d}/public/${o}${p}`)}}}remove(e){return we(this,void 0,void 0,function*(){try{return{data:yield Jf(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:e},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(et(n))return{data:null,error:n};throw n}})}list(e,n,o){return we(this,void 0,void 0,function*(){try{const i=Object.assign(Object.assign(Object.assign({},mT),n),{prefix:e||""});return{data:yield Ar(this.fetch,`${this.url}/object/list/${this.bucketId}`,i,{headers:this.headers},o),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(et(i))return{data:null,error:i};throw i}})}listV2(e,n){return we(this,void 0,void 0,function*(){try{const o=Object.assign({},e);return{data:yield Ar(this.fetch,`${this.url}/object/list-v2/${this.bucketId}`,o,{headers:this.headers},n),error:null}}catch(o){if(this.shouldThrowOnError)throw o;if(et(o))return{data:null,error:o};throw o}})}encodeMetadata(e){return JSON.stringify(e)}toBase64(e){return typeof Buffer<"u"?Buffer.from(e).toString("base64"):btoa(e)}_getFinalPath(e){return`${this.bucketId}/${e.replace(/^\/+/,"")}`}_removeEmptyFolders(e){return e.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(e){const n=[];return e.width&&n.push(`width=${e.width}`),e.height&&n.push(`height=${e.height}`),e.resize&&n.push(`resize=${e.resize}`),e.format&&n.push(`format=${e.format}`),e.quality&&n.push(`quality=${e.quality}`),n.join("&")}}const L0="2.84.0",$0={"X-Client-Info":`storage-js/${L0}`};class vT{constructor(e,n={},o,i){this.shouldThrowOnError=!1;const a=new URL(e);i?.useNewHostname&&/supabase\.(co|in|red)$/.test(a.hostname)&&!a.hostname.includes("storage.supabase.")&&(a.hostname=a.hostname.replace("supabase.","storage.supabase.")),this.url=a.href.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},$0),n),this.fetch=Yf(o)}throwOnError(){return this.shouldThrowOnError=!0,this}listBuckets(e){return we(this,void 0,void 0,function*(){try{const n=this.listBucketOptionsToQueryString(e);return{data:yield Yi(this.fetch,`${this.url}/bucket${n}`,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(et(n))return{data:null,error:n};throw n}})}getBucket(e){return we(this,void 0,void 0,function*(){try{return{data:yield Yi(this.fetch,`${this.url}/bucket/${e}`,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(et(n))return{data:null,error:n};throw n}})}createBucket(e){return we(this,arguments,void 0,function*(n,o={public:!1}){try{return{data:yield Ar(this.fetch,`${this.url}/bucket`,{id:n,name:n,type:o.type,public:o.public,file_size_limit:o.fileSizeLimit,allowed_mime_types:o.allowedMimeTypes},{headers:this.headers}),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(et(i))return{data:null,error:i};throw i}})}updateBucket(e,n){return we(this,void 0,void 0,function*(){try{return{data:yield lf(this.fetch,`${this.url}/bucket/${e}`,{id:e,name:e,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(o){if(this.shouldThrowOnError)throw o;if(et(o))return{data:null,error:o};throw o}})}emptyBucket(e){return we(this,void 0,void 0,function*(){try{return{data:yield Ar(this.fetch,`${this.url}/bucket/${e}/empty`,{},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(et(n))return{data:null,error:n};throw n}})}deleteBucket(e){return we(this,void 0,void 0,function*(){try{return{data:yield Jf(this.fetch,`${this.url}/bucket/${e}`,{},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(et(n))return{data:null,error:n};throw n}})}listBucketOptionsToQueryString(e){const n={};return e&&("limit"in e&&(n.limit=String(e.limit)),"offset"in e&&(n.offset=String(e.offset)),e.search&&(n.search=e.search),e.sortColumn&&(n.sortColumn=e.sortColumn),e.sortOrder&&(n.sortOrder=e.sortOrder)),Object.keys(n).length>0?"?"+new URLSearchParams(n).toString():""}}class yT{constructor(e,n={},o){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},$0),n),this.fetch=Yf(o)}throwOnError(){return this.shouldThrowOnError=!0,this}createBucket(e){return we(this,void 0,void 0,function*(){try{return{data:yield Ar(this.fetch,`${this.url}/bucket`,{name:e},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(et(n))return{data:null,error:n};throw n}})}listBuckets(e){return we(this,void 0,void 0,function*(){try{const n=new URLSearchParams;e?.limit!==void 0&&n.set("limit",e.limit.toString()),e?.offset!==void 0&&n.set("offset",e.offset.toString()),e?.sortColumn&&n.set("sortColumn",e.sortColumn),e?.sortOrder&&n.set("sortOrder",e.sortOrder),e?.search&&n.set("search",e.search);const o=n.toString(),i=o?`${this.url}/bucket?${o}`:`${this.url}/bucket`;return{data:yield Yi(this.fetch,i,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(et(n))return{data:null,error:n};throw n}})}deleteBucket(e){return we(this,void 0,void 0,function*(){try{return{data:yield Jf(this.fetch,`${this.url}/bucket/${e}`,{},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(et(n))return{data:null,error:n};throw n}})}}const Qf={"X-Client-Info":`storage-js/${L0}`,"Content-Type":"application/json"};class M0 extends Error{constructor(e){super(e),this.__isStorageVectorsError=!0,this.name="StorageVectorsError"}}function or(t){return typeof t=="object"&&t!==null&&"__isStorageVectorsError"in t}class Nd extends M0{constructor(e,n,o){super(e),this.name="StorageVectorsApiError",this.status=n,this.statusCode=o}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class wT extends M0{constructor(e,n){super(e),this.name="StorageVectorsUnknownError",this.originalError=n}}var Xg;(function(t){t.InternalError="InternalError",t.S3VectorConflictException="S3VectorConflictException",t.S3VectorNotFoundException="S3VectorNotFoundException",t.S3VectorBucketNotEmpty="S3VectorBucketNotEmpty",t.S3VectorMaxBucketsExceeded="S3VectorMaxBucketsExceeded",t.S3VectorMaxIndexesExceeded="S3VectorMaxIndexesExceeded"})(Xg||(Xg={}));const Xf=t=>t?(...e)=>t(...e):(...e)=>fetch(...e),xT=t=>{if(typeof t!="object"||t===null)return!1;const e=Object.getPrototypeOf(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)},Zg=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),bT=(t,e,n)=>we(void 0,void 0,void 0,function*(){if(t&&typeof t=="object"&&"status"in t&&"ok"in t&&typeof t.status=="number"&&!n?.noResolveJson){const i=t.status||500,a=t;if(typeof a.json=="function")a.json().then(u=>{const d=u?.statusCode||u?.code||i+"";e(new Nd(Zg(u),i,d))}).catch(()=>{const u=i+"",d=a.statusText||`HTTP ${i} error`;e(new Nd(d,i,u))});else{const u=i+"",d=a.statusText||`HTTP ${i} error`;e(new Nd(d,i,u))}}else e(new wT(Zg(t),t))}),_T=(t,e,n,o)=>{const i={method:t,headers:e?.headers||{}};return o?(xT(o)?(i.headers=Object.assign({"Content-Type":"application/json"},e?.headers),i.body=JSON.stringify(o)):i.body=o,Object.assign(Object.assign({},i),n)):i};function ST(t,e,n,o,i,a){return we(this,void 0,void 0,function*(){return new Promise((u,d)=>{t(n,_T(e,o,i,a)).then(h=>{if(!h.ok)throw h;if(o?.noResolveJson)return h;const p=h.headers.get("content-type");return!p||!p.includes("application/json")?{}:h.json()}).then(h=>u(h)).catch(h=>bT(h,d,o))})})}function ir(t,e,n,o,i){return we(this,void 0,void 0,function*(){return ST(t,"POST",e,o,i,n)})}class jT{constructor(e,n={},o){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},Qf),n),this.fetch=Xf(o)}throwOnError(){return this.shouldThrowOnError=!0,this}createIndex(e){return we(this,void 0,void 0,function*(){try{return{data:(yield ir(this.fetch,`${this.url}/CreateIndex`,e,{headers:this.headers}))||{},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(or(n))return{data:null,error:n};throw n}})}getIndex(e,n){return we(this,void 0,void 0,function*(){try{return{data:yield ir(this.fetch,`${this.url}/GetIndex`,{vectorBucketName:e,indexName:n},{headers:this.headers}),error:null}}catch(o){if(this.shouldThrowOnError)throw o;if(or(o))return{data:null,error:o};throw o}})}listIndexes(e){return we(this,void 0,void 0,function*(){try{return{data:yield ir(this.fetch,`${this.url}/ListIndexes`,e,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(or(n))return{data:null,error:n};throw n}})}deleteIndex(e,n){return we(this,void 0,void 0,function*(){try{return{data:(yield ir(this.fetch,`${this.url}/DeleteIndex`,{vectorBucketName:e,indexName:n},{headers:this.headers}))||{},error:null}}catch(o){if(this.shouldThrowOnError)throw o;if(or(o))return{data:null,error:o};throw o}})}}class ET{constructor(e,n={},o){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},Qf),n),this.fetch=Xf(o)}throwOnError(){return this.shouldThrowOnError=!0,this}putVectors(e){return we(this,void 0,void 0,function*(){try{if(e.vectors.length<1||e.vectors.length>500)throw new Error("Vector batch size must be between 1 and 500 items");return{data:(yield ir(this.fetch,`${this.url}/PutVectors`,e,{headers:this.headers}))||{},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(or(n))return{data:null,error:n};throw n}})}getVectors(e){return we(this,void 0,void 0,function*(){try{return{data:yield ir(this.fetch,`${this.url}/GetVectors`,e,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(or(n))return{data:null,error:n};throw n}})}listVectors(e){return we(this,void 0,void 0,function*(){try{if(e.segmentCount!==void 0){if(e.segmentCount<1||e.segmentCount>16)throw new Error("segmentCount must be between 1 and 16");if(e.segmentIndex!==void 0&&(e.segmentIndex<0||e.segmentIndex>=e.segmentCount))throw new Error(`segmentIndex must be between 0 and ${e.segmentCount-1}`)}return{data:yield ir(this.fetch,`${this.url}/ListVectors`,e,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(or(n))return{data:null,error:n};throw n}})}queryVectors(e){return we(this,void 0,void 0,function*(){try{return{data:yield ir(this.fetch,`${this.url}/QueryVectors`,e,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(or(n))return{data:null,error:n};throw n}})}deleteVectors(e){return we(this,void 0,void 0,function*(){try{if(e.keys.length<1||e.keys.length>500)throw new Error("Keys batch size must be between 1 and 500 items");return{data:(yield ir(this.fetch,`${this.url}/DeleteVectors`,e,{headers:this.headers}))||{},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(or(n))return{data:null,error:n};throw n}})}}class kT{constructor(e,n={},o){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},Qf),n),this.fetch=Xf(o)}throwOnError(){return this.shouldThrowOnError=!0,this}createBucket(e){return we(this,void 0,void 0,function*(){try{return{data:(yield ir(this.fetch,`${this.url}/CreateVectorBucket`,{vectorBucketName:e},{headers:this.headers}))||{},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(or(n))return{data:null,error:n};throw n}})}getBucket(e){return we(this,void 0,void 0,function*(){try{return{data:yield ir(this.fetch,`${this.url}/GetVectorBucket`,{vectorBucketName:e},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(or(n))return{data:null,error:n};throw n}})}listBuckets(){return we(this,arguments,void 0,function*(e={}){try{return{data:yield ir(this.fetch,`${this.url}/ListVectorBuckets`,e,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(or(n))return{data:null,error:n};throw n}})}deleteBucket(e){return we(this,void 0,void 0,function*(){try{return{data:(yield ir(this.fetch,`${this.url}/DeleteVectorBucket`,{vectorBucketName:e},{headers:this.headers}))||{},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(or(n))return{data:null,error:n};throw n}})}}class CT extends kT{constructor(e,n={}){super(e,n.headers||{},n.fetch)}from(e){return new NT(this.url,this.headers,e,this.fetch)}}class NT extends jT{constructor(e,n,o,i){super(e,n,i),this.vectorBucketName=o}createIndex(e){const n=Object.create(null,{createIndex:{get:()=>super.createIndex}});return we(this,void 0,void 0,function*(){return n.createIndex.call(this,Object.assign(Object.assign({},e),{vectorBucketName:this.vectorBucketName}))})}listIndexes(){const e=Object.create(null,{listIndexes:{get:()=>super.listIndexes}});return we(this,arguments,void 0,function*(n={}){return e.listIndexes.call(this,Object.assign(Object.assign({},n),{vectorBucketName:this.vectorBucketName}))})}getIndex(e){const n=Object.create(null,{getIndex:{get:()=>super.getIndex}});return we(this,void 0,void 0,function*(){return n.getIndex.call(this,this.vectorBucketName,e)})}deleteIndex(e){const n=Object.create(null,{deleteIndex:{get:()=>super.deleteIndex}});return we(this,void 0,void 0,function*(){return n.deleteIndex.call(this,this.vectorBucketName,e)})}index(e){return new RT(this.url,this.headers,this.vectorBucketName,e,this.fetch)}}class RT extends ET{constructor(e,n,o,i,a){super(e,n,a),this.vectorBucketName=o,this.indexName=i}putVectors(e){const n=Object.create(null,{putVectors:{get:()=>super.putVectors}});return we(this,void 0,void 0,function*(){return n.putVectors.call(this,Object.assign(Object.assign({},e),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}getVectors(e){const n=Object.create(null,{getVectors:{get:()=>super.getVectors}});return we(this,void 0,void 0,function*(){return n.getVectors.call(this,Object.assign(Object.assign({},e),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}listVectors(){const e=Object.create(null,{listVectors:{get:()=>super.listVectors}});return we(this,arguments,void 0,function*(n={}){return e.listVectors.call(this,Object.assign(Object.assign({},n),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}queryVectors(e){const n=Object.create(null,{queryVectors:{get:()=>super.queryVectors}});return we(this,void 0,void 0,function*(){return n.queryVectors.call(this,Object.assign(Object.assign({},e),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}deleteVectors(e){const n=Object.create(null,{deleteVectors:{get:()=>super.deleteVectors}});return we(this,void 0,void 0,function*(){return n.deleteVectors.call(this,Object.assign(Object.assign({},e),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}}class TT extends vT{constructor(e,n={},o,i){super(e,n,o,i)}from(e){return new gT(this.url,this.headers,e,this.fetch)}get vectors(){return new CT(this.url+"/vector",{headers:this.headers,fetch:this.fetch})}get analytics(){return new yT(this.url+"/iceberg",this.headers,this.fetch)}}const PT="2.84.0";let zi="";typeof Deno<"u"?zi="deno":typeof document<"u"?zi="web":typeof navigator<"u"&&navigator.product==="ReactNative"?zi="react-native":zi="node";const AT={"X-Client-Info":`supabase-js-${zi}/${PT}`},OT={headers:AT},IT={schema:"public"},DT={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},LT={},$T=t=>t?(...e)=>t(...e):(...e)=>fetch(...e),MT=()=>Headers,FT=(t,e,n)=>{const o=$T(n),i=MT();return async(a,u)=>{var d;const h=(d=await e())!==null&&d!==void 0?d:t;let p=new i(u?.headers);return p.has("apikey")||p.set("apikey",t),p.has("Authorization")||p.set("Authorization",`Bearer ${h}`),o(a,Object.assign(Object.assign({},u),{headers:p}))}};function UT(t){return t.endsWith("/")?t:t+"/"}function zT(t,e){var n,o;const{db:i,auth:a,realtime:u,global:d}=t,{db:h,auth:p,realtime:g,global:m}=e,x={db:Object.assign(Object.assign({},h),i),auth:Object.assign(Object.assign({},p),a),realtime:Object.assign(Object.assign({},g),u),storage:{},global:Object.assign(Object.assign(Object.assign({},m),d),{headers:Object.assign(Object.assign({},(n=m?.headers)!==null&&n!==void 0?n:{}),(o=d?.headers)!==null&&o!==void 0?o:{})}),accessToken:async()=>""};return t.accessToken?x.accessToken=t.accessToken:delete x.accessToken,x}function BT(t){const e=t?.trim();if(!e)throw new Error("supabaseUrl is required.");if(!e.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(UT(e))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}const F0="2.84.0",_o=30*1e3,cf=3,Rd=cf*_o,VT="http://localhost:9999",WT="supabase.auth.token",HT={"X-Client-Info":`gotrue-js/${F0}`},uf="X-Supabase-Api-Version",U0={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},qT=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,KT=600*1e3;class Ji extends Error{constructor(e,n,o){super(e),this.__isAuthError=!0,this.name="AuthError",this.status=n,this.code=o}}function xe(t){return typeof t=="object"&&t!==null&&"__isAuthError"in t}class GT extends Ji{constructor(e,n,o){super(e,n,o),this.name="AuthApiError",this.status=n,this.code=o}}function YT(t){return xe(t)&&t.name==="AuthApiError"}class Os extends Ji{constructor(e,n){super(e),this.name="AuthUnknownError",this.originalError=n}}class as extends Ji{constructor(e,n,o,i){super(e,o,i),this.name=n,this.status=o}}class nr extends as{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function JT(t){return xe(t)&&t.name==="AuthSessionMissingError"}class vo extends as{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class Tl extends as{constructor(e){super(e,"AuthInvalidCredentialsError",400,void 0)}}class Pl extends as{constructor(e,n=null){super(e,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function QT(t){return xe(t)&&t.name==="AuthImplicitGrantRedirectError"}class ev extends as{constructor(e,n=null){super(e,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class df extends as{constructor(e,n){super(e,"AuthRetryableFetchError",n,void 0)}}function Td(t){return xe(t)&&t.name==="AuthRetryableFetchError"}class tv extends as{constructor(e,n,o){super(e,"AuthWeakPasswordError",n,"weak_password"),this.reasons=o}}class ff extends as{constructor(e){super(e,"AuthInvalidJwtError",400,"invalid_jwt")}}const Kl="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),rv=` 	
\r=`.split(""),XT=(()=>{const t=new Array(128);for(let e=0;e<t.length;e+=1)t[e]=-1;for(let e=0;e<rv.length;e+=1)t[rv[e].charCodeAt(0)]=-2;for(let e=0;e<Kl.length;e+=1)t[Kl[e].charCodeAt(0)]=e;return t})();function nv(t,e,n){if(t!==null)for(e.queue=e.queue<<8|t,e.queuedBits+=8;e.queuedBits>=6;){const o=e.queue>>e.queuedBits-6&63;n(Kl[o]),e.queuedBits-=6}else if(e.queuedBits>0)for(e.queue=e.queue<<6-e.queuedBits,e.queuedBits=6;e.queuedBits>=6;){const o=e.queue>>e.queuedBits-6&63;n(Kl[o]),e.queuedBits-=6}}function z0(t,e,n){const o=XT[t];if(o>-1)for(e.queue=e.queue<<6|o,e.queuedBits+=6;e.queuedBits>=8;)n(e.queue>>e.queuedBits-8&255),e.queuedBits-=8;else{if(o===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(t)}"`)}}function sv(t){const e=[],n=u=>{e.push(String.fromCodePoint(u))},o={utf8seq:0,codepoint:0},i={queue:0,queuedBits:0},a=u=>{tP(u,o,n)};for(let u=0;u<t.length;u+=1)z0(t.charCodeAt(u),i,a);return e.join("")}function ZT(t,e){if(t<=127){e(t);return}else if(t<=2047){e(192|t>>6),e(128|t&63);return}else if(t<=65535){e(224|t>>12),e(128|t>>6&63),e(128|t&63);return}else if(t<=1114111){e(240|t>>18),e(128|t>>12&63),e(128|t>>6&63),e(128|t&63);return}throw new Error(`Unrecognized Unicode codepoint: ${t.toString(16)}`)}function eP(t,e){for(let n=0;n<t.length;n+=1){let o=t.charCodeAt(n);if(o>55295&&o<=56319){const i=(o-55296)*1024&65535;o=(t.charCodeAt(n+1)-56320&65535|i)+65536,n+=1}ZT(o,e)}}function tP(t,e,n){if(e.utf8seq===0){if(t<=127){n(t);return}for(let o=1;o<6;o+=1)if((t>>7-o&1)===0){e.utf8seq=o;break}if(e.utf8seq===2)e.codepoint=t&31;else if(e.utf8seq===3)e.codepoint=t&15;else if(e.utf8seq===4)e.codepoint=t&7;else throw new Error("Invalid UTF-8 sequence");e.utf8seq-=1}else if(e.utf8seq>0){if(t<=127)throw new Error("Invalid UTF-8 sequence");e.codepoint=e.codepoint<<6|t&63,e.utf8seq-=1,e.utf8seq===0&&n(e.codepoint)}}function No(t){const e=[],n={queue:0,queuedBits:0},o=i=>{e.push(i)};for(let i=0;i<t.length;i+=1)z0(t.charCodeAt(i),n,o);return new Uint8Array(e)}function rP(t){const e=[];return eP(t,n=>e.push(n)),new Uint8Array(e)}function Is(t){const e=[],n={queue:0,queuedBits:0},o=i=>{e.push(i)};return t.forEach(i=>nv(i,n,o)),nv(null,n,o),e.join("")}function nP(t){return Math.round(Date.now()/1e3)+t}function sP(){return Symbol("auth-callback")}const Et=()=>typeof window<"u"&&typeof document<"u",ks={tested:!1,writable:!1},B0=()=>{if(!Et())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(ks.tested)return ks.writable;const t=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(t,t),globalThis.localStorage.removeItem(t),ks.tested=!0,ks.writable=!0}catch{ks.tested=!0,ks.writable=!1}return ks.writable};function oP(t){const e={},n=new URL(t);if(n.hash&&n.hash[0]==="#")try{new URLSearchParams(n.hash.substring(1)).forEach((i,a)=>{e[a]=i})}catch{}return n.searchParams.forEach((o,i)=>{e[i]=o}),e}const V0=t=>t?(...e)=>t(...e):(...e)=>fetch(...e),iP=t=>typeof t=="object"&&t!==null&&"status"in t&&"ok"in t&&"json"in t&&typeof t.json=="function",So=async(t,e,n)=>{await t.setItem(e,JSON.stringify(n))},Cs=async(t,e)=>{const n=await t.getItem(e);if(!n)return null;try{return JSON.parse(n)}catch{return n}},Gn=async(t,e)=>{await t.removeItem(e)};class mc{constructor(){this.promise=new mc.promiseConstructor((e,n)=>{this.resolve=e,this.reject=n})}}mc.promiseConstructor=Promise;function Pd(t){const e=t.split(".");if(e.length!==3)throw new ff("Invalid JWT structure");for(let o=0;o<e.length;o++)if(!qT.test(e[o]))throw new ff("JWT not in base64url format");return{header:JSON.parse(sv(e[0])),payload:JSON.parse(sv(e[1])),signature:No(e[2]),raw:{header:e[0],payload:e[1]}}}async function aP(t){return await new Promise(e=>{setTimeout(()=>e(null),t)})}function lP(t,e){return new Promise((o,i)=>{(async()=>{for(let a=0;a<1/0;a++)try{const u=await t(a);if(!e(a,null,u)){o(u);return}}catch(u){if(!e(a,u)){i(u);return}}})()})}function cP(t){return("0"+t.toString(16)).substr(-2)}function uP(){const e=new Uint32Array(56);if(typeof crypto>"u"){const n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",o=n.length;let i="";for(let a=0;a<56;a++)i+=n.charAt(Math.floor(Math.random()*o));return i}return crypto.getRandomValues(e),Array.from(e,cP).join("")}async function dP(t){const n=new TextEncoder().encode(t),o=await crypto.subtle.digest("SHA-256",n),i=new Uint8Array(o);return Array.from(i).map(a=>String.fromCharCode(a)).join("")}async function fP(t){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),t;const n=await dP(t);return btoa(n).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function yo(t,e,n=!1){const o=uP();let i=o;n&&(i+="/PASSWORD_RECOVERY"),await So(t,`${e}-code-verifier`,i);const a=await fP(o);return[a,o===a?"plain":"s256"]}const hP=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function pP(t){const e=t.headers.get(uf);if(!e||!e.match(hP))return null;try{return new Date(`${e}T00:00:00.0Z`)}catch{return null}}function mP(t){if(!t)throw new Error("Missing exp claim");const e=Math.floor(Date.now()/1e3);if(t<=e)throw new Error("JWT has expired")}function gP(t){switch(t){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const vP=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function wo(t){if(!vP.test(t))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function Ad(){const t={};return new Proxy(t,{get:(e,n)=>{if(n==="__isUserNotAvailableProxy")return!0;if(typeof n=="symbol"){const o=n.toString();if(o==="Symbol(Symbol.toPrimitive)"||o==="Symbol(Symbol.toStringTag)"||o==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${n}" property of the session object is not supported. Please use getUser() instead.`)},set:(e,n)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${n}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(e,n)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${n}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function yP(t,e){return new Proxy(t,{get:(n,o,i)=>{if(o==="__isInsecureUserWarningProxy")return!0;if(typeof o=="symbol"){const a=o.toString();if(a==="Symbol(Symbol.toPrimitive)"||a==="Symbol(Symbol.toStringTag)"||a==="Symbol(util.inspect.custom)"||a==="Symbol(nodejs.util.inspect.custom)")return Reflect.get(n,o,i)}return!e.value&&typeof o=="string"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),e.value=!0),Reflect.get(n,o,i)}})}function ov(t){return JSON.parse(JSON.stringify(t))}const Rs=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),wP=[502,503,504];async function iv(t){var e;if(!iP(t))throw new df(Rs(t),0);if(wP.includes(t.status))throw new df(Rs(t),t.status);let n;try{n=await t.json()}catch(a){throw new Os(Rs(a),a)}let o;const i=pP(t);if(i&&i.getTime()>=U0["2024-01-01"].timestamp&&typeof n=="object"&&n&&typeof n.code=="string"?o=n.code:typeof n=="object"&&n&&typeof n.error_code=="string"&&(o=n.error_code),o){if(o==="weak_password")throw new tv(Rs(n),t.status,((e=n.weak_password)===null||e===void 0?void 0:e.reasons)||[]);if(o==="session_not_found")throw new nr}else if(typeof n=="object"&&n&&typeof n.weak_password=="object"&&n.weak_password&&Array.isArray(n.weak_password.reasons)&&n.weak_password.reasons.length&&n.weak_password.reasons.reduce((a,u)=>a&&typeof u=="string",!0))throw new tv(Rs(n),t.status,n.weak_password.reasons);throw new GT(Rs(n),t.status||500,o)}const xP=(t,e,n,o)=>{const i={method:t,headers:e?.headers||{}};return t==="GET"?i:(i.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},e?.headers),i.body=JSON.stringify(o),Object.assign(Object.assign({},i),n))};async function ke(t,e,n,o){var i;const a=Object.assign({},o?.headers);a[uf]||(a[uf]=U0["2024-01-01"].name),o?.jwt&&(a.Authorization=`Bearer ${o.jwt}`);const u=(i=o?.query)!==null&&i!==void 0?i:{};o?.redirectTo&&(u.redirect_to=o.redirectTo);const d=Object.keys(u).length?"?"+new URLSearchParams(u).toString():"",h=await bP(t,e,n+d,{headers:a,noResolveJson:o?.noResolveJson},{},o?.body);return o?.xform?o?.xform(h):{data:Object.assign({},h),error:null}}async function bP(t,e,n,o,i,a){const u=xP(e,o,i,a);let d;try{d=await t(n,Object.assign({},u))}catch(h){throw console.error(h),new df(Rs(h),0)}if(d.ok||await iv(d),o?.noResolveJson)return d;try{return await d.json()}catch(h){await iv(h)}}function Tr(t){var e;let n=null;jP(t)&&(n=Object.assign({},t),t.expires_at||(n.expires_at=nP(t.expires_in)));const o=(e=t.user)!==null&&e!==void 0?e:t;return{data:{session:n,user:o},error:null}}function av(t){const e=Tr(t);return!e.error&&t.weak_password&&typeof t.weak_password=="object"&&Array.isArray(t.weak_password.reasons)&&t.weak_password.reasons.length&&t.weak_password.message&&typeof t.weak_password.message=="string"&&t.weak_password.reasons.reduce((n,o)=>n&&typeof o=="string",!0)&&(e.data.weak_password=t.weak_password),e}function Jn(t){var e;return{data:{user:(e=t.user)!==null&&e!==void 0?e:t},error:null}}function _P(t){return{data:t,error:null}}function SP(t){const{action_link:e,email_otp:n,hashed_token:o,redirect_to:i,verification_type:a}=t,u=ss(t,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),d={action_link:e,email_otp:n,hashed_token:o,redirect_to:i,verification_type:a},h=Object.assign({},u);return{data:{properties:d,user:h},error:null}}function lv(t){return t}function jP(t){return t.access_token&&t.refresh_token&&t.expires_in}const Od=["global","local","others"];class EP{constructor({url:e="",headers:n={},fetch:o}){this.url=e,this.headers=n,this.fetch=V0(o),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)},this.oauth={listClients:this._listOAuthClients.bind(this),createClient:this._createOAuthClient.bind(this),getClient:this._getOAuthClient.bind(this),updateClient:this._updateOAuthClient.bind(this),deleteClient:this._deleteOAuthClient.bind(this),regenerateClientSecret:this._regenerateOAuthClientSecret.bind(this)}}async signOut(e,n=Od[0]){if(Od.indexOf(n)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${Od.join(", ")}`);try{return await ke(this.fetch,"POST",`${this.url}/logout?scope=${n}`,{headers:this.headers,jwt:e,noResolveJson:!0}),{data:null,error:null}}catch(o){if(xe(o))return{data:null,error:o};throw o}}async inviteUserByEmail(e,n={}){try{return await ke(this.fetch,"POST",`${this.url}/invite`,{body:{email:e,data:n.data},headers:this.headers,redirectTo:n.redirectTo,xform:Jn})}catch(o){if(xe(o))return{data:{user:null},error:o};throw o}}async generateLink(e){try{const{options:n}=e,o=ss(e,["options"]),i=Object.assign(Object.assign({},o),n);return"newEmail"in o&&(i.new_email=o?.newEmail,delete i.newEmail),await ke(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:i,headers:this.headers,xform:SP,redirectTo:n?.redirectTo})}catch(n){if(xe(n))return{data:{properties:null,user:null},error:n};throw n}}async createUser(e){try{return await ke(this.fetch,"POST",`${this.url}/admin/users`,{body:e,headers:this.headers,xform:Jn})}catch(n){if(xe(n))return{data:{user:null},error:n};throw n}}async listUsers(e){var n,o,i,a,u,d,h;try{const p={nextPage:null,lastPage:0,total:0},g=await ke(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(o=(n=e?.page)===null||n===void 0?void 0:n.toString())!==null&&o!==void 0?o:"",per_page:(a=(i=e?.perPage)===null||i===void 0?void 0:i.toString())!==null&&a!==void 0?a:""},xform:lv});if(g.error)throw g.error;const m=await g.json(),x=(u=g.headers.get("x-total-count"))!==null&&u!==void 0?u:0,b=(h=(d=g.headers.get("link"))===null||d===void 0?void 0:d.split(","))!==null&&h!==void 0?h:[];return b.length>0&&(b.forEach(j=>{const _=parseInt(j.split(";")[0].split("=")[1].substring(0,1)),S=JSON.parse(j.split(";")[1].split("=")[1]);p[`${S}Page`]=_}),p.total=parseInt(x)),{data:Object.assign(Object.assign({},m),p),error:null}}catch(p){if(xe(p))return{data:{users:[]},error:p};throw p}}async getUserById(e){wo(e);try{return await ke(this.fetch,"GET",`${this.url}/admin/users/${e}`,{headers:this.headers,xform:Jn})}catch(n){if(xe(n))return{data:{user:null},error:n};throw n}}async updateUserById(e,n){wo(e);try{return await ke(this.fetch,"PUT",`${this.url}/admin/users/${e}`,{body:n,headers:this.headers,xform:Jn})}catch(o){if(xe(o))return{data:{user:null},error:o};throw o}}async deleteUser(e,n=!1){wo(e);try{return await ke(this.fetch,"DELETE",`${this.url}/admin/users/${e}`,{headers:this.headers,body:{should_soft_delete:n},xform:Jn})}catch(o){if(xe(o))return{data:{user:null},error:o};throw o}}async _listFactors(e){wo(e.userId);try{const{data:n,error:o}=await ke(this.fetch,"GET",`${this.url}/admin/users/${e.userId}/factors`,{headers:this.headers,xform:i=>({data:{factors:i},error:null})});return{data:n,error:o}}catch(n){if(xe(n))return{data:null,error:n};throw n}}async _deleteFactor(e){wo(e.userId),wo(e.id);try{return{data:await ke(this.fetch,"DELETE",`${this.url}/admin/users/${e.userId}/factors/${e.id}`,{headers:this.headers}),error:null}}catch(n){if(xe(n))return{data:null,error:n};throw n}}async _listOAuthClients(e){var n,o,i,a,u,d,h;try{const p={nextPage:null,lastPage:0,total:0},g=await ke(this.fetch,"GET",`${this.url}/admin/oauth/clients`,{headers:this.headers,noResolveJson:!0,query:{page:(o=(n=e?.page)===null||n===void 0?void 0:n.toString())!==null&&o!==void 0?o:"",per_page:(a=(i=e?.perPage)===null||i===void 0?void 0:i.toString())!==null&&a!==void 0?a:""},xform:lv});if(g.error)throw g.error;const m=await g.json(),x=(u=g.headers.get("x-total-count"))!==null&&u!==void 0?u:0,b=(h=(d=g.headers.get("link"))===null||d===void 0?void 0:d.split(","))!==null&&h!==void 0?h:[];return b.length>0&&(b.forEach(j=>{const _=parseInt(j.split(";")[0].split("=")[1].substring(0,1)),S=JSON.parse(j.split(";")[1].split("=")[1]);p[`${S}Page`]=_}),p.total=parseInt(x)),{data:Object.assign(Object.assign({},m),p),error:null}}catch(p){if(xe(p))return{data:{clients:[]},error:p};throw p}}async _createOAuthClient(e){try{return await ke(this.fetch,"POST",`${this.url}/admin/oauth/clients`,{body:e,headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(xe(n))return{data:null,error:n};throw n}}async _getOAuthClient(e){try{return await ke(this.fetch,"GET",`${this.url}/admin/oauth/clients/${e}`,{headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(xe(n))return{data:null,error:n};throw n}}async _updateOAuthClient(e,n){try{return await ke(this.fetch,"PUT",`${this.url}/admin/oauth/clients/${e}`,{body:n,headers:this.headers,xform:o=>({data:o,error:null})})}catch(o){if(xe(o))return{data:null,error:o};throw o}}async _deleteOAuthClient(e){try{return await ke(this.fetch,"DELETE",`${this.url}/admin/oauth/clients/${e}`,{headers:this.headers,noResolveJson:!0}),{data:null,error:null}}catch(n){if(xe(n))return{data:null,error:n};throw n}}async _regenerateOAuthClientSecret(e){try{return await ke(this.fetch,"POST",`${this.url}/admin/oauth/clients/${e}/regenerate_secret`,{headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(xe(n))return{data:null,error:n};throw n}}}function cv(t={}){return{getItem:e=>t[e]||null,setItem:(e,n)=>{t[e]=n},removeItem:e=>{delete t[e]}}}const xo={debug:!!(globalThis&&B0()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class W0 extends Error{constructor(e){super(e),this.isAcquireTimeout=!0}}class kP extends W0{}async function CP(t,e,n){xo.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",t,e);const o=new globalThis.AbortController;return e>0&&setTimeout(()=>{o.abort(),xo.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",t)},e),await Promise.resolve().then(()=>globalThis.navigator.locks.request(t,e===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:o.signal},async i=>{if(i){xo.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",t,i.name);try{return await n()}finally{xo.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",t,i.name)}}else{if(e===0)throw xo.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",t),new kP(`Acquiring an exclusive Navigator LockManager lock "${t}" immediately failed`);if(xo.debug)try{const a=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(a,null,"  "))}catch(a){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",a)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await n()}}))}function NP(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}function H0(t){if(!/^0x[a-fA-F0-9]{40}$/.test(t))throw new Error(`@supabase/auth-js: Address "${t}" is invalid.`);return t.toLowerCase()}function RP(t){return parseInt(t,16)}function TP(t){const e=new TextEncoder().encode(t);return"0x"+Array.from(e,o=>o.toString(16).padStart(2,"0")).join("")}function PP(t){var e;const{chainId:n,domain:o,expirationTime:i,issuedAt:a=new Date,nonce:u,notBefore:d,requestId:h,resources:p,scheme:g,uri:m,version:x}=t;{if(!Number.isInteger(n))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${n}`);if(!o)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(u&&u.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${u}`);if(!m)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(x!=="1")throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${x}`);if(!((e=t.statement)===null||e===void 0)&&e.includes(`
`))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${t.statement}`)}const b=H0(t.address),j=g?`${g}://${o}`:o,_=t.statement?`${t.statement}
`:"",S=`${j} wants you to sign in with your Ethereum account:
${b}

${_}`;let k=`URI: ${m}
Version: ${x}
Chain ID: ${n}${u?`
Nonce: ${u}`:""}
Issued At: ${a.toISOString()}`;if(i&&(k+=`
Expiration Time: ${i.toISOString()}`),d&&(k+=`
Not Before: ${d.toISOString()}`),h&&(k+=`
Request ID: ${h}`),p){let C=`
Resources:`;for(const N of p){if(!N||typeof N!="string")throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${N}`);C+=`
- ${N}`}k+=C}return`${S}
${k}`}class ct extends Error{constructor({message:e,code:n,cause:o,name:i}){var a;super(e,{cause:o}),this.__isWebAuthnError=!0,this.name=(a=i??(o instanceof Error?o.name:void 0))!==null&&a!==void 0?a:"Unknown Error",this.code=n}}class Gl extends ct{constructor(e,n){super({code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:n,message:e}),this.name="WebAuthnUnknownError",this.originalError=n}}function AP({error:t,options:e}){var n,o,i;const{publicKey:a}=e;if(!a)throw Error("options was missing required publicKey property");if(t.name==="AbortError"){if(e.signal instanceof AbortSignal)return new ct({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:t})}else if(t.name==="ConstraintError"){if(((n=a.authenticatorSelection)===null||n===void 0?void 0:n.requireResidentKey)===!0)return new ct({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:t});if(e.mediation==="conditional"&&((o=a.authenticatorSelection)===null||o===void 0?void 0:o.userVerification)==="required")return new ct({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:t});if(((i=a.authenticatorSelection)===null||i===void 0?void 0:i.userVerification)==="required")return new ct({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:t})}else{if(t.name==="InvalidStateError")return new ct({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:t});if(t.name==="NotAllowedError")return new ct({message:t.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t});if(t.name==="NotSupportedError")return a.pubKeyCredParams.filter(d=>d.type==="public-key").length===0?new ct({message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:t}):new ct({message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:t});if(t.name==="SecurityError"){const u=window.location.hostname;if(q0(u)){if(a.rp.id!==u)return new ct({message:`The RP ID "${a.rp.id}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:t})}else return new ct({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:t})}else if(t.name==="TypeError"){if(a.user.id.byteLength<1||a.user.id.byteLength>64)return new ct({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:t})}else if(t.name==="UnknownError")return new ct({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:t})}return new ct({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t})}function OP({error:t,options:e}){const{publicKey:n}=e;if(!n)throw Error("options was missing required publicKey property");if(t.name==="AbortError"){if(e.signal instanceof AbortSignal)return new ct({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:t})}else{if(t.name==="NotAllowedError")return new ct({message:t.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t});if(t.name==="SecurityError"){const o=window.location.hostname;if(q0(o)){if(n.rpId!==o)return new ct({message:`The RP ID "${n.rpId}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:t})}else return new ct({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:t})}else if(t.name==="UnknownError")return new ct({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:t})}return new ct({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t})}class IP{createNewAbortSignal(){if(this.controller){const n=new Error("Cancelling existing WebAuthn API call for new one");n.name="AbortError",this.controller.abort(n)}const e=new AbortController;return this.controller=e,e.signal}cancelCeremony(){if(this.controller){const e=new Error("Manually cancelling existing WebAuthn API call");e.name="AbortError",this.controller.abort(e),this.controller=void 0}}}const DP=new IP;function LP(t){if(!t)throw new Error("Credential creation options are required");if(typeof PublicKeyCredential<"u"&&"parseCreationOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseCreationOptionsFromJSON=="function")return PublicKeyCredential.parseCreationOptionsFromJSON(t);const{challenge:e,user:n,excludeCredentials:o}=t,i=ss(t,["challenge","user","excludeCredentials"]),a=No(e).buffer,u=Object.assign(Object.assign({},n),{id:No(n.id).buffer}),d=Object.assign(Object.assign({},i),{challenge:a,user:u});if(o&&o.length>0){d.excludeCredentials=new Array(o.length);for(let h=0;h<o.length;h++){const p=o[h];d.excludeCredentials[h]=Object.assign(Object.assign({},p),{id:No(p.id).buffer,type:p.type||"public-key",transports:p.transports})}}return d}function $P(t){if(!t)throw new Error("Credential request options are required");if(typeof PublicKeyCredential<"u"&&"parseRequestOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseRequestOptionsFromJSON=="function")return PublicKeyCredential.parseRequestOptionsFromJSON(t);const{challenge:e,allowCredentials:n}=t,o=ss(t,["challenge","allowCredentials"]),i=No(e).buffer,a=Object.assign(Object.assign({},o),{challenge:i});if(n&&n.length>0){a.allowCredentials=new Array(n.length);for(let u=0;u<n.length;u++){const d=n[u];a.allowCredentials[u]=Object.assign(Object.assign({},d),{id:No(d.id).buffer,type:d.type||"public-key",transports:d.transports})}}return a}function MP(t){var e;if("toJSON"in t&&typeof t.toJSON=="function")return t.toJSON();const n=t;return{id:t.id,rawId:t.id,response:{attestationObject:Is(new Uint8Array(t.response.attestationObject)),clientDataJSON:Is(new Uint8Array(t.response.clientDataJSON))},type:"public-key",clientExtensionResults:t.getClientExtensionResults(),authenticatorAttachment:(e=n.authenticatorAttachment)!==null&&e!==void 0?e:void 0}}function FP(t){var e;if("toJSON"in t&&typeof t.toJSON=="function")return t.toJSON();const n=t,o=t.getClientExtensionResults(),i=t.response;return{id:t.id,rawId:t.id,response:{authenticatorData:Is(new Uint8Array(i.authenticatorData)),clientDataJSON:Is(new Uint8Array(i.clientDataJSON)),signature:Is(new Uint8Array(i.signature)),userHandle:i.userHandle?Is(new Uint8Array(i.userHandle)):void 0},type:"public-key",clientExtensionResults:o,authenticatorAttachment:(e=n.authenticatorAttachment)!==null&&e!==void 0?e:void 0}}function q0(t){return t==="localhost"||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(t)}function uv(){var t,e;return!!(Et()&&"PublicKeyCredential"in window&&window.PublicKeyCredential&&"credentials"in navigator&&typeof((t=navigator?.credentials)===null||t===void 0?void 0:t.create)=="function"&&typeof((e=navigator?.credentials)===null||e===void 0?void 0:e.get)=="function")}async function UP(t){try{const e=await navigator.credentials.create(t);return e?e instanceof PublicKeyCredential?{data:e,error:null}:{data:null,error:new Gl("Browser returned unexpected credential type",e)}:{data:null,error:new Gl("Empty credential response",e)}}catch(e){return{data:null,error:AP({error:e,options:t})}}}async function zP(t){try{const e=await navigator.credentials.get(t);return e?e instanceof PublicKeyCredential?{data:e,error:null}:{data:null,error:new Gl("Browser returned unexpected credential type",e)}:{data:null,error:new Gl("Empty credential response",e)}}catch(e){return{data:null,error:OP({error:e,options:t})}}}const BP={hints:["security-key"],authenticatorSelection:{authenticatorAttachment:"cross-platform",requireResidentKey:!1,userVerification:"preferred",residentKey:"discouraged"},attestation:"direct"},VP={userVerification:"preferred",hints:["security-key"],attestation:"direct"};function Yl(...t){const e=i=>i!==null&&typeof i=="object"&&!Array.isArray(i),n=i=>i instanceof ArrayBuffer||ArrayBuffer.isView(i),o={};for(const i of t)if(i)for(const a in i){const u=i[a];if(u!==void 0)if(Array.isArray(u))o[a]=u;else if(n(u))o[a]=u;else if(e(u)){const d=o[a];e(d)?o[a]=Yl(d,u):o[a]=Yl(u)}else o[a]=u}return o}function WP(t,e){return Yl(BP,t,e||{})}function HP(t,e){return Yl(VP,t,e||{})}class qP{constructor(e){this.client=e,this.enroll=this._enroll.bind(this),this.challenge=this._challenge.bind(this),this.verify=this._verify.bind(this),this.authenticate=this._authenticate.bind(this),this.register=this._register.bind(this)}async _enroll(e){return this.client.mfa.enroll(Object.assign(Object.assign({},e),{factorType:"webauthn"}))}async _challenge({factorId:e,webauthn:n,friendlyName:o,signal:i},a){try{const{data:u,error:d}=await this.client.mfa.challenge({factorId:e,webauthn:n});if(!u)return{data:null,error:d};const h=i??DP.createNewAbortSignal();if(u.webauthn.type==="create"){const{user:p}=u.webauthn.credential_options.publicKey;p.name||(p.name=`${p.id}:${o}`),p.displayName||(p.displayName=p.name)}switch(u.webauthn.type){case"create":{const p=WP(u.webauthn.credential_options.publicKey,a?.create),{data:g,error:m}=await UP({publicKey:p,signal:h});return g?{data:{factorId:e,challengeId:u.id,webauthn:{type:u.webauthn.type,credential_response:g}},error:null}:{data:null,error:m}}case"request":{const p=HP(u.webauthn.credential_options.publicKey,a?.request),{data:g,error:m}=await zP(Object.assign(Object.assign({},u.webauthn.credential_options),{publicKey:p,signal:h}));return g?{data:{factorId:e,challengeId:u.id,webauthn:{type:u.webauthn.type,credential_response:g}},error:null}:{data:null,error:m}}}}catch(u){return xe(u)?{data:null,error:u}:{data:null,error:new Os("Unexpected error in challenge",u)}}}async _verify({challengeId:e,factorId:n,webauthn:o}){return this.client.mfa.verify({factorId:n,challengeId:e,webauthn:o})}async _authenticate({factorId:e,webauthn:{rpId:n=typeof window<"u"?window.location.hostname:void 0,rpOrigins:o=typeof window<"u"?[window.location.origin]:void 0,signal:i}={}},a){if(!n)return{data:null,error:new Ji("rpId is required for WebAuthn authentication")};try{if(!uv())return{data:null,error:new Os("Browser does not support WebAuthn",null)};const{data:u,error:d}=await this.challenge({factorId:e,webauthn:{rpId:n,rpOrigins:o},signal:i},{request:a});if(!u)return{data:null,error:d};const{webauthn:h}=u;return this._verify({factorId:e,challengeId:u.challengeId,webauthn:{type:h.type,rpId:n,rpOrigins:o,credential_response:h.credential_response}})}catch(u){return xe(u)?{data:null,error:u}:{data:null,error:new Os("Unexpected error in authenticate",u)}}}async _register({friendlyName:e,webauthn:{rpId:n=typeof window<"u"?window.location.hostname:void 0,rpOrigins:o=typeof window<"u"?[window.location.origin]:void 0,signal:i}={}},a){if(!n)return{data:null,error:new Ji("rpId is required for WebAuthn registration")};try{if(!uv())return{data:null,error:new Os("Browser does not support WebAuthn",null)};const{data:u,error:d}=await this._enroll({friendlyName:e});if(!u)return await this.client.mfa.listFactors().then(g=>{var m;return(m=g.data)===null||m===void 0?void 0:m.all.find(x=>x.factor_type==="webauthn"&&x.friendly_name===e&&x.status!=="unverified")}).then(g=>g?this.client.mfa.unenroll({factorId:g?.id}):void 0),{data:null,error:d};const{data:h,error:p}=await this._challenge({factorId:u.id,friendlyName:u.friendly_name,webauthn:{rpId:n,rpOrigins:o},signal:i},{create:a});return h?this._verify({factorId:u.id,challengeId:h.challengeId,webauthn:{rpId:n,rpOrigins:o,type:h.webauthn.type,credential_response:h.webauthn.credential_response}}):{data:null,error:p}}catch(u){return xe(u)?{data:null,error:u}:{data:null,error:new Os("Unexpected error in register",u)}}}}NP();const KP={url:VT,storageKey:WT,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:HT,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1,throwOnError:!1};async function dv(t,e,n){return await n()}const bo={};class Qi{get jwks(){var e,n;return(n=(e=bo[this.storageKey])===null||e===void 0?void 0:e.jwks)!==null&&n!==void 0?n:{keys:[]}}set jwks(e){bo[this.storageKey]=Object.assign(Object.assign({},bo[this.storageKey]),{jwks:e})}get jwks_cached_at(){var e,n;return(n=(e=bo[this.storageKey])===null||e===void 0?void 0:e.cachedAt)!==null&&n!==void 0?n:Number.MIN_SAFE_INTEGER}set jwks_cached_at(e){bo[this.storageKey]=Object.assign(Object.assign({},bo[this.storageKey]),{cachedAt:e})}constructor(e){var n,o,i;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log;const a=Object.assign(Object.assign({},KP),e);if(this.storageKey=a.storageKey,this.instanceID=(n=Qi.nextInstanceID[this.storageKey])!==null&&n!==void 0?n:0,Qi.nextInstanceID[this.storageKey]=this.instanceID+1,this.logDebugMessages=!!a.debug,typeof a.debug=="function"&&(this.logger=a.debug),this.instanceID>0&&Et()){const u=`${this._logPrefix()} Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.`;console.warn(u),this.logDebugMessages&&console.trace(u)}if(this.persistSession=a.persistSession,this.autoRefreshToken=a.autoRefreshToken,this.admin=new EP({url:a.url,headers:a.headers,fetch:a.fetch}),this.url=a.url,this.headers=a.headers,this.fetch=V0(a.fetch),this.lock=a.lock||dv,this.detectSessionInUrl=a.detectSessionInUrl,this.flowType=a.flowType,this.hasCustomAuthorizationHeader=a.hasCustomAuthorizationHeader,this.throwOnError=a.throwOnError,a.lock?this.lock=a.lock:Et()&&(!((o=globalThis?.navigator)===null||o===void 0)&&o.locks)?this.lock=CP:this.lock=dv,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this),webauthn:new qP(this)},this.oauth={getAuthorizationDetails:this._getAuthorizationDetails.bind(this),approveAuthorization:this._approveAuthorization.bind(this),denyAuthorization:this._denyAuthorization.bind(this),listGrants:this._listOAuthGrants.bind(this),revokeGrant:this._revokeOAuthGrant.bind(this)},this.persistSession?(a.storage?this.storage=a.storage:B0()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=cv(this.memoryStorage)),a.userStorage&&(this.userStorage=a.userStorage)):(this.memoryStorage={},this.storage=cv(this.memoryStorage)),Et()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(u){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",u)}(i=this.broadcastChannel)===null||i===void 0||i.addEventListener("message",async u=>{this._debug("received broadcast notification from other tab or client",u),await this._notifyAllSubscribers(u.data.event,u.data.session,!1)})}this.initialize()}isThrowOnErrorEnabled(){return this.throwOnError}_returnResult(e){if(this.throwOnError&&e&&e.error)throw e.error;return e}_logPrefix(){return`GoTrueClient@${this.storageKey}:${this.instanceID} (${F0}) ${new Date().toISOString()}`}_debug(...e){return this.logDebugMessages&&this.logger(this._logPrefix(),...e),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var e;try{let n={},o="none";if(Et()&&(n=oP(window.location.href),this._isImplicitGrantCallback(n)?o="implicit":await this._isPKCECallback(n)&&(o="pkce")),Et()&&this.detectSessionInUrl&&o!=="none"){const{data:i,error:a}=await this._getSessionFromURL(n,o);if(a){if(this._debug("#_initialize()","error detecting session from URL",a),QT(a)){const h=(e=a.details)===null||e===void 0?void 0:e.code;if(h==="identity_already_exists"||h==="identity_not_found"||h==="single_identity_not_deletable")return{error:a}}return await this._removeSession(),{error:a}}const{session:u,redirectType:d}=i;return this._debug("#_initialize()","detected session in URL",u,"redirect type",d),await this._saveSession(u),setTimeout(async()=>{d==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",u):await this._notifyAllSubscribers("SIGNED_IN",u)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(n){return xe(n)?this._returnResult({error:n}):this._returnResult({error:new Os("Unexpected error during initialization",n)})}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(e){var n,o,i;try{const a=await ke(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(o=(n=e?.options)===null||n===void 0?void 0:n.data)!==null&&o!==void 0?o:{},gotrue_meta_security:{captcha_token:(i=e?.options)===null||i===void 0?void 0:i.captchaToken}},xform:Tr}),{data:u,error:d}=a;if(d||!u)return this._returnResult({data:{user:null,session:null},error:d});const h=u.session,p=u.user;return u.session&&(await this._saveSession(u.session),await this._notifyAllSubscribers("SIGNED_IN",h)),this._returnResult({data:{user:p,session:h},error:null})}catch(a){if(xe(a))return this._returnResult({data:{user:null,session:null},error:a});throw a}}async signUp(e){var n,o,i;try{let a;if("email"in e){const{email:g,password:m,options:x}=e;let b=null,j=null;this.flowType==="pkce"&&([b,j]=await yo(this.storage,this.storageKey)),a=await ke(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:x?.emailRedirectTo,body:{email:g,password:m,data:(n=x?.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:x?.captchaToken},code_challenge:b,code_challenge_method:j},xform:Tr})}else if("phone"in e){const{phone:g,password:m,options:x}=e;a=await ke(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:g,password:m,data:(o=x?.data)!==null&&o!==void 0?o:{},channel:(i=x?.channel)!==null&&i!==void 0?i:"sms",gotrue_meta_security:{captcha_token:x?.captchaToken}},xform:Tr})}else throw new Tl("You must provide either an email or phone number and a password");const{data:u,error:d}=a;if(d||!u)return this._returnResult({data:{user:null,session:null},error:d});const h=u.session,p=u.user;return u.session&&(await this._saveSession(u.session),await this._notifyAllSubscribers("SIGNED_IN",h)),this._returnResult({data:{user:p,session:h},error:null})}catch(a){if(xe(a))return this._returnResult({data:{user:null,session:null},error:a});throw a}}async signInWithPassword(e){try{let n;if("email"in e){const{email:a,password:u,options:d}=e;n=await ke(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:a,password:u,gotrue_meta_security:{captcha_token:d?.captchaToken}},xform:av})}else if("phone"in e){const{phone:a,password:u,options:d}=e;n=await ke(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:a,password:u,gotrue_meta_security:{captcha_token:d?.captchaToken}},xform:av})}else throw new Tl("You must provide either an email or phone number and a password");const{data:o,error:i}=n;if(i)return this._returnResult({data:{user:null,session:null},error:i});if(!o||!o.session||!o.user){const a=new vo;return this._returnResult({data:{user:null,session:null},error:a})}return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",o.session)),this._returnResult({data:Object.assign({user:o.user,session:o.session},o.weak_password?{weakPassword:o.weak_password}:null),error:i})}catch(n){if(xe(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}}async signInWithOAuth(e){var n,o,i,a;return await this._handleProviderSignIn(e.provider,{redirectTo:(n=e.options)===null||n===void 0?void 0:n.redirectTo,scopes:(o=e.options)===null||o===void 0?void 0:o.scopes,queryParams:(i=e.options)===null||i===void 0?void 0:i.queryParams,skipBrowserRedirect:(a=e.options)===null||a===void 0?void 0:a.skipBrowserRedirect})}async exchangeCodeForSession(e){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(e))}async signInWithWeb3(e){const{chain:n}=e;switch(n){case"ethereum":return await this.signInWithEthereum(e);case"solana":return await this.signInWithSolana(e);default:throw new Error(`@supabase/auth-js: Unsupported chain "${n}"`)}}async signInWithEthereum(e){var n,o,i,a,u,d,h,p,g,m,x;let b,j;if("message"in e)b=e.message,j=e.signature;else{const{chain:_,wallet:S,statement:k,options:C}=e;let N;if(Et())if(typeof S=="object")N=S;else{const q=window;if("ethereum"in q&&typeof q.ethereum=="object"&&"request"in q.ethereum&&typeof q.ethereum.request=="function")N=q.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof S!="object"||!C?.url)throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");N=S}const P=new URL((n=C?.url)!==null&&n!==void 0?n:window.location.href),F=await N.request({method:"eth_requestAccounts"}).then(q=>q).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!F||F.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");const V=H0(F[0]);let D=(o=C?.signInWithEthereum)===null||o===void 0?void 0:o.chainId;if(!D){const q=await N.request({method:"eth_chainId"});D=RP(q)}const z={domain:P.host,address:V,statement:k,uri:P.href,version:"1",chainId:D,nonce:(i=C?.signInWithEthereum)===null||i===void 0?void 0:i.nonce,issuedAt:(u=(a=C?.signInWithEthereum)===null||a===void 0?void 0:a.issuedAt)!==null&&u!==void 0?u:new Date,expirationTime:(d=C?.signInWithEthereum)===null||d===void 0?void 0:d.expirationTime,notBefore:(h=C?.signInWithEthereum)===null||h===void 0?void 0:h.notBefore,requestId:(p=C?.signInWithEthereum)===null||p===void 0?void 0:p.requestId,resources:(g=C?.signInWithEthereum)===null||g===void 0?void 0:g.resources};b=PP(z),j=await N.request({method:"personal_sign",params:[TP(b),V]})}try{const{data:_,error:S}=await ke(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:b,signature:j},!((m=e.options)===null||m===void 0)&&m.captchaToken?{gotrue_meta_security:{captcha_token:(x=e.options)===null||x===void 0?void 0:x.captchaToken}}:null),xform:Tr});if(S)throw S;if(!_||!_.session||!_.user){const k=new vo;return this._returnResult({data:{user:null,session:null},error:k})}return _.session&&(await this._saveSession(_.session),await this._notifyAllSubscribers("SIGNED_IN",_.session)),this._returnResult({data:Object.assign({},_),error:S})}catch(_){if(xe(_))return this._returnResult({data:{user:null,session:null},error:_});throw _}}async signInWithSolana(e){var n,o,i,a,u,d,h,p,g,m,x,b;let j,_;if("message"in e)j=e.message,_=e.signature;else{const{chain:S,wallet:k,statement:C,options:N}=e;let P;if(Et())if(typeof k=="object")P=k;else{const V=window;if("solana"in V&&typeof V.solana=="object"&&("signIn"in V.solana&&typeof V.solana.signIn=="function"||"signMessage"in V.solana&&typeof V.solana.signMessage=="function"))P=V.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof k!="object"||!N?.url)throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");P=k}const F=new URL((n=N?.url)!==null&&n!==void 0?n:window.location.href);if("signIn"in P&&P.signIn){const V=await P.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},N?.signInWithSolana),{version:"1",domain:F.host,uri:F.href}),C?{statement:C}:null));let D;if(Array.isArray(V)&&V[0]&&typeof V[0]=="object")D=V[0];else if(V&&typeof V=="object"&&"signedMessage"in V&&"signature"in V)D=V;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in D&&"signature"in D&&(typeof D.signedMessage=="string"||D.signedMessage instanceof Uint8Array)&&D.signature instanceof Uint8Array)j=typeof D.signedMessage=="string"?D.signedMessage:new TextDecoder().decode(D.signedMessage),_=D.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in P)||typeof P.signMessage!="function"||!("publicKey"in P)||typeof P!="object"||!P.publicKey||!("toBase58"in P.publicKey)||typeof P.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");j=[`${F.host} wants you to sign in with your Solana account:`,P.publicKey.toBase58(),...C?["",C,""]:[""],"Version: 1",`URI: ${F.href}`,`Issued At: ${(i=(o=N?.signInWithSolana)===null||o===void 0?void 0:o.issuedAt)!==null&&i!==void 0?i:new Date().toISOString()}`,...!((a=N?.signInWithSolana)===null||a===void 0)&&a.notBefore?[`Not Before: ${N.signInWithSolana.notBefore}`]:[],...!((u=N?.signInWithSolana)===null||u===void 0)&&u.expirationTime?[`Expiration Time: ${N.signInWithSolana.expirationTime}`]:[],...!((d=N?.signInWithSolana)===null||d===void 0)&&d.chainId?[`Chain ID: ${N.signInWithSolana.chainId}`]:[],...!((h=N?.signInWithSolana)===null||h===void 0)&&h.nonce?[`Nonce: ${N.signInWithSolana.nonce}`]:[],...!((p=N?.signInWithSolana)===null||p===void 0)&&p.requestId?[`Request ID: ${N.signInWithSolana.requestId}`]:[],...!((m=(g=N?.signInWithSolana)===null||g===void 0?void 0:g.resources)===null||m===void 0)&&m.length?["Resources",...N.signInWithSolana.resources.map(D=>`- ${D}`)]:[]].join(`
`);const V=await P.signMessage(new TextEncoder().encode(j),"utf8");if(!V||!(V instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");_=V}}try{const{data:S,error:k}=await ke(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:j,signature:Is(_)},!((x=e.options)===null||x===void 0)&&x.captchaToken?{gotrue_meta_security:{captcha_token:(b=e.options)===null||b===void 0?void 0:b.captchaToken}}:null),xform:Tr});if(k)throw k;if(!S||!S.session||!S.user){const C=new vo;return this._returnResult({data:{user:null,session:null},error:C})}return S.session&&(await this._saveSession(S.session),await this._notifyAllSubscribers("SIGNED_IN",S.session)),this._returnResult({data:Object.assign({},S),error:k})}catch(S){if(xe(S))return this._returnResult({data:{user:null,session:null},error:S});throw S}}async _exchangeCodeForSession(e){const n=await Cs(this.storage,`${this.storageKey}-code-verifier`),[o,i]=(n??"").split("/");try{const{data:a,error:u}=await ke(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:e,code_verifier:o},xform:Tr});if(await Gn(this.storage,`${this.storageKey}-code-verifier`),u)throw u;if(!a||!a.session||!a.user){const d=new vo;return this._returnResult({data:{user:null,session:null,redirectType:null},error:d})}return a.session&&(await this._saveSession(a.session),await this._notifyAllSubscribers("SIGNED_IN",a.session)),this._returnResult({data:Object.assign(Object.assign({},a),{redirectType:i??null}),error:u})}catch(a){if(xe(a))return this._returnResult({data:{user:null,session:null,redirectType:null},error:a});throw a}}async signInWithIdToken(e){try{const{options:n,provider:o,token:i,access_token:a,nonce:u}=e,d=await ke(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:o,id_token:i,access_token:a,nonce:u,gotrue_meta_security:{captcha_token:n?.captchaToken}},xform:Tr}),{data:h,error:p}=d;if(p)return this._returnResult({data:{user:null,session:null},error:p});if(!h||!h.session||!h.user){const g=new vo;return this._returnResult({data:{user:null,session:null},error:g})}return h.session&&(await this._saveSession(h.session),await this._notifyAllSubscribers("SIGNED_IN",h.session)),this._returnResult({data:h,error:p})}catch(n){if(xe(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}}async signInWithOtp(e){var n,o,i,a,u;try{if("email"in e){const{email:d,options:h}=e;let p=null,g=null;this.flowType==="pkce"&&([p,g]=await yo(this.storage,this.storageKey));const{error:m}=await ke(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:d,data:(n=h?.data)!==null&&n!==void 0?n:{},create_user:(o=h?.shouldCreateUser)!==null&&o!==void 0?o:!0,gotrue_meta_security:{captcha_token:h?.captchaToken},code_challenge:p,code_challenge_method:g},redirectTo:h?.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:m})}if("phone"in e){const{phone:d,options:h}=e,{data:p,error:g}=await ke(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:d,data:(i=h?.data)!==null&&i!==void 0?i:{},create_user:(a=h?.shouldCreateUser)!==null&&a!==void 0?a:!0,gotrue_meta_security:{captcha_token:h?.captchaToken},channel:(u=h?.channel)!==null&&u!==void 0?u:"sms"}});return this._returnResult({data:{user:null,session:null,messageId:p?.message_id},error:g})}throw new Tl("You must provide either an email or phone number.")}catch(d){if(xe(d))return this._returnResult({data:{user:null,session:null},error:d});throw d}}async verifyOtp(e){var n,o;try{let i,a;"options"in e&&(i=(n=e.options)===null||n===void 0?void 0:n.redirectTo,a=(o=e.options)===null||o===void 0?void 0:o.captchaToken);const{data:u,error:d}=await ke(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},e),{gotrue_meta_security:{captcha_token:a}}),redirectTo:i,xform:Tr});if(d)throw d;if(!u)throw new Error("An error occurred on token verification.");const h=u.session,p=u.user;return h?.access_token&&(await this._saveSession(h),await this._notifyAllSubscribers(e.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",h)),this._returnResult({data:{user:p,session:h},error:null})}catch(i){if(xe(i))return this._returnResult({data:{user:null,session:null},error:i});throw i}}async signInWithSSO(e){var n,o,i,a,u;try{let d=null,h=null;this.flowType==="pkce"&&([d,h]=await yo(this.storage,this.storageKey));const p=await ke(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in e?{provider_id:e.providerId}:null),"domain"in e?{domain:e.domain}:null),{redirect_to:(o=(n=e.options)===null||n===void 0?void 0:n.redirectTo)!==null&&o!==void 0?o:void 0}),!((i=e?.options)===null||i===void 0)&&i.captchaToken?{gotrue_meta_security:{captcha_token:e.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:d,code_challenge_method:h}),headers:this.headers,xform:_P});return!((a=p.data)===null||a===void 0)&&a.url&&Et()&&!(!((u=e.options)===null||u===void 0)&&u.skipBrowserRedirect)&&window.location.assign(p.data.url),this._returnResult(p)}catch(d){if(xe(d))return this._returnResult({data:null,error:d});throw d}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async e=>{const{data:{session:n},error:o}=e;if(o)throw o;if(!n)throw new nr;const{error:i}=await ke(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:n.access_token});return this._returnResult({data:{user:null,session:null},error:i})})}catch(e){if(xe(e))return this._returnResult({data:{user:null,session:null},error:e});throw e}}async resend(e){try{const n=`${this.url}/resend`;if("email"in e){const{email:o,type:i,options:a}=e,{error:u}=await ke(this.fetch,"POST",n,{headers:this.headers,body:{email:o,type:i,gotrue_meta_security:{captcha_token:a?.captchaToken}},redirectTo:a?.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:u})}else if("phone"in e){const{phone:o,type:i,options:a}=e,{data:u,error:d}=await ke(this.fetch,"POST",n,{headers:this.headers,body:{phone:o,type:i,gotrue_meta_security:{captcha_token:a?.captchaToken}}});return this._returnResult({data:{user:null,session:null,messageId:u?.message_id},error:d})}throw new Tl("You must provide either an email or phone number and a type")}catch(n){if(xe(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async n=>n))}async _acquireLock(e,n){this._debug("#_acquireLock","begin",e);try{if(this.lockAcquired){const o=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),i=(async()=>(await o,await n()))();return this.pendingInLock.push((async()=>{try{await i}catch{}})()),i}return await this.lock(`lock:${this.storageKey}`,e,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const o=n();for(this.pendingInLock.push((async()=>{try{await o}catch{}})()),await o;this.pendingInLock.length;){const i=[...this.pendingInLock];await Promise.all(i),this.pendingInLock.splice(0,i.length)}return await o}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(e){this._debug("#_useSession","begin");try{const n=await this.__loadSession();return await e(n)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let e=null;const n=await Cs(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",n),n!==null&&(this._isValidSession(n)?e=n:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!e)return{data:{session:null},error:null};const o=e.expires_at?e.expires_at*1e3-Date.now()<Rd:!1;if(this._debug("#__loadSession()",`session has${o?"":" not"} expired`,"expires_at",e.expires_at),!o){if(this.userStorage){const u=await Cs(this.userStorage,this.storageKey+"-user");u?.user?e.user=u.user:e.user=Ad()}if(this.storage.isServer&&e.user&&!e.user.__isUserNotAvailableProxy){const u={value:this.suppressGetSessionWarning};e.user=yP(e.user,u),u.value&&(this.suppressGetSessionWarning=!0)}return{data:{session:e},error:null}}const{data:i,error:a}=await this._callRefreshToken(e.refresh_token);return a?this._returnResult({data:{session:null},error:a}):this._returnResult({data:{session:i},error:null})}finally{this._debug("#__loadSession()","end")}}async getUser(e){return e?await this._getUser(e):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(e){try{return e?await ke(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:e,xform:Jn}):await this._useSession(async n=>{var o,i,a;const{data:u,error:d}=n;if(d)throw d;return!(!((o=u.session)===null||o===void 0)&&o.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new nr}:await ke(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(a=(i=u.session)===null||i===void 0?void 0:i.access_token)!==null&&a!==void 0?a:void 0,xform:Jn})})}catch(n){if(xe(n))return JT(n)&&(await this._removeSession(),await Gn(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({data:{user:null},error:n});throw n}}async updateUser(e,n={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(e,n))}async _updateUser(e,n={}){try{return await this._useSession(async o=>{const{data:i,error:a}=o;if(a)throw a;if(!i.session)throw new nr;const u=i.session;let d=null,h=null;this.flowType==="pkce"&&e.email!=null&&([d,h]=await yo(this.storage,this.storageKey));const{data:p,error:g}=await ke(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:n?.emailRedirectTo,body:Object.assign(Object.assign({},e),{code_challenge:d,code_challenge_method:h}),jwt:u.access_token,xform:Jn});if(g)throw g;return u.user=p.user,await this._saveSession(u),await this._notifyAllSubscribers("USER_UPDATED",u),this._returnResult({data:{user:u.user},error:null})})}catch(o){if(xe(o))return this._returnResult({data:{user:null},error:o});throw o}}async setSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(e))}async _setSession(e){try{if(!e.access_token||!e.refresh_token)throw new nr;const n=Date.now()/1e3;let o=n,i=!0,a=null;const{payload:u}=Pd(e.access_token);if(u.exp&&(o=u.exp,i=o<=n),i){const{data:d,error:h}=await this._callRefreshToken(e.refresh_token);if(h)return this._returnResult({data:{user:null,session:null},error:h});if(!d)return{data:{user:null,session:null},error:null};a=d}else{const{data:d,error:h}=await this._getUser(e.access_token);if(h)throw h;a={access_token:e.access_token,refresh_token:e.refresh_token,user:d.user,token_type:"bearer",expires_in:o-n,expires_at:o},await this._saveSession(a),await this._notifyAllSubscribers("SIGNED_IN",a)}return this._returnResult({data:{user:a.user,session:a},error:null})}catch(n){if(xe(n))return this._returnResult({data:{session:null,user:null},error:n});throw n}}async refreshSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(e))}async _refreshSession(e){try{return await this._useSession(async n=>{var o;if(!e){const{data:u,error:d}=n;if(d)throw d;e=(o=u.session)!==null&&o!==void 0?o:void 0}if(!e?.refresh_token)throw new nr;const{data:i,error:a}=await this._callRefreshToken(e.refresh_token);return a?this._returnResult({data:{user:null,session:null},error:a}):i?this._returnResult({data:{user:i.user,session:i},error:null}):this._returnResult({data:{user:null,session:null},error:null})})}catch(n){if(xe(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}}async _getSessionFromURL(e,n){try{if(!Et())throw new Pl("No browser detected.");if(e.error||e.error_description||e.error_code)throw new Pl(e.error_description||"Error in URL with unspecified error_description",{error:e.error||"unspecified_error",code:e.error_code||"unspecified_code"});switch(n){case"implicit":if(this.flowType==="pkce")throw new ev("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new Pl("Not a valid implicit grant flow url.");break;default:}if(n==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!e.code)throw new ev("No code detected.");const{data:C,error:N}=await this._exchangeCodeForSession(e.code);if(N)throw N;const P=new URL(window.location.href);return P.searchParams.delete("code"),window.history.replaceState(window.history.state,"",P.toString()),{data:{session:C.session,redirectType:null},error:null}}const{provider_token:o,provider_refresh_token:i,access_token:a,refresh_token:u,expires_in:d,expires_at:h,token_type:p}=e;if(!a||!d||!u||!p)throw new Pl("No session defined in URL");const g=Math.round(Date.now()/1e3),m=parseInt(d);let x=g+m;h&&(x=parseInt(h));const b=x-g;b*1e3<=_o&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${b}s, should have been closer to ${m}s`);const j=x-m;g-j>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",j,x,g):g-j<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",j,x,g);const{data:_,error:S}=await this._getUser(a);if(S)throw S;const k={provider_token:o,provider_refresh_token:i,access_token:a,expires_in:m,expires_at:x,refresh_token:u,token_type:p,user:_.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),this._returnResult({data:{session:k,redirectType:e.type},error:null})}catch(o){if(xe(o))return this._returnResult({data:{session:null,redirectType:null},error:o});throw o}}_isImplicitGrantCallback(e){return!!(e.access_token||e.error_description)}async _isPKCECallback(e){const n=await Cs(this.storage,`${this.storageKey}-code-verifier`);return!!(e.code&&n)}async signOut(e={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(e))}async _signOut({scope:e}={scope:"global"}){return await this._useSession(async n=>{var o;const{data:i,error:a}=n;if(a)return this._returnResult({error:a});const u=(o=i.session)===null||o===void 0?void 0:o.access_token;if(u){const{error:d}=await this.admin.signOut(u,e);if(d&&!(YT(d)&&(d.status===404||d.status===401||d.status===403)))return this._returnResult({error:d})}return e!=="others"&&(await this._removeSession(),await Gn(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({error:null})})}onAuthStateChange(e){const n=sP(),o={id:n,callback:e,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",n),this.stateChangeEmitters.delete(n)}};return this._debug("#onAuthStateChange()","registered callback with id",n),this.stateChangeEmitters.set(n,o),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(n)})))(),{data:{subscription:o}}}async _emitInitialSession(e){return await this._useSession(async n=>{var o,i;try{const{data:{session:a},error:u}=n;if(u)throw u;await((o=this.stateChangeEmitters.get(e))===null||o===void 0?void 0:o.callback("INITIAL_SESSION",a)),this._debug("INITIAL_SESSION","callback id",e,"session",a)}catch(a){await((i=this.stateChangeEmitters.get(e))===null||i===void 0?void 0:i.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",e,"error",a),console.error(a)}})}async resetPasswordForEmail(e,n={}){let o=null,i=null;this.flowType==="pkce"&&([o,i]=await yo(this.storage,this.storageKey,!0));try{return await ke(this.fetch,"POST",`${this.url}/recover`,{body:{email:e,code_challenge:o,code_challenge_method:i,gotrue_meta_security:{captcha_token:n.captchaToken}},headers:this.headers,redirectTo:n.redirectTo})}catch(a){if(xe(a))return this._returnResult({data:null,error:a});throw a}}async getUserIdentities(){var e;try{const{data:n,error:o}=await this.getUser();if(o)throw o;return this._returnResult({data:{identities:(e=n.user.identities)!==null&&e!==void 0?e:[]},error:null})}catch(n){if(xe(n))return this._returnResult({data:null,error:n});throw n}}async linkIdentity(e){return"token"in e?this.linkIdentityIdToken(e):this.linkIdentityOAuth(e)}async linkIdentityOAuth(e){var n;try{const{data:o,error:i}=await this._useSession(async a=>{var u,d,h,p,g;const{data:m,error:x}=a;if(x)throw x;const b=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,e.provider,{redirectTo:(u=e.options)===null||u===void 0?void 0:u.redirectTo,scopes:(d=e.options)===null||d===void 0?void 0:d.scopes,queryParams:(h=e.options)===null||h===void 0?void 0:h.queryParams,skipBrowserRedirect:!0});return await ke(this.fetch,"GET",b,{headers:this.headers,jwt:(g=(p=m.session)===null||p===void 0?void 0:p.access_token)!==null&&g!==void 0?g:void 0})});if(i)throw i;return Et()&&!(!((n=e.options)===null||n===void 0)&&n.skipBrowserRedirect)&&window.location.assign(o?.url),this._returnResult({data:{provider:e.provider,url:o?.url},error:null})}catch(o){if(xe(o))return this._returnResult({data:{provider:e.provider,url:null},error:o});throw o}}async linkIdentityIdToken(e){return await this._useSession(async n=>{var o;try{const{error:i,data:{session:a}}=n;if(i)throw i;const{options:u,provider:d,token:h,access_token:p,nonce:g}=e,m=await ke(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,jwt:(o=a?.access_token)!==null&&o!==void 0?o:void 0,body:{provider:d,id_token:h,access_token:p,nonce:g,link_identity:!0,gotrue_meta_security:{captcha_token:u?.captchaToken}},xform:Tr}),{data:x,error:b}=m;return b?this._returnResult({data:{user:null,session:null},error:b}):!x||!x.session||!x.user?this._returnResult({data:{user:null,session:null},error:new vo}):(x.session&&(await this._saveSession(x.session),await this._notifyAllSubscribers("USER_UPDATED",x.session)),this._returnResult({data:x,error:b}))}catch(i){if(xe(i))return this._returnResult({data:{user:null,session:null},error:i});throw i}})}async unlinkIdentity(e){try{return await this._useSession(async n=>{var o,i;const{data:a,error:u}=n;if(u)throw u;return await ke(this.fetch,"DELETE",`${this.url}/user/identities/${e.identity_id}`,{headers:this.headers,jwt:(i=(o=a.session)===null||o===void 0?void 0:o.access_token)!==null&&i!==void 0?i:void 0})})}catch(n){if(xe(n))return this._returnResult({data:null,error:n});throw n}}async _refreshAccessToken(e){const n=`#_refreshAccessToken(${e.substring(0,5)}...)`;this._debug(n,"begin");try{const o=Date.now();return await lP(async i=>(i>0&&await aP(200*Math.pow(2,i-1)),this._debug(n,"refreshing attempt",i),await ke(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:e},headers:this.headers,xform:Tr})),(i,a)=>{const u=200*Math.pow(2,i);return a&&Td(a)&&Date.now()+u-o<_o})}catch(o){if(this._debug(n,"error",o),xe(o))return this._returnResult({data:{session:null,user:null},error:o});throw o}finally{this._debug(n,"end")}}_isValidSession(e){return typeof e=="object"&&e!==null&&"access_token"in e&&"refresh_token"in e&&"expires_at"in e}async _handleProviderSignIn(e,n){const o=await this._getUrlForProvider(`${this.url}/authorize`,e,{redirectTo:n.redirectTo,scopes:n.scopes,queryParams:n.queryParams});return this._debug("#_handleProviderSignIn()","provider",e,"options",n,"url",o),Et()&&!n.skipBrowserRedirect&&window.location.assign(o),{data:{provider:e,url:o},error:null}}async _recoverAndRefresh(){var e,n;const o="#_recoverAndRefresh()";this._debug(o,"begin");try{const i=await Cs(this.storage,this.storageKey);if(i&&this.userStorage){let u=await Cs(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!u&&(u={user:i.user},await So(this.userStorage,this.storageKey+"-user",u)),i.user=(e=u?.user)!==null&&e!==void 0?e:Ad()}else if(i&&!i.user&&!i.user){const u=await Cs(this.storage,this.storageKey+"-user");u&&u?.user?(i.user=u.user,await Gn(this.storage,this.storageKey+"-user"),await So(this.storage,this.storageKey,i)):i.user=Ad()}if(this._debug(o,"session from storage",i),!this._isValidSession(i)){this._debug(o,"session is not valid"),i!==null&&await this._removeSession();return}const a=((n=i.expires_at)!==null&&n!==void 0?n:1/0)*1e3-Date.now()<Rd;if(this._debug(o,`session has${a?"":" not"} expired with margin of ${Rd}s`),a){if(this.autoRefreshToken&&i.refresh_token){const{error:u}=await this._callRefreshToken(i.refresh_token);u&&(console.error(u),Td(u)||(this._debug(o,"refresh failed with a non-retryable error, removing the session",u),await this._removeSession()))}}else if(i.user&&i.user.__isUserNotAvailableProxy===!0)try{const{data:u,error:d}=await this._getUser(i.access_token);!d&&u?.user?(i.user=u.user,await this._saveSession(i),await this._notifyAllSubscribers("SIGNED_IN",i)):this._debug(o,"could not get user data, skipping SIGNED_IN notification")}catch(u){console.error("Error getting user data:",u),this._debug(o,"error getting user data, skipping SIGNED_IN notification",u)}else await this._notifyAllSubscribers("SIGNED_IN",i)}catch(i){this._debug(o,"error",i),console.error(i);return}finally{this._debug(o,"end")}}async _callRefreshToken(e){var n,o;if(!e)throw new nr;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const i=`#_callRefreshToken(${e.substring(0,5)}...)`;this._debug(i,"begin");try{this.refreshingDeferred=new mc;const{data:a,error:u}=await this._refreshAccessToken(e);if(u)throw u;if(!a.session)throw new nr;await this._saveSession(a.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",a.session);const d={data:a.session,error:null};return this.refreshingDeferred.resolve(d),d}catch(a){if(this._debug(i,"error",a),xe(a)){const u={data:null,error:a};return Td(a)||await this._removeSession(),(n=this.refreshingDeferred)===null||n===void 0||n.resolve(u),u}throw(o=this.refreshingDeferred)===null||o===void 0||o.reject(a),a}finally{this.refreshingDeferred=null,this._debug(i,"end")}}async _notifyAllSubscribers(e,n,o=!0){const i=`#_notifyAllSubscribers(${e})`;this._debug(i,"begin",n,`broadcast = ${o}`);try{this.broadcastChannel&&o&&this.broadcastChannel.postMessage({event:e,session:n});const a=[],u=Array.from(this.stateChangeEmitters.values()).map(async d=>{try{await d.callback(e,n)}catch(h){a.push(h)}});if(await Promise.all(u),a.length>0){for(let d=0;d<a.length;d+=1)console.error(a[d]);throw a[0]}}finally{this._debug(i,"end")}}async _saveSession(e){this._debug("#_saveSession()",e),this.suppressGetSessionWarning=!0;const n=Object.assign({},e),o=n.user&&n.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!o&&n.user&&await So(this.userStorage,this.storageKey+"-user",{user:n.user});const i=Object.assign({},n);delete i.user;const a=ov(i);await So(this.storage,this.storageKey,a)}else{const i=ov(n);await So(this.storage,this.storageKey,i)}}async _removeSession(){this._debug("#_removeSession()"),await Gn(this.storage,this.storageKey),await Gn(this.storage,this.storageKey+"-code-verifier"),await Gn(this.storage,this.storageKey+"-user"),this.userStorage&&await Gn(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const e=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{e&&Et()&&window?.removeEventListener&&window.removeEventListener("visibilitychange",e)}catch(n){console.error("removing visibilitychange callback failed",n)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const e=setInterval(()=>this._autoRefreshTokenTick(),_o);this.autoRefreshTicker=e,e&&typeof e=="object"&&typeof e.unref=="function"?e.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(e),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const e=this.autoRefreshTicker;this.autoRefreshTicker=null,e&&clearInterval(e)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const e=Date.now();try{return await this._useSession(async n=>{const{data:{session:o}}=n;if(!o||!o.refresh_token||!o.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const i=Math.floor((o.expires_at*1e3-e)/_o);this._debug("#_autoRefreshTokenTick()",`access token expires in ${i} ticks, a tick lasts ${_o}ms, refresh threshold is ${cf} ticks`),i<=cf&&await this._callRefreshToken(o.refresh_token)})}catch(n){console.error("Auto refresh tick failed with error. This is likely a transient error.",n)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(e){if(e.isAcquireTimeout||e instanceof W0)this._debug("auto refresh token tick lock not available");else throw e}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!Et()||!window?.addEventListener)return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window?.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(e){console.error("_handleVisibilityChange",e)}}async _onVisibilityChanged(e){const n=`#_onVisibilityChanged(${e})`;this._debug(n,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),e||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(n,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(e,n,o){const i=[`provider=${encodeURIComponent(n)}`];if(o?.redirectTo&&i.push(`redirect_to=${encodeURIComponent(o.redirectTo)}`),o?.scopes&&i.push(`scopes=${encodeURIComponent(o.scopes)}`),this.flowType==="pkce"){const[a,u]=await yo(this.storage,this.storageKey),d=new URLSearchParams({code_challenge:`${encodeURIComponent(a)}`,code_challenge_method:`${encodeURIComponent(u)}`});i.push(d.toString())}if(o?.queryParams){const a=new URLSearchParams(o.queryParams);i.push(a.toString())}return o?.skipBrowserRedirect&&i.push(`skip_http_redirect=${o.skipBrowserRedirect}`),`${e}?${i.join("&")}`}async _unenroll(e){try{return await this._useSession(async n=>{var o;const{data:i,error:a}=n;return a?this._returnResult({data:null,error:a}):await ke(this.fetch,"DELETE",`${this.url}/factors/${e.factorId}`,{headers:this.headers,jwt:(o=i?.session)===null||o===void 0?void 0:o.access_token})})}catch(n){if(xe(n))return this._returnResult({data:null,error:n});throw n}}async _enroll(e){try{return await this._useSession(async n=>{var o,i;const{data:a,error:u}=n;if(u)return this._returnResult({data:null,error:u});const d=Object.assign({friendly_name:e.friendlyName,factor_type:e.factorType},e.factorType==="phone"?{phone:e.phone}:e.factorType==="totp"?{issuer:e.issuer}:{}),{data:h,error:p}=await ke(this.fetch,"POST",`${this.url}/factors`,{body:d,headers:this.headers,jwt:(o=a?.session)===null||o===void 0?void 0:o.access_token});return p?this._returnResult({data:null,error:p}):(e.factorType==="totp"&&h.type==="totp"&&(!((i=h?.totp)===null||i===void 0)&&i.qr_code)&&(h.totp.qr_code=`data:image/svg+xml;utf-8,${h.totp.qr_code}`),this._returnResult({data:h,error:null}))})}catch(n){if(xe(n))return this._returnResult({data:null,error:n});throw n}}async _verify(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var o;const{data:i,error:a}=n;if(a)return this._returnResult({data:null,error:a});const u=Object.assign({challenge_id:e.challengeId},"webauthn"in e?{webauthn:Object.assign(Object.assign({},e.webauthn),{credential_response:e.webauthn.type==="create"?MP(e.webauthn.credential_response):FP(e.webauthn.credential_response)})}:{code:e.code}),{data:d,error:h}=await ke(this.fetch,"POST",`${this.url}/factors/${e.factorId}/verify`,{body:u,headers:this.headers,jwt:(o=i?.session)===null||o===void 0?void 0:o.access_token});return h?this._returnResult({data:null,error:h}):(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+d.expires_in},d)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",d),this._returnResult({data:d,error:h}))})}catch(n){if(xe(n))return this._returnResult({data:null,error:n});throw n}})}async _challenge(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var o;const{data:i,error:a}=n;if(a)return this._returnResult({data:null,error:a});const u=await ke(this.fetch,"POST",`${this.url}/factors/${e.factorId}/challenge`,{body:e,headers:this.headers,jwt:(o=i?.session)===null||o===void 0?void 0:o.access_token});if(u.error)return u;const{data:d}=u;if(d.type!=="webauthn")return{data:d,error:null};switch(d.webauthn.type){case"create":return{data:Object.assign(Object.assign({},d),{webauthn:Object.assign(Object.assign({},d.webauthn),{credential_options:Object.assign(Object.assign({},d.webauthn.credential_options),{publicKey:LP(d.webauthn.credential_options.publicKey)})})}),error:null};case"request":return{data:Object.assign(Object.assign({},d),{webauthn:Object.assign(Object.assign({},d.webauthn),{credential_options:Object.assign(Object.assign({},d.webauthn.credential_options),{publicKey:$P(d.webauthn.credential_options.publicKey)})})}),error:null}}})}catch(n){if(xe(n))return this._returnResult({data:null,error:n});throw n}})}async _challengeAndVerify(e){const{data:n,error:o}=await this._challenge({factorId:e.factorId});return o?this._returnResult({data:null,error:o}):await this._verify({factorId:e.factorId,challengeId:n.id,code:e.code})}async _listFactors(){var e;const{data:{user:n},error:o}=await this.getUser();if(o)return{data:null,error:o};const i={all:[],phone:[],totp:[],webauthn:[]};for(const a of(e=n?.factors)!==null&&e!==void 0?e:[])i.all.push(a),a.status==="verified"&&i[a.factor_type].push(a);return{data:i,error:null}}async _getAuthenticatorAssuranceLevel(){var e,n;const{data:{session:o},error:i}=await this.getSession();if(i)return this._returnResult({data:null,error:i});if(!o)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:a}=Pd(o.access_token);let u=null;a.aal&&(u=a.aal);let d=u;((n=(e=o.user.factors)===null||e===void 0?void 0:e.filter(g=>g.status==="verified"))!==null&&n!==void 0?n:[]).length>0&&(d="aal2");const p=a.amr||[];return{data:{currentLevel:u,nextLevel:d,currentAuthenticationMethods:p},error:null}}async _getAuthorizationDetails(e){try{return await this._useSession(async n=>{const{data:{session:o},error:i}=n;return i?this._returnResult({data:null,error:i}):o?await ke(this.fetch,"GET",`${this.url}/oauth/authorizations/${e}`,{headers:this.headers,jwt:o.access_token,xform:a=>({data:a,error:null})}):this._returnResult({data:null,error:new nr})})}catch(n){if(xe(n))return this._returnResult({data:null,error:n});throw n}}async _approveAuthorization(e,n){try{return await this._useSession(async o=>{const{data:{session:i},error:a}=o;if(a)return this._returnResult({data:null,error:a});if(!i)return this._returnResult({data:null,error:new nr});const u=await ke(this.fetch,"POST",`${this.url}/oauth/authorizations/${e}/consent`,{headers:this.headers,jwt:i.access_token,body:{action:"approve"},xform:d=>({data:d,error:null})});return u.data&&u.data.redirect_url&&Et()&&!n?.skipBrowserRedirect&&window.location.assign(u.data.redirect_url),u})}catch(o){if(xe(o))return this._returnResult({data:null,error:o});throw o}}async _denyAuthorization(e,n){try{return await this._useSession(async o=>{const{data:{session:i},error:a}=o;if(a)return this._returnResult({data:null,error:a});if(!i)return this._returnResult({data:null,error:new nr});const u=await ke(this.fetch,"POST",`${this.url}/oauth/authorizations/${e}/consent`,{headers:this.headers,jwt:i.access_token,body:{action:"deny"},xform:d=>({data:d,error:null})});return u.data&&u.data.redirect_url&&Et()&&!n?.skipBrowserRedirect&&window.location.assign(u.data.redirect_url),u})}catch(o){if(xe(o))return this._returnResult({data:null,error:o});throw o}}async _listOAuthGrants(){try{return await this._useSession(async e=>{const{data:{session:n},error:o}=e;return o?this._returnResult({data:null,error:o}):n?await ke(this.fetch,"GET",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:n.access_token,xform:i=>({data:i,error:null})}):this._returnResult({data:null,error:new nr})})}catch(e){if(xe(e))return this._returnResult({data:null,error:e});throw e}}async _revokeOAuthGrant(e){try{return await this._useSession(async n=>{const{data:{session:o},error:i}=n;return i?this._returnResult({data:null,error:i}):o?await ke(this.fetch,"DELETE",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:o.access_token,query:{client_id:e.clientId},xform:()=>({data:{},error:null})}):this._returnResult({data:null,error:new nr})})}catch(n){if(xe(n))return this._returnResult({data:null,error:n});throw n}}async fetchJwk(e,n={keys:[]}){let o=n.keys.find(d=>d.kid===e);if(o)return o;const i=Date.now();if(o=this.jwks.keys.find(d=>d.kid===e),o&&this.jwks_cached_at+KT>i)return o;const{data:a,error:u}=await ke(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(u)throw u;return!a.keys||a.keys.length===0||(this.jwks=a,this.jwks_cached_at=i,o=a.keys.find(d=>d.kid===e),!o)?null:o}async getClaims(e,n={}){try{let o=e;if(!o){const{data:b,error:j}=await this.getSession();if(j||!b.session)return this._returnResult({data:null,error:j});o=b.session.access_token}const{header:i,payload:a,signature:u,raw:{header:d,payload:h}}=Pd(o);n?.allowExpired||mP(a.exp);const p=!i.alg||i.alg.startsWith("HS")||!i.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(i.kid,n?.keys?{keys:n.keys}:n?.jwks);if(!p){const{error:b}=await this.getUser(o);if(b)throw b;return{data:{claims:a,header:i,signature:u},error:null}}const g=gP(i.alg),m=await crypto.subtle.importKey("jwk",p,g,!0,["verify"]);if(!await crypto.subtle.verify(g,m,u,rP(`${d}.${h}`)))throw new ff("Invalid JWT signature");return{data:{claims:a,header:i,signature:u},error:null}}catch(o){if(xe(o))return this._returnResult({data:null,error:o});throw o}}}Qi.nextInstanceID={};const GP=Qi;class YP extends GP{constructor(e){super(e)}}class JP{constructor(e,n,o){var i,a,u;this.supabaseUrl=e,this.supabaseKey=n;const d=BT(e);if(!n)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",d),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",d),this.storageUrl=new URL("storage/v1",d),this.functionsUrl=new URL("functions/v1",d);const h=`sb-${d.hostname.split(".")[0]}-auth-token`,p={db:IT,realtime:LT,auth:Object.assign(Object.assign({},DT),{storageKey:h}),global:OT},g=zT(o??{},p);this.storageKey=(i=g.auth.storageKey)!==null&&i!==void 0?i:"",this.headers=(a=g.global.headers)!==null&&a!==void 0?a:{},g.accessToken?(this.accessToken=g.accessToken,this.auth=new Proxy({},{get:(m,x)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(x)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((u=g.auth)!==null&&u!==void 0?u:{},this.headers,g.global.fetch),this.fetch=FT(n,this._getAccessToken.bind(this),g.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},g.realtime)),this.accessToken&&this.accessToken().then(m=>this.realtime.setAuth(m)).catch(m=>console.warn("Failed to set initial Realtime auth token:",m)),this.rest=new VR(new URL("rest/v1",d).href,{headers:this.headers,schema:g.db.schema,fetch:this.fetch}),this.storage=new TT(this.storageUrl.href,this.headers,this.fetch,o?.storage),g.accessToken||this._listenForAuthEvents()}get functions(){return new FR(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(e){return this.rest.from(e)}schema(e){return this.rest.schema(e)}rpc(e,n={},o={head:!1,get:!1,count:void 0}){return this.rest.rpc(e,n,o)}channel(e,n={config:{}}){return this.realtime.channel(e,n)}getChannels(){return this.realtime.getChannels()}removeChannel(e){return this.realtime.removeChannel(e)}removeAllChannels(){return this.realtime.removeAllChannels()}async _getAccessToken(){var e,n;if(this.accessToken)return await this.accessToken();const{data:o}=await this.auth.getSession();return(n=(e=o.session)===null||e===void 0?void 0:e.access_token)!==null&&n!==void 0?n:this.supabaseKey}_initSupabaseAuthClient({autoRefreshToken:e,persistSession:n,detectSessionInUrl:o,storage:i,userStorage:a,storageKey:u,flowType:d,lock:h,debug:p,throwOnError:g},m,x){const b={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new YP({url:this.authUrl.href,headers:Object.assign(Object.assign({},b),m),storageKey:u,autoRefreshToken:e,persistSession:n,detectSessionInUrl:o,storage:i,userStorage:a,flowType:d,lock:h,debug:p,throwOnError:g,fetch:x,hasCustomAuthorizationHeader:Object.keys(this.headers).some(j=>j.toLowerCase()==="authorization")})}_initRealtimeClient(e){return new iT(this.realtimeUrl.href,Object.assign(Object.assign({},e),{params:Object.assign({apikey:this.supabaseKey},e?.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((n,o)=>{this._handleTokenChanged(n,"CLIENT",o?.access_token)})}_handleTokenChanged(e,n,o){(e==="TOKEN_REFRESHED"||e==="SIGNED_IN")&&this.changedAccessToken!==o?(this.changedAccessToken=o,this.realtime.setAuth(o)):e==="SIGNED_OUT"&&(this.realtime.setAuth(),n=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const QP=(t,e,n)=>new JP(t,e,n);function XP(){if(typeof window<"u"||typeof process>"u")return!1;const t=process.version;if(t==null)return!1;const e=t.match(/^v(\d+)\./);return e?parseInt(e[1],10)<=18:!1}XP()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const ZP="https://oweczikfqvbtoebjaowo.supabase.co",e2="sb_publishable_Ohb2eYfQ5hkf2Z2RhIXgeQ_qTIbt6-e",ie=QP(ZP,e2);class t2{async login(e,n){const{data:o,error:i}=await ie.auth.signInWithPassword({email:e,password:n});if(i)throw new Error(i.message);if(!o.user)throw new Error("Login failed");const{data:a,error:u}=await ie.from("profiles").select("*").eq("id",o.user.id).single();if(u||!a)throw new Error("Profile not found");return{user:{id:o.user.id,email:o.user.email,name:a.full_name||a.username,username:a.username,role:a.role,avatar:a.avatar_url||void 0,joinDate:new Date(a.join_date).toISOString().split("T")[0]},token:o.session?.access_token||""}}async signup(e){const{data:n,error:o}=await ie.auth.signUp({email:e.email,password:e.password});if(o)throw new Error(o.message);if(!n.user)throw new Error("Signup failed");const{data:i,error:a}=await ie.from("profiles").insert({id:n.user.id,username:e.username,full_name:e.name,role:"student",join_date:new Date().toISOString(),reputation:0}).select().single();if(a)throw new Error(a.message);return{user:{id:n.user.id,email:n.user.email,name:e.name,username:e.username,role:"student",joinDate:new Date().toISOString().split("T")[0]},token:n.session?.access_token||""}}async signInWithOAuth(e){const{error:n}=await ie.auth.signInWithOAuth({provider:e,options:{redirectTo:`${window.location.origin}/auth/callback`}});if(n)throw new Error(n.message)}async linkOAuthProvider(e){const{error:n}=await ie.auth.linkIdentity({provider:e,options:{redirectTo:`${window.location.origin}/auth/callback`}});if(n)throw new Error(n.message)}async unlinkOAuthProvider(e){const{error:n}=await ie.auth.unlinkIdentity({provider:e});if(n)throw new Error(n.message)}async getCurrentUser(){const{data:{user:e},error:n}=await ie.auth.getUser();if(n||!e)return null;const{data:o,error:i}=await ie.from("profiles").select("*").eq("id",e.id).single();return i||!o?null:{id:e.id,email:e.email,name:o.full_name||o.username,username:o.username,role:o.role,avatar:o.avatar_url||void 0,joinDate:new Date(o.join_date).toISOString().split("T")[0]}}async logout(){const{error:e}=await ie.auth.signOut();if(e)throw new Error(e.message)}async isAuthenticated(){const{data:{session:e}}=await ie.auth.getSession();return!!e}getDemoCredentials(){return{student:{email:"student@school.edu",password:"password"},teacher:{email:"teacher@school.edu",password:"password"},principal:{email:"principal@school.edu",password:"password"}}}}const Xn=new t2,K0=w.createContext(void 0);function r2({children:t}){const[e,n]=w.useState(null),[o,i]=w.useState(!0);w.useEffect(()=>{(async()=>{try{const g=await Xn.getCurrentUser();n(g)}catch(g){console.error("Auth check failed:",g)}finally{i(!1)}})()},[]);const h={user:e,loading:o,login:async(p,g)=>{try{const{user:m}=await Xn.login(p,g);n(m)}catch(m){throw m}},signup:async p=>{try{const{user:g}=await Xn.signup(p);n(g)}catch(g){throw g}},logout:async()=>{try{await Xn.logout(),n(null)}catch(p){console.error("Logout failed:",p)}},isAuthenticated:!!e};return c.jsx(K0.Provider,{value:h,children:t})}function Xr(){const t=w.useContext(K0);if(t===void 0)throw new Error("useAuth must be used within an AuthProvider");return t}function G0(t){const[e,n]=w.useState([]),[o,i]=w.useState([]),[a,u]=w.useState(!1),[d,h]=w.useState(null),p=async()=>{if(t)try{const{data:S,error:k}=await ie.from("friends").select(`
          *,
          profile:friend_id (username, full_name, avatar_url)
        `).eq("user_id",t).eq("status","accepted");if(k)throw k;n(S||[])}catch(S){h(S.message)}},g=async()=>{if(t)try{const{data:S,error:k}=await ie.from("friends").select(`
          *,
          profile:user_id (username, full_name, avatar_url)
        `).eq("friend_id",t).eq("status","pending");if(k)throw k;i(S||[])}catch(S){h(S.message)}},m=async S=>{if(!t)return!1;u(!0);try{const{error:k}=await ie.from("friends").insert({user_id:t,friend_id:S,status:"pending"});if(k)throw k;return u(!1),!0}catch(k){return h(k.message),u(!1),!1}},x=async S=>{if(!t)return!1;u(!0);try{const{error:k}=await ie.from("friends").update({status:"accepted"}).eq("id",S).eq("friend_id",t);if(k)throw k;const{data:C}=await ie.from("friends").select("user_id").eq("id",S).single();return C&&await ie.from("friends").insert({user_id:t,friend_id:C.user_id,status:"accepted"}).single(),await g(),await p(),u(!1),!0}catch(k){return h(k.message),u(!1),!1}},b=async S=>{if(!t)return!1;u(!0);try{const{error:k}=await ie.from("friends").delete().eq("id",S);if(k)throw k;return await g(),u(!1),!0}catch(k){return h(k.message),u(!1),!1}},j=async S=>{if(!t)return!1;u(!0);try{return await ie.from("friends").delete().match({user_id:t,friend_id:S}),await ie.from("friends").delete().match({user_id:S,friend_id:t}),await p(),u(!1),!0}catch(k){return h(k.message),u(!1),!1}},_=async S=>{if(!t)return!1;try{const{data:k}=await ie.from("friends").select("*").match({user_id:t,friend_id:S,status:"accepted"}).single();return!!k}catch{return!1}};return w.useEffect(()=>{t&&(p(),g())},[t]),{friends:e,pendingRequests:o,sendFriendRequest:m,acceptFriendRequest:x,rejectFriendRequest:b,removeFriend:j,areFriends:_,loading:a,error:d,refetch:()=>{p(),g()}}}function n2(t){if(typeof document>"u")return;let e=document.head||document.getElementsByTagName("head")[0],n=document.createElement("style");n.type="text/css",e.appendChild(n),n.styleSheet?n.styleSheet.cssText=t:n.appendChild(document.createTextNode(t))}const s2=t=>{switch(t){case"success":return a2;case"info":return c2;case"warning":return l2;case"error":return u2;default:return null}},o2=Array(12).fill(0),i2=({visible:t,className:e})=>te.createElement("div",{className:["sonner-loading-wrapper",e].filter(Boolean).join(" "),"data-visible":t},te.createElement("div",{className:"sonner-spinner"},o2.map((n,o)=>te.createElement("div",{className:"sonner-loading-bar",key:`spinner-bar-${o}`})))),a2=te.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},te.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.857-9.809a.75.75 0 00-1.214-.882l-3.483 4.79-1.88-1.88a.75.75 0 10-1.06 1.061l2.5 2.5a.75.75 0 001.137-.089l4-5.5z",clipRule:"evenodd"})),l2=te.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",height:"20",width:"20"},te.createElement("path",{fillRule:"evenodd",d:"M9.401 3.003c1.155-2 4.043-2 5.197 0l7.355 12.748c1.154 2-.29 4.5-2.599 4.5H4.645c-2.309 0-3.752-2.5-2.598-4.5L9.4 3.003zM12 8.25a.75.75 0 01.75.75v3.75a.75.75 0 01-1.5 0V9a.75.75 0 01.75-.75zm0 8.25a.75.75 0 100-1.5.75.75 0 000 1.5z",clipRule:"evenodd"})),c2=te.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},te.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a.75.75 0 000 1.5h.253a.25.25 0 01.244.304l-.459 2.066A1.75 1.75 0 0010.747 15H11a.75.75 0 000-1.5h-.253a.25.25 0 01-.244-.304l.459-2.066A1.75 1.75 0 009.253 9H9z",clipRule:"evenodd"})),u2=te.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},te.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-5a.75.75 0 01.75.75v4.5a.75.75 0 01-1.5 0v-4.5A.75.75 0 0110 5zm0 10a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"})),d2=te.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"},te.createElement("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),te.createElement("line",{x1:"6",y1:"6",x2:"18",y2:"18"})),f2=()=>{const[t,e]=te.useState(document.hidden);return te.useEffect(()=>{const n=()=>{e(document.hidden)};return document.addEventListener("visibilitychange",n),()=>window.removeEventListener("visibilitychange",n)},[]),t};let hf=1;class h2{constructor(){this.subscribe=e=>(this.subscribers.push(e),()=>{const n=this.subscribers.indexOf(e);this.subscribers.splice(n,1)}),this.publish=e=>{this.subscribers.forEach(n=>n(e))},this.addToast=e=>{this.publish(e),this.toasts=[...this.toasts,e]},this.create=e=>{var n;const{message:o,...i}=e,a=typeof e?.id=="number"||((n=e.id)==null?void 0:n.length)>0?e.id:hf++,u=this.toasts.find(h=>h.id===a),d=e.dismissible===void 0?!0:e.dismissible;return this.dismissedToasts.has(a)&&this.dismissedToasts.delete(a),u?this.toasts=this.toasts.map(h=>h.id===a?(this.publish({...h,...e,id:a,title:o}),{...h,...e,id:a,dismissible:d,title:o}):h):this.addToast({title:o,...i,dismissible:d,id:a}),a},this.dismiss=e=>(e?(this.dismissedToasts.add(e),requestAnimationFrame(()=>this.subscribers.forEach(n=>n({id:e,dismiss:!0})))):this.toasts.forEach(n=>{this.subscribers.forEach(o=>o({id:n.id,dismiss:!0}))}),e),this.message=(e,n)=>this.create({...n,message:e}),this.error=(e,n)=>this.create({...n,message:e,type:"error"}),this.success=(e,n)=>this.create({...n,type:"success",message:e}),this.info=(e,n)=>this.create({...n,type:"info",message:e}),this.warning=(e,n)=>this.create({...n,type:"warning",message:e}),this.loading=(e,n)=>this.create({...n,type:"loading",message:e}),this.promise=(e,n)=>{if(!n)return;let o;n.loading!==void 0&&(o=this.create({...n,promise:e,type:"loading",message:n.loading,description:typeof n.description!="function"?n.description:void 0}));const i=Promise.resolve(e instanceof Function?e():e);let a=o!==void 0,u;const d=i.then(async p=>{if(u=["resolve",p],te.isValidElement(p))a=!1,this.create({id:o,type:"default",message:p});else if(m2(p)&&!p.ok){a=!1;const m=typeof n.error=="function"?await n.error(`HTTP error! status: ${p.status}`):n.error,x=typeof n.description=="function"?await n.description(`HTTP error! status: ${p.status}`):n.description,j=typeof m=="object"&&!te.isValidElement(m)?m:{message:m};this.create({id:o,type:"error",description:x,...j})}else if(p instanceof Error){a=!1;const m=typeof n.error=="function"?await n.error(p):n.error,x=typeof n.description=="function"?await n.description(p):n.description,j=typeof m=="object"&&!te.isValidElement(m)?m:{message:m};this.create({id:o,type:"error",description:x,...j})}else if(n.success!==void 0){a=!1;const m=typeof n.success=="function"?await n.success(p):n.success,x=typeof n.description=="function"?await n.description(p):n.description,j=typeof m=="object"&&!te.isValidElement(m)?m:{message:m};this.create({id:o,type:"success",description:x,...j})}}).catch(async p=>{if(u=["reject",p],n.error!==void 0){a=!1;const g=typeof n.error=="function"?await n.error(p):n.error,m=typeof n.description=="function"?await n.description(p):n.description,b=typeof g=="object"&&!te.isValidElement(g)?g:{message:g};this.create({id:o,type:"error",description:m,...b})}}).finally(()=>{a&&(this.dismiss(o),o=void 0),n.finally==null||n.finally.call(n)}),h=()=>new Promise((p,g)=>d.then(()=>u[0]==="reject"?g(u[1]):p(u[1])).catch(g));return typeof o!="string"&&typeof o!="number"?{unwrap:h}:Object.assign(o,{unwrap:h})},this.custom=(e,n)=>{const o=n?.id||hf++;return this.create({jsx:e(o),id:o,...n}),o},this.getActiveToasts=()=>this.toasts.filter(e=>!this.dismissedToasts.has(e.id)),this.subscribers=[],this.toasts=[],this.dismissedToasts=new Set}}const Ht=new h2,p2=(t,e)=>{const n=e?.id||hf++;return Ht.addToast({title:t,...e,id:n}),n},m2=t=>t&&typeof t=="object"&&"ok"in t&&typeof t.ok=="boolean"&&"status"in t&&typeof t.status=="number",g2=p2,v2=()=>Ht.toasts,y2=()=>Ht.getActiveToasts(),Pe=Object.assign(g2,{success:Ht.success,info:Ht.info,warning:Ht.warning,error:Ht.error,custom:Ht.custom,message:Ht.message,promise:Ht.promise,dismiss:Ht.dismiss,loading:Ht.loading},{getHistory:v2,getToasts:y2});n2("[data-sonner-toaster][dir=ltr],html[dir=ltr]{--toast-icon-margin-start:-3px;--toast-icon-margin-end:4px;--toast-svg-margin-start:-1px;--toast-svg-margin-end:0px;--toast-button-margin-start:auto;--toast-button-margin-end:0;--toast-close-button-start:0;--toast-close-button-end:unset;--toast-close-button-transform:translate(-35%, -35%)}[data-sonner-toaster][dir=rtl],html[dir=rtl]{--toast-icon-margin-start:4px;--toast-icon-margin-end:-3px;--toast-svg-margin-start:0px;--toast-svg-margin-end:-1px;--toast-button-margin-start:0;--toast-button-margin-end:auto;--toast-close-button-start:unset;--toast-close-button-end:0;--toast-close-button-transform:translate(35%, -35%)}[data-sonner-toaster]{position:fixed;width:var(--width);font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;--gray1:hsl(0, 0%, 99%);--gray2:hsl(0, 0%, 97.3%);--gray3:hsl(0, 0%, 95.1%);--gray4:hsl(0, 0%, 93%);--gray5:hsl(0, 0%, 90.9%);--gray6:hsl(0, 0%, 88.7%);--gray7:hsl(0, 0%, 85.8%);--gray8:hsl(0, 0%, 78%);--gray9:hsl(0, 0%, 56.1%);--gray10:hsl(0, 0%, 52.3%);--gray11:hsl(0, 0%, 43.5%);--gray12:hsl(0, 0%, 9%);--border-radius:8px;box-sizing:border-box;padding:0;margin:0;list-style:none;outline:0;z-index:999999999;transition:transform .4s ease}@media (hover:none) and (pointer:coarse){[data-sonner-toaster][data-lifted=true]{transform:none}}[data-sonner-toaster][data-x-position=right]{right:var(--offset-right)}[data-sonner-toaster][data-x-position=left]{left:var(--offset-left)}[data-sonner-toaster][data-x-position=center]{left:50%;transform:translateX(-50%)}[data-sonner-toaster][data-y-position=top]{top:var(--offset-top)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--offset-bottom)}[data-sonner-toast]{--y:translateY(100%);--lift-amount:calc(var(--lift) * var(--gap));z-index:var(--z-index);position:absolute;opacity:0;transform:var(--y);touch-action:none;transition:transform .4s,opacity .4s,height .4s,box-shadow .2s;box-sizing:border-box;outline:0;overflow-wrap:anywhere}[data-sonner-toast][data-styled=true]{padding:16px;background:var(--normal-bg);border:1px solid var(--normal-border);color:var(--normal-text);border-radius:var(--border-radius);box-shadow:0 4px 12px rgba(0,0,0,.1);width:var(--width);font-size:13px;display:flex;align-items:center;gap:6px}[data-sonner-toast]:focus-visible{box-shadow:0 4px 12px rgba(0,0,0,.1),0 0 0 2px rgba(0,0,0,.2)}[data-sonner-toast][data-y-position=top]{top:0;--y:translateY(-100%);--lift:1;--lift-amount:calc(1 * var(--gap))}[data-sonner-toast][data-y-position=bottom]{bottom:0;--y:translateY(100%);--lift:-1;--lift-amount:calc(var(--lift) * var(--gap))}[data-sonner-toast][data-styled=true] [data-description]{font-weight:400;line-height:1.4;color:#3f3f3f}[data-rich-colors=true][data-sonner-toast][data-styled=true] [data-description]{color:inherit}[data-sonner-toaster][data-sonner-theme=dark] [data-description]{color:#e8e8e8}[data-sonner-toast][data-styled=true] [data-title]{font-weight:500;line-height:1.5;color:inherit}[data-sonner-toast][data-styled=true] [data-icon]{display:flex;height:16px;width:16px;position:relative;justify-content:flex-start;align-items:center;flex-shrink:0;margin-left:var(--toast-icon-margin-start);margin-right:var(--toast-icon-margin-end)}[data-sonner-toast][data-promise=true] [data-icon]>svg{opacity:0;transform:scale(.8);transform-origin:center;animation:sonner-fade-in .3s ease forwards}[data-sonner-toast][data-styled=true] [data-icon]>*{flex-shrink:0}[data-sonner-toast][data-styled=true] [data-icon] svg{margin-left:var(--toast-svg-margin-start);margin-right:var(--toast-svg-margin-end)}[data-sonner-toast][data-styled=true] [data-content]{display:flex;flex-direction:column;gap:2px}[data-sonner-toast][data-styled=true] [data-button]{border-radius:4px;padding-left:8px;padding-right:8px;height:24px;font-size:12px;color:var(--normal-bg);background:var(--normal-text);margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end);border:none;font-weight:500;cursor:pointer;outline:0;display:flex;align-items:center;flex-shrink:0;transition:opacity .4s,box-shadow .2s}[data-sonner-toast][data-styled=true] [data-button]:focus-visible{box-shadow:0 0 0 2px rgba(0,0,0,.4)}[data-sonner-toast][data-styled=true] [data-button]:first-of-type{margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end)}[data-sonner-toast][data-styled=true] [data-cancel]{color:var(--normal-text);background:rgba(0,0,0,.08)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast][data-styled=true] [data-cancel]{background:rgba(255,255,255,.3)}[data-sonner-toast][data-styled=true] [data-close-button]{position:absolute;left:var(--toast-close-button-start);right:var(--toast-close-button-end);top:0;height:20px;width:20px;display:flex;justify-content:center;align-items:center;padding:0;color:var(--gray12);background:var(--normal-bg);border:1px solid var(--gray4);transform:var(--toast-close-button-transform);border-radius:50%;cursor:pointer;z-index:1;transition:opacity .1s,background .2s,border-color .2s}[data-sonner-toast][data-styled=true] [data-close-button]:focus-visible{box-shadow:0 4px 12px rgba(0,0,0,.1),0 0 0 2px rgba(0,0,0,.2)}[data-sonner-toast][data-styled=true] [data-disabled=true]{cursor:not-allowed}[data-sonner-toast][data-styled=true]:hover [data-close-button]:hover{background:var(--gray2);border-color:var(--gray5)}[data-sonner-toast][data-swiping=true]::before{content:'';position:absolute;left:-100%;right:-100%;height:100%;z-index:-1}[data-sonner-toast][data-y-position=top][data-swiping=true]::before{bottom:50%;transform:scaleY(3) translateY(50%)}[data-sonner-toast][data-y-position=bottom][data-swiping=true]::before{top:50%;transform:scaleY(3) translateY(-50%)}[data-sonner-toast][data-swiping=false][data-removed=true]::before{content:'';position:absolute;inset:0;transform:scaleY(2)}[data-sonner-toast][data-expanded=true]::after{content:'';position:absolute;left:0;height:calc(var(--gap) + 1px);bottom:100%;width:100%}[data-sonner-toast][data-mounted=true]{--y:translateY(0);opacity:1}[data-sonner-toast][data-expanded=false][data-front=false]{--scale:var(--toasts-before) * 0.05 + 1;--y:translateY(calc(var(--lift-amount) * var(--toasts-before))) scale(calc(-1 * var(--scale)));height:var(--front-toast-height)}[data-sonner-toast]>*{transition:opacity .4s}[data-sonner-toast][data-x-position=right]{right:0}[data-sonner-toast][data-x-position=left]{left:0}[data-sonner-toast][data-expanded=false][data-front=false][data-styled=true]>*{opacity:0}[data-sonner-toast][data-visible=false]{opacity:0;pointer-events:none}[data-sonner-toast][data-mounted=true][data-expanded=true]{--y:translateY(calc(var(--lift) * var(--offset)));height:var(--initial-height)}[data-sonner-toast][data-removed=true][data-front=true][data-swipe-out=false]{--y:translateY(calc(var(--lift) * -100%));opacity:0}[data-sonner-toast][data-removed=true][data-front=false][data-swipe-out=false][data-expanded=true]{--y:translateY(calc(var(--lift) * var(--offset) + var(--lift) * -100%));opacity:0}[data-sonner-toast][data-removed=true][data-front=false][data-swipe-out=false][data-expanded=false]{--y:translateY(40%);opacity:0;transition:transform .5s,opacity .2s}[data-sonner-toast][data-removed=true][data-front=false]::before{height:calc(var(--initial-height) + 20%)}[data-sonner-toast][data-swiping=true]{transform:var(--y) translateY(var(--swipe-amount-y,0)) translateX(var(--swipe-amount-x,0));transition:none}[data-sonner-toast][data-swiped=true]{user-select:none}[data-sonner-toast][data-swipe-out=true][data-y-position=bottom],[data-sonner-toast][data-swipe-out=true][data-y-position=top]{animation-duration:.2s;animation-timing-function:ease-out;animation-fill-mode:forwards}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=left]{animation-name:swipe-out-left}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=right]{animation-name:swipe-out-right}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=up]{animation-name:swipe-out-up}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=down]{animation-name:swipe-out-down}@keyframes swipe-out-left{from{transform:var(--y) translateX(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translateX(calc(var(--swipe-amount-x) - 100%));opacity:0}}@keyframes swipe-out-right{from{transform:var(--y) translateX(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translateX(calc(var(--swipe-amount-x) + 100%));opacity:0}}@keyframes swipe-out-up{from{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) - 100%));opacity:0}}@keyframes swipe-out-down{from{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) + 100%));opacity:0}}@media (max-width:600px){[data-sonner-toaster]{position:fixed;right:var(--mobile-offset-right);left:var(--mobile-offset-left);width:100%}[data-sonner-toaster][dir=rtl]{left:calc(var(--mobile-offset-left) * -1)}[data-sonner-toaster] [data-sonner-toast]{left:0;right:0;width:calc(100% - var(--mobile-offset-left) * 2)}[data-sonner-toaster][data-x-position=left]{left:var(--mobile-offset-left)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--mobile-offset-bottom)}[data-sonner-toaster][data-y-position=top]{top:var(--mobile-offset-top)}[data-sonner-toaster][data-x-position=center]{left:var(--mobile-offset-left);right:var(--mobile-offset-right);transform:none}}[data-sonner-toaster][data-sonner-theme=light]{--normal-bg:#fff;--normal-border:var(--gray4);--normal-text:var(--gray12);--success-bg:hsl(143, 85%, 96%);--success-border:hsl(145, 92%, 87%);--success-text:hsl(140, 100%, 27%);--info-bg:hsl(208, 100%, 97%);--info-border:hsl(221, 91%, 93%);--info-text:hsl(210, 92%, 45%);--warning-bg:hsl(49, 100%, 97%);--warning-border:hsl(49, 91%, 84%);--warning-text:hsl(31, 92%, 45%);--error-bg:hsl(359, 100%, 97%);--error-border:hsl(359, 100%, 94%);--error-text:hsl(360, 100%, 45%)}[data-sonner-toaster][data-sonner-theme=light] [data-sonner-toast][data-invert=true]{--normal-bg:#000;--normal-border:hsl(0, 0%, 20%);--normal-text:var(--gray1)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast][data-invert=true]{--normal-bg:#fff;--normal-border:var(--gray3);--normal-text:var(--gray12)}[data-sonner-toaster][data-sonner-theme=dark]{--normal-bg:#000;--normal-bg-hover:hsl(0, 0%, 12%);--normal-border:hsl(0, 0%, 20%);--normal-border-hover:hsl(0, 0%, 25%);--normal-text:var(--gray1);--success-bg:hsl(150, 100%, 6%);--success-border:hsl(147, 100%, 12%);--success-text:hsl(150, 86%, 65%);--info-bg:hsl(215, 100%, 6%);--info-border:hsl(223, 43%, 17%);--info-text:hsl(216, 87%, 65%);--warning-bg:hsl(64, 100%, 6%);--warning-border:hsl(60, 100%, 9%);--warning-text:hsl(46, 87%, 65%);--error-bg:hsl(358, 76%, 10%);--error-border:hsl(357, 89%, 16%);--error-text:hsl(358, 100%, 81%)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast] [data-close-button]{background:var(--normal-bg);border-color:var(--normal-border);color:var(--normal-text)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast] [data-close-button]:hover{background:var(--normal-bg-hover);border-color:var(--normal-border-hover)}[data-rich-colors=true][data-sonner-toast][data-type=success]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=success] [data-close-button]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=info]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=info] [data-close-button]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning] [data-close-button]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=error]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}[data-rich-colors=true][data-sonner-toast][data-type=error] [data-close-button]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}.sonner-loading-wrapper{--size:16px;height:var(--size);width:var(--size);position:absolute;inset:0;z-index:10}.sonner-loading-wrapper[data-visible=false]{transform-origin:center;animation:sonner-fade-out .2s ease forwards}.sonner-spinner{position:relative;top:50%;left:50%;height:var(--size);width:var(--size)}.sonner-loading-bar{animation:sonner-spin 1.2s linear infinite;background:var(--gray11);border-radius:6px;height:8%;left:-10%;position:absolute;top:-3.9%;width:24%}.sonner-loading-bar:first-child{animation-delay:-1.2s;transform:rotate(.0001deg) translate(146%)}.sonner-loading-bar:nth-child(2){animation-delay:-1.1s;transform:rotate(30deg) translate(146%)}.sonner-loading-bar:nth-child(3){animation-delay:-1s;transform:rotate(60deg) translate(146%)}.sonner-loading-bar:nth-child(4){animation-delay:-.9s;transform:rotate(90deg) translate(146%)}.sonner-loading-bar:nth-child(5){animation-delay:-.8s;transform:rotate(120deg) translate(146%)}.sonner-loading-bar:nth-child(6){animation-delay:-.7s;transform:rotate(150deg) translate(146%)}.sonner-loading-bar:nth-child(7){animation-delay:-.6s;transform:rotate(180deg) translate(146%)}.sonner-loading-bar:nth-child(8){animation-delay:-.5s;transform:rotate(210deg) translate(146%)}.sonner-loading-bar:nth-child(9){animation-delay:-.4s;transform:rotate(240deg) translate(146%)}.sonner-loading-bar:nth-child(10){animation-delay:-.3s;transform:rotate(270deg) translate(146%)}.sonner-loading-bar:nth-child(11){animation-delay:-.2s;transform:rotate(300deg) translate(146%)}.sonner-loading-bar:nth-child(12){animation-delay:-.1s;transform:rotate(330deg) translate(146%)}@keyframes sonner-fade-in{0%{opacity:0;transform:scale(.8)}100%{opacity:1;transform:scale(1)}}@keyframes sonner-fade-out{0%{opacity:1;transform:scale(1)}100%{opacity:0;transform:scale(.8)}}@keyframes sonner-spin{0%{opacity:1}100%{opacity:.15}}@media (prefers-reduced-motion){.sonner-loading-bar,[data-sonner-toast],[data-sonner-toast]>*{transition:none!important;animation:none!important}}.sonner-loader{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);transform-origin:center;transition:opacity .2s,transform .2s}.sonner-loader[data-visible=false]{opacity:0;transform:scale(.8) translate(-50%,-50%)}");function Al(t){return t.label!==void 0}const w2=3,x2="24px",b2="16px",fv=4e3,_2=356,S2=14,j2=45,E2=200;function Vr(...t){return t.filter(Boolean).join(" ")}function k2(t){const[e,n]=t.split("-"),o=[];return e&&o.push(e),n&&o.push(n),o}const C2=t=>{var e,n,o,i,a,u,d,h,p;const{invert:g,toast:m,unstyled:x,interacting:b,setHeights:j,visibleToasts:_,heights:S,index:k,toasts:C,expanded:N,removeToast:P,defaultRichColors:F,closeButton:V,style:D,cancelButtonStyle:z,actionButtonStyle:q,className:ne="",descriptionClassName:ue="",duration:ge,position:le,gap:pe,expandByDefault:be,classNames:B,icons:$,closeButtonAriaLabel:O="Close toast"}=t,[Z,K]=te.useState(null),[I,H]=te.useState(null),[Q,W]=te.useState(!1),[oe,_e]=te.useState(!1),[J,re]=te.useState(!1),[Se,Ce]=te.useState(!1),[Ie,Me]=te.useState(!1),[dt,It]=te.useState(0),[xn,en]=te.useState(0),Jt=te.useRef(m.duration||ge||fv),Qo=te.useRef(null),Qt=te.useRef(null),ls=k===0,bn=k+1<=_,bt=m.type,tn=m.dismissible!==!1,sa=m.className||"",oa=m.descriptionClassName||"",cs=te.useMemo(()=>S.findIndex(Te=>Te.toastId===m.id)||0,[S,m.id]),Xo=te.useMemo(()=>{var Te;return(Te=m.closeButton)!=null?Te:V},[m.closeButton,V]),us=te.useMemo(()=>m.duration||ge||fv,[m.duration,ge]),Bs=te.useRef(0),ur=te.useRef(0),_n=te.useRef(0),Sn=te.useRef(null),[ia,aa]=le.split("-"),la=te.useMemo(()=>S.reduce((Te,nt,ft)=>ft>=cs?Te:Te+nt.height,0),[S,cs]),Vs=f2(),Zo=m.invert||g,ds=bt==="loading";ur.current=te.useMemo(()=>cs*pe+la,[cs,la]),te.useEffect(()=>{Jt.current=us},[us]),te.useEffect(()=>{W(!0)},[]),te.useEffect(()=>{const Te=Qt.current;if(Te){const nt=Te.getBoundingClientRect().height;return en(nt),j(ft=>[{toastId:m.id,height:nt,position:m.position},...ft]),()=>j(ft=>ft.filter(kt=>kt.toastId!==m.id))}},[j,m.id]),te.useLayoutEffect(()=>{if(!Q)return;const Te=Qt.current,nt=Te.style.height;Te.style.height="auto";const ft=Te.getBoundingClientRect().height;Te.style.height=nt,en(ft),j(kt=>kt.find(at=>at.toastId===m.id)?kt.map(at=>at.toastId===m.id?{...at,height:ft}:at):[{toastId:m.id,height:ft,position:m.position},...kt])},[Q,m.title,m.description,j,m.id,m.jsx,m.action,m.cancel]);const dr=te.useCallback(()=>{_e(!0),It(ur.current),j(Te=>Te.filter(nt=>nt.toastId!==m.id)),setTimeout(()=>{P(m)},E2)},[m,P,j,ur]);te.useEffect(()=>{if(m.promise&&bt==="loading"||m.duration===1/0||m.type==="loading")return;let Te;return N||b||Vs?(()=>{if(_n.current<Bs.current){const kt=new Date().getTime()-Bs.current;Jt.current=Jt.current-kt}_n.current=new Date().getTime()})():(()=>{Jt.current!==1/0&&(Bs.current=new Date().getTime(),Te=setTimeout(()=>{m.onAutoClose==null||m.onAutoClose.call(m,m),dr()},Jt.current))})(),()=>clearTimeout(Te)},[N,b,m,bt,Vs,dr]),te.useEffect(()=>{m.delete&&(dr(),m.onDismiss==null||m.onDismiss.call(m,m))},[dr,m.delete]);function ei(){var Te;if($?.loading){var nt;return te.createElement("div",{className:Vr(B?.loader,m==null||(nt=m.classNames)==null?void 0:nt.loader,"sonner-loader"),"data-visible":bt==="loading"},$.loading)}return te.createElement(i2,{className:Vr(B?.loader,m==null||(Te=m.classNames)==null?void 0:Te.loader),visible:bt==="loading"})}const jn=m.icon||$?.[bt]||s2(bt);var rn,ti;return te.createElement("li",{tabIndex:0,ref:Qt,className:Vr(ne,sa,B?.toast,m==null||(e=m.classNames)==null?void 0:e.toast,B?.default,B?.[bt],m==null||(n=m.classNames)==null?void 0:n[bt]),"data-sonner-toast":"","data-rich-colors":(rn=m.richColors)!=null?rn:F,"data-styled":!(m.jsx||m.unstyled||x),"data-mounted":Q,"data-promise":!!m.promise,"data-swiped":Ie,"data-removed":oe,"data-visible":bn,"data-y-position":ia,"data-x-position":aa,"data-index":k,"data-front":ls,"data-swiping":J,"data-dismissible":tn,"data-type":bt,"data-invert":Zo,"data-swipe-out":Se,"data-swipe-direction":I,"data-expanded":!!(N||be&&Q),"data-testid":m.testId,style:{"--index":k,"--toasts-before":k,"--z-index":C.length-k,"--offset":`${oe?dt:ur.current}px`,"--initial-height":be?"auto":`${xn}px`,...D,...m.style},onDragEnd:()=>{re(!1),K(null),Sn.current=null},onPointerDown:Te=>{Te.button!==2&&(ds||!tn||(Qo.current=new Date,It(ur.current),Te.target.setPointerCapture(Te.pointerId),Te.target.tagName!=="BUTTON"&&(re(!0),Sn.current={x:Te.clientX,y:Te.clientY})))},onPointerUp:()=>{var Te,nt,ft;if(Se||!tn)return;Sn.current=null;const kt=Number(((Te=Qt.current)==null?void 0:Te.style.getPropertyValue("--swipe-amount-x").replace("px",""))||0),En=Number(((nt=Qt.current)==null?void 0:nt.style.getPropertyValue("--swipe-amount-y").replace("px",""))||0),at=new Date().getTime()-((ft=Qo.current)==null?void 0:ft.getTime()),vt=Z==="x"?kt:En,kn=Math.abs(vt)/at;if(Math.abs(vt)>=j2||kn>.11){It(ur.current),m.onDismiss==null||m.onDismiss.call(m,m),H(Z==="x"?kt>0?"right":"left":En>0?"down":"up"),dr(),Ce(!0);return}else{var _t,Xt;(_t=Qt.current)==null||_t.style.setProperty("--swipe-amount-x","0px"),(Xt=Qt.current)==null||Xt.style.setProperty("--swipe-amount-y","0px")}Me(!1),re(!1),K(null)},onPointerMove:Te=>{var nt,ft,kt;if(!Sn.current||!tn||((nt=window.getSelection())==null?void 0:nt.toString().length)>0)return;const at=Te.clientY-Sn.current.y,vt=Te.clientX-Sn.current.x;var kn;const _t=(kn=t.swipeDirections)!=null?kn:k2(le);!Z&&(Math.abs(vt)>1||Math.abs(at)>1)&&K(Math.abs(vt)>Math.abs(at)?"x":"y");let Xt={x:0,y:0};const Cn=fr=>1/(1.5+Math.abs(fr)/20);if(Z==="y"){if(_t.includes("top")||_t.includes("bottom"))if(_t.includes("top")&&at<0||_t.includes("bottom")&&at>0)Xt.y=at;else{const fr=at*Cn(at);Xt.y=Math.abs(fr)<Math.abs(at)?fr:at}}else if(Z==="x"&&(_t.includes("left")||_t.includes("right")))if(_t.includes("left")&&vt<0||_t.includes("right")&&vt>0)Xt.x=vt;else{const fr=vt*Cn(vt);Xt.x=Math.abs(fr)<Math.abs(vt)?fr:vt}(Math.abs(Xt.x)>0||Math.abs(Xt.y)>0)&&Me(!0),(ft=Qt.current)==null||ft.style.setProperty("--swipe-amount-x",`${Xt.x}px`),(kt=Qt.current)==null||kt.style.setProperty("--swipe-amount-y",`${Xt.y}px`)}},Xo&&!m.jsx&&bt!=="loading"?te.createElement("button",{"aria-label":O,"data-disabled":ds,"data-close-button":!0,onClick:ds||!tn?()=>{}:()=>{dr(),m.onDismiss==null||m.onDismiss.call(m,m)},className:Vr(B?.closeButton,m==null||(o=m.classNames)==null?void 0:o.closeButton)},(ti=$?.close)!=null?ti:d2):null,(bt||m.icon||m.promise)&&m.icon!==null&&($?.[bt]!==null||m.icon)?te.createElement("div",{"data-icon":"",className:Vr(B?.icon,m==null||(i=m.classNames)==null?void 0:i.icon)},m.promise||m.type==="loading"&&!m.icon?m.icon||ei():null,m.type!=="loading"?jn:null):null,te.createElement("div",{"data-content":"",className:Vr(B?.content,m==null||(a=m.classNames)==null?void 0:a.content)},te.createElement("div",{"data-title":"",className:Vr(B?.title,m==null||(u=m.classNames)==null?void 0:u.title)},m.jsx?m.jsx:typeof m.title=="function"?m.title():m.title),m.description?te.createElement("div",{"data-description":"",className:Vr(ue,oa,B?.description,m==null||(d=m.classNames)==null?void 0:d.description)},typeof m.description=="function"?m.description():m.description):null),te.isValidElement(m.cancel)?m.cancel:m.cancel&&Al(m.cancel)?te.createElement("button",{"data-button":!0,"data-cancel":!0,style:m.cancelButtonStyle||z,onClick:Te=>{Al(m.cancel)&&tn&&(m.cancel.onClick==null||m.cancel.onClick.call(m.cancel,Te),dr())},className:Vr(B?.cancelButton,m==null||(h=m.classNames)==null?void 0:h.cancelButton)},m.cancel.label):null,te.isValidElement(m.action)?m.action:m.action&&Al(m.action)?te.createElement("button",{"data-button":!0,"data-action":!0,style:m.actionButtonStyle||q,onClick:Te=>{Al(m.action)&&(m.action.onClick==null||m.action.onClick.call(m.action,Te),!Te.defaultPrevented&&dr())},className:Vr(B?.actionButton,m==null||(p=m.classNames)==null?void 0:p.actionButton)},m.action.label):null)};function hv(){if(typeof window>"u"||typeof document>"u")return"ltr";const t=document.documentElement.getAttribute("dir");return t==="auto"||!t?window.getComputedStyle(document.documentElement).direction:t}function N2(t,e){const n={};return[t,e].forEach((o,i)=>{const a=i===1,u=a?"--mobile-offset":"--offset",d=a?b2:x2;function h(p){["top","right","bottom","left"].forEach(g=>{n[`${u}-${g}`]=typeof p=="number"?`${p}px`:p})}typeof o=="number"||typeof o=="string"?h(o):typeof o=="object"?["top","right","bottom","left"].forEach(p=>{o[p]===void 0?n[`${u}-${p}`]=d:n[`${u}-${p}`]=typeof o[p]=="number"?`${o[p]}px`:o[p]}):h(d)}),n}const R2=te.forwardRef(function(e,n){const{id:o,invert:i,position:a="bottom-right",hotkey:u=["altKey","KeyT"],expand:d,closeButton:h,className:p,offset:g,mobileOffset:m,theme:x="light",richColors:b,duration:j,style:_,visibleToasts:S=w2,toastOptions:k,dir:C=hv(),gap:N=S2,icons:P,containerAriaLabel:F="Notifications"}=e,[V,D]=te.useState([]),z=te.useMemo(()=>o?V.filter(Q=>Q.toasterId===o):V.filter(Q=>!Q.toasterId),[V,o]),q=te.useMemo(()=>Array.from(new Set([a].concat(z.filter(Q=>Q.position).map(Q=>Q.position)))),[z,a]),[ne,ue]=te.useState([]),[ge,le]=te.useState(!1),[pe,be]=te.useState(!1),[B,$]=te.useState(x!=="system"?x:typeof window<"u"&&window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"),O=te.useRef(null),Z=u.join("+").replace(/Key/g,"").replace(/Digit/g,""),K=te.useRef(null),I=te.useRef(!1),H=te.useCallback(Q=>{D(W=>{var oe;return(oe=W.find(_e=>_e.id===Q.id))!=null&&oe.delete||Ht.dismiss(Q.id),W.filter(({id:_e})=>_e!==Q.id)})},[]);return te.useEffect(()=>Ht.subscribe(Q=>{if(Q.dismiss){requestAnimationFrame(()=>{D(W=>W.map(oe=>oe.id===Q.id?{...oe,delete:!0}:oe))});return}setTimeout(()=>{yv.flushSync(()=>{D(W=>{const oe=W.findIndex(_e=>_e.id===Q.id);return oe!==-1?[...W.slice(0,oe),{...W[oe],...Q},...W.slice(oe+1)]:[Q,...W]})})})}),[V]),te.useEffect(()=>{if(x!=="system"){$(x);return}if(x==="system"&&(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?$("dark"):$("light")),typeof window>"u")return;const Q=window.matchMedia("(prefers-color-scheme: dark)");try{Q.addEventListener("change",({matches:W})=>{$(W?"dark":"light")})}catch{Q.addListener(({matches:oe})=>{try{$(oe?"dark":"light")}catch(_e){console.error(_e)}})}},[x]),te.useEffect(()=>{V.length<=1&&le(!1)},[V]),te.useEffect(()=>{const Q=W=>{var oe;if(u.every(re=>W[re]||W.code===re)){var J;le(!0),(J=O.current)==null||J.focus()}W.code==="Escape"&&(document.activeElement===O.current||(oe=O.current)!=null&&oe.contains(document.activeElement))&&le(!1)};return document.addEventListener("keydown",Q),()=>document.removeEventListener("keydown",Q)},[u]),te.useEffect(()=>{if(O.current)return()=>{K.current&&(K.current.focus({preventScroll:!0}),K.current=null,I.current=!1)}},[O.current]),te.createElement("section",{ref:n,"aria-label":`${F} ${Z}`,tabIndex:-1,"aria-live":"polite","aria-relevant":"additions text","aria-atomic":"false",suppressHydrationWarning:!0},q.map((Q,W)=>{var oe;const[_e,J]=Q.split("-");return z.length?te.createElement("ol",{key:Q,dir:C==="auto"?hv():C,tabIndex:-1,ref:O,className:p,"data-sonner-toaster":!0,"data-sonner-theme":B,"data-y-position":_e,"data-x-position":J,style:{"--front-toast-height":`${((oe=ne[0])==null?void 0:oe.height)||0}px`,"--width":`${_2}px`,"--gap":`${N}px`,..._,...N2(g,m)},onBlur:re=>{I.current&&!re.currentTarget.contains(re.relatedTarget)&&(I.current=!1,K.current&&(K.current.focus({preventScroll:!0}),K.current=null))},onFocus:re=>{re.target instanceof HTMLElement&&re.target.dataset.dismissible==="false"||I.current||(I.current=!0,K.current=re.relatedTarget)},onMouseEnter:()=>le(!0),onMouseMove:()=>le(!0),onMouseLeave:()=>{pe||le(!1)},onDragEnd:()=>le(!1),onPointerDown:re=>{re.target instanceof HTMLElement&&re.target.dataset.dismissible==="false"||be(!0)},onPointerUp:()=>be(!1)},z.filter(re=>!re.position&&W===0||re.position===Q).map((re,Se)=>{var Ce,Ie;return te.createElement(C2,{key:re.id,icons:P,index:Se,toast:re,defaultRichColors:b,duration:(Ce=k?.duration)!=null?Ce:j,className:k?.className,descriptionClassName:k?.descriptionClassName,invert:i,visibleToasts:S,closeButton:(Ie=k?.closeButton)!=null?Ie:h,interacting:pe,position:Q,style:k?.style,unstyled:k?.unstyled,classNames:k?.classNames,cancelButtonStyle:k?.cancelButtonStyle,actionButtonStyle:k?.actionButtonStyle,closeButtonAriaLabel:k?.closeButtonAriaLabel,removeToast:H,toasts:z.filter(Me=>Me.position==re.position),heights:ne.filter(Me=>Me.position==re.position),setHeights:ue,expandByDefault:d,gap:N,expanded:ge,swipeDirections:e.swipeDirections})})):null}))});function T2({isOpen:t,onClose:e,profile:n}){const{user:o}=Xr(),{sendFriendRequest:i,friends:a}=G0(o?.id),[u,d]=w.useState(!1),[h,p]=w.useState(!1);w.useEffect(()=>{if(n.userId&&o?.id!==n.userId){const m=a.some(x=>x.friend_id===n.userId);d(m)}},[n.userId,a,o?.id]);const g=async()=>{if(!n.userId)return;p(!0),await i(n.userId)?(Pe.success("Friend request sent!"),d(!0)):Pe.error("Failed to send friend request"),p(!1)};return c.jsx(Uo,{open:t,onOpenChange:e,children:c.jsxs(zs,{className:"sm:max-w-[600px] max-h-[80vh] flex flex-col",children:[c.jsxs(zo,{children:[c.jsx(Bo,{children:"Profile"}),c.jsx(Vo,{children:"View profile information, stats, and activity."})]}),c.jsxs("div",{className:"flex-1 overflow-y-auto space-y-6",children:[c.jsxs("div",{className:"flex items-start justify-between",children:[c.jsxs("div",{className:"flex items-start gap-4",children:[c.jsx($t,{className:"h-16 w-16",children:c.jsx(Mt,{children:c.jsx(lr,{className:"h-8 w-8"})})}),c.jsxs("div",{className:"flex-1",children:[c.jsx("h3",{className:"text-lg font-semibold",children:n.name}),c.jsxs("p",{className:"text-muted-foreground",children:["@",n.username]}),c.jsxs("div",{className:"flex items-center gap-2 mt-2",children:[c.jsx(z1,{className:"h-4 w-4 text-muted-foreground"}),c.jsxs("span",{className:"text-sm text-muted-foreground",children:["Joined ",n.joinDate]})]})]})]}),o?.id!==n.userId&&c.jsx(se,{size:"sm",onClick:g,disabled:h||u,className:"shrink-0",children:u?c.jsxs(c.Fragment,{children:[c.jsx(Bj,{className:"h-4 w-4 mr-2"}),"Friends"]}):c.jsxs(c.Fragment,{children:[c.jsx(Wj,{className:"h-4 w-4 mr-2"}),"Add Friend"]})})]}),(n.instagram||n.tiktok)&&c.jsxs(c.Fragment,{children:[c.jsx(ql,{}),c.jsxs("div",{className:"space-y-2",children:[c.jsx("p",{className:"text-sm font-semibold",children:"Social Links"}),c.jsxs("div",{className:"flex gap-3",children:[n.instagram&&c.jsx(se,{variant:"outline",size:"sm",asChild:!0,children:c.jsxs("a",{href:`https://instagram.com/${n.instagram}`,target:"_blank",rel:"noopener noreferrer",children:[c.jsx(hj,{className:"h-4 w-4 mr-2"}),"Instagram"]})}),n.tiktok&&c.jsx(se,{variant:"outline",size:"sm",asChild:!0,children:c.jsxs("a",{href:`https://tiktok.com/@${n.tiktok}`,target:"_blank",rel:"noopener noreferrer",children:[c.jsx(Ef,{className:"h-4 w-4 mr-2"}),"TikTok"]})})]})]})]}),c.jsx(ql,{}),c.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[c.jsx(Le,{children:c.jsxs(Fe,{className:"p-4 text-center",children:[c.jsx("div",{className:"text-2xl font-bold",children:n.totalIdeas}),c.jsx("div",{className:"text-sm text-muted-foreground",children:"Ideas"})]})}),c.jsx(Le,{children:c.jsxs(Fe,{className:"p-4 text-center",children:[c.jsx("div",{className:"text-2xl font-bold text-green-600",children:n.totalVotes}),c.jsx("div",{className:"text-sm text-muted-foreground",children:"Votes"})]})}),c.jsx(Le,{children:c.jsxs(Fe,{className:"p-4 text-center",children:[c.jsx("div",{className:"text-2xl font-bold",children:n.totalComments}),c.jsx("div",{className:"text-sm text-muted-foreground",children:"Comments"})]})}),c.jsx(Le,{children:c.jsxs(Fe,{className:"p-4 text-center",children:[c.jsxs("div",{className:"flex items-center justify-center gap-1",children:[c.jsx(Uj,{className:"h-5 w-5 text-yellow-500"}),c.jsx("div",{className:"text-2xl font-bold",children:n.reputation})]}),c.jsx("div",{className:"text-sm text-muted-foreground",children:"Reputation"})]})})]}),c.jsxs(Go,{defaultValue:"ideas",className:"w-full",children:[c.jsxs(Yo,{className:"grid w-full grid-cols-2",children:[c.jsx(Gt,{value:"ideas",children:"Recent Ideas"}),c.jsx(Gt,{value:"comments",children:"Recent Comments"})]}),c.jsx(Yt,{value:"ideas",className:"space-y-3",children:n.recentIdeas.map(m=>c.jsxs(Le,{children:[c.jsx(Kt,{className:"pb-2",children:c.jsxs("div",{className:"flex items-start justify-between",children:[c.jsx("h4",{className:"font-medium",children:m.title}),c.jsx(ar,{variant:"secondary",children:m.category})]})}),c.jsx(Fe,{className:"pt-0",children:c.jsxs("div",{className:"flex items-center justify-between text-sm text-muted-foreground",children:[c.jsxs("div",{className:"flex items-center gap-1",children:[c.jsx(Lj,{className:"h-4 w-4"}),m.votes," votes"]}),c.jsx("span",{children:m.timeAgo})]})})]},m.id))}),c.jsx(Yt,{value:"comments",className:"space-y-3",children:n.recentComments.map(m=>c.jsxs(Le,{children:[c.jsx(Kt,{className:"pb-2",children:c.jsxs("h4",{className:"font-medium text-sm",children:["Re: ",m.ideaTitle]})}),c.jsxs(Fe,{className:"pt-0",children:[c.jsx("p",{className:"text-sm mb-2",children:m.content}),c.jsxs("div",{className:"flex items-center gap-1 text-xs text-muted-foreground",children:[c.jsx(bj,{className:"h-3 w-3"}),m.timeAgo]})]})]},m.id))})]})]}),c.jsx("div",{className:"flex justify-end",children:c.jsx(se,{variant:"outline",onClick:e,children:"Close"})})]})})}function P2(t,e){return w.useReducer((n,o)=>e[n][o]??n,t)}var Zf="ScrollArea",[Y0]=Us(Zf),[A2,br]=Y0(Zf),J0=w.forwardRef((t,e)=>{const{__scopeScrollArea:n,type:o="hover",dir:i,scrollHideDelay:a=600,...u}=t,[d,h]=w.useState(null),[p,g]=w.useState(null),[m,x]=w.useState(null),[b,j]=w.useState(null),[_,S]=w.useState(null),[k,C]=w.useState(0),[N,P]=w.useState(0),[F,V]=w.useState(!1),[D,z]=w.useState(!1),q=qe(e,ue=>h(ue)),ne=ic(i);return c.jsx(A2,{scope:n,type:o,dir:ne,scrollHideDelay:a,scrollArea:d,viewport:p,onViewportChange:g,content:m,onContentChange:x,scrollbarX:b,onScrollbarXChange:j,scrollbarXEnabled:F,onScrollbarXEnabledChange:V,scrollbarY:_,onScrollbarYChange:S,scrollbarYEnabled:D,onScrollbarYEnabledChange:z,onCornerWidthChange:C,onCornerHeightChange:P,children:c.jsx($e.div,{dir:ne,...u,ref:q,style:{position:"relative","--radix-scroll-area-corner-width":k+"px","--radix-scroll-area-corner-height":N+"px",...t.style}})})});J0.displayName=Zf;var Q0="ScrollAreaViewport",X0=w.forwardRef((t,e)=>{const{__scopeScrollArea:n,children:o,nonce:i,...a}=t,u=br(Q0,n),d=w.useRef(null),h=qe(e,d,u.onViewportChange);return c.jsxs(c.Fragment,{children:[c.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-scroll-area-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-scroll-area-viewport]::-webkit-scrollbar{display:none}"},nonce:i}),c.jsx($e.div,{"data-radix-scroll-area-viewport":"",...a,ref:h,style:{overflowX:u.scrollbarXEnabled?"scroll":"hidden",overflowY:u.scrollbarYEnabled?"scroll":"hidden",...t.style},children:c.jsx("div",{ref:u.onContentChange,style:{minWidth:"100%",display:"table"},children:o})})]})});X0.displayName=Q0;var Zr="ScrollAreaScrollbar",Z0=w.forwardRef((t,e)=>{const{forceMount:n,...o}=t,i=br(Zr,t.__scopeScrollArea),{onScrollbarXEnabledChange:a,onScrollbarYEnabledChange:u}=i,d=t.orientation==="horizontal";return w.useEffect(()=>(d?a(!0):u(!0),()=>{d?a(!1):u(!1)}),[d,a,u]),i.type==="hover"?c.jsx(O2,{...o,ref:e,forceMount:n}):i.type==="scroll"?c.jsx(I2,{...o,ref:e,forceMount:n}):i.type==="auto"?c.jsx(ex,{...o,ref:e,forceMount:n}):i.type==="always"?c.jsx(eh,{...o,ref:e}):null});Z0.displayName=Zr;var O2=w.forwardRef((t,e)=>{const{forceMount:n,...o}=t,i=br(Zr,t.__scopeScrollArea),[a,u]=w.useState(!1);return w.useEffect(()=>{const d=i.scrollArea;let h=0;if(d){const p=()=>{window.clearTimeout(h),u(!0)},g=()=>{h=window.setTimeout(()=>u(!1),i.scrollHideDelay)};return d.addEventListener("pointerenter",p),d.addEventListener("pointerleave",g),()=>{window.clearTimeout(h),d.removeEventListener("pointerenter",p),d.removeEventListener("pointerleave",g)}}},[i.scrollArea,i.scrollHideDelay]),c.jsx(wn,{present:n||a,children:c.jsx(ex,{"data-state":a?"visible":"hidden",...o,ref:e})})}),I2=w.forwardRef((t,e)=>{const{forceMount:n,...o}=t,i=br(Zr,t.__scopeScrollArea),a=t.orientation==="horizontal",u=vc(()=>h("SCROLL_END"),100),[d,h]=P2("hidden",{hidden:{SCROLL:"scrolling"},scrolling:{SCROLL_END:"idle",POINTER_ENTER:"interacting"},interacting:{SCROLL:"interacting",POINTER_LEAVE:"idle"},idle:{HIDE:"hidden",SCROLL:"scrolling",POINTER_ENTER:"interacting"}});return w.useEffect(()=>{if(d==="idle"){const p=window.setTimeout(()=>h("HIDE"),i.scrollHideDelay);return()=>window.clearTimeout(p)}},[d,i.scrollHideDelay,h]),w.useEffect(()=>{const p=i.viewport,g=a?"scrollLeft":"scrollTop";if(p){let m=p[g];const x=()=>{const b=p[g];m!==b&&(h("SCROLL"),u()),m=b};return p.addEventListener("scroll",x),()=>p.removeEventListener("scroll",x)}},[i.viewport,a,h,u]),c.jsx(wn,{present:n||d!=="hidden",children:c.jsx(eh,{"data-state":d==="hidden"?"hidden":"visible",...o,ref:e,onPointerEnter:Ae(t.onPointerEnter,()=>h("POINTER_ENTER")),onPointerLeave:Ae(t.onPointerLeave,()=>h("POINTER_LEAVE"))})})}),ex=w.forwardRef((t,e)=>{const n=br(Zr,t.__scopeScrollArea),{forceMount:o,...i}=t,[a,u]=w.useState(!1),d=t.orientation==="horizontal",h=vc(()=>{if(n.viewport){const p=n.viewport.offsetWidth<n.viewport.scrollWidth,g=n.viewport.offsetHeight<n.viewport.scrollHeight;u(d?p:g)}},10);return Ao(n.viewport,h),Ao(n.content,h),c.jsx(wn,{present:o||a,children:c.jsx(eh,{"data-state":a?"visible":"hidden",...i,ref:e})})}),eh=w.forwardRef((t,e)=>{const{orientation:n="vertical",...o}=t,i=br(Zr,t.__scopeScrollArea),a=w.useRef(null),u=w.useRef(0),[d,h]=w.useState({content:0,viewport:0,scrollbar:{size:0,paddingStart:0,paddingEnd:0}}),p=ox(d.viewport,d.content),g={...o,sizes:d,onSizesChange:h,hasThumb:p>0&&p<1,onThumbChange:x=>a.current=x,onThumbPointerUp:()=>u.current=0,onThumbPointerDown:x=>u.current=x};function m(x,b){return U2(x,u.current,d,b)}return n==="horizontal"?c.jsx(D2,{...g,ref:e,onThumbPositionChange:()=>{if(i.viewport&&a.current){const x=i.viewport.scrollLeft,b=pv(x,d,i.dir);a.current.style.transform=`translate3d(${b}px, 0, 0)`}},onWheelScroll:x=>{i.viewport&&(i.viewport.scrollLeft=x)},onDragScroll:x=>{i.viewport&&(i.viewport.scrollLeft=m(x,i.dir))}}):n==="vertical"?c.jsx(L2,{...g,ref:e,onThumbPositionChange:()=>{if(i.viewport&&a.current){const x=i.viewport.scrollTop,b=pv(x,d);a.current.style.transform=`translate3d(0, ${b}px, 0)`}},onWheelScroll:x=>{i.viewport&&(i.viewport.scrollTop=x)},onDragScroll:x=>{i.viewport&&(i.viewport.scrollTop=m(x))}}):null}),D2=w.forwardRef((t,e)=>{const{sizes:n,onSizesChange:o,...i}=t,a=br(Zr,t.__scopeScrollArea),[u,d]=w.useState(),h=w.useRef(null),p=qe(e,h,a.onScrollbarXChange);return w.useEffect(()=>{h.current&&d(getComputedStyle(h.current))},[h]),c.jsx(rx,{"data-orientation":"horizontal",...i,ref:p,sizes:n,style:{bottom:0,left:a.dir==="rtl"?"var(--radix-scroll-area-corner-width)":0,right:a.dir==="ltr"?"var(--radix-scroll-area-corner-width)":0,"--radix-scroll-area-thumb-width":gc(n)+"px",...t.style},onThumbPointerDown:g=>t.onThumbPointerDown(g.x),onDragScroll:g=>t.onDragScroll(g.x),onWheelScroll:(g,m)=>{if(a.viewport){const x=a.viewport.scrollLeft+g.deltaX;t.onWheelScroll(x),ax(x,m)&&g.preventDefault()}},onResize:()=>{h.current&&a.viewport&&u&&o({content:a.viewport.scrollWidth,viewport:a.viewport.offsetWidth,scrollbar:{size:h.current.clientWidth,paddingStart:Ql(u.paddingLeft),paddingEnd:Ql(u.paddingRight)}})}})}),L2=w.forwardRef((t,e)=>{const{sizes:n,onSizesChange:o,...i}=t,a=br(Zr,t.__scopeScrollArea),[u,d]=w.useState(),h=w.useRef(null),p=qe(e,h,a.onScrollbarYChange);return w.useEffect(()=>{h.current&&d(getComputedStyle(h.current))},[h]),c.jsx(rx,{"data-orientation":"vertical",...i,ref:p,sizes:n,style:{top:0,right:a.dir==="ltr"?0:void 0,left:a.dir==="rtl"?0:void 0,bottom:"var(--radix-scroll-area-corner-height)","--radix-scroll-area-thumb-height":gc(n)+"px",...t.style},onThumbPointerDown:g=>t.onThumbPointerDown(g.y),onDragScroll:g=>t.onDragScroll(g.y),onWheelScroll:(g,m)=>{if(a.viewport){const x=a.viewport.scrollTop+g.deltaY;t.onWheelScroll(x),ax(x,m)&&g.preventDefault()}},onResize:()=>{h.current&&a.viewport&&u&&o({content:a.viewport.scrollHeight,viewport:a.viewport.offsetHeight,scrollbar:{size:h.current.clientHeight,paddingStart:Ql(u.paddingTop),paddingEnd:Ql(u.paddingBottom)}})}})}),[$2,tx]=Y0(Zr),rx=w.forwardRef((t,e)=>{const{__scopeScrollArea:n,sizes:o,hasThumb:i,onThumbChange:a,onThumbPointerUp:u,onThumbPointerDown:d,onThumbPositionChange:h,onDragScroll:p,onWheelScroll:g,onResize:m,...x}=t,b=br(Zr,n),[j,_]=w.useState(null),S=qe(e,q=>_(q)),k=w.useRef(null),C=w.useRef(""),N=b.viewport,P=o.content-o.viewport,F=Ot(g),V=Ot(h),D=vc(m,10);function z(q){if(k.current){const ne=q.clientX-k.current.left,ue=q.clientY-k.current.top;p({x:ne,y:ue})}}return w.useEffect(()=>{const q=ne=>{const ue=ne.target;j?.contains(ue)&&F(ne,P)};return document.addEventListener("wheel",q,{passive:!1}),()=>document.removeEventListener("wheel",q,{passive:!1})},[N,j,P,F]),w.useEffect(V,[o,V]),Ao(j,D),Ao(b.content,D),c.jsx($2,{scope:n,scrollbar:j,hasThumb:i,onThumbChange:Ot(a),onThumbPointerUp:Ot(u),onThumbPositionChange:V,onThumbPointerDown:Ot(d),children:c.jsx($e.div,{...x,ref:S,style:{position:"absolute",...x.style},onPointerDown:Ae(t.onPointerDown,q=>{q.button===0&&(q.target.setPointerCapture(q.pointerId),k.current=j.getBoundingClientRect(),C.current=document.body.style.webkitUserSelect,document.body.style.webkitUserSelect="none",b.viewport&&(b.viewport.style.scrollBehavior="auto"),z(q))}),onPointerMove:Ae(t.onPointerMove,z),onPointerUp:Ae(t.onPointerUp,q=>{const ne=q.target;ne.hasPointerCapture(q.pointerId)&&ne.releasePointerCapture(q.pointerId),document.body.style.webkitUserSelect=C.current,b.viewport&&(b.viewport.style.scrollBehavior=""),k.current=null})})})}),Jl="ScrollAreaThumb",nx=w.forwardRef((t,e)=>{const{forceMount:n,...o}=t,i=tx(Jl,t.__scopeScrollArea);return c.jsx(wn,{present:n||i.hasThumb,children:c.jsx(M2,{ref:e,...o})})}),M2=w.forwardRef((t,e)=>{const{__scopeScrollArea:n,style:o,...i}=t,a=br(Jl,n),u=tx(Jl,n),{onThumbPositionChange:d}=u,h=qe(e,m=>u.onThumbChange(m)),p=w.useRef(void 0),g=vc(()=>{p.current&&(p.current(),p.current=void 0)},100);return w.useEffect(()=>{const m=a.viewport;if(m){const x=()=>{if(g(),!p.current){const b=z2(m,d);p.current=b,d()}};return d(),m.addEventListener("scroll",x),()=>m.removeEventListener("scroll",x)}},[a.viewport,g,d]),c.jsx($e.div,{"data-state":u.hasThumb?"visible":"hidden",...i,ref:h,style:{width:"var(--radix-scroll-area-thumb-width)",height:"var(--radix-scroll-area-thumb-height)",...o},onPointerDownCapture:Ae(t.onPointerDownCapture,m=>{const b=m.target.getBoundingClientRect(),j=m.clientX-b.left,_=m.clientY-b.top;u.onThumbPointerDown({x:j,y:_})}),onPointerUp:Ae(t.onPointerUp,u.onThumbPointerUp)})});nx.displayName=Jl;var th="ScrollAreaCorner",sx=w.forwardRef((t,e)=>{const n=br(th,t.__scopeScrollArea),o=!!(n.scrollbarX&&n.scrollbarY);return n.type!=="scroll"&&o?c.jsx(F2,{...t,ref:e}):null});sx.displayName=th;var F2=w.forwardRef((t,e)=>{const{__scopeScrollArea:n,...o}=t,i=br(th,n),[a,u]=w.useState(0),[d,h]=w.useState(0),p=!!(a&&d);return Ao(i.scrollbarX,()=>{const g=i.scrollbarX?.offsetHeight||0;i.onCornerHeightChange(g),h(g)}),Ao(i.scrollbarY,()=>{const g=i.scrollbarY?.offsetWidth||0;i.onCornerWidthChange(g),u(g)}),p?c.jsx($e.div,{...o,ref:e,style:{width:a,height:d,position:"absolute",right:i.dir==="ltr"?0:void 0,left:i.dir==="rtl"?0:void 0,bottom:0,...t.style}}):null});function Ql(t){return t?parseInt(t,10):0}function ox(t,e){const n=t/e;return isNaN(n)?0:n}function gc(t){const e=ox(t.viewport,t.content),n=t.scrollbar.paddingStart+t.scrollbar.paddingEnd,o=(t.scrollbar.size-n)*e;return Math.max(o,18)}function U2(t,e,n,o="ltr"){const i=gc(n),a=i/2,u=e||a,d=i-u,h=n.scrollbar.paddingStart+u,p=n.scrollbar.size-n.scrollbar.paddingEnd-d,g=n.content-n.viewport,m=o==="ltr"?[0,g]:[g*-1,0];return ix([h,p],m)(t)}function pv(t,e,n="ltr"){const o=gc(e),i=e.scrollbar.paddingStart+e.scrollbar.paddingEnd,a=e.scrollbar.size-i,u=e.content-e.viewport,d=a-o,h=n==="ltr"?[0,u]:[u*-1,0],p=Hd(t,h);return ix([0,u],[0,d])(p)}function ix(t,e){return n=>{if(t[0]===t[1]||e[0]===e[1])return e[0];const o=(e[1]-e[0])/(t[1]-t[0]);return e[0]+o*(n-t[0])}}function ax(t,e){return t>0&&t<e}var z2=(t,e=()=>{})=>{let n={left:t.scrollLeft,top:t.scrollTop},o=0;return(function i(){const a={left:t.scrollLeft,top:t.scrollTop},u=n.left!==a.left,d=n.top!==a.top;(u||d)&&e(),n=a,o=window.requestAnimationFrame(i)})(),()=>window.cancelAnimationFrame(o)};function vc(t,e){const n=Ot(t),o=w.useRef(0);return w.useEffect(()=>()=>window.clearTimeout(o.current),[]),w.useCallback(()=>{window.clearTimeout(o.current),o.current=window.setTimeout(n,e)},[n,e])}function Ao(t,e){const n=Ot(e);ut(()=>{let o=0;if(t){const i=new ResizeObserver(()=>{cancelAnimationFrame(o),o=window.requestAnimationFrame(n)});return i.observe(t),()=>{window.cancelAnimationFrame(o),i.unobserve(t)}}},[t,n])}var B2=J0,V2=X0,W2=sx;function mv({className:t,children:e,...n}){return c.jsxs(B2,{"data-slot":"scroll-area",className:me("relative",t),...n,children:[c.jsx(V2,{"data-slot":"scroll-area-viewport",className:"focus-visible:ring-ring/50 size-full rounded-[inherit] transition-[color,box-shadow] outline-none focus-visible:ring-[3px] focus-visible:outline-1",children:e}),c.jsx(H2,{}),c.jsx(W2,{})]})}function H2({className:t,orientation:e="vertical",...n}){return c.jsx(Z0,{"data-slot":"scroll-area-scrollbar",orientation:e,className:me("flex touch-none p-px transition-colors select-none",e==="vertical"&&"h-full w-2.5 border-l border-l-transparent",e==="horizontal"&&"h-2.5 flex-col border-t border-t-transparent",t),...n,children:c.jsx(nx,{"data-slot":"scroll-area-thumb",className:"bg-border relative flex-1 rounded-full"})})}function q2(t){return new Date(t).toLocaleTimeString("en-US",{hour:"2-digit",minute:"2-digit"})}function lx(t,e){const[n,o]=w.useState([]),[i,a]=w.useState(!0),[u,d]=w.useState(null);w.useEffect(()=>{if(e){h();const g=ie.channel(`messages_${t}_${e}`).on("postgres_changes",{event:"INSERT",schema:"public",table:"messages",filter:`sender_id=eq.${e},recipient_id=eq.${t}`},()=>h()).subscribe();return()=>{g.unsubscribe()}}},[t,e]);async function h(){if(e)try{const{data:g,error:m}=await ie.from("messages").select(`
          *,
          sender:profiles!messages_sender_id_fkey(username, full_name)
        `).or(`and(sender_id.eq.${t},recipient_id.eq.${e}),and(sender_id.eq.${e},recipient_id.eq.${t})`).order("created_at",{ascending:!0});if(m)throw m;const x=(g||[]).map(b=>({id:b.id,sender:b.sender?.full_name||b.sender?.username||"Unknown",senderId:b.sender_id,content:b.content,timestamp:q2(b.created_at),isCurrentUser:b.sender_id===t}));o(x),d(null),g&&g.length>0&&await ie.from("messages").update({read:!0}).eq("recipient_id",t).eq("sender_id",e).eq("read",!1)}catch(g){console.error("Error fetching messages:",g),d(g instanceof Error?g.message:"Failed to fetch messages")}finally{a(!1)}}async function p(g){if(!e)throw new Error("No recipient selected");try{const{error:m}=await ie.from("messages").insert({sender_id:t,recipient_id:e,content:g,read:!1});if(m)throw m;await h()}catch(m){throw console.error("Error sending message:",m),m}}return{messages:n,loading:i,error:u,sendMessage:p,refetch:h}}function K2(t){const[e,n]=w.useState([]),[o,i]=w.useState(!0),[a,u]=w.useState(null);w.useEffect(()=>{d()},[t]);async function d(){try{const{data:m,error:x}=await ie.from("profiles").select("*").neq("id",t);if(x)throw x;const b=await Promise.all((m||[]).map(async j=>{const{data:_}=await ie.from("messages").select("content, created_at").or(`and(sender_id.eq.${t},recipient_id.eq.${j.id}),and(sender_id.eq.${j.id},recipient_id.eq.${t})`).order("created_at",{ascending:!1}).limit(1).maybeSingle();return{id:j.id,name:j.full_name||j.username,isOnline:!1,lastMessage:_?.content}}));n(b),u(null)}catch(m){console.error("Error fetching users:",m),u(m instanceof Error?m.message:"Failed to fetch users")}finally{i(!1)}}return{users:e,loading:o,error:a,refetch:d,fetchConversations:async()=>{if(!t)return[];try{const{data:m}=await ie.from("messages").select("sender_id, recipient_id, content, created_at, read").or(`sender_id.eq.${t},recipient_id.eq.${t}`).order("created_at",{ascending:!1}),x=new Map;for(const b of m||[]){const j=b.sender_id===t?b.recipient_id:b.sender_id;if(x.has(j)){const _=x.get(j);b.recipient_id===t&&!b.read&&(_.unreadCount=(_.unreadCount||0)+1)}else{const{data:_}=await ie.from("profiles").select("username, full_name, avatar_url").eq("id",j).single();x.set(j,{id:j,username:_?.username||"Unknown",full_name:_?.full_name||"Unknown",avatar_url:_?.avatar_url,lastMessage:b.content,lastMessageTime:b.created_at,unreadCount:b.recipient_id===t&&!b.read?1:0})}}return Array.from(x.values())}catch(m){return console.error("Error fetching conversations:",m),[]}},sendMessage:async(m,x)=>{if(!t||!x.trim())return!1;try{const{error:b}=await ie.from("messages").insert({sender_id:t,recipient_id:m,content:x.trim()});return!b}catch(b){return console.error("Error sending message:",b),!1}},markAsRead:async m=>{if(!t||m.length===0)return!1;try{const{error:x}=await ie.from("messages").update({read:!0}).in("id",m);return!x}catch(x){return console.error("Error marking as read:",x),!1}}}}function G2({isOpen:t,onClose:e}){const{user:n}=Xr(),[o,i]=w.useState(null),[a,u]=w.useState(""),[d,h]=w.useState(""),{users:p}=K2(n?.id||""),{messages:g,sendMessage:m}=lx(n?.id||"",o||void 0),x=p.filter(_=>_.name.toLowerCase().includes(d.toLowerCase())),b=async _=>{if(_.preventDefault(),a.trim()&&n)try{await m(a),u("")}catch(S){console.error("Error sending message:",S),alert("Failed to send message")}},j=p.find(_=>_.id===o);return c.jsx(Uo,{open:t,onOpenChange:e,children:c.jsxs(zs,{className:"sm:max-w-[800px] h-[600px] flex flex-col p-0",children:[c.jsxs(zo,{className:"p-6 pb-0",children:[c.jsx(Bo,{children:"Messages"}),c.jsx(Vo,{children:"Chat with other students about ideas and proposals. Select a user to start or continue a conversation."})]}),c.jsxs("div",{className:"flex flex-1 overflow-hidden",children:[c.jsxs("div",{className:"w-1/3 border-r bg-muted/20",children:[c.jsx("div",{className:"p-4 border-b",children:c.jsxs("div",{className:"relative",children:[c.jsx(rc,{className:"absolute left-3 top-1/2 h-4 w-4 -translate-y-1/2 text-muted-foreground"}),c.jsx(rt,{placeholder:"Search users...",value:d,onChange:_=>h(_.target.value),className:"pl-10"})]})}),c.jsx(mv,{className:"h-[calc(600px-120px)]",children:c.jsx("div",{className:"p-2 space-y-1",children:x.map(_=>c.jsx(Le,{className:me("cursor-pointer transition-colors hover:bg-accent",o===_.id&&"bg-accent"),onClick:()=>i(_.id),children:c.jsx(Fe,{className:"p-3",children:c.jsxs("div",{className:"flex items-center gap-3",children:[c.jsxs("div",{className:"relative",children:[c.jsx($t,{className:"h-10 w-10",children:c.jsx(Mt,{children:c.jsx(lr,{className:"h-5 w-5"})})}),_.isOnline&&c.jsx("div",{className:"absolute -bottom-1 -right-1 h-3 w-3 bg-green-500 rounded-full border-2 border-background"})]}),c.jsxs("div",{className:"flex-1 min-w-0",children:[c.jsx("p",{className:"font-medium truncate",children:_.name}),_.lastMessage&&c.jsx("p",{className:"text-xs text-muted-foreground truncate",children:_.lastMessage})]})]})})},_.id))})})]}),c.jsx("div",{className:"flex-1 flex flex-col",children:o?c.jsxs(c.Fragment,{children:[c.jsx("div",{className:"p-4 border-b",children:c.jsxs("div",{className:"flex items-center gap-3",children:[c.jsx($t,{className:"h-10 w-10",children:c.jsx(Mt,{children:c.jsx(lr,{className:"h-5 w-5"})})}),c.jsxs("div",{children:[c.jsx("h3",{className:"font-medium",children:j?.name}),c.jsx("p",{className:"text-xs text-muted-foreground",children:j?.isOnline?"Online":"Offline"})]})]})}),c.jsx(mv,{className:"flex-1 p-4",children:c.jsx("div",{className:"space-y-4",children:g.map(_=>c.jsxs("div",{className:me("flex gap-3",_.isCurrentUser&&"flex-row-reverse"),children:[c.jsx($t,{className:"h-8 w-8",children:c.jsx(Mt,{children:c.jsx(lr,{className:"h-4 w-4"})})}),c.jsxs("div",{className:me("max-w-[70%] space-y-1",_.isCurrentUser&&"items-end"),children:[c.jsx("div",{className:me("rounded-lg p-3",_.isCurrentUser?"bg-primary text-primary-foreground":"bg-muted"),children:c.jsx("p",{className:"text-sm",children:_.content})}),c.jsx("p",{className:"text-xs text-muted-foreground",children:_.timestamp})]})]},_.id))})}),c.jsx("form",{onSubmit:b,className:"p-4 border-t",children:c.jsxs("div",{className:"flex gap-2",children:[c.jsx(rt,{placeholder:"Type a message...",value:a,onChange:_=>u(_.target.value),className:"flex-1"}),c.jsx(se,{type:"submit",size:"icon",disabled:!a.trim(),children:c.jsx(jo,{className:"h-4 w-4"})})]})})]}):c.jsx("div",{className:"flex-1 flex items-center justify-center",children:c.jsx("p",{className:"text-muted-foreground",children:"Select a user to start chatting"})})})]})]})})}function Y2(){const[t,e]=w.useState(null),[n,o]=w.useState(!1),[i,a]=w.useState(!1);return w.useEffect(()=>{const d=window.location.hostname==="localhost"||window.location.hostname==="127.0.0.1",h=window.location.protocol==="https:";if(window!==window.parent){console.log("PWA features disabled in iframe environment");return}window.matchMedia("(display-mode: standalone)").matches&&a(!0);const g=m=>{m.preventDefault(),e(m),o(!0)};return window.addEventListener("beforeinstallprompt",g),window.addEventListener("appinstalled",()=>{a(!0),o(!1),e(null)}),"serviceWorker"in navigator&&(h||d)&&navigator.serviceWorker.register("/service-worker.js").then(m=>{console.log("Service Worker registered successfully:",m)}).catch(m=>{console.warn("Service Worker registration failed (this is normal in preview environments):",m.message)}),()=>{window.removeEventListener("beforeinstallprompt",g)}},[]),{isInstallable:n,isInstalled:i,installApp:async()=>{if(!t)return;t.prompt();const{outcome:d}=await t.userChoice;console.log(d==="accepted"?"User accepted the install prompt":"User dismissed the install prompt"),e(null),o(!1)}}}function J2(){const{isInstallable:t,isInstalled:e,installApp:n}=Y2(),[o,i]=w.useState(!1);return typeof window<"u"&&window!==window.parent||e||!t||o?null:c.jsx("div",{className:"fixed bottom-4 left-4 right-4 z-50 md:left-auto md:right-4 md:max-w-sm",children:c.jsx(Le,{className:"border-2 shadow-lg",children:c.jsx(Fe,{className:"p-4",children:c.jsxs("div",{className:"flex items-start gap-3",children:[c.jsx("div",{className:"flex-shrink-0 mt-1",children:c.jsx(Ij,{className:"h-6 w-6 text-primary"})}),c.jsxs("div",{className:"flex-1 min-w-0",children:[c.jsx("h4",{className:"mb-1",children:"Install School Ideas"}),c.jsx("p",{className:"text-sm text-muted-foreground mb-3",children:"Add to your home screen for quick access and offline support"}),c.jsxs("div",{className:"flex gap-2",children:[c.jsxs(se,{onClick:n,size:"sm",className:"gap-2",children:[c.jsx(nj,{className:"h-4 w-4"}),"Install"]}),c.jsx(se,{onClick:()=>i(!0),size:"sm",variant:"ghost",children:"Later"})]})]}),c.jsx(se,{variant:"ghost",size:"sm",onClick:()=>i(!0),className:"flex-shrink-0 h-8 w-8 p-0",children:c.jsx(ly,{className:"h-4 w-4"})})]})})})})}function Xi(t){const e=new Date(t),o=new Date().getTime()-e.getTime(),i=Math.floor(o/6e4),a=Math.floor(o/36e5),u=Math.floor(o/864e5);return i<1?"just now":i<60?`${i} minute${i>1?"s":""} ago`:a<24?`${a} hour${a>1?"s":""} ago`:u<7?`${u} day${u>1?"s":""} ago`:e.toLocaleDateString()}function yc(t){const[e,n]=w.useState([]),[o,i]=w.useState(!0),[a,u]=w.useState(null);w.useEffect(()=>{d();const h=ie.channel("ideas_changes").on("postgres_changes",{event:"*",schema:"public",table:"ideas"},()=>d()).subscribe();return()=>{h.unsubscribe()}},[t]);async function d(){try{const{data:h,error:p}=await ie.from("ideas").select(`
          *,
          author:profiles!ideas_author_id_fkey(username, full_name)
        `).order("created_at",{ascending:!1});if(p)throw p;let g=[];if(t){const{data:x,error:b}=await ie.from("votes").select("idea_id, vote_type").eq("user_id",t);!b&&x&&(g=x)}const m=(h||[]).map(x=>{const b=g.find(j=>j.idea_id===x.id);return{id:x.id,title:x.title,description:x.description,author:x.author?.full_name||x.author?.username||"Unknown",category:x.category,votes:x.votes,userVote:b?b.vote_type:null,commentCount:x.comment_count,timeAgo:Xi(x.created_at)}});n(m),u(null)}catch(h){console.error("Error fetching ideas:",h),u(h instanceof Error?h.message:"Failed to fetch ideas")}finally{i(!1)}}return{ideas:e,loading:o,error:a,refetch:d}}function cx(t){const[e,n]=w.useState([]),[o,i]=w.useState(!0),[a,u]=w.useState(null);w.useEffect(()=>{d();const h=ie.channel("teacher_ideas_changes").on("postgres_changes",{event:"*",schema:"public",table:"ideas"},()=>d()).subscribe();return()=>{h.unsubscribe()}},[t]);async function d(){try{const{data:h,error:p}=await ie.from("ideas").select(`
          *,
          author:profiles!ideas_author_id_fkey(username, full_name),
          reviewer:profiles!ideas_reviewed_by_fkey(username, full_name)
        `).order("created_at",{ascending:!1});if(p)throw p;let g=[];if(t){const{data:x,error:b}=await ie.from("votes").select("idea_id, vote_type").eq("user_id",t);!b&&x&&(g=x)}const m=(h||[]).map(x=>{const b=g.find(j=>j.idea_id===x.id);return{id:x.id,title:x.title,description:x.description,author:x.author?.full_name||x.author?.username||"Unknown",category:x.category,votes:x.votes,userVote:b?b.vote_type:null,commentCount:x.comment_count,timeAgo:Xi(x.created_at),status:x.status,teacherNotes:x.teacher_notes||void 0,forwardedDate:x.forwarded_date?Xi(x.forwarded_date):void 0,reviewedBy:x.reviewer?.full_name||x.reviewer?.username||void 0}});n(m),u(null)}catch(h){console.error("Error fetching teacher ideas:",h),u(h instanceof Error?h.message:"Failed to fetch ideas")}finally{i(!1)}}return{ideas:e,loading:o,error:a,refetch:d}}function Q2(t){const[e,n]=w.useState([]),[o,i]=w.useState(!0),[a,u]=w.useState(null);w.useEffect(()=>{d();const h=ie.channel("principal_ideas_changes").on("postgres_changes",{event:"*",schema:"public",table:"ideas"},()=>d()).subscribe();return()=>{h.unsubscribe()}},[t]);async function d(){try{const{data:h,error:p}=await ie.from("ideas").select(`
          *,
          author:profiles!ideas_author_id_fkey(username, full_name),
          reviewer:profiles!ideas_reviewed_by_fkey(username, full_name)
        `).order("created_at",{ascending:!1});if(p)throw p;let g=[];if(t){const{data:x,error:b}=await ie.from("votes").select("idea_id, vote_type").eq("user_id",t);!b&&x&&(g=x)}const m=(h||[]).map(x=>{const b=g.find(j=>j.idea_id===x.id);return{id:x.id,title:x.title,description:x.description,author:x.author?.full_name||x.author?.username||"Unknown",category:x.category,votes:x.votes,userVote:b?b.vote_type:null,commentCount:x.comment_count,timeAgo:Xi(x.created_at),status:x.status,teacherNotes:x.teacher_notes||void 0,forwardedDate:x.forwarded_date?Xi(x.forwarded_date):void 0,reviewedBy:x.reviewer?.full_name||x.reviewer?.username||void 0,principalStatus:x.principal_status||void 0,principalNotes:x.principal_notes||void 0,budget:x.budget||void 0,priority:x.priority||void 0,implementationDate:x.implementation_date||void 0}});n(m),u(null)}catch(h){console.error("Error fetching principal ideas:",h),u(h instanceof Error?h.message:"Failed to fetch ideas")}finally{i(!1)}}return{ideas:e,loading:o,error:a,refetch:d}}function ux(){async function t(e,n,o){if(!n)throw new Error("User must be authenticated to vote");try{const{data:i,error:a}=await ie.from("votes").select("*").eq("user_id",n).eq("idea_id",e).maybeSingle();if(a)throw a;if(i)if(i.vote_type===o){const{error:u}=await ie.from("votes").delete().eq("id",i.id);if(u)throw u}else{const{error:u}=await ie.from("votes").update({vote_type:o}).eq("id",i.id);if(u)throw u}else{const{error:u}=await ie.from("votes").insert({user_id:n,idea_id:e,vote_type:o});if(u)throw u}}catch(i){throw console.error("Error voting:",i),i}}return{vote:t}}function wc(){async function t(i){const{data:a,error:u}=await ie.from("ideas").insert({title:i.title,description:i.description,category:i.category,author_id:i.authorId,status:"new"}).select().single();if(u)throw u;return a}async function e(i,a,u,d){const h={status:a};u!==void 0&&(h.teacher_notes=u),d!==void 0&&(h.reviewed_by=d),a==="forwarded"&&(h.forwarded_date=new Date().toISOString());const{error:p}=await ie.from("ideas").update(h).eq("id",i);if(p)throw p}async function n(i,a,u,d,h,p){const g={principal_status:a};u!==void 0&&(g.principal_notes=u),d!==void 0&&(g.budget=d),h!==void 0&&(g.priority=h),p!==void 0&&(g.implementation_date=p);const{error:m}=await ie.from("ideas").update(g).eq("id",i);if(m)throw m}async function o(i){const{error:a}=await ie.from("ideas").delete().eq("id",i);if(a)throw a}return{createIdea:t,updateIdeaStatus:e,updatePrincipalStatus:n,deleteIdea:o}}function X2(t){const e=new Date(t),o=new Date().getTime()-e.getTime(),i=Math.floor(o/6e4),a=Math.floor(o/36e5),u=Math.floor(o/864e5);return i<1?"just now":i<60?`${i} minute${i>1?"s":""} ago`:a<24?`${a} hour${a>1?"s":""} ago`:u<7?`${u} day${u>1?"s":""} ago`:e.toLocaleDateString()}function dx(t,e){const[n,o]=w.useState([]),[i,a]=w.useState(!0),[u,d]=w.useState(null);w.useEffect(()=>{if(t){h();const m=ie.channel(`comments_${t}`).on("postgres_changes",{event:"*",schema:"public",table:"comments",filter:`idea_id=eq.${t}`},()=>h()).subscribe();return()=>{m.unsubscribe()}}},[t,e]);async function h(){try{const{data:m,error:x}=await ie.from("comments").select(`
          *,
          author:profiles!comments_author_id_fkey(username, full_name)
        `).eq("idea_id",t).order("created_at",{ascending:!0});if(x)throw x;let b=[];if(e){const{data:S,error:k}=await ie.from("comment_votes").select("comment_id, vote_type").eq("user_id",e);!k&&S&&(b=S)}const j=new Map,_=[];(m||[]).forEach(S=>{const k=b.find(N=>N.comment_id===S.id),C={id:S.id,author:S.author?.full_name||S.author?.username||"Unknown",content:S.content,votes:S.votes,userVote:k?k.vote_type:null,timeAgo:X2(S.created_at),replies:[]};if(j.set(S.id,C),S.parent_id){const N=j.get(S.parent_id);N&&N.replies.push(C)}else _.push(C)}),o(_),d(null)}catch(m){console.error("Error fetching comments:",m),d(m instanceof Error?m.message:"Failed to fetch comments")}finally{a(!1)}}async function p(m,x,b){try{const{error:j}=await ie.from("comments").insert({idea_id:t,author_id:x,content:m,parent_id:b||null});if(j)throw j;await h()}catch(j){throw console.error("Error adding comment:",j),j}}async function g(m,x,b){try{const{data:j,error:_}=await ie.from("comment_votes").select("*").eq("user_id",x).eq("comment_id",m).maybeSingle();if(_)throw _;if(j)if(j.vote_type===b){const{error:S}=await ie.from("comment_votes").delete().eq("id",j.id);if(S)throw S}else{const{error:S}=await ie.from("comment_votes").update({vote_type:b}).eq("id",j.id);if(S)throw S}else{const{error:S}=await ie.from("comment_votes").insert({user_id:x,comment_id:m,vote_type:b});if(S)throw S}}catch(j){throw console.error("Error voting on comment:",j),j}}return{comments:n,loading:i,error:u,addComment:p,voteComment:g,refetch:h}}function na({onNewIdea:t,onChat:e,onProfile:n}){const o=yn();return c.jsx("header",{className:"sticky top-0 z-50 w-full border-b bg-background/95 backdrop-blur supports-[backdrop-filter]:bg-background/60",children:c.jsxs("div",{className:"container flex h-16 items-center justify-between px-4",children:[c.jsxs("div",{className:"flex items-center gap-4",children:[c.jsx("h1",{className:"text-xl font-semibold",children:"SchoolIdeas"}),c.jsxs("div",{className:"relative hidden md:block",children:[c.jsx(rc,{className:"absolute left-3 top-1/2 h-4 w-4 -translate-y-1/2 text-muted-foreground"}),c.jsx(rt,{placeholder:"Search ideas...",className:"w-64 pl-10"})]})]}),c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsxs(se,{onClick:t,className:"gap-2",children:[c.jsx(jj,{className:"h-4 w-4"}),"New Idea"]}),c.jsx(se,{variant:"ghost",size:"icon",onClick:()=>o("/messages"),children:c.jsx(Ro,{className:"h-4 w-4"})}),c.jsx(se,{variant:"ghost",size:"icon",onClick:()=>o("/settings"),children:c.jsx(Rj,{className:"h-4 w-4"})}),c.jsx(se,{variant:"ghost",size:"icon",onClick:n,children:c.jsx($t,{className:"h-8 w-8",children:c.jsx(Mt,{children:c.jsx(lr,{className:"h-4 w-4"})})})})]})]})})}function Z2(){const{user:t}=Xr(),e=yn(),[n,o]=w.useState(!1),[i,a]=w.useState(!1),[u,d]=w.useState(!1),[h,p]=w.useState(!1),[g,m]=w.useState(null),[x,b]=w.useState("popular"),[j,_]=w.useState("all"),{ideas:S,refetch:k}=yc(t?.id),{comments:C,addComment:N,voteComment:P}=dx(g||"",t?.id),{vote:F}=ux(),{createIdea:V}=wc(),D=["all","Academic","Facilities","Technology","Events","Sports","Clubs","Food Service","Transportation","Environment","Other"],z=async B=>{if(!t){alert("You must be logged in to submit an idea");return}try{await V({...B,authorId:t.id}),o(!1),k()}catch($){console.error("Error creating idea:",$),alert("Failed to create idea")}},q=async(B,$)=>{if(!t){alert("You must be logged in to vote");return}try{await F(B,t.id,$)}catch(O){console.error("Error voting:",O)}},ne=B=>{m(B),a(!0)},ue=B=>{e(`/idea/${B}`)},ge=async B=>{if(!t){alert("You must be logged in to comment");return}if(g)try{await N(B,t.id)}catch($){console.error("Error adding comment:",$),alert("Failed to add comment")}},le=async(B,$)=>{if(!t){alert("You must be logged in to vote");return}try{await P(B,t.id,$)}catch(O){console.error("Error voting on comment:",O)}},pe=S.find(B=>B.id===g),be=S.filter(B=>j==="all"||B.category===j).sort((B,$)=>{switch(x){case"popular":return $.votes-B.votes;case"recent":return new Date($.timeAgo).getTime()-new Date(B.timeAgo).getTime();case"comments":return $.commentCount-B.commentCount;default:return 0}});return c.jsxs("div",{className:"min-h-screen bg-background",children:[c.jsx(na,{onNewIdea:()=>o(!0),onChat:()=>p(!0),onProfile:()=>d(!0)}),c.jsx("main",{className:"container max-w-4xl mx-auto px-4 py-6",children:c.jsxs("div",{className:"space-y-6",children:[c.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 items-start sm:items-center justify-between",children:[c.jsx("h2",{className:"text-2xl font-semibold",children:"School Ideas"}),c.jsxs("div",{className:"flex gap-2",children:[c.jsxs(Hr,{value:x,onValueChange:b,children:[c.jsx(Kr,{className:"w-32",children:c.jsx(qr,{})}),c.jsxs(Gr,{children:[c.jsx(Ve,{value:"popular",children:"Popular"}),c.jsx(Ve,{value:"recent",children:"Recent"}),c.jsx(Ve,{value:"comments",children:"Most Discussed"})]})]}),c.jsxs(Hr,{value:j,onValueChange:_,children:[c.jsx(Kr,{className:"w-40",children:c.jsx(qr,{})}),c.jsx(Gr,{children:D.map(B=>c.jsx(Ve,{value:B,children:B==="all"?"All Categories":B},B))})]})]})]}),c.jsx("div",{className:"space-y-4",children:be.map(B=>c.jsx(Gj,{idea:B,onVote:q,onComment:ne,onClick:ue},B.id))}),be.length===0&&c.jsx("div",{className:"text-center py-12",children:c.jsx("p",{className:"text-muted-foreground",children:"No ideas found matching your filters."})})]})}),c.jsx(dR,{isOpen:n,onClose:()=>o(!1),onSubmit:z}),c.jsx(fR,{isOpen:i,onClose:()=>a(!1),ideaTitle:pe?.title||"",comments:C,onAddComment:ge,onVoteComment:le}),c.jsx(T2,{isOpen:u,onClose:()=>d(!1),profile:t?{name:t.name,username:t.username,joinDate:t.joinDate,totalIdeas:S.length,totalVotes:0,totalComments:0,reputation:0,recentIdeas:S.slice(0,2).map(B=>({id:B.id,title:B.title,votes:B.votes||0,category:B.category,timeAgo:"recently"})),recentComments:[]}:{name:"",username:"",joinDate:"",totalIdeas:0,totalVotes:0,totalComments:0,reputation:0,recentIdeas:[],recentComments:[]}}),c.jsx(G2,{isOpen:h,onClose:()=>p(!1)}),c.jsx(J2,{})]})}function xc({className:t,...e}){return c.jsx("div",{"data-slot":"table-container",className:"relative w-full overflow-x-auto",children:c.jsx("table",{"data-slot":"table",className:me("w-full caption-bottom text-sm",t),...e})})}function bc({className:t,...e}){return c.jsx("thead",{"data-slot":"table-header",className:me("[&_tr]:border-b",t),...e})}function _c({className:t,...e}){return c.jsx("tbody",{"data-slot":"table-body",className:me("[&_tr:last-child]:border-0",t),...e})}function xr({className:t,...e}){return c.jsx("tr",{"data-slot":"table-row",className:me("hover:bg-muted/50 data-[state=selected]:bg-muted border-b transition-colors",t),...e})}function He({className:t,...e}){return c.jsx("th",{"data-slot":"table-head",className:me("text-foreground h-10 px-2 text-left align-middle font-medium whitespace-nowrap [&:has([role=checkbox])]:pr-0 [&>[role=checkbox]]:translate-y-[2px]",t),...e})}function ze({className:t,...e}){return c.jsx("td",{"data-slot":"table-cell",className:me("p-2 align-middle whitespace-nowrap [&:has([role=checkbox])]:pr-0 [&>[role=checkbox]]:translate-y-[2px]",t),...e})}function fx({ideas:t,onForwardToPrincipal:e,onReject:n,onApprove:o,onMarkReviewed:i}){const[a,u]=w.useState("all"),[d,h]=w.useState("all"),[p,g]=w.useState(null),[m,x]=w.useState(!1),[b,j]=w.useState("forward"),[_,S]=w.useState(""),k=["all","Academic","Facilities","Technology","Events","Sports","Clubs","Food Service","Transportation","Environment","Other"],C=t.filter(D=>{const z=a==="all"||D.status===a,q=d==="all"||D.category===d;return z&&q}),N={total:t.length,new:t.filter(D=>D.status==="new").length,underReview:t.filter(D=>D.status==="under-review").length,forwarded:t.filter(D=>D.status==="forwarded").length,approved:t.filter(D=>D.status==="approved").length,rejected:t.filter(D=>D.status==="rejected").length},P=(D,z)=>{g(D),j(z),S(D.teacherNotes||""),x(!0)},F=()=>{if(p){switch(b){case"forward":e(p.id,_);break;case"approve":o(p.id,_);break;case"reject":n(p.id,_);break}x(!1),S(""),g(null)}},V=D=>{const q={new:{variant:"default",className:"bg-blue-500 hover:bg-blue-600"},"under-review":{variant:"secondary",className:"bg-yellow-500 hover:bg-yellow-600 text-white"},forwarded:{variant:"default",className:"bg-purple-500 hover:bg-purple-600"},approved:{variant:"default",className:"bg-green-500 hover:bg-green-600"},rejected:{variant:"destructive",className:""}}[D],ne={new:"New","under-review":"Under Review",forwarded:"Forwarded",approved:"Approved",rejected:"Rejected"};return c.jsx(ar,{variant:q.variant,className:q.className,children:ne[D]})};return c.jsxs("div",{className:"space-y-6",children:[c.jsxs("div",{children:[c.jsx("h1",{className:"mb-2",children:"Teacher Dashboard"}),c.jsx("p",{className:"text-muted-foreground",children:"Review and manage student ideas"})]}),c.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-6 gap-4",children:[c.jsx(Le,{children:c.jsxs(Fe,{className:"p-4",children:[c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx(Zv,{className:"h-4 w-4 text-muted-foreground"}),c.jsx("p",{className:"text-xs text-muted-foreground",children:"Total Ideas"})]}),c.jsx("p",{className:"text-2xl font-semibold mt-2",children:N.total})]})}),c.jsx(Le,{children:c.jsxs(Fe,{className:"p-4",children:[c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx(iy,{className:"h-4 w-4 text-blue-500"}),c.jsx("p",{className:"text-xs text-muted-foreground",children:"New"})]}),c.jsx("p",{className:"text-2xl font-semibold mt-2",children:N.new})]})}),c.jsx(Le,{children:c.jsxs(Fe,{className:"p-4",children:[c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx(pd,{className:"h-4 w-4 text-yellow-500"}),c.jsx("p",{className:"text-xs text-muted-foreground",children:"Under Review"})]}),c.jsx("p",{className:"text-2xl font-semibold mt-2",children:N.underReview})]})}),c.jsx(Le,{children:c.jsxs(Fe,{className:"p-4",children:[c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx(jo,{className:"h-4 w-4 text-purple-500"}),c.jsx("p",{className:"text-xs text-muted-foreground",children:"Forwarded"})]}),c.jsx("p",{className:"text-2xl font-semibold mt-2",children:N.forwarded})]})}),c.jsx(Le,{children:c.jsxs(Fe,{className:"p-4",children:[c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx(Eo,{className:"h-4 w-4 text-green-500"}),c.jsx("p",{className:"text-xs text-muted-foreground",children:"Approved"})]}),c.jsx("p",{className:"text-2xl font-semibold mt-2",children:N.approved})]})}),c.jsx(Le,{children:c.jsxs(Fe,{className:"p-4",children:[c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx(Ds,{className:"h-4 w-4 text-red-500"}),c.jsx("p",{className:"text-xs text-muted-foreground",children:"Rejected"})]}),c.jsx("p",{className:"text-2xl font-semibold mt-2",children:N.rejected})]})})]}),c.jsx(Le,{children:c.jsx(Kt,{children:c.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 items-start sm:items-center justify-between",children:[c.jsxs(Ir,{className:"flex items-center gap-2",children:[c.jsx(ty,{className:"h-5 w-5"}),"Filter Ideas"]}),c.jsxs("div",{className:"flex gap-2 flex-wrap",children:[c.jsxs(Hr,{value:a,onValueChange:u,children:[c.jsx(Kr,{className:"w-40",children:c.jsx(qr,{placeholder:"All Statuses"})}),c.jsxs(Gr,{children:[c.jsx(Ve,{value:"all",children:"All Statuses"}),c.jsx(Ve,{value:"new",children:"New"}),c.jsx(Ve,{value:"under-review",children:"Under Review"}),c.jsx(Ve,{value:"forwarded",children:"Forwarded"}),c.jsx(Ve,{value:"approved",children:"Approved"}),c.jsx(Ve,{value:"rejected",children:"Rejected"})]})]}),c.jsxs(Hr,{value:d,onValueChange:h,children:[c.jsx(Kr,{className:"w-40",children:c.jsx(qr,{placeholder:"All Categories"})}),c.jsx(Gr,{children:k.map(D=>c.jsx(Ve,{value:D,children:D==="all"?"All Categories":D},D))})]})]})]})})}),c.jsxs(Le,{children:[c.jsx(Kt,{children:c.jsxs(Ir,{children:["Student Ideas (",C.length,")"]})}),c.jsx(Fe,{children:c.jsx("div",{className:"overflow-x-auto",children:c.jsxs(xc,{children:[c.jsx(bc,{children:c.jsxs(xr,{children:[c.jsx(He,{children:"Idea"}),c.jsx(He,{children:"Author"}),c.jsx(He,{children:"Category"}),c.jsx(He,{className:"text-center",children:"Votes"}),c.jsx(He,{className:"text-center",children:"Comments"}),c.jsx(He,{children:"Status"}),c.jsx(He,{children:"Time"}),c.jsx(He,{className:"text-right",children:"Actions"})]})}),c.jsx(_c,{children:C.length===0?c.jsx(xr,{children:c.jsx(ze,{colSpan:8,className:"text-center py-8 text-muted-foreground",children:"No ideas found matching your filters."})}):C.map(D=>c.jsxs(xr,{children:[c.jsx(ze,{className:"max-w-xs",children:c.jsxs("div",{children:[c.jsx("p",{className:"font-medium truncate",children:D.title}),c.jsx("p",{className:"text-sm text-muted-foreground truncate",children:D.description})]})}),c.jsx(ze,{children:c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx($t,{className:"h-6 w-6",children:c.jsx(Mt,{children:c.jsx(lr,{className:"h-3 w-3"})})}),c.jsx("span",{className:"text-sm",children:D.author})]})}),c.jsx(ze,{children:c.jsx(ar,{variant:"secondary",children:D.category})}),c.jsx(ze,{className:"text-center",children:c.jsxs("div",{className:"flex items-center justify-center gap-1",children:[c.jsx(pn,{className:me("h-4 w-4",D.votes>0&&"text-green-600")}),c.jsx("span",{className:me("font-medium",D.votes>0&&"text-green-600",D.votes<0&&"text-red-600"),children:D.votes})]})}),c.jsx(ze,{className:"text-center",children:c.jsxs("div",{className:"flex items-center justify-center gap-1",children:[c.jsx(Ro,{className:"h-4 w-4 text-muted-foreground"}),c.jsx("span",{children:D.commentCount})]})}),c.jsx(ze,{children:V(D.status)}),c.jsx(ze,{className:"text-sm text-muted-foreground",children:D.timeAgo}),c.jsx(ze,{className:"text-right",children:c.jsxs("div",{className:"flex gap-1 justify-end",children:[D.status==="new"&&c.jsxs(c.Fragment,{children:[c.jsxs(se,{size:"sm",variant:"outline",onClick:()=>i(D.id),className:"h-8 text-xs",children:[c.jsx(pd,{className:"h-3 w-3 mr-1"}),"Review"]}),c.jsxs(se,{size:"sm",onClick:()=>P(D,"forward"),className:"h-8 text-xs",children:[c.jsx(jo,{className:"h-3 w-3 mr-1"}),"Forward"]})]}),D.status==="under-review"&&c.jsxs(c.Fragment,{children:[c.jsxs(se,{size:"sm",variant:"outline",onClick:()=>P(D,"approve"),className:"h-8 text-xs text-green-600 hover:text-green-700",children:[c.jsx(Eo,{className:"h-3 w-3 mr-1"}),"Approve"]}),c.jsxs(se,{size:"sm",onClick:()=>P(D,"forward"),className:"h-8 text-xs",children:[c.jsx(jo,{className:"h-3 w-3 mr-1"}),"Forward"]}),c.jsxs(se,{size:"sm",variant:"outline",onClick:()=>P(D,"reject"),className:"h-8 text-xs text-red-600 hover:text-red-700",children:[c.jsx(Ds,{className:"h-3 w-3 mr-1"}),"Reject"]})]}),(D.status==="forwarded"||D.status==="approved"||D.status==="rejected")&&c.jsxs(se,{size:"sm",variant:"ghost",onClick:()=>{g(D),x(!0)},className:"h-8 text-xs",children:[c.jsx(pd,{className:"h-3 w-3 mr-1"}),"View"]})]})})]},D.id))})]})})})]}),c.jsx(Uo,{open:m,onOpenChange:x,children:c.jsxs(zs,{className:"max-w-2xl",children:[c.jsxs(zo,{children:[c.jsxs(Bo,{children:[b==="forward"&&"Forward to Principal",b==="approve"&&"Approve Idea",b==="reject"&&"Reject Idea"]}),c.jsx(Vo,{children:p&&c.jsxs(c.Fragment,{children:['Review and add notes for "',p.title,'"']})})]}),p&&c.jsxs("div",{className:"space-y-4",children:[c.jsxs("div",{className:"p-4 border rounded-lg bg-muted/50",children:[c.jsxs("div",{className:"flex items-start justify-between mb-2",children:[c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx($t,{className:"h-6 w-6",children:c.jsx(Mt,{children:c.jsx(lr,{className:"h-3 w-3"})})}),c.jsx("span",{className:"text-sm font-medium",children:p.author})]}),c.jsx(ar,{variant:"secondary",children:p.category})]}),c.jsx("h4",{className:"mb-2",children:p.title}),c.jsx("p",{className:"text-sm text-muted-foreground mb-3",children:p.description}),c.jsxs("div",{className:"flex items-center gap-4 text-sm text-muted-foreground",children:[c.jsxs("span",{className:"flex items-center gap-1",children:[c.jsx(pn,{className:"h-4 w-4"}),p.votes," votes"]}),c.jsxs("span",{className:"flex items-center gap-1",children:[c.jsx(Ro,{className:"h-4 w-4"}),p.commentCount," comments"]}),c.jsx("span",{children:p.timeAgo})]})]}),c.jsxs("div",{className:"space-y-2",children:[c.jsxs("label",{htmlFor:"teacher-notes",children:["Teacher Notes ",b==="forward"&&"(Required)"]}),c.jsx(Wo,{id:"teacher-notes",placeholder:b==="forward"?"Add a note to the principal explaining why this idea should be considered...":b==="approve"?"Add notes about why this idea was approved...":"Add notes about why this idea was rejected...",value:_,onChange:D=>S(D.target.value),rows:4,disabled:p.status!=="new"&&p.status!=="under-review"}),p.teacherNotes&&p.status!=="new"&&p.status!=="under-review"&&c.jsxs("p",{className:"text-sm text-muted-foreground",children:["Previous notes: ",p.teacherNotes]})]}),p.forwardedDate&&c.jsxs("p",{className:"text-sm text-muted-foreground",children:["Forwarded on ",p.forwardedDate,p.reviewedBy&&` by ${p.reviewedBy}`]})]}),c.jsxs(cw,{children:[c.jsx(se,{variant:"outline",onClick:()=>x(!1),children:"Cancel"}),p&&(p.status==="new"||p.status==="under-review")&&c.jsxs(se,{onClick:F,disabled:b==="forward"&&!_.trim(),children:[b==="forward"&&c.jsxs(c.Fragment,{children:[c.jsx(jo,{className:"h-4 w-4 mr-2"}),"Forward to Principal"]}),b==="approve"&&c.jsxs(c.Fragment,{children:[c.jsx(Eo,{className:"h-4 w-4 mr-2"}),"Approve Idea"]}),b==="reject"&&c.jsxs(c.Fragment,{children:[c.jsx(Ds,{className:"h-4 w-4 mr-2"}),"Reject Idea"]})]})]})]})})]})}function eA(){const{user:t}=Xr(),{ideas:e,refetch:n}=cx(t?.id),{updateIdeaStatus:o}=wc(),i=async(h,p)=>{if(t)try{await o(h,"forwarded",p,t.id),n()}catch(g){console.error("Error forwarding idea:",g),alert("Failed to forward idea")}},a=async(h,p)=>{if(t)try{await o(h,"rejected",p,t.id),n()}catch(g){console.error("Error rejecting idea:",g),alert("Failed to reject idea")}},u=async(h,p)=>{if(t)try{await o(h,"approved",p,t.id),n()}catch(g){console.error("Error approving idea:",g),alert("Failed to approve idea")}},d=async h=>{if(t)try{await o(h,"under-review",void 0,t.id),n()}catch(p){console.error("Error marking as reviewed:",p)}};return c.jsxs("div",{className:"min-h-screen bg-background",children:[c.jsx(na,{onNewIdea:()=>{},onChat:()=>{},onProfile:()=>{},hideActions:!0}),c.jsx("main",{className:"container max-w-4xl mx-auto px-4 py-6",children:c.jsx(fx,{ideas:e,onForwardToPrincipal:i,onReject:a,onApprove:u,onMarkReviewed:d})})]})}function tA({ideas:t,onApprove:e,onReject:n,onRequestMoreInfo:o}){const[i,a]=w.useState("all"),[u,d]=w.useState("all"),[h,p]=w.useState("all"),[g,m]=w.useState(null),[x,b]=w.useState(!1),[j,_]=w.useState("approve"),[S,k]=w.useState(""),[C,N]=w.useState(""),[P,F]=w.useState(""),[V,D]=w.useState("medium"),z=["all","Academic","Facilities","Technology","Events","Sports","Clubs","Food Service","Transportation","Environment","Other"],q=t.filter($=>$.status==="forwarded"||$.principalStatus),ne=q.filter($=>{const O=i==="all"||($.principalStatus||"pending")===i,Z=u==="all"||$.category===u,K=h==="all"||($.priority||"medium")===h;return O&&Z&&K}),ue={total:q.length,pending:q.filter($=>!$.principalStatus||$.principalStatus==="pending").length,inProgress:q.filter($=>$.principalStatus==="in-progress").length,approved:q.filter($=>$.principalStatus==="approved").length,rejected:q.filter($=>$.principalStatus==="rejected").length,implemented:q.filter($=>$.principalStatus==="implemented").length,totalBudget:q.filter($=>$.principalStatus==="approved"||$.principalStatus==="implemented").reduce(($,O)=>$+(O.budget||0),0)},ge=($,O)=>{m($),_(O),k($.principalNotes||""),N($.budget?.toString()||""),D($.priority||"medium"),F($.implementationDate||""),b(!0)},le=()=>{if(g){switch(j){case"approve":e(g.id,S,parseFloat(C)||0,V,P);break;case"reject":n(g.id,S);break;case"request-info":o(g.id,S);break}b(!1),pe()}},pe=()=>{k(""),N(""),F(""),D("medium"),m(null)},be=$=>{const K={pending:{variant:"default",className:"bg-yellow-500 hover:bg-yellow-600 text-white",label:"Pending Review"},"in-progress":{variant:"default",className:"bg-blue-500 hover:bg-blue-600",label:"In Progress"},approved:{variant:"default",className:"bg-green-500 hover:bg-green-600",label:"Approved"},rejected:{variant:"destructive",className:"",label:"Rejected"},implemented:{variant:"default",className:"bg-purple-500 hover:bg-purple-600",label:"Implemented"}}[$||"pending"];return c.jsx(ar,{variant:K.variant,className:K.className,children:K.label})},B=$=>{const O=$||"medium",Z={low:{className:"bg-gray-500 hover:bg-gray-600 text-white"},medium:{className:"bg-blue-500 hover:bg-blue-600 text-white"},high:{className:"bg-orange-500 hover:bg-orange-600 text-white"},urgent:{className:"bg-red-500 hover:bg-red-600 text-white"}};return c.jsx(ar,{className:Z[O].className,children:O.charAt(0).toUpperCase()+O.slice(1)})};return c.jsxs("div",{className:"space-y-6",children:[c.jsxs("div",{children:[c.jsx("h1",{className:"mb-2",children:"Principal Dashboard"}),c.jsx("p",{className:"text-muted-foreground",children:"Executive overview and final approval authority"})]}),c.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 lg:grid-cols-7 gap-4",children:[c.jsx(Le,{children:c.jsxs(Fe,{className:"p-4",children:[c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx(lj,{className:"h-4 w-4 text-muted-foreground"}),c.jsx("p",{className:"text-xs text-muted-foreground",children:"Total Submitted"})]}),c.jsx("p",{className:"text-2xl font-semibold mt-2",children:ue.total})]})}),c.jsx(Le,{children:c.jsxs(Fe,{className:"p-4",children:[c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx(Z1,{className:"h-4 w-4 text-yellow-500"}),c.jsx("p",{className:"text-xs text-muted-foreground",children:"Pending"})]}),c.jsx("p",{className:"text-2xl font-semibold mt-2",children:ue.pending})]})}),c.jsx(Le,{children:c.jsxs(Fe,{className:"p-4",children:[c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx(iy,{className:"h-4 w-4 text-blue-500"}),c.jsx("p",{className:"text-xs text-muted-foreground",children:"In Progress"})]}),c.jsx("p",{className:"text-2xl font-semibold mt-2",children:ue.inProgress})]})}),c.jsx(Le,{children:c.jsxs(Fe,{className:"p-4",children:[c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx(Eo,{className:"h-4 w-4 text-green-500"}),c.jsx("p",{className:"text-xs text-muted-foreground",children:"Approved"})]}),c.jsx("p",{className:"text-2xl font-semibold mt-2",children:ue.approved})]})}),c.jsx(Le,{children:c.jsxs(Fe,{className:"p-4",children:[c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx(Ds,{className:"h-4 w-4 text-red-500"}),c.jsx("p",{className:"text-xs text-muted-foreground",children:"Rejected"})]}),c.jsx("p",{className:"text-2xl font-semibold mt-2",children:ue.rejected})]})}),c.jsx(Le,{children:c.jsxs(Fe,{className:"p-4",children:[c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx(Zv,{className:"h-4 w-4 text-purple-500"}),c.jsx("p",{className:"text-xs text-muted-foreground",children:"Implemented"})]}),c.jsx("p",{className:"text-2xl font-semibold mt-2",children:ue.implemented})]})}),c.jsx(Le,{children:c.jsxs(Fe,{className:"p-4",children:[c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx(tj,{className:"h-4 w-4 text-green-600"}),c.jsx("p",{className:"text-xs text-muted-foreground",children:"Total Budget"})]}),c.jsxs("p",{className:"text-2xl font-semibold mt-2",children:["$",ue.totalBudget.toLocaleString()]})]})})]}),c.jsx(Le,{children:c.jsx(Kt,{children:c.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 items-start sm:items-center justify-between",children:[c.jsxs(Ir,{className:"flex items-center gap-2",children:[c.jsx(ty,{className:"h-5 w-5"}),"Filter Ideas"]}),c.jsxs("div",{className:"flex gap-2 flex-wrap",children:[c.jsxs(Hr,{value:i,onValueChange:a,children:[c.jsx(Kr,{className:"w-40",children:c.jsx(qr,{placeholder:"All Statuses"})}),c.jsxs(Gr,{children:[c.jsx(Ve,{value:"all",children:"All Statuses"}),c.jsx(Ve,{value:"pending",children:"Pending"}),c.jsx(Ve,{value:"in-progress",children:"In Progress"}),c.jsx(Ve,{value:"approved",children:"Approved"}),c.jsx(Ve,{value:"rejected",children:"Rejected"}),c.jsx(Ve,{value:"implemented",children:"Implemented"})]})]}),c.jsxs(Hr,{value:h,onValueChange:p,children:[c.jsx(Kr,{className:"w-32",children:c.jsx(qr,{placeholder:"Priority"})}),c.jsxs(Gr,{children:[c.jsx(Ve,{value:"all",children:"All Priority"}),c.jsx(Ve,{value:"urgent",children:"Urgent"}),c.jsx(Ve,{value:"high",children:"High"}),c.jsx(Ve,{value:"medium",children:"Medium"}),c.jsx(Ve,{value:"low",children:"Low"})]})]}),c.jsxs(Hr,{value:u,onValueChange:d,children:[c.jsx(Kr,{className:"w-40",children:c.jsx(qr,{placeholder:"All Categories"})}),c.jsx(Gr,{children:z.map($=>c.jsx(Ve,{value:$,children:$==="all"?"All Categories":$},$))})]})]})]})})}),c.jsxs(Le,{children:[c.jsx(Kt,{children:c.jsxs(Ir,{children:["Forwarded Ideas (",ne.length,")"]})}),c.jsx(Fe,{children:c.jsx("div",{className:"overflow-x-auto",children:c.jsxs(xc,{children:[c.jsx(bc,{children:c.jsxs(xr,{children:[c.jsx(He,{children:"Idea"}),c.jsx(He,{children:"Author"}),c.jsx(He,{children:"Teacher"}),c.jsx(He,{children:"Category"}),c.jsx(He,{className:"text-center",children:"Votes"}),c.jsx(He,{children:"Priority"}),c.jsx(He,{children:"Status"}),c.jsx(He,{children:"Budget"}),c.jsx(He,{className:"text-right",children:"Actions"})]})}),c.jsx(_c,{children:ne.length===0?c.jsx(xr,{children:c.jsx(ze,{colSpan:9,className:"text-center py-8 text-muted-foreground",children:"No ideas forwarded for principal review yet."})}):ne.map($=>c.jsxs(xr,{children:[c.jsx(ze,{className:"max-w-xs",children:c.jsxs("div",{children:[c.jsx("p",{className:"font-medium truncate",children:$.title}),c.jsx("p",{className:"text-sm text-muted-foreground truncate",children:$.description})]})}),c.jsx(ze,{children:c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx($t,{className:"h-6 w-6",children:c.jsx(Mt,{children:c.jsx(lr,{className:"h-3 w-3"})})}),c.jsx("span",{className:"text-sm",children:$.author})]})}),c.jsx(ze,{children:c.jsx("span",{className:"text-sm",children:$.reviewedBy||"N/A"})}),c.jsx(ze,{children:c.jsx(ar,{variant:"secondary",children:$.category})}),c.jsx(ze,{className:"text-center",children:c.jsxs("div",{className:"flex items-center justify-center gap-1",children:[c.jsx(pn,{className:me("h-4 w-4",$.votes>0&&"text-green-600")}),c.jsx("span",{className:me("font-medium",$.votes>0&&"text-green-600",$.votes<0&&"text-red-600"),children:$.votes})]})}),c.jsx(ze,{children:B($.priority)}),c.jsx(ze,{children:be($.principalStatus)}),c.jsx(ze,{children:$.budget?`$${$.budget.toLocaleString()}`:"-"}),c.jsx(ze,{className:"text-right",children:c.jsxs("div",{className:"flex gap-1 justify-end",children:[(!$.principalStatus||$.principalStatus==="pending")&&c.jsxs(c.Fragment,{children:[c.jsxs(se,{size:"sm",onClick:()=>ge($,"approve"),className:"h-8 text-xs bg-green-600 hover:bg-green-700",children:[c.jsx(Eo,{className:"h-3 w-3 mr-1"}),"Approve"]}),c.jsxs(se,{size:"sm",variant:"outline",onClick:()=>ge($,"reject"),className:"h-8 text-xs text-red-600 hover:text-red-700",children:[c.jsx(Ds,{className:"h-3 w-3 mr-1"}),"Reject"]})]}),$.principalStatus&&c.jsx(se,{size:"sm",variant:"ghost",onClick:()=>{m($),b(!0)},className:"h-8 text-xs",children:"View Details"})]})})]},$.id))})]})})})]}),c.jsx(Uo,{open:x,onOpenChange:b,children:c.jsxs(zs,{className:"max-w-3xl max-h-[90vh] overflow-y-auto",children:[c.jsxs(zo,{children:[c.jsxs(Bo,{children:[j==="approve"&&"Approve Idea",j==="reject"&&"Reject Idea",j==="request-info"&&"Request More Information",!j&&g?.principalStatus&&"Idea Details"]}),c.jsx(Vo,{children:g&&c.jsxs(c.Fragment,{children:['Principal review for "',g.title,'"']})})]}),g&&c.jsx("div",{className:"space-y-4",children:c.jsxs(Go,{defaultValue:"details",className:"w-full",children:[c.jsxs(Yo,{className:"grid w-full grid-cols-2",children:[c.jsx(Gt,{value:"details",children:"Idea Details"}),c.jsx(Gt,{value:"review",children:"Review & Decision"})]}),c.jsxs(Yt,{value:"details",className:"space-y-4 mt-4",children:[c.jsxs("div",{className:"p-4 border rounded-lg bg-muted/50",children:[c.jsxs("div",{className:"flex items-start justify-between mb-3",children:[c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx($t,{className:"h-6 w-6",children:c.jsx(Mt,{children:c.jsx(lr,{className:"h-3 w-3"})})}),c.jsxs("div",{children:[c.jsx("span",{className:"text-sm font-medium",children:g.author}),c.jsx("p",{className:"text-xs text-muted-foreground",children:g.timeAgo})]})]}),c.jsx(ar,{variant:"secondary",children:g.category})]}),c.jsx("h4",{className:"mb-2",children:g.title}),c.jsx("p",{className:"text-sm text-muted-foreground mb-3",children:g.description}),c.jsxs("div",{className:"flex items-center gap-4 text-sm text-muted-foreground",children:[c.jsxs("span",{className:"flex items-center gap-1",children:[c.jsx(pn,{className:"h-4 w-4"}),g.votes," votes"]}),c.jsxs("span",{className:"flex items-center gap-1",children:[c.jsx(Ro,{className:"h-4 w-4"}),g.commentCount," comments"]})]})]}),g.teacherNotes&&c.jsxs("div",{className:"p-4 border rounded-lg",children:[c.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[c.jsx(ay,{className:"h-4 w-4 text-muted-foreground"}),c.jsx("p",{className:"font-medium",children:"Teacher Recommendation"})]}),c.jsx("p",{className:"text-sm text-muted-foreground mb-2",children:g.teacherNotes}),c.jsxs("p",{className:"text-xs text-muted-foreground",children:[" ",g.reviewedBy," ",g.forwardedDate&&`(${g.forwardedDate})`]})]})]}),c.jsxs(Yt,{value:"review",className:"space-y-4 mt-4",children:[j==="approve"&&c.jsxs(c.Fragment,{children:[c.jsxs("div",{className:"space-y-2",children:[c.jsx("label",{htmlFor:"priority",children:"Priority Level"}),c.jsxs(Hr,{value:V,onValueChange:$=>D($),children:[c.jsx(Kr,{children:c.jsx(qr,{})}),c.jsxs(Gr,{children:[c.jsx(Ve,{value:"low",children:"Low Priority"}),c.jsx(Ve,{value:"medium",children:"Medium Priority"}),c.jsx(Ve,{value:"high",children:"High Priority"}),c.jsx(Ve,{value:"urgent",children:"Urgent"})]})]})]}),c.jsxs("div",{className:"space-y-2",children:[c.jsx("label",{htmlFor:"budget",children:"Budget Allocation ($)"}),c.jsx(rt,{id:"budget",type:"number",placeholder:"0",value:C,onChange:$=>N($.target.value)})]}),c.jsxs("div",{className:"space-y-2",children:[c.jsx("label",{htmlFor:"implementation-date",children:"Target Implementation Date"}),c.jsx(rt,{id:"implementation-date",type:"date",value:P,onChange:$=>F($.target.value)})]})]}),c.jsxs("div",{className:"space-y-2",children:[c.jsxs("label",{htmlFor:"principal-notes",children:["Principal Notes",j==="reject"&&" (Required)"]}),c.jsx(Wo,{id:"principal-notes",placeholder:j==="approve"?"Add notes about approval decision, implementation plans, etc...":j==="reject"?"Please provide a detailed explanation for rejection...":"Add your notes...",value:S,onChange:$=>k($.target.value),rows:4,disabled:g.principalStatus!==void 0&&!j})]}),g.principalNotes&&!j&&c.jsxs("div",{className:"p-3 bg-muted rounded-lg",children:[c.jsx("p",{className:"text-sm font-medium mb-1",children:"Previous Decision Notes:"}),c.jsx("p",{className:"text-sm text-muted-foreground",children:g.principalNotes})]})]})]})}),c.jsxs(cw,{children:[c.jsx(se,{variant:"outline",onClick:()=>{b(!1),pe()},children:j?"Cancel":"Close"}),j&&c.jsxs(se,{onClick:le,disabled:j==="reject"&&!S.trim(),children:[j==="approve"&&c.jsxs(c.Fragment,{children:[c.jsx(Eo,{className:"h-4 w-4 mr-2"}),"Approve Idea"]}),j==="reject"&&c.jsxs(c.Fragment,{children:[c.jsx(Ds,{className:"h-4 w-4 mr-2"}),"Reject Idea"]}),j==="request-info"&&"Request Information"]})]})]})})]})}function rA(){const{user:t}=Xr(),{ideas:e,refetch:n}=Q2(t?.id),{ideas:o,refetch:i}=cx(t?.id),{updatePrincipalStatus:a,updateIdeaStatus:u}=wc(),d=async(j,_,S,k,C)=>{try{await a(j,"approved",_,S,k,C),n()}catch(N){console.error("Error approving idea:",N),alert("Failed to approve idea")}},h=async(j,_)=>{try{await a(j,"rejected",_),n()}catch(S){console.error("Error rejecting idea:",S),alert("Failed to reject idea")}},p=async(j,_)=>{try{await a(j,"in-progress",_),n()}catch(S){console.error("Error requesting more info:",S),alert("Failed to request more info")}},g=async(j,_)=>{if(t)try{await u(j,"forwarded",_,t.id),i(),n()}catch(S){console.error("Error forwarding idea:",S),alert("Failed to forward idea")}},m=async(j,_)=>{if(t)try{await u(j,"rejected",_,t.id),i()}catch(S){console.error("Error rejecting idea:",S),alert("Failed to reject idea")}},x=async(j,_)=>{if(t)try{await u(j,"approved",_,t.id),i()}catch(S){console.error("Error approving idea:",S),alert("Failed to approve idea")}},b=async j=>{if(t)try{await u(j,"under-review",void 0,t.id),i()}catch(_){console.error("Error marking as reviewed:",_)}};return c.jsxs("div",{className:"min-h-screen bg-background",children:[c.jsx(na,{onNewIdea:()=>{},onChat:()=>{},onProfile:()=>{},hideActions:!0}),c.jsxs("main",{className:"container max-w-4xl mx-auto px-4 py-6",children:[c.jsxs("div",{className:"mb-6",children:[c.jsx("h1",{className:"text-3xl font-bold tracking-tight",children:"Principal Dashboard"}),c.jsx("p",{className:"text-muted-foreground",children:"Manage school-wide ideas and review teacher submissions."})]}),c.jsxs(Go,{defaultValue:"principal",className:"space-y-4",children:[c.jsxs(Yo,{children:[c.jsx(Gt,{value:"principal",children:"Principal Review"}),c.jsx(Gt,{value:"teacher",children:"Teacher View"})]}),c.jsx(Yt,{value:"principal",className:"space-y-4",children:c.jsx(tA,{ideas:e,onApprove:d,onReject:h,onRequestMoreInfo:p})}),c.jsxs(Yt,{value:"teacher",className:"space-y-4",children:[c.jsx("div",{className:"bg-muted/50 p-4 rounded-lg mb-4 border border-dashed",children:c.jsx("p",{className:"text-sm text-muted-foreground",children:"You are viewing the Teacher Dashboard as a Principal. You can perform teacher-level actions here."})}),c.jsx(fx,{ideas:o,onForwardToPrincipal:g,onReject:m,onApprove:x,onMarkReviewed:b})]})]})]})]})}function hx(){const[t,e]=w.useState([]),[n,o]=w.useState(!0),[i,a]=w.useState(null);w.useEffect(()=>{u();const p=ie.channel("public:profiles").on("postgres_changes",{event:"*",schema:"public",table:"profiles"},u).subscribe();return()=>{p.unsubscribe()}},[]);async function u(){try{const{data:p,error:g}=await ie.from("profiles").select("*").order("created_at",{ascending:!1});if(g)throw g;const m=(p||[]).map(x=>({id:x.id,username:x.username,full_name:x.full_name,role:x.role,status:"active",join_date:new Date(x.join_date||x.created_at).toISOString().split("T")[0],email:`${x.username}@school.edu`}));e(m)}catch(p){console.error("Error fetching users:",p),a(p.message)}finally{o(!1)}}async function d(p,g){try{const{error:m}=await ie.from("profiles").update({role:g}).eq("id",p);if(m)throw m}catch(m){throw console.error("Error updating user role:",m),m}}async function h(p){try{const{error:g}=await ie.from("profiles").delete().eq("id",p);if(g)throw g}catch(g){throw console.error("Error deleting user:",g),g}}return{users:t,loading:n,error:i,updateUserRole:d,deleteUser:h,refetch:u}}function nA(){const[t,e]=w.useState(""),{users:n,loading:o,updateUserRole:i,deleteUser:a}=hx(),[u,d]=w.useState(null),h=async m=>{if(confirm("Are you sure you want to delete this user? This action cannot be undone.")){d(m);try{await a(m),Pe.success("User deleted successfully")}catch{Pe.error("Failed to delete user")}finally{d(null)}}},p=async(m,x)=>{d(m);try{await i(m,x),Pe.success(`User role updated to ${x}`)}catch{Pe.error("Failed to update user role")}finally{d(null)}},g=n.filter(m=>m.full_name.toLowerCase().includes(t.toLowerCase())||m.email&&m.email.toLowerCase().includes(t.toLowerCase())||m.username.toLowerCase().includes(t.toLowerCase()));return o?c.jsx("div",{className:"flex justify-center p-8",children:c.jsx(qt,{className:"h-8 w-8 animate-spin text-muted-foreground"})}):c.jsxs("div",{className:"space-y-4",children:[c.jsx("div",{className:"flex items-center gap-2",children:c.jsxs("div",{className:"relative flex-1 max-w-sm",children:[c.jsx(rc,{className:"absolute left-2.5 top-2.5 h-4 w-4 text-muted-foreground"}),c.jsx(rt,{placeholder:"Search users...",className:"pl-8",value:t,onChange:m=>e(m.target.value)})]})}),c.jsx("div",{className:"rounded-md border",children:c.jsxs(xc,{children:[c.jsx(bc,{children:c.jsxs(xr,{children:[c.jsx(He,{children:"Name"}),c.jsx(He,{children:"Email"}),c.jsx(He,{children:"Role"}),c.jsx(He,{children:"Status"}),c.jsx(He,{children:"Joined"}),c.jsx(He,{className:"text-right",children:"Actions"})]})}),c.jsx(_c,{children:g.length===0?c.jsx(xr,{children:c.jsx(ze,{colSpan:6,className:"text-center py-8 text-muted-foreground",children:"No users found."})}):g.map(m=>c.jsxs(xr,{children:[c.jsx(ze,{className:"font-medium",children:c.jsxs("div",{children:[c.jsx("p",{children:m.full_name}),c.jsxs("p",{className:"text-xs text-muted-foreground",children:["@",m.username]})]})}),c.jsx(ze,{children:m.email}),c.jsx(ze,{children:c.jsxs(Hr,{defaultValue:m.role,onValueChange:x=>p(m.id,x),disabled:u===m.id,children:[c.jsx(Kr,{className:"w-[110px] h-8",children:c.jsx(qr,{})}),c.jsxs(Gr,{children:[c.jsx(Ve,{value:"student",children:"Student"}),c.jsx(Ve,{value:"teacher",children:"Teacher"}),c.jsx(Ve,{value:"principal",children:"Principal"}),c.jsx(Ve,{value:"admin",children:"Admin"})]})]})}),c.jsx(ze,{children:c.jsx(ar,{variant:m.status==="active"?"outline":"destructive",children:m.status})}),c.jsx(ze,{children:m.join_date}),c.jsx(ze,{className:"text-right",children:c.jsx("div",{className:"flex justify-end gap-2",children:c.jsx(se,{variant:"ghost",size:"icon",className:"text-destructive",onClick:()=>h(m.id),title:"Delete User",disabled:u===m.id,children:u===m.id?c.jsx(qt,{className:"h-4 w-4 animate-spin"}):c.jsx(Ts,{className:"h-4 w-4"})})})})]},m.id))})]})})]})}function sA(){const[t,e]=w.useState(""),{ideas:n,loading:o,refetch:i}=yc(),{deleteIdea:a}=wc(),[u,d]=w.useState(null),h=async g=>{if(confirm("Are you sure you want to delete this idea? This cannot be undone.")){d(g);try{await a(g),Pe.success("Idea deleted successfully"),i()}catch(m){console.error(m),Pe.error("Failed to delete idea")}finally{d(null)}}},p=n.filter(g=>g.title.toLowerCase().includes(t.toLowerCase())||g.author.toLowerCase().includes(t.toLowerCase()));return o?c.jsx("div",{className:"flex justify-center p-8",children:c.jsx(qt,{className:"h-8 w-8 animate-spin text-muted-foreground"})}):c.jsxs("div",{className:"space-y-4",children:[c.jsx("div",{className:"flex items-center gap-2",children:c.jsxs("div",{className:"relative flex-1 max-w-sm",children:[c.jsx(rc,{className:"absolute left-2.5 top-2.5 h-4 w-4 text-muted-foreground"}),c.jsx(rt,{placeholder:"Search ideas...",className:"pl-8",value:t,onChange:g=>e(g.target.value)})]})}),c.jsx("div",{className:"rounded-md border",children:c.jsxs(xc,{children:[c.jsx(bc,{children:c.jsxs(xr,{children:[c.jsx(He,{children:"Title"}),c.jsx(He,{children:"Author"}),c.jsx(He,{children:"Category"}),c.jsx(He,{children:"Votes"}),c.jsx(He,{children:"Posted"}),c.jsx(He,{className:"text-right",children:"Actions"})]})}),c.jsx(_c,{children:p.length===0?c.jsx(xr,{children:c.jsx(ze,{colSpan:6,className:"text-center py-8 text-muted-foreground",children:"No ideas found."})}):p.map(g=>c.jsxs(xr,{children:[c.jsx(ze,{className:"font-medium",children:c.jsxs("div",{className:"flex items-center gap-2",children:[g.title,c.jsx(wS,{to:`/idea/${g.id}`,target:"_blank",children:c.jsx(oj,{className:"h-3 w-3 text-muted-foreground"})})]})}),c.jsx(ze,{children:g.author}),c.jsx(ze,{children:c.jsx(ar,{variant:"outline",children:g.category})}),c.jsx(ze,{children:g.votes}),c.jsx(ze,{children:g.timeAgo}),c.jsx(ze,{className:"text-right",children:c.jsx(se,{variant:"ghost",size:"icon",className:"text-destructive",onClick:()=>h(g.id),title:"Delete Idea",disabled:u===g.id,children:u===g.id?c.jsx(qt,{className:"h-4 w-4 animate-spin"}):c.jsx(Ts,{className:"h-4 w-4"})})})]},g.id))})]})})]})}function oA(){const{users:t,loading:e}=hx(),{ideas:n,loading:o}=yc(),i=t.length,a=n.length,u=t.filter(p=>p.status==="active").length,d=i>0?Math.round(u/i*100):0,h=[{title:"Total Users",value:e?"...":i.toLocaleString(),icon:ay,description:"Registered accounts"},{title:"Total Ideas",value:o?"...":a.toLocaleString(),icon:mj,description:"Submitted ideas"},{title:"Active Users",value:e?"...":`${d}%`,icon:$1,description:"Account status active"}];return c.jsxs("div",{className:"min-h-screen bg-background",children:[c.jsx(na,{onNewIdea:()=>{},onChat:()=>{},onProfile:()=>{},hideActions:!0}),c.jsxs("main",{className:"container mx-auto px-4 py-6 space-y-8",children:[c.jsxs("div",{children:[c.jsx("h1",{className:"text-3xl font-bold tracking-tight",children:"Admin Dashboard"}),c.jsx("p",{className:"text-muted-foreground",children:"Manage users, content, and view system statistics."})]}),c.jsx("div",{className:"grid gap-4 md:grid-cols-3",children:h.map(p=>c.jsxs(Le,{children:[c.jsxs(Kt,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[c.jsx(Ir,{className:"text-sm font-medium",children:p.title}),c.jsx(p.icon,{className:"h-4 w-4 text-muted-foreground"})]}),c.jsxs(Fe,{children:[c.jsx("div",{className:"text-2xl font-bold",children:p.value}),c.jsx("p",{className:"text-xs text-muted-foreground",children:p.description})]})]},p.title))}),c.jsxs(Go,{defaultValue:"users",className:"space-y-4",children:[c.jsxs(Yo,{children:[c.jsx(Gt,{value:"users",children:"User Management"}),c.jsx(Gt,{value:"ideas",children:"Content Moderation"})]}),c.jsx(Yt,{value:"users",className:"space-y-4",children:c.jsx(nA,{})}),c.jsx(Yt,{value:"ideas",className:"space-y-4",children:c.jsx(sA,{})})]})]})]})}function px({comment:t,onVote:e,level:n=0}){const[o,i]=w.useState(t.userVote),[a,u]=w.useState(t.votes),[d,h]=w.useState(!1),p=g=>{let m=a,x=g;o==="up"&&(m-=1),o==="down"&&(m+=1),g===o?x=null:(g==="up"&&(m+=1),g==="down"&&(m-=1)),i(x),u(m),e(t.id,g)};return c.jsxs("div",{className:me("flex gap-2",n>0&&"ml-8 border-l-2 border-muted pl-4"),children:[c.jsxs("div",{className:"flex flex-col items-center gap-1 pt-2",children:[c.jsx(se,{variant:"ghost",size:"sm",onClick:()=>p("up"),className:me("h-6 w-6 p-0",o==="up"&&"text-green-600"),children:c.jsx(pn,{className:"h-4 w-4"})}),c.jsx("span",{className:me("text-xs font-medium",a>0&&"text-green-600",a<0&&"text-red-600"),children:a}),c.jsx(se,{variant:"ghost",size:"sm",onClick:()=>p("down"),className:me("h-6 w-6 p-0",o==="down"&&"text-red-600"),children:c.jsx(Fo,{className:"h-4 w-4"})})]}),c.jsxs("div",{className:"flex-1 pb-4",children:[c.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[c.jsx($t,{className:"h-6 w-6",children:c.jsx(Mt,{children:c.jsx(lr,{className:"h-3 w-3"})})}),c.jsx("span",{className:"font-medium text-sm",children:t.author}),c.jsx("span",{className:"text-xs text-muted-foreground",children:t.timeAgo})]}),c.jsx("p",{className:"text-sm mb-2",children:t.content}),c.jsxs(se,{variant:"ghost",size:"sm",onClick:()=>h(!d),className:"h-7 gap-1 px-2 text-xs",children:[c.jsx(sy,{className:"h-3 w-3"}),"Reply"]}),d&&c.jsxs("div",{className:"mt-2",children:[c.jsx(Wo,{placeholder:"Write a reply...",rows:2,className:"mb-2"}),c.jsxs("div",{className:"flex gap-2",children:[c.jsx(se,{size:"sm",className:"h-7 text-xs",children:"Post"}),c.jsx(se,{size:"sm",variant:"outline",className:"h-7 text-xs",onClick:()=>h(!1),children:"Cancel"})]})]}),t.replies&&t.replies.length>0&&c.jsx("div",{className:"mt-4 space-y-0",children:t.replies.map(g=>c.jsx(px,{comment:g,onVote:e,level:n+1},g.id))})]})]})}function iA({idea:t,comments:e,onBack:n,onVote:o,onAddComment:i,onVoteComment:a}){const[u,d]=w.useState(t.userVote),[h,p]=w.useState(t.votes),[g,m]=w.useState(""),x=j=>{let _=h,S=j;u==="up"&&(_-=1),u==="down"&&(_+=1),j===u?S=null:(j==="up"&&(_+=1),j==="down"&&(_-=1)),d(S),p(_),o(t.id,j)},b=j=>{j.preventDefault(),g.trim()&&(i(g.trim()),m(""))};return c.jsxs("div",{className:"space-y-4",children:[c.jsxs(se,{variant:"ghost",onClick:n,className:"gap-2",children:[c.jsx(jf,{className:"h-4 w-4"}),"Back to ideas"]}),c.jsx(Le,{children:c.jsx(Fe,{className:"p-0",children:c.jsxs("div",{className:"flex gap-4 p-6",children:[c.jsxs("div",{className:"flex flex-col items-center gap-2",children:[c.jsx(se,{variant:"ghost",size:"sm",onClick:()=>x("up"),className:me("h-8 w-8 p-0",u==="up"&&"text-green-600 bg-green-50 hover:bg-green-100"),children:c.jsx(pn,{className:"h-5 w-5"})}),c.jsx("span",{className:me("font-medium",h>0&&"text-green-600",h<0&&"text-red-600"),children:h}),c.jsx(se,{variant:"ghost",size:"sm",onClick:()=>x("down"),className:me("h-8 w-8 p-0",u==="down"&&"text-red-600 bg-red-50 hover:bg-red-100"),children:c.jsx(Fo,{className:"h-5 w-5"})})]}),c.jsxs("div",{className:"flex-1",children:[c.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[c.jsx($t,{className:"h-8 w-8",children:c.jsx(Mt,{children:c.jsx(lr,{className:"h-4 w-4"})})}),c.jsxs("div",{children:[c.jsx("p",{className:"font-medium",children:t.author}),c.jsx("p",{className:"text-xs text-muted-foreground",children:t.timeAgo})]}),c.jsx(ar,{variant:"secondary",className:"ml-auto",children:t.category})]}),c.jsx("h1",{className:"mb-4",children:t.title}),c.jsx("p",{className:"text-muted-foreground mb-4",children:t.description}),c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsxs(se,{variant:"ghost",size:"sm",className:"gap-1",children:[c.jsx(Ro,{className:"h-4 w-4"}),t.commentCount," ",t.commentCount===1?"comment":"comments"]}),c.jsxs(se,{variant:"ghost",size:"sm",className:"gap-1",children:[c.jsx(oy,{className:"h-4 w-4"}),"Share"]})]})]})]})})}),c.jsx(Le,{children:c.jsx(Fe,{className:"p-4",children:c.jsxs("form",{onSubmit:b,className:"space-y-3",children:[c.jsx("p",{className:"text-sm font-medium",children:"Comment as John Student"}),c.jsx(Wo,{placeholder:"What are your thoughts?",value:g,onChange:j=>m(j.target.value),rows:4}),c.jsx("div",{className:"flex justify-end",children:c.jsx(se,{type:"submit",disabled:!g.trim(),children:"Comment"})})]})})}),c.jsxs("div",{className:"space-y-1",children:[c.jsx("div",{className:"flex items-center gap-2 mb-4",children:c.jsxs("h3",{children:["Comments (",e.length,")"]})}),e.length===0?c.jsx(Le,{children:c.jsx(Fe,{className:"p-8 text-center",children:c.jsx("p",{className:"text-muted-foreground",children:"No comments yet. Be the first to share your thoughts!"})})}):c.jsx("div",{className:"space-y-0",children:e.map(j=>c.jsxs("div",{children:[c.jsx(px,{comment:j,onVote:a}),c.jsx(ql,{})]},j.id))})]})]})}function aA(){const{id:t}=K_(),e=yn(),{user:n}=Xr(),{ideas:o}=yc(n?.id),i=o.find(b=>b.id===t),{comments:a,addComment:u,voteComment:d}=dx(t||"",n?.id),{vote:h}=ux(),p=()=>{e("/")},g=async(b,j)=>{if(!n){alert("You must be logged in to vote");return}try{await h(b,n.id,j)}catch(_){console.error("Error voting:",_)}},m=async b=>{if(!n){alert("You must be logged in to comment");return}if(t)try{await u(b,n.id)}catch(j){console.error("Error adding comment:",j),alert("Failed to add comment")}},x=async(b,j)=>{if(!n){alert("You must be logged in to vote");return}try{await d(b,n.id,j)}catch(_){console.error("Error voting on comment:",_)}};return i?c.jsxs("div",{className:"min-h-screen bg-background",children:[c.jsx(na,{onNewIdea:()=>{},onChat:()=>{},onProfile:()=>{},hideActions:!0}),c.jsx("main",{className:"container max-w-4xl mx-auto px-4 py-6",children:c.jsx(iA,{idea:i,comments:a,onBack:p,onVote:g,onAddComment:m,onVoteComment:x})})]}):c.jsx("div",{children:"Loading..."})}function lA(){const t=yn(),[e,n]=w.useState(!1),[o,i]=w.useState(""),[a,u]=w.useState(""),[d,h]=w.useState(""),[p,g]=w.useState(""),m=async _=>{_.preventDefault(),n(!0);try{const{user:S}=await Xn.login(o,a);Pe.success(`Welcome back, ${S.name}!`),S.role==="admin"?t("/admin"):S.role==="principal"?t("/principal"):S.role==="teacher"?t("/teacher"):t("/")}catch(S){console.error(S),Pe.error("Login failed. Please check your credentials.")}finally{n(!1)}},x=async _=>{_.preventDefault(),n(!0);try{const{user:S}=await Xn.signup({email:o,password:a,name:d,username:p});Pe.success("Account created successfully!"),t("/")}catch(S){console.error(S),Pe.error("Signup failed. Please try again.")}finally{n(!1)}},b=async _=>{n(!0);try{await Xn.signInWithOAuth(_)}catch(S){console.error(S),Pe.error(`${_} login failed. Please try again.`),n(!1)}},j=async()=>{n(!0);try{try{await Xn.signup({email:"joris@school.edu",password:"admin123",name:"Joris Admin",username:"joris"}),Pe.success("Admin user 'joris' created! You can now login.")}catch(_){if(_.message.includes("already registered"))Pe.info("User 'joris' already exists. Try logging in.");else throw _}}catch(_){console.error(_),Pe.error(`Failed to seed admin: ${_.message}`)}finally{n(!1)}};return c.jsx("div",{className:"min-h-screen flex items-center justify-center bg-muted/40 p-4",children:c.jsxs(Le,{className:"w-full max-w-md",children:[c.jsxs(Kt,{className:"text-center",children:[c.jsx(Ir,{className:"text-2xl",children:"Welcome to OMED"}),c.jsx(Fi,{children:"Sign in to your account or create a new one"})]}),c.jsxs(Fe,{children:[c.jsxs(Go,{defaultValue:"login",className:"w-full",children:[c.jsxs(Yo,{className:"grid w-full grid-cols-2 mb-4",children:[c.jsx(Gt,{value:"login",children:"Login"}),c.jsx(Gt,{value:"signup",children:"Sign Up"})]}),c.jsx(Yt,{value:"login",children:c.jsxs("form",{onSubmit:m,className:"space-y-4",children:[c.jsxs("div",{className:"space-y-2",children:[c.jsx(At,{htmlFor:"email",children:"Email"}),c.jsx(rt,{id:"email",type:"email",placeholder:"name@example.com",value:o,onChange:_=>i(_.target.value),required:!0})]}),c.jsxs("div",{className:"space-y-2",children:[c.jsx(At,{htmlFor:"password",children:"Password"}),c.jsx(rt,{id:"password",type:"password",value:a,onChange:_=>u(_.target.value),required:!0})]}),c.jsxs(se,{type:"submit",className:"w-full",disabled:e,children:[e?c.jsx(qt,{className:"mr-2 h-4 w-4 animate-spin"}):null,"Sign In"]})]})}),c.jsx(Yt,{value:"signup",children:c.jsxs("form",{onSubmit:x,className:"space-y-4",children:[c.jsxs("div",{className:"space-y-2",children:[c.jsx(At,{htmlFor:"signup-name",children:"Full Name"}),c.jsx(rt,{id:"signup-name",placeholder:"John Doe",value:d,onChange:_=>h(_.target.value),required:!0})]}),c.jsxs("div",{className:"space-y-2",children:[c.jsx(At,{htmlFor:"signup-username",children:"Username"}),c.jsx(rt,{id:"signup-username",placeholder:"johndoe",value:p,onChange:_=>g(_.target.value),required:!0})]}),c.jsxs("div",{className:"space-y-2",children:[c.jsx(At,{htmlFor:"signup-email",children:"Email"}),c.jsx(rt,{id:"signup-email",type:"email",placeholder:"name@example.com",value:o,onChange:_=>i(_.target.value),required:!0})]}),c.jsxs("div",{className:"space-y-2",children:[c.jsx(At,{htmlFor:"signup-password",children:"Password"}),c.jsx(rt,{id:"signup-password",type:"password",value:a,onChange:_=>u(_.target.value),required:!0})]}),c.jsxs(se,{type:"submit",className:"w-full",disabled:e,children:[e?c.jsx(qt,{className:"mr-2 h-4 w-4 animate-spin"}):null,"Create Account"]})]})})]}),c.jsx(ql,{className:"my-4"}),c.jsxs("div",{className:"space-y-2",children:[c.jsx("p",{className:"text-sm text-center text-muted-foreground",children:"Or continue with:"}),c.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[c.jsxs(se,{variant:"outline",onClick:()=>b("github"),disabled:e,className:"w-full",children:[c.jsx(ny,{className:"mr-2 h-4 w-4"}),"GitHub"]}),c.jsxs(se,{variant:"outline",onClick:()=>b("spotify"),disabled:e,className:"w-full",children:[c.jsx(Ef,{className:"mr-2 h-4 w-4"}),"Spotify"]}),c.jsxs(se,{variant:"outline",onClick:()=>b("google"),disabled:e,className:"w-full",children:[c.jsx(ey,{className:"mr-2 h-4 w-4"}),"Google"]}),c.jsxs(se,{variant:"outline",onClick:()=>b("discord"),disabled:e,className:"w-full",children:[c.jsx(ry,{className:"mr-2 h-4 w-4"}),"Discord"]}),c.jsxs(se,{variant:"outline",onClick:()=>b("apple"),disabled:e,className:"w-full",children:[c.jsx(Xv,{className:"mr-2 h-4 w-4"}),"Apple"]})]})]})]}),c.jsxs(Bv,{className:"flex flex-col gap-4 border-t pt-6",children:[c.jsxs("div",{className:"text-xs text-center text-muted-foreground",children:[c.jsx("p",{children:"Demo Credentials:"}),c.jsx("p",{children:"student@school.edu / password"}),c.jsx("p",{children:"teacher@school.edu / password"}),c.jsx("p",{children:"principal@school.edu / password"})]}),c.jsxs(se,{variant:"destructive",size:"sm",className:"w-full",onClick:j,disabled:e,children:[c.jsx(Aj,{className:"mr-2 h-4 w-4"}),"Seed Admin User (Dev Only)"]})]})]})})}function cA(){const t=yn(),{user:e}=Xr();return w.useEffect(()=>{const n=setTimeout(()=>{e?e.role==="admin"?t("/admin"):e.role==="principal"?t("/principal"):e.role==="teacher"?t("/teacher"):t("/"):t("/login")},1500);return()=>clearTimeout(n)},[e,t]),c.jsx("div",{className:"min-h-screen flex items-center justify-center bg-muted/40 p-4",children:c.jsxs(Le,{className:"w-full max-w-md",children:[c.jsx(Kt,{className:"text-center",children:c.jsx(Ir,{className:"text-2xl",children:"Authentication"})}),c.jsxs(Fe,{className:"flex flex-col items-center gap-4",children:[c.jsx(qt,{className:"h-8 w-8 animate-spin text-primary"}),c.jsx("p",{className:"text-muted-foreground",children:"Processing login..."})]})]})})}function uA(t){const[e,n]=w.useState(!1),[o,i]=w.useState(null),a=async p=>{if(!p.match(/^[a-zA-Z0-9._]{1,30}$/))return i("Invalid Instagram handle format"),!1;try{const g=await fetch(`https://www.instagram.com/${p}/?__a=1`,{method:"HEAD",mode:"no-cors"});return!0}catch{return!0}},u=async p=>{if(!p.match(/^[a-zA-Z0-9._]{1,24}$/))return i("Invalid TikTok handle format"),!1;try{const g=await fetch(`https://www.tiktok.com/@${p}`,{method:"HEAD",mode:"no-cors"});return!0}catch{return!0}};return{saveSocialLink:async(p,g)=>{if(!t)return!1;n(!0),i(null);try{let m=!1;if(p==="instagram"?m=await a(g):p==="tiktok"&&(m=await u(g)),!m)return n(!1),!1;const{error:x}=await ie.from("profiles").update({[p]:g}).eq("id",t);return x?(i(x.message),n(!1),!1):(n(!1),!0)}catch(m){return i(m.message),n(!1),!1}},removeSocialLink:async p=>{if(!t)return!1;n(!0),i(null);try{const{error:g}=await ie.from("profiles").update({[p]:null}).eq("id",t);return g?(i(g.message),n(!1),!1):(n(!1),!0)}catch(g){return i(g.message),n(!1),!1}},loading:e,error:o}}function dA(t){const[e,n]=w.useState(!1),[o,i]=w.useState(null);return{updateProfile:async(u,d)=>{if(!t)return!1;n(!0),i(null);try{if(d.trim()){const{data:p}=await ie.from("profiles").select("id").eq("username",d.trim()).neq("id",t).single();if(p)return i("Username is already taken"),n(!1),!1}const{error:h}=await ie.from("profiles").update({full_name:u.trim(),username:d.trim()}).eq("id",t);return h?(i(h.message),n(!1),!1):(n(!1),!0)}catch(h){return i(h.message),n(!1),!1}},loading:e,error:o}}function fA(){const[t,e]=w.useState(!1),[n,o]=w.useState(null),[i,a]=w.useState(!1);return{changeEmail:async h=>{if(!h.trim())return o("Email cannot be empty"),!1;if(!h.match(/^[^\s@]+@[^\s@]+\.[^\s@]+$/))return o("Invalid email format"),!1;e(!0),o(null);try{const{error:p}=await ie.auth.updateUser({email:h});return p?(o(p.message),e(!1),!1):(a(!0),e(!1),!0)}catch(p){return o(p.message),e(!1),!1}},loading:t,error:n,verificationSent:i,resetState:()=>{o(null),a(!1)}}}function hA(t){const[e,n]=w.useState([]),[o,i]=w.useState(!1),[a,u]=w.useState(null),d=w.useCallback(async()=>{if(t){i(!0),u(null);try{const{data:{user:m},error:x}=await ie.auth.getUser();if(x||!m)throw new Error("Failed to fetch user");const j=(m.identities||[]).map(_=>({id:_.id||_.provider,provider:_.provider,email:_.email,createdAt:_.created_at}));n(j)}catch(m){const x=m instanceof Error?m.message:"Failed to fetch linked identities";u(x),console.error("Error fetching linked identities:",m)}finally{i(!1)}}},[t]),h=w.useCallback(async m=>{i(!0),u(null);try{const{error:x}=await ie.auth.linkIdentity({provider:m,options:{redirectTo:`${window.location.origin}/auth/callback`}});if(x)throw new Error(x.message);return await d(),!0}catch(x){const b=x instanceof Error?x.message:`Failed to link ${m}`;return u(b),console.error(`Error linking ${m}:`,x),!1}finally{i(!1)}},[d]),p=w.useCallback(async m=>{i(!0),u(null);try{const{data:{user:x},error:b}=await ie.auth.getUser();if(b||!x)throw new Error("Failed to fetch user");const j=x.identities?.find(k=>k.provider===m);if(!j)throw new Error(`Provider ${m} is not linked`);const _=!0;x.identities?.length;const{error:S}=await ie.auth.unlinkIdentity(j);if(S)throw new Error(S.message);return n(k=>k.filter(C=>C.provider!==m)),!0}catch(x){const b=x instanceof Error?x.message:`Failed to unlink ${m}`;return u(b),console.error(`Error unlinking ${m}:`,x),Pe.error(b),!1}finally{i(!1)}},[]),g=w.useCallback(m=>e.some(x=>x.provider===m),[e]);return w.useEffect(()=>{d()},[d]),{linkedIdentities:e,loading:o,error:a,linkProvider:h,unlinkProvider:p,isProviderLinked:g,fetchLinkedIdentities:d}}const pA=bf("relative w-full rounded-lg border px-4 py-3 text-sm grid has-[>svg]:grid-cols-[calc(var(--spacing)*4)_1fr] grid-cols-[0_1fr] has-[>svg]:gap-x-3 gap-y-0.5 items-start [&>svg]:size-4 [&>svg]:translate-y-0.5 [&>svg]:text-current",{variants:{variant:{default:"bg-card text-card-foreground",destructive:"text-destructive bg-card [&>svg]:text-current *:data-[slot=alert-description]:text-destructive/90"}},defaultVariants:{variant:"default"}});function Id({className:t,variant:e,...n}){return c.jsx("div",{"data-slot":"alert",role:"alert",className:me(pA({variant:e}),t),...n})}function Dd({className:t,...e}){return c.jsx("div",{"data-slot":"alert-description",className:me("text-muted-foreground col-start-2 grid justify-items-start gap-1 text-sm [&_p]:leading-relaxed",t),...e})}function mA(){const{user:t}=Xr(),e=yn(),{saveSocialLink:n,removeSocialLink:o,error:i}=uA(t?.id),{pendingRequests:a,acceptFriendRequest:u,rejectFriendRequest:d}=G0(t?.id),{updateProfile:h,loading:p,error:g}=dA(t?.id),{changeEmail:m,loading:x,error:b,verificationSent:j,resetState:_}=fA(),{loading:S,isProviderLinked:k,linkProvider:C,unlinkProvider:N}=hA(t?.id),[P,F]=w.useState(""),[V,D]=w.useState(""),[z,q]=w.useState(""),[ne,ue]=w.useState(""),[ge,le]=w.useState(""),[pe,be]=w.useState(!1),[B,$]=w.useState(!1);w.useEffect(()=>{t&&(async()=>{const{data:oe}=await ie.from("profiles").select("instagram, tiktok, full_name, username").eq("id",t.id).single();oe&&(ue(oe.instagram||""),le(oe.tiktok||""),F(oe.full_name||""),D(oe.username||""))})()},[t]);const O=async()=>{be(!0),await n("instagram",ne)?Pe.success("Instagram link saved!"):Pe.error(i||"Failed to save Instagram link"),be(!1)},Z=async()=>{$(!0),await n("tiktok",ge)?Pe.success("TikTok link saved!"):Pe.error(i||"Failed to save TikTok link"),$(!1)},K=async()=>{await o("instagram")?(ue(""),Pe.success("Instagram link removed")):Pe.error("Failed to remove Instagram link")},I=async()=>{await o("tiktok")?(le(""),Pe.success("TikTok link removed")):Pe.error("Failed to remove TikTok link")},H=async W=>{await u(W)?Pe.success("Friend request accepted!"):Pe.error("Failed to accept friend request")},Q=async W=>{await d(W)?Pe.success("Friend request declined"):Pe.error("Failed to decline friend request")};return t?c.jsx("div",{className:"min-h-screen bg-muted/40 p-4",children:c.jsxs("div",{className:"max-w-2xl mx-auto space-y-6",children:[c.jsxs("div",{className:"flex items-center gap-4 mb-6",children:[c.jsx(se,{variant:"ghost",size:"icon",onClick:()=>e("/"),children:c.jsx(jf,{className:"h-5 w-5"})}),c.jsx("h1",{className:"text-3xl font-bold",children:"Settings"})]}),c.jsxs(Go,{defaultValue:"profile",className:"w-full",children:[c.jsxs(Yo,{className:"grid w-full grid-cols-4",children:[c.jsx(Gt,{value:"profile",children:"Profile"}),c.jsx(Gt,{value:"connected",children:"Connected"}),c.jsx(Gt,{value:"social",children:"Social Links"}),c.jsxs(Gt,{value:"friends",children:["Friends (",a.length,")"]})]}),c.jsx(Yt,{value:"profile",children:c.jsxs(Le,{children:[c.jsxs(Kt,{children:[c.jsx(Ir,{children:"Account Settings"}),c.jsx(Fi,{children:"Manage your account information"})]}),c.jsxs(Fe,{className:"space-y-6",children:[c.jsxs("div",{className:"space-y-4",children:[c.jsxs("div",{className:"space-y-2",children:[c.jsx(At,{htmlFor:"fullname",children:"Full Name"}),c.jsx(rt,{id:"fullname",value:P,onChange:W=>F(W.target.value),placeholder:"Your full name",disabled:p})]}),c.jsxs("div",{className:"space-y-2",children:[c.jsx(At,{htmlFor:"username",children:"Username"}),c.jsx(rt,{id:"username",value:V,onChange:W=>D(W.target.value),placeholder:"your_username",disabled:p}),c.jsx("p",{className:"text-xs text-muted-foreground",children:"Usernames must be unique and can contain letters, numbers, and underscores."})]}),g&&c.jsxs("div",{className:"text-sm text-red-600 flex items-center gap-2",children:[c.jsx(Ds,{className:"h-4 w-4"}),g]}),c.jsxs(se,{onClick:async()=>{await h(P,V)?Pe.success("Profile updated successfully!"):Pe.error(g||"Failed to update profile")},disabled:p||!P.trim()||!V.trim(),children:[p?c.jsx(qt,{className:"h-4 w-4 mr-2 animate-spin"}):null,"Save Changes"]})]}),c.jsxs("div",{className:"border-t pt-6 space-y-4",children:[c.jsx("h4",{className:"font-semibold",children:"Account Information"}),c.jsxs("div",{className:"space-y-2",children:[c.jsx(At,{children:"Current Email"}),c.jsx(rt,{value:t?.email||"",disabled:!0,className:"bg-muted"})]}),c.jsxs("div",{className:"space-y-3 p-4 bg-muted rounded-lg",children:[c.jsxs("div",{className:"space-y-2",children:[c.jsx(At,{htmlFor:"newemail",children:"Change Email Address"}),c.jsx(rt,{id:"newemail",type:"email",placeholder:"new@example.com",value:z,onChange:W=>q(W.target.value),disabled:x||j}),c.jsx("p",{className:"text-xs text-muted-foreground",children:"A verification link will be sent to your new email address."})]}),j&&c.jsxs(Id,{className:"border-green-200 bg-green-50",children:[c.jsx(fg,{className:"h-4 w-4 text-green-600"}),c.jsx(Dd,{className:"text-green-800",children:"Verification email sent! Please check your inbox and click the confirmation link."})]}),b&&c.jsxs(Id,{className:"border-red-200 bg-red-50",children:[c.jsx(ug,{className:"h-4 w-4 text-red-600"}),c.jsx(Dd,{className:"text-red-800",children:b})]}),c.jsxs(se,{onClick:async()=>{await m(z)&&(Pe.success("Verification email sent! Please confirm your new email."),q(""))},disabled:x||!z.trim()||j,className:"w-full",children:[x?c.jsx(qt,{className:"h-4 w-4 mr-2 animate-spin"}):c.jsx(fg,{className:"h-4 w-4 mr-2"}),"Send Verification Email"]}),j&&c.jsx(se,{variant:"outline",onClick:()=>{_(),q("")},className:"w-full",children:"Change Email Again"})]}),c.jsxs("div",{className:"space-y-2",children:[c.jsx(At,{children:"Role"}),c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx(rt,{value:t?.role||"",disabled:!0,className:"bg-muted"}),c.jsx(ar,{className:"shrink-0",children:t?.role?.toUpperCase()})]})]})]})]})]})}),c.jsx(Yt,{value:"connected",children:c.jsxs(Le,{children:[c.jsxs(Kt,{children:[c.jsx(Ir,{children:"Connected Accounts"}),c.jsx(Fi,{children:"Link or unlink authentication providers to your account"})]}),c.jsxs(Fe,{className:"space-y-4",children:[S?c.jsx("div",{className:"flex justify-center py-8",children:c.jsx(qt,{className:"h-6 w-6 animate-spin"})}):c.jsxs("div",{className:"space-y-3",children:[c.jsxs("div",{className:"flex items-center justify-between p-4 border rounded-lg",children:[c.jsxs("div",{className:"flex items-center gap-3",children:[c.jsx(ny,{className:"h-5 w-5"}),c.jsxs("div",{children:[c.jsx("p",{className:"font-medium",children:"GitHub"}),c.jsx("p",{className:"text-sm text-muted-foreground",children:"Sign in with your GitHub account"})]})]}),k("github")?c.jsxs(se,{variant:"destructive",size:"sm",onClick:async()=>{await N("github")&&Pe.success("GitHub disconnected")},children:[c.jsx(Ts,{className:"h-4 w-4 mr-2"}),"Disconnect"]}):c.jsxs(se,{size:"sm",onClick:async()=>{await C("github")&&Pe.success("GitHub connected")},children:[c.jsx(Mi,{className:"h-4 w-4 mr-2"}),"Connect"]})]}),c.jsxs("div",{className:"flex items-center justify-between p-4 border rounded-lg",children:[c.jsxs("div",{className:"flex items-center gap-3",children:[c.jsx(Ef,{className:"h-5 w-5 text-green-600"}),c.jsxs("div",{children:[c.jsx("p",{className:"font-medium",children:"Spotify"}),c.jsx("p",{className:"text-sm text-muted-foreground",children:"Sign in with your Spotify account"})]})]}),k("spotify")?c.jsxs(se,{variant:"destructive",size:"sm",onClick:async()=>{await N("spotify")&&Pe.success("Spotify disconnected")},children:[c.jsx(Ts,{className:"h-4 w-4 mr-2"}),"Disconnect"]}):c.jsxs(se,{size:"sm",onClick:async()=>{await C("spotify")&&Pe.success("Spotify connected")},children:[c.jsx(Mi,{className:"h-4 w-4 mr-2"}),"Connect"]})]}),c.jsxs("div",{className:"flex items-center justify-between p-4 border rounded-lg",children:[c.jsxs("div",{className:"flex items-center gap-3",children:[c.jsx(ey,{className:"h-5 w-5 text-red-600"}),c.jsxs("div",{children:[c.jsx("p",{className:"font-medium",children:"Google"}),c.jsx("p",{className:"text-sm text-muted-foreground",children:"Sign in with your Google account"})]})]}),k("google")?c.jsxs(se,{variant:"destructive",size:"sm",onClick:async()=>{await N("google")&&Pe.success("Google disconnected")},children:[c.jsx(Ts,{className:"h-4 w-4 mr-2"}),"Disconnect"]}):c.jsxs(se,{size:"sm",onClick:async()=>{await C("google")&&Pe.success("Google connected")},children:[c.jsx(Mi,{className:"h-4 w-4 mr-2"}),"Connect"]})]}),c.jsxs("div",{className:"flex items-center justify-between p-4 border rounded-lg",children:[c.jsxs("div",{className:"flex items-center gap-3",children:[c.jsx(ry,{className:"h-5 w-5 text-indigo-600"}),c.jsxs("div",{children:[c.jsx("p",{className:"font-medium",children:"Discord"}),c.jsx("p",{className:"text-sm text-muted-foreground",children:"Sign in with your Discord account"})]})]}),k("discord")?c.jsxs(se,{variant:"destructive",size:"sm",onClick:async()=>{await N("discord")&&Pe.success("Discord disconnected")},children:[c.jsx(Ts,{className:"h-4 w-4 mr-2"}),"Disconnect"]}):c.jsxs(se,{size:"sm",onClick:async()=>{await C("discord")&&Pe.success("Discord connected")},children:[c.jsx(Mi,{className:"h-4 w-4 mr-2"}),"Connect"]})]}),c.jsxs("div",{className:"flex items-center justify-between p-4 border rounded-lg",children:[c.jsxs("div",{className:"flex items-center gap-3",children:[c.jsx(Xv,{className:"h-5 w-5"}),c.jsxs("div",{children:[c.jsx("p",{className:"font-medium",children:"Apple"}),c.jsx("p",{className:"text-sm text-muted-foreground",children:"Sign in with your Apple account"})]})]}),k("apple")?c.jsxs(se,{variant:"destructive",size:"sm",onClick:async()=>{await N("apple")&&Pe.success("Apple disconnected")},children:[c.jsx(Ts,{className:"h-4 w-4 mr-2"}),"Disconnect"]}):c.jsxs(se,{size:"sm",onClick:async()=>{await C("apple")&&Pe.success("Apple connected")},children:[c.jsx(Mi,{className:"h-4 w-4 mr-2"}),"Connect"]})]})]}),c.jsxs(Id,{className:"mt-4",children:[c.jsx(ug,{className:"h-4 w-4"}),c.jsx(Dd,{children:"Connecting multiple authentication providers allows you to sign in with any of them. You can link up to 5 different providers to your account."})]})]})]})}),c.jsx(Yt,{value:"social",children:c.jsxs(Le,{children:[c.jsxs(Kt,{children:[c.jsx(Ir,{children:"Social Links"}),c.jsx(Fi,{children:"Connect your Instagram and TikTok profiles"})]}),c.jsxs(Fe,{className:"space-y-6",children:[c.jsxs("div",{className:"space-y-3",children:[c.jsx(At,{className:"flex items-center gap-2",children:" Instagram Handle"}),c.jsxs("div",{className:"flex gap-2",children:[c.jsx(rt,{placeholder:"your_handle (without @)",value:ne,onChange:W=>ue(W.target.value),disabled:pe}),c.jsx(se,{onClick:O,disabled:pe||!ne,children:pe?c.jsx(qt,{className:"h-4 w-4 animate-spin"}):"Save"}),ne&&c.jsx(se,{variant:"outline",onClick:K,disabled:pe,children:"Remove"})]}),ne&&c.jsxs("p",{className:"text-sm text-green-600 flex items-center gap-2",children:[c.jsx(dg,{className:"h-4 w-4"}),"instagram.com/",ne]})]}),c.jsxs("div",{className:"space-y-3",children:[c.jsx(At,{className:"flex items-center gap-2",children:" TikTok Handle"}),c.jsxs("div",{className:"flex gap-2",children:[c.jsx(rt,{placeholder:"your_handle (without @)",value:ge,onChange:W=>le(W.target.value),disabled:B}),c.jsx(se,{onClick:Z,disabled:B||!ge,children:B?c.jsx(qt,{className:"h-4 w-4 animate-spin"}):"Save"}),ge&&c.jsx(se,{variant:"outline",onClick:I,disabled:B,children:"Remove"})]}),ge&&c.jsxs("p",{className:"text-sm text-green-600 flex items-center gap-2",children:[c.jsx(dg,{className:"h-4 w-4"}),"tiktok.com/@",ge]})]}),c.jsx("div",{className:"text-sm text-muted-foreground bg-muted p-3 rounded",children:"Your social links will appear on your profile and can be shared with friends."})]})]})}),c.jsx(Yt,{value:"friends",children:c.jsxs(Le,{children:[c.jsxs(Kt,{children:[c.jsx(Ir,{children:"Friend Requests"}),c.jsx(Fi,{children:"Manage your incoming friend requests"})]}),c.jsx(Fe,{children:a.length===0?c.jsx("p",{className:"text-muted-foreground",children:"No pending friend requests"}):c.jsx("div",{className:"space-y-3",children:a.map(W=>c.jsxs("div",{className:"flex items-center justify-between p-3 border rounded-lg",children:[c.jsxs("div",{children:[c.jsx("p",{className:"font-semibold",children:W.profile?.full_name}),c.jsxs("p",{className:"text-sm text-muted-foreground",children:["@",W.profile?.username]})]}),c.jsxs("div",{className:"flex gap-2",children:[c.jsx(se,{size:"sm",onClick:()=>H(W.id),children:"Accept"}),c.jsx(se,{size:"sm",variant:"outline",onClick:()=>Q(W.id),children:"Decline"})]})]},W.id))})})]})})]})]})}):null}function gA(){const{user:t}=Xr(),e=yn(),{fetchConversations:n,sendMessage:o,markAsRead:i}=lx(t?.id),[a,u]=w.useState([]),[d,h]=w.useState(null),[p,g]=w.useState([]),[m,x]=w.useState(""),[b,j]=w.useState(!1),[_,S]=w.useState(!0);w.useEffect(()=>{const C=async()=>{S(!0);const N=await n();u(N),S(!1)};if(t){C();const N=setInterval(C,3e3);return()=>clearInterval(N)}},[t,n]),w.useEffect(()=>{if(!d||!t)return;const C=async()=>{const{data:P,error:F}=await ie.from("messages").select("*").or(`and(sender_id.eq.${t.id},recipient_id.eq.${d}),and(sender_id.eq.${d},recipient_id.eq.${t.id})`).order("created_at",{ascending:!0});if(!F&&P){g(P);const V=P.filter(D=>D.recipient_id===t.id&&!D.read).map(D=>D.id);V.length>0&&await i(V)}};C();const N=setInterval(C,2e3);return()=>clearInterval(N)},[d,t,i]);const k=async C=>{if(C.preventDefault(),!m.trim()||!d||!t)return;if(j(!0),await o(d,m)){x("");const{data:P}=await ie.from("messages").select("*").or(`and(sender_id.eq.${t.id},recipient_id.eq.${d}),and(sender_id.eq.${d},recipient_id.eq.${t.id})`).order("created_at",{ascending:!0});P&&g(P)}else Pe.error("Failed to send message");j(!1)};return t?c.jsxs("div",{className:"min-h-screen bg-muted/40 flex flex-col",children:[c.jsxs("div",{className:"border-b bg-background p-4 flex items-center gap-4",children:[c.jsx(se,{variant:"ghost",size:"icon",onClick:()=>e("/"),children:c.jsx(jf,{className:"h-5 w-5"})}),c.jsx("h1",{className:"text-2xl font-bold",children:"Messages"})]}),c.jsxs("div",{className:"flex-1 flex gap-4 p-4 max-w-6xl mx-auto w-full",children:[c.jsx("div",{className:"w-full md:w-80 border rounded-lg bg-background overflow-y-auto max-h-[calc(100vh-120px)]",children:_?c.jsx("div",{className:"p-4 text-center text-muted-foreground flex items-center justify-center h-20",children:c.jsx(qt,{className:"h-4 w-4 animate-spin"})}):a.length===0?c.jsx("div",{className:"p-4 text-center text-muted-foreground",children:"No conversations yet"}):a.map(C=>c.jsx("button",{onClick:()=>h(C.id),className:`w-full p-3 border-b text-left hover:bg-muted transition ${d===C.id?"bg-muted":""}`,children:c.jsxs("div",{className:"flex items-center gap-3",children:[c.jsxs($t,{className:"h-10 w-10",children:[c.jsx(lg,{src:C.avatar_url}),c.jsx(Mt,{children:C.full_name.charAt(0)})]}),c.jsxs("div",{className:"flex-1 min-w-0",children:[c.jsxs("div",{className:"flex justify-between items-center",children:[c.jsx("p",{className:"font-semibold",children:C.full_name}),C.unreadCount>0&&c.jsx("span",{className:"inline-flex items-center justify-center px-2 py-1 text-xs font-bold leading-none text-white transform translate-x-1/2 -translate-y-1/2 bg-red-600 rounded-full",children:C.unreadCount})]}),c.jsx("p",{className:"text-sm text-muted-foreground truncate",children:C.lastMessage})]})]})},C.id))}),c.jsx("div",{className:"flex-1 border rounded-lg bg-background flex flex-col max-h-[calc(100vh-120px)]",children:d?c.jsxs(c.Fragment,{children:[c.jsx("div",{className:"border-b p-4",children:a.filter(C=>C.id===d).map(C=>c.jsxs("div",{className:"flex items-center gap-3",children:[c.jsxs($t,{className:"h-10 w-10",children:[c.jsx(lg,{src:C.avatar_url}),c.jsx(Mt,{children:C.full_name.charAt(0)})]}),c.jsxs("div",{children:[c.jsx("p",{className:"font-semibold",children:C.full_name}),c.jsxs("p",{className:"text-sm text-muted-foreground",children:["@",C.username]})]})]},C.id))}),c.jsx("div",{className:"flex-1 overflow-y-auto p-4 space-y-3",children:p.map(C=>c.jsx("div",{className:`flex ${C.sender_id===t.id?"justify-end":"justify-start"}`,children:c.jsxs("div",{className:`max-w-xs px-4 py-2 rounded-lg ${C.sender_id===t.id?"bg-primary text-primary-foreground":"bg-muted"}`,children:[c.jsx("p",{className:"break-words",children:C.content}),c.jsx("p",{className:"text-xs opacity-70 mt-1",children:new Date(C.created_at).toLocaleTimeString("de-DE",{hour:"2-digit",minute:"2-digit"})})]})},C.id))}),c.jsxs("form",{onSubmit:k,className:"border-t p-4 flex gap-2",children:[c.jsx(rt,{placeholder:"Type a message...",value:m,onChange:C=>x(C.target.value),disabled:b}),c.jsx(se,{type:"submit",disabled:b||!m.trim(),children:b?c.jsx(qt,{className:"h-4 w-4 animate-spin"}):c.jsx(jo,{className:"h-4 w-4"})})]})]}):c.jsx("div",{className:"flex items-center justify-center h-full text-muted-foreground",children:"Select a conversation to start messaging"})})]})]}):null}var vA=(t,e,n,o,i,a,u,d)=>{let h=document.documentElement,p=["light","dark"];function g(b){(Array.isArray(t)?t:[t]).forEach(j=>{let _=j==="class",S=_&&a?i.map(k=>a[k]||k):i;_?(h.classList.remove(...S),h.classList.add(a&&a[b]?a[b]:b)):h.setAttribute(j,b)}),m(b)}function m(b){d&&p.includes(b)&&(h.style.colorScheme=b)}function x(){return window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"}if(o)g(o);else try{let b=localStorage.getItem(e)||n,j=u&&b==="system"?x():b;g(j)}catch{}},yA=w.createContext(void 0),wA={setTheme:t=>{},themes:[]},xA=()=>{var t;return(t=w.useContext(yA))!=null?t:wA};w.memo(({forcedTheme:t,storageKey:e,attribute:n,enableSystem:o,enableColorScheme:i,defaultTheme:a,value:u,themes:d,nonce:h,scriptProps:p})=>{let g=JSON.stringify([n,e,a,t,d,u,o,i]).slice(1,-1);return w.createElement("script",{...p,suppressHydrationWarning:!0,nonce:typeof window>"u"?h:"",dangerouslySetInnerHTML:{__html:`(${vA.toString()})(${g})`}})});const bA=({...t})=>{const{theme:e="system"}=xA();return c.jsx(R2,{theme:e,className:"toaster group",style:{"--normal-bg":"var(--popover)","--normal-text":"var(--popover-foreground)","--normal-border":"var(--border)"},...t})};function Ns({children:t,allowedRoles:e}){const{user:n,loading:o}=Xr(),i=Do();return o?c.jsx("div",{className:"flex h-screen items-center justify-center",children:"Loading..."}):n?e&&!e.includes(n.role)?c.jsx($d,{to:"/login",replace:!0}):c.jsx(c.Fragment,{children:t}):c.jsx($d,{to:"/login",state:{from:i},replace:!0})}function _A(){return c.jsx(gS,{children:c.jsxs(r2,{children:[c.jsxs(cS,{children:[c.jsx(Rr,{path:"/login",element:c.jsx(lA,{})}),c.jsx(Rr,{path:"/auth/callback",element:c.jsx(cA,{})}),c.jsx(Rr,{path:"/",element:c.jsx(Ns,{children:c.jsx(Z2,{})})}),c.jsx(Rr,{path:"/settings",element:c.jsx(Ns,{children:c.jsx(mA,{})})}),c.jsx(Rr,{path:"/messages",element:c.jsx(Ns,{children:c.jsx(gA,{})})}),c.jsx(Rr,{path:"/teacher",element:c.jsx(Ns,{allowedRoles:["teacher","admin"],children:c.jsx(eA,{})})}),c.jsx(Rr,{path:"/principal",element:c.jsx(Ns,{allowedRoles:["principal","admin"],children:c.jsx(rA,{})})}),c.jsx(Rr,{path:"/admin",element:c.jsx(Ns,{allowedRoles:["admin"],children:c.jsx(oA,{})})}),c.jsx(Rr,{path:"/idea/:id",element:c.jsx(Ns,{children:c.jsx(aA,{})})}),c.jsx(Rr,{path:"*",element:c.jsx($d,{to:"/",replace:!0})})]}),c.jsx(bA,{})]})})}g_.createRoot(document.getElementById("root")).render(c.jsx(_A,{}));
